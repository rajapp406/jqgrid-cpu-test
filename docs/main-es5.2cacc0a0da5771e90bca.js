function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var i=[],r=!0,n=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(i.push(o.value),!t||i.length!==t);r=!0);}catch(l){n=!0,s=l}finally{try{r||null==a.return||a.return()}finally{if(n)throw s}}return i}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _construct(e,t,i){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,i){var r=[null];r.push.apply(r,t);var n=new(Function.bind.apply(e,r));return i&&_setPrototypeOf(n,i.prototype),n}).apply(null,arguments)}function _get(e,t,i){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var r=_superPropBase(e,t);if(r){var n=Object.getOwnPropertyDescriptor(r,t);return n.get?n.get.call(i):n.value}})(e,t,i||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var i,r=_getPrototypeOf(e);if(t){var n=_getPrototypeOf(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _createForOfIteratorHelper(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return o=e.done,e},e:function(e){a=!0,s=e},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw s}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/eVi":function(e,t,i){!function(t,i){var r,n,s,o,a,l,d,h,u,c,p,f,m,g,v,w,y,b,x,_,C,j,q,k,T,S,I,D,P,E,M,A;document.Globalize||(e.exports=r=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return new r.prototype.init(e)})),r.cultures={},r.prototype={constructor:r,init:function(e){return this.cultures=r.cultures,this.cultureSelector=e,this}},r.prototype.init.prototype=r.prototype,r.cultures.default={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},r.cultures.default.calendar=r.cultures.default.calendars.standard,r.cultures.en=r.cultures.default,r.cultureSelector="en",n=/^0x[a-f0-9]+$/i,s=/^[+\-]?infinity$/i,o=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,a=/^\s+|\s+$/g,l=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1},d=function(e,t){return e.substr(e.length-t.length)===t},h=function(){var e,t,i,r,n,s,o=arguments[0]||{},a=1,l=arguments.length,d=!1;for("boolean"==typeof o&&(d=o,o=arguments[1]||{},a=2),"object"==typeof o||c(o)||(o={});a<l;a++)if(null!=(e=arguments[a]))for(t in e)i=o[t],o!==(r=e[t])&&(d&&r&&(p(r)||(n=u(r)))?(n?(n=!1,s=i&&u(i)?i:[]):s=i&&p(i)?i:{},o[t]=h(d,s,r)):void 0!==r&&(o[t]=r));return o},u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},c=function(e){return"[object Function]"===Object.prototype.toString.call(e)},p=function(e){return"[object Object]"===Object.prototype.toString.call(e)},f=function(e,t){return 0===e.indexOf(t)},m=function(e){return(e+"").replace(a,"")},g=function(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)},v=function(e,t,i){var r;for(r=e.length;r<t;r+=1)e=i?"0"+e:e+"0";return e},w=function(e,t){for(var i=0,r=!1,n=0,s=e.length;n<s;n++){var o=e.charAt(n);switch(o){case"'":r?t.push("'"):i++,r=!1;break;case"\\":r&&t.push("\\"),r=!r;break;default:t.push(o),r=!1}}return i},y=function(e,t){var i,r=(t=t||"F").length;if(1===r){if(!(i=e.patterns[t]))throw"Invalid date format string '"+t+"'.";t=i}else 2===r&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},b=function(e,t,i){var r,n=i.calendar,s=n.convert;if(!t||!t.length||"i"===t){if(i&&i.name.length)if(s)r=b(e,n.patterns.F,i);else{var o=new Date(e.getTime()),a=C(e,n.eras);o.setFullYear(j(e,n,a)),r=o.toLocaleString()}else r=e.toString();return r}var l=n.eras,d="s"===t;t=y(n,t),r=[];var h,u,c,p,f=["0","00","000"],m=/([^d]|^)(d|dd)([^d]|$)/g,g=0,v=_();function x(e,t){if(e<0)return"-"+x(-e,t);var i,r=e+"";return t>1&&r.length<t?(i=f[t-2]+r).substr(i.length-t,t):i=r}function q(e,t){if(p)return p[t];switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();default:throw"Invalid part value "+t}}for(!d&&s&&(p=s.fromGregorian(e));;){var k=v.lastIndex,T=v.exec(t),S=t.slice(k,T?T.index:t.length);if(g+=w(S,r),!T)break;if(g%2)r.push(T[0]);else{var I=T[0],D=I.length;switch(I){case"ddd":case"dddd":r.push((3===D?n.days.namesAbbr:n.days.names)[e.getDay()]);break;case"d":case"dd":u=!0,r.push(x(q(e,2),D));break;case"MMM":case"MMMM":var P=q(e,1);r.push(n.monthsGenitive&&(u||c||(u=m.test(t),c=!0),u)?n.monthsGenitive[3===D?"namesAbbr":"names"][P]:n.months[3===D?"namesAbbr":"names"][P]);break;case"M":case"MM":r.push(x(q(e,1)+1,D));break;case"y":case"yy":case"yyyy":P=p?p[0]:j(e,n,C(e,l),d),D<4&&(P%=100),r.push(x(P,D));break;case"h":case"hh":0==(h=e.getHours()%12)&&(h=12),r.push(x(h,D));break;case"H":case"HH":r.push(x(e.getHours(),D));break;case"m":case"mm":r.push(x(e.getMinutes(),D));break;case"s":case"ss":r.push(x(e.getSeconds(),D));break;case"t":case"tt":P=e.getHours()<12?n.AM?n.AM[0]:" ":n.PM?n.PM[0]:" ",r.push(1===D?P.charAt(0):P);break;case"f":case"ff":case"fff":r.push(x(e.getMilliseconds(),3).substr(0,D));break;case"z":case"zz":h=e.getTimezoneOffset()/60,r.push((h<=0?"+":"-")+x(Math.floor(Math.abs(h)),D));break;case"zzz":h=e.getTimezoneOffset()/60,r.push((h<=0?"+":"-")+x(Math.floor(Math.abs(h)),2)+":"+x(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":n.eras&&r.push(n.eras[C(e,l)].name);break;case"/":r.push(n["/"]);break;default:throw"Invalid date format pattern '"+I+"'."}}}return r.join("")},T=function(e,t,i){var r=i.groupSizes,n=r[0],s=1,o=Math.pow(10,t),a=Math.round(e*o)/o;isFinite(a)||(a=e);var l=(e=a)+"",d="",h=l.split(/e/i),u=h.length>1?parseInt(h[1],10):0;h=(l=h[0]).split("."),l=h[0],d=h.length>1?h[1]:"",u>0?(l+=(d=v(d,u,!1)).slice(0,u),d=d.substr(u)):u<0&&(d=(l=v(l,1+(u=-u),!0)).slice(-u,l.length)+d,l=l.slice(0,-u)),d=t>0?i["."]+(d.length>t?d.slice(0,t):v(d,t)):"";for(var c=l.length-1,p=i[","],f="";c>=0;){if(0===n||n>c)return l.slice(0,c+1)+(f.length?p+f+d:d);f=l.slice(c-n+1,c+1)+(f.length?p+f:""),c-=n,s<r.length&&(n=r[s],s++)}return l.slice(0,c+1)+p+f+d},x=function(e,t,i){if(!isFinite(e))return e===1/0?i.numberFormat.positiveInfinity:e===-1/0?i.numberFormat.negativeInfinity:i.numberFormat.NaN;if(!t||"i"===t)return i.name.length?e.toLocaleString():e.toString();t=t||"D";var r,n=i.numberFormat,s=Math.abs(e),o=-1;t.length>1&&(o=parseInt(t.slice(1),10));var a,l=t.charAt(0).toUpperCase();switch(l){case"D":r="n",s=g(s),-1!==o&&(s=v(""+s,o,!0)),e<0&&(s="-"+s);break;case"N":a=n;case"C":a=a||n.currency;case"P":a=a||n.percent,r=e<0?a.pattern[0]:a.pattern[1]||"n",-1===o&&(o=a.decimals),s=T(s*("P"===l?100:1),o,a);break;default:throw"Bad number format specifier: "+l}for(var d=/n|\$|-|%/g,h="";;){var u=d.lastIndex,c=d.exec(r);if(h+=r.slice(u,c?c.index:r.length),!c)break;switch(c[0]){case"n":h+=s;break;case"$":h+=n.currency.symbol;break;case"-":/[1-9]/.test(s)&&(h+=n["-"]);break;case"%":h+=n.percent.symbol}}return h},_=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},C=function(e,t){if(!t)return 0;for(var i,r=e.getTime(),n=0,s=t.length;n<s;n++)if(null===(i=t[n].start)||r>=i)return n;return 0},j=function(e,t,i,r){var n=e.getFullYear();return!r&&t.eras&&(n-=t.eras[i].offset),n},S=function(e,t){if(t<100){var i=new Date,r=C(i),n=j(i,e,r),s=e.twoDigitYearMax;(t+=n-n%100)>(s="string"==typeof s?(new Date).getFullYear()%100+parseInt(s,10):s)&&(t-=100)}return t},I=function(e,t,i){var r,n=e.days,s=e._upperDays;return s||(e._upperDays=s=[A(n.names),A(n.namesAbbr),A(n.namesShort)]),t=M(t),i?-1===(r=l(s[1],t))&&(r=l(s[2],t)):r=l(s[0],t),r},D=function(e,t,i){var r=e.months,n=e.monthsGenitive||e.months,s=e._upperMonths,o=e._upperMonthsGen;s||(e._upperMonths=s=[A(r.names),A(r.namesAbbr)],e._upperMonthsGen=o=[A(n.names),A(n.namesAbbr)]),t=M(t);var a=l(i?s[1]:s[0],t);return a<0&&(a=l(i?o[1]:o[0],t)),a},P=function(e,t){var i=e._parseRegExp;if(i){var r=i[t];if(r)return r}else e._parseRegExp=i={};for(var n,s=y(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),o=["^"],a=[],l=0,d=0,h=_();null!==(n=h.exec(s));){var u=s.slice(l,n.index);if(l=h.lastIndex,(d+=w(u,o))%2)o.push(n[0]);else{var c,p=n[0],f=p.length;switch(p){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":c="(\\D+)";break;case"tt":case"t":c="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":c="(\\d{"+f+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":c="(\\d\\d?)";break;case"zzz":c="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":c="([+-]?\\d\\d?)";break;case"/":c="(\\/)";break;default:throw"Invalid date format pattern '"+p+"'."}c&&o.push(c),a.push(n[0])}}w(s.slice(l),o),o.push("$");var m=o.join("").replace(/\s+/g,"\\s+");return i[t]={regExp:m,groups:a}},E=function(e,t,i){return e<t||e>i},M=function(e){return e.split("\xa0").join(" ").toUpperCase()},A=function(e){for(var t=[],i=0,r=e.length;i<r;i++)t[i]=M(e[i]);return t},q=function(e,t,i){e=m(e);var r=i.calendar,n=P(r,t),s=new RegExp(n.regExp).exec(e);if(null===s)return null;for(var o,a=n.groups,l=null,d=null,h=null,u=null,c=null,p=0,g=0,v=0,w=0,y=null,b=!1,x=0,_=a.length;x<_;x++){var C=s[x+1];if(C){var j=a[x],q=j.length,k=parseInt(C,10);switch(j){case"dd":case"d":if(E(u=k,1,31))return null;break;case"MMM":case"MMMM":if(h=D(r,C,3===q),E(h,0,11))return null;break;case"M":case"MM":if(E(h=k-1,0,11))return null;break;case"y":case"yy":case"yyyy":if(d=q<4?S(r,k):k,E(d,0,9999))return null;break;case"h":case"hh":if(12===(p=k)&&(p=0),E(p,0,11))return null;break;case"H":case"HH":if(E(p=k,0,23))return null;break;case"m":case"mm":if(E(g=k,0,59))return null;break;case"s":case"ss":if(E(v=k,0,59))return null;break;case"tt":case"t":if(!(b=r.PM&&(C===r.PM[0]||C===r.PM[1]||C===r.PM[2]))&&(!r.AM||C!==r.AM[0]&&C!==r.AM[1]&&C!==r.AM[2]))return null;break;case"f":case"ff":case"fff":if(w=k*Math.pow(10,3-q),E(w,0,999))return null;break;case"ddd":case"dddd":if(c=I(r,C,3===q),E(c,0,6))return null;break;case"zzz":var T=C.split(/:/);if(2!==T.length)return null;if(o=parseInt(T[0],10),E(o,-12,13))return null;var M=parseInt(T[1],10);if(E(M,0,59))return null;y=60*o+(f(C,"-")?-M:M);break;case"z":case"zz":if(E(o=k,-12,13))return null;y=60*o;break;case"g":case"gg":var A=C;if(!A||!r.eras)return null;A=m(A.toLowerCase());for(var H=0,O=r.eras.length;H<O;H++)if(A===r.eras[H].name.toLowerCase()){l=H;break}if(null===l)return null}}}var B,z=new Date,N=r.convert;if(B=N?N.fromGregorian(z)[0]:z.getFullYear(),null===d?d=B:r.eras&&(d+=r.eras[l||0].offset),null===h&&(h=0),null===u&&(u=1),N){if(null===(z=N.toGregorian(d,h,u)))return null}else{if(z.setFullYear(d,h,u),z.getDate()!==u)return null;if(null!==c&&z.getDay()!==c)return null}if(b&&p<12&&(p+=12),z.setHours(p,g,v,w),null!==y){var L=z.getMinutes()-(y+z.getTimezoneOffset());z.setHours(z.getHours()+parseInt(L/60,10),L%60)}return z},k=function(e,t,i){var r,n=t["-"],s=t["+"];switch(i){case"n -":n=" "+n,s=" "+s;case"n-":d(e,n)?r=["-",e.substr(0,e.length-n.length)]:d(e,s)&&(r=["+",e.substr(0,e.length-s.length)]);break;case"- n":n+=" ",s+=" ";case"-n":f(e,n)?r=["-",e.substr(n.length)]:f(e,s)&&(r=["+",e.substr(s.length)]);break;case"(n)":f(e,"(")&&d(e,")")&&(r=["-",e.substr(1,e.length-2)])}return r||["",e]},r.prototype.findClosestCulture=function(e){return r.findClosestCulture.call(this,e)},r.prototype.format=function(e,t,i){return r.format.call(this,e,t,i)},r.prototype.localize=function(e,t){return r.localize.call(this,e,t)},r.prototype.parseInt=function(e,t,i){return r.parseInt.call(this,e,t,i)},r.prototype.parseFloat=function(e,t,i){return r.parseFloat.call(this,e,t,i)},r.prototype.culture=function(e){return r.culture.call(this,e)},r.addCultureInfo=function(e,t,i){var r={},n=!1;"string"!=typeof e?(i=e,e=this.culture().name,r=this.cultures[e]):"string"!=typeof t?(i=t,n=null==this.cultures[e],r=this.cultures[e]||this.cultures.default):(n=!0,r=this.cultures[t]),this.cultures[e]=h(!0,{},r,i),n&&(this.cultures[e].calendar=this.cultures[e].calendars.standard)},r.findClosestCulture=function(e){var t;if(!e)return this.findClosestCulture(this.cultureSelector)||this.cultures.default;if("string"==typeof e&&(e=e.split(",")),u(e)){var i,r,n=this.cultures,s=e,o=s.length,a=[];for(r=0;r<o;r++){var l,d=(e=m(s[r])).split(";");i=m(d[0]),1===d.length?l=1:0===(e=m(d[1])).indexOf("q=")?(e=e.substr(2),l=parseFloat(e),l=isNaN(l)?0:l):l=1,a.push({lang:i,pri:l})}for(a.sort((function(e,t){return e.pri<t.pri?1:e.pri>t.pri?-1:0})),r=0;r<o;r++)if(t=n[i=a[r].lang])return t;for(r=0;r<o;r++)for(i=a[r].lang;;){var h=i.lastIndexOf("-");if(-1===h)break;if(t=n[i=i.substr(0,h)])return t}for(r=0;r<o;r++)for(var c in i=a[r].lang,n){var p=n[c];if(p.language==i)return p}}else if("object"==typeof e)return e;return t||null},r.format=function(e,t,i){var r=this.findClosestCulture(i);return e instanceof Date?e=b(e,t,r):"number"==typeof e&&(e=x(e,t,r)),e},r.localize=function(e,t){return this.findClosestCulture(t).messages[e]||this.cultures.default.messages[e]},r.parseDate=function(e,t,i){var r,n,s;if(i=this.findClosestCulture(i),t){if("string"==typeof t&&(t=[t]),t.length)for(var o=0,a=t.length;o<a;o++){var l=t[o];if(l&&(r=q(e,l,i)))break}}else for(n in s=i.calendar.patterns)if(r=q(e,s[n],i))break;return r||null},r.parseInt=function(e,t,i){return g(r.parseFloat(e,t,i))},r.parseFloat=function(e,t,i){"number"!=typeof t&&(i=t,t=10);var r=this.findClosestCulture(i),a=NaN,l=r.numberFormat;if(e.indexOf(r.numberFormat.currency.symbol)>-1&&(e=(e=e.replace(r.numberFormat.currency.symbol,"")).replace(r.numberFormat.currency["."],r.numberFormat["."])),e.indexOf(r.numberFormat.percent.symbol)>-1&&(e=e.replace(r.numberFormat.percent.symbol,"")),e=e.replace(/ /g,""),s.test(e))a=parseFloat(e);else if(!t&&n.test(e))a=parseInt(e,16);else{var d=k(e,l,l.pattern[0]),h=d[0],u=d[1];""===h&&"(n)"!==l.pattern[0]&&(h=(d=k(e,l,"(n)"))[0],u=d[1]),""===h&&"-n"!==l.pattern[0]&&(h=(d=k(e,l,"-n"))[0],u=d[1]),h=h||"+";var c,p,f=u.indexOf("e");f<0&&(f=u.indexOf("E")),f<0?(p=u,c=null):(p=u.substr(0,f),c=u.substr(f+1));var m,g,v=l["."],w=p.indexOf(v);w<0?(m=p,g=null):(m=p.substr(0,w),g=p.substr(w+v.length));var y=l[","];m=m.split(y).join("");var b=y.replace(/\u00A0/g," ");y!==b&&(m=m.split(b).join(""));var x=h+m;if(null!==g&&(x+="."+g),null!==c){var _=k(c,l,"-n");x+="e"+(_[0]||"+")+_[1]}o.test(x)&&(a=parseFloat(x))}return a},r.culture=function(e){return void 0!==e&&(this.cultureSelector=e),this.findClosestCulture(e)||this.cultures.default},document.Globalize=r)}()},0:function(e,t,i){e.exports=i("zUnb")},"04mn":function(e,t){var i;(i=jqxBaseFramework).extend(i.jqx._jqxGrid.prototype,{autoresizecolumns:function(e,t){"cells"!=e&&"all"!=e&&"column"!=e&&(e="all");var r=this.that,n=this.getrows();this.pageable&&(n=this.dataview.rows,this.groupable&&(n=this.dataview.records)),t=null==t?0:parseInt(t);var s=n.length;if(null==s&&null!=n){var o=new Array;i.each(n,(function(e){o.push(this)})),s=(n=o).length}var a=i("<span></span>");a.addClass(this.toThemeProperty("jqx-widget")),a.addClass(this.toThemeProperty("jqx-grid-cell")),i(document.body).append(a);var l=[],d=[],h=[],u=[],c=r.host.width();"hidden"!=r.vScrollBar[0].style.visibility&&(c-=this.scrollbarsize+5),c<0&&(c=0);for(var p=0;p<s;p++)for(var f=n[p],m=0;m<this.columns.records.length;m++)if(!((j=this.columns.records[m]).hidden||this.groups.length>0&&m<=this.groups.length-1)){null==d[j.displayfield]&&(d[j.displayfield]=0),null==h[j.displayfield]&&(h[j.displayfield]="");var g,v,w=f[j.displayfield];if(""!=j.cellsformat)i.jqx.dataFormat&&(i.jqx.dataFormat.isDate(w)?w=i.jqx.dataFormat.formatdate(w,j.cellsformat,this.gridlocalization):i.jqx.dataFormat.isNumber(w)&&(w=i.jqx.dataFormat.formatnumber(w,j.cellsformat,this.gridlocalization)));else if(j.cellsrenderer){var y=r._defaultcellsrenderer(w,j),b=j.cellsrenderer(p,j.datafield,w,y,j.getcolumnproperties(),f);null!=b&&(w=i(b).text())}if((null==e||"cells"==e||"all"==e)&&null!=w){l=w.toString().length;var x=w.toString().replace(/[^A-Z]/g,"").length;l>d[j.displayfield]&&(d[j.displayfield]=l,h[j.displayfield]=w,u[j.displayfield]=x),l>0&&l>=x&&(g=20*x+15*(l-x))>(v=20*u[j.displayfield]+15*(d[j.displayfield]-u[j.displayfield]))&&g>0&&v>0&&(d[j.displayfield]=l,h[j.displayfield]=w,u[j.displayfield]=x)}"column"!=e&&"all"!=e||(j.text.toString().length>d[j.displayfield]&&(h[j.displayfield]=j.text,d[j.displayfield]=j.text.length,x=j.text.toString().replace(/[^A-Z]/g,"").length,u[j.displayfield]=x),l=(w=j.text).toString().length,x=w.toString().replace(/[^A-Z]/g,"").length,l>0&&l>=x&&(g=20*x+15*(l-x))>(v=20*u[j.displayfield]+15*(d[j.displayfield]-u[j.displayfield]))&&g>0&&v>0&&(d[j.displayfield]=l,h[j.displayfield]=w,u[j.displayfield]=x))}if(this.columns.records){for(m=0;m<this.columns.records.length;m++)if((j=this.columns.records[m]).displayfield){null==h[j.displayfield]&&(h[j.displayfield]=j.text),a[0].className.indexOf("jqx-grid-column-header")>=0&&a.removeClass(this.toThemeProperty("jqx-grid-column-header")),h[j.displayfield]==j.text&&a.addClass(this.toThemeProperty("jqx-grid-column-header")),a[0].innerHTML=h[j.displayfield].toString();var _=a.outerWidth()+10;if(a.children().length>0&&(_=a.children().outerWidth()+10),i.jqx.browser.msie&&i.jqx.browser.version<8&&(_+=10),this.filterable&&this.showfilterrow&&(_+=5),(_+=t)>j.maxwidth&&(_=j.maxwidth),null!=j._width&&(j.__width=j._width),j._width=null,"auto"==j.maxwidth||_<=j.maxwidth){var C=j.width;_<j.minwidth&&(_=j.minwidth),j.width=_,null!=j._percentagewidth&&(j._percentagewidth=null),this._raiseEvent(14,{columntext:j.text,column:j.getcolumnproperties(),datafield:j.datafield,displayfield:j.displayfield,oldwidth:C,newwidth:_})}}for(a.remove(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),m=0;m<this.columns.records.length;m++){var j;null!=(j=this.columns.records[m]).__width&&(j._width=j.__width)}}},autoresizecolumn:function(e,t,r){if("cells"!=t&&"all"!=t&&"column"!=t&&(t="all"),null==e)return!1;var n=this.getrows();this.pageable&&(n=this.dataview.rows,this.groupable&&(n=this.dataview.records));var s=this.getcolumn(e);if(null==s)return!1;r=null==r?0:parseInt(r);var o=n.length,a=i("<span></span>");a.addClass(this.toThemeProperty("jqx-widget")),a.addClass(this.toThemeProperty("jqx-grid-cell")),i(document.body).append(a);var l,d,h=0,u="",c=0,p=this.that,f=p.host.width();if("hidden"!=p.vScrollBar[0].style.visibility&&(f-=this.scrollbarsize+5),f<0&&(f=0),null==t||"cells"==t||"all"==t)for(var m=0;m<o;m++){var g=n[m][s.displayfield];if(""!=s.cellsformat)i.jqx.dataFormat&&(i.jqx.dataFormat.isDate(g)?g=i.jqx.dataFormat.formatdate(g,s.cellsformat,this.gridlocalization):i.jqx.dataFormat.isNumber(g)&&(g=i.jqx.dataFormat.formatnumber(g,s.cellsformat,this.gridlocalization)));else if(s.cellsrenderer){var v=s.cellsrenderer(m,s,g);null!=v&&(g=i(v).text())}if(null!=g){var w=g.toString().length,y=g.toString().replace(/[^A-Z]/g,"").length;w>h&&(h=w,u=g,c=y),w>0&&w>=y&&(l=20*y+15*(w-y))>(d=20*c+15*(h-c))&&l>0&&d>0&&(h=w,u=g,c=y)}}"column"!=t&&"all"!=t||(s.text.toString().length>h&&(u=s.text),w=(g=s.text.toString()).toString().length,y=g.toString().replace(/[^A-Z]/g,"").length,w>0&&w>=y&&(l=20*y+15*(w-y))>(d=20*c+15*(h-c))&&l>0&&d>0&&(h=w,u=g,c=y)),null==u&&(u=s.text),a[0].innerHTML=u,u==s.text&&a.addClass(this.toThemeProperty("jqx-grid-column-header"));var b=a.outerWidth()+10;if(i.jqx.browser.msie&&i.jqx.browser.version<8&&(b+=5),this.filterable&&this.showfilterrow&&(b+=5),b+=r,a.remove(),b>s.maxwidth&&(b=s.maxwidth),"auto"==s.maxwidth||b<=s.maxwidth){var x=s.width;b<s.minwidth&&(b=s.minwidth),s.width=b,null!=s._width&&(s.__width=s._width),s._width=null,null!=s._percentagewidth&&(s._percentagewidth=null),this._updatecolumnwidths(),this._updatecellwidths(),this._raiseEvent(14,{columntext:s.text,column:s.getcolumnproperties(),datafield:e,displayfield:s.displayfield,oldwidth:x,newwidth:b}),this._renderrows(this.virtualsizeinfo),null!=s._width&&(s._width=s.__width)}},_handlecolumnsresize:function(){var e=this.that;if(this.columnsresize){var t=!1;e.isTouchDevice()&&!0!==e.touchmode&&(t=!0);var r="mousemove.resize"+this.element.id,n="mousedown.resize"+this.element.id,s="mouseup.resize"+this.element.id;t&&(r=i.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,n=i.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,s=i.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id),this.removeHandler(i(document),r),this.addHandler(i(document),r,(function(r){if(null!=i.data(document.body,"contextmenu"+e.element.id)&&e.autoshowcolumnsmenubutton)return!0;if(null!=e.resizablecolumn&&!e.disabled&&e.resizing&&null!=e.resizeline){var n=e.host.coord(),s=parseInt(e.resizestartline.coord().left),o=s-e._startcolumnwidth,a=e.resizablecolumn.column.minwidth;a="auto"==a?0:parseInt(a);var l=e.resizablecolumn.column.maxwidth;l="auto"==l?0:parseInt(l);var d=r.pageX;t&&(d=e.getTouches(r)[0].pageX),o+=a;var h=l>0?s+l:0,u=0==l||e._startcolumnwidth+d-s<l;if(e.rtl&&(u=!0),u)if(e.rtl){if(d>=n.left&&d<=n.left+e.host.width()&&(e.resizeline.css("left",d),t))return!1}else if(d>=n.left&&d>=o&&((0!=h&&r.pageX<h||0==h)&&e.resizeline.css("left",d),t))return!1}return!(!t&&null!=e.resizablecolumn)&&void 0})),this.removeHandler(i(document),n),this.addHandler(i(document),n,(function(t){if(null!=i.data(document.body,"contextmenu"+e.element.id)&&e.autoshowcolumnsmenubutton)return!0;if(null!=e.resizablecolumn&&!e.disabled){var r=e.resizablecolumn.columnelement;if(r.coord().top+r.height()+5<t.pageY)return void(e.resizablecolumn=null);if(r.coord().top-5>t.pageY)return void(e.resizablecolumn=null);if(e._startcolumnwidth=e.resizablecolumn.column.width,e.resizablecolumn.column._width=null,i(document.body).addClass("jqx-disableselect"),i(document.body).addClass("jqx-position-reset"),e.host.addClass("jqx-disableselect"),e.content.addClass("jqx-disableselect"),e._mouseDownResize=new Date,e.resizing=!0,e._lastmouseDownResize&&e.columnsautoresize&&e._lastmouseDownResize-e._mouseDownResize<300&&e._lastmouseDownResize-e._mouseDownResize>-500){var n=e.resizablecolumn.column;if(n.resizable){var s=e.hScrollBar[0].style.visibility;return e._resizecolumn=null,e.resizeline.hide(),e.resizestartline.hide(),e.resizebackground.remove(),e.resizablecolumn=null,e.columndragstarted=!1,e.dragmousedown=null,e.__drag=!1,e.autoresizecolumn(n.displayfield,"all"),s!=e.hScrollBar[0].style.visibility&&e.hScrollInstance.setPosition(0),e.rtl&&e._arrange(),e.autosavestate&&e.savestate&&e.savestate(),t.stopPropagation(),e.suspendClick=!0,setTimeout((function(){e.suspendClick=!1}),100),!1}}e._lastmouseDownResize=new Date,e._resizecolumn=e.resizablecolumn.column,e.resizeline=e.resizeline||i('<div style="position: absolute;"></div>'),e.resizestartline=e.resizestartline||i('<div style="position: absolute;"></div>'),e.resizebackground=e.resizebackground||i('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>'),e.resizebackground.css("opacity",.01),e.resizebackground.css("cursor","col-resize"),e.resizeline.css("cursor","col-resize"),e.resizestartline.css("cursor","col-resize"),e.resizeline.addClass(e.toThemeProperty("jqx-grid-column-resizeline")),e.resizestartline.addClass(e.toThemeProperty("jqx-grid-column-resizestartline")),i(document.body).append(e.resizeline),i(document.body).append(e.resizestartline),i(document.body).append(e.resizebackground);var o=e.resizablecolumn.columnelement.coord();e.resizebackground.css("left",e.host.coord().left),e.resizebackground.css("top",e.host.coord().top),e.resizebackground.width(e.host.width()),e.resizebackground.height(e.host.height()),e.resizebackground.css("z-index",9999);var a=function(t){t.css("left",e.rtl?parseInt(o.left):parseInt(o.left)+e._startcolumnwidth);var i=e._groupsheader()?e.groupsheader.height():0;i+=e.showtoolbar?e.toolbarheight:0,i+=e.showstatusbar?e.statusbarheight:0;var r=0;e.pageable&&(r=e.pagerheight);var n="visible"==e.hScrollBar.css("visibility")?17:0;t.css("top",parseInt(o.top)),t.css("z-index",99999),t.height(e.columngroups?e.host.height()+e.resizablecolumn.columnelement.height()-r-i-n-e.columngroupslevel*e.columnsheight:e.host.height()-r-i-n),e.enableanimations?t.show("fast"):t.show()};a(e.resizeline),a(e.resizestartline),e.dragmousedown=null}}));var o=function(){if(i(document.body).removeClass("jqx-disableselect"),i(document.body).removeClass("jqx-position-reset"),(e.showfilterrow||e.showstatusbar||e.showtoolbar||e.enablebrowserselection)&&(e.host.removeClass("jqx-disableselect"),e.content.removeClass("jqx-disableselect")),e.resizing){if(e._mouseUpResize=new Date,e._mouseUpResize-e._mouseDownResize<200)return e.resizing=!1,void(null!=e._resizecolumn&&null!=e.resizeline&&"block"==e.resizeline.css("display")&&(e._resizecolumn=null,e.resizeline.hide(),e.resizestartline.hide(),e.resizebackground.remove()));if(e.resizing=!1,!e.disabled){var t=e.host.width();if("hidden"!=e.vScrollBar[0].style.visibility&&(t-=20),t<0&&(t=0),null!=e._resizecolumn&&null!=e.resizeline&&"block"==e.resizeline.css("display")){var r=parseInt(e.resizeline.css("left")),n=parseInt(e.resizestartline.css("left")),s=e._startcolumnwidth+r-n;e.rtl&&(s=e._startcolumnwidth-r+n);var o=e._resizecolumn.width;e._closemenu(),s<e._resizecolumn.minwidth&&(s=e._resizecolumn.minwidth),e._resizecolumn.width=s,null!=e._resizecolumn._percentagewidth&&(e._resizecolumn._percentagewidth=s/t*100);for(var a=0;a<e._columns.length;a++)if(e._columns[a].datafield===e._resizecolumn.datafield){e._columns[a].width=e._resizecolumn.width,e._columns[a].width<e._resizecolumn.minwidth&&(e._columns[a].width=e._resizecolumn.minwidth);break}var l=e.hScrollBar[0].style.visibility;e._updatecolumnwidths(),e._updatecellwidths(),e._raiseEvent(14,{columntext:e._resizecolumn.text,column:e._resizecolumn.getcolumnproperties(),datafield:e._resizecolumn.datafield,oldwidth:o,newwidth:s}),e._renderrows(e.virtualsizeinfo),e.autosavestate&&e.savestate&&e.savestate(),l!=e.hScrollBar[0].style.visibility&&e.hScrollInstance.setPosition(0),e.rtl&&e._arrange(),e._resizecolumn=null,e.resizeline.hide(),e.resizestartline.hide(),e.resizebackground.remove(),e.resizablecolumn=null}else e.resizablecolumn=null}}};try{if(""!=document.referrer||window.frameElement){var a=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(a=document.referrer),a&&-1!=a.indexOf(document.location.host)){var l=function(e){o()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",l,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",l)}}}catch(d){}this.removeHandler(i(document),s),this.addHandler(i(document),s,(function(t){if(null!=i.data(document.body,"contextmenu"+e.element.id)&&e.autoshowcolumnsmenubutton)return!0;o()}))}}})},"3Vay":function(e,t){var i,r;i=jqxBaseFramework,r=function(){var e,t,s,o,a,l={};function d(e,r,n,s){var o,a=this;a||(a=window.jqx),1!=s&&e.beginRow();var l=0;for(var d in t){if(t[d].columnsDataFields&&(d=t[d].columnsDataFields[l].displayfield),o=c(n,d)){if(null!=o.level&&o.index-1>r.level&&o.index-1<o.maxLevel){l++;continue}null!=o.maxLevel&&o.index-1==o.maxLevel&&((o=i.extend({},o)).merge=o.maxLevel-r.level-1)}if(null!=r.level&&null!=r.label&&("xml"===a.exportFormat||"json"===a.exportFormat)){e.appendBodyCell(r.label,{text:"group"},o,r,l,"group");break}r.hasOwnProperty(d)?e.appendBodyCell(r[d],t[d],o,r,l):e.appendBodyCell("",t[d],o,r,l),l++}1!=s&&e.endRow()}function h(e,t){if(t.style)return s[t.style];var i=u();return i.length>0?i[0].style:null}function u(){return a||(a=new Array,i.each(s,(function(e,t){a[a.length]={name:e,style:t}}))),a}function c(e,i){var r=t[i];if(r){if(r.customCellStyles){var n=r.customCellStyles[e];if(n)return s[n]}if(r.cellStyle)return r.cellAltStyle?0==e%2?s[r.cellStyle]:s[r.cellAltStyle]:s[r.cellStyle];var o=u();if(o.length>0)return o[e%(o.length-1)+1].style}return null}function p(e,t,i){var r=document.createElement("input");return r.name=t,r.value=e,r.type="hidden",i.appendChild(r),r}return(o=function(o,a,u,c,f,m){if(!(this instanceof r))return new r(o,a,u,f,m);e=o,t=a,s=u,this.exportTo=function(r,s,o,a){r=r.toString().toLowerCase();var u=l[r];if(void 0===u)throw"You can't export to "+r+" format.";if("pdf"===r&&null==a){var c=this.exportTo(r,s,r,"pdf");i.jqx.pdfExport||(i.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});var p=new n(i.jqx.pdfExport.orientation,"pt",i.jqx.pdfExport.paperSize);p.cellInitialize();var f=i(c).find("th"),m=i(c).find("tr"),g=0;p.setFontSize(9.75);var v=595;switch(i.jqx.pdfExport.paperSize){case"legal":v=612,"portrait"!==i.jqx.pdfExport.orientation&&(v=1008);break;case"letter":v=612,"portrait"!==i.jqx.pdfExport.orientation&&(v=792);break;case"a3":v=841,"portrait"!==i.jqx.pdfExport.orientation&&(v=1190);break;case"a4":v=595,"portrait"!==i.jqx.pdfExport.orientation&&(v=842);break;case"a5":v=420,"portrait"!==i.jqx.pdfExport.orientation&&(v=595)}v-=20;var w=0,y=[];if(i.each(f,(function(e){var t=parseInt(this.style.width);isNaN(t)&&(t=25);var i=72*t/96;y[e]=i,w+=i})),0===f.length&&i.each(m[0].cells,(function(e){var t=parseInt(this.style.width);isNaN(t)&&(t=v/m[0].cells.length);var i=72*t/96;y[e]=i,w+=i})),w>v&&i.each(y,(function(e){y[e]=y[e]/w*100,y[e]=y[e]*v/100})),i.each(f,(function(e){var t,r=y[e],n=p.getTextDimensions(i(this).html()),s=i(this).html();n.w+3>r&&(s=(t=p.splitTextToSize(s,r-3)[0]).length>3?t.substring(0,t.length-3)+"...":t.substring(0,1)+"...",(t=p.splitTextToSize(s,r-3)[0])!=s&&(s=t)),p.cell(10,10,r,18.75,s,g)})),g++,i.each(m,(function(e){if(0===e)return!0;var t=i(this).children();if(t.length>f.length&&f.length>0){for(var r=t.length-f.length,n="",s=y[0],o=18.75,a=0;a<=r;a++){var l=t[a].innerHTML;"+"!==l&&"-"!==l||(l+=" "),"&nbsp;"===l&&(l="   "),n+=l}for(p.getTextDimensions(n).w+3>s&&(n=(d=p.splitTextToSize(n,s-3)[0]).length>3?d.substring(0,d.length-3)+"...":d.substring(0,1)+"...",(d=p.splitTextToSize(n,s-3)[0])!=n&&(n=d)),p.cell(10,10,s,o,n,g),a=r+1;a<t.length;a++){var d;s=y[e=a-r],o=18.75,n=i(t[a]).html(),p.getTextDimensions(i(t[a]).html()).w+3>s&&(n=(d=p.splitTextToSize(n,s-3)[0]).length>3?d.substring(0,d.length-3)+"...":d.substring(0,1)+"...",(d=p.splitTextToSize(n,s-3)[0])!=n&&(n=d)),p.cell(10,10,s,o,n,g)}return g++,!0}i.each(t,(function(e){var t,r=y[e],n=i(this).html();p.getTextDimensions(i(this).html()).w+3>r&&(n=(t=p.splitTextToSize(n,r-3)[0]).length>3?t.substring(0,t.length-3)+"...":t.substring(0,1)+"...",(t=p.splitTextToSize(n,r-3)[0])!=n&&(n=t)),p.cell(10,10,r,18.75,n,g)})),g++})),i.jqx.browser.msie&&i.jqx.browser.version<10)throw new Error("PDF export requires a browser with HTML5 support");return p}return function(r,n,s,o,a,l,u){var c=this;return c||(c=window.jqx),c.hierarchy=a,c.exportFormat=l,c.filename=u,r.beginFile(u),function(e){var r=!0;i.each(t,(function(){if(this.hidden)return r=!1,!1})),e.beginHeader(r);var n=0;for(var s in t){t[s].columnsDataFields&&(s=t[s].columnsDataFields[n].displayfield);var o=h(0,t[s]);e.appendHeaderCell(t[s],s,o,r,n),n++}e.endHeader(r)}(r),function(t){var i=this;if(i||(i=window.jqx),t.beginBody(),i.hierarchy){return function e(i){for(var r=0;r<i.length;r+=1)void 0!==i[r]&&(t.hierarchy=!0,t.beginRow(i[r].level),d(t,i[r],r,!0),i[r].records&&(t.beginRows(i[r].level),e(i[r].records),t.endRows(i[r].level)),t.endRow(i[r].level))}(e),void t.endBody()}for(var r=0;r<e.length;r+=1)void 0!==e[r]&&d(t,e[r],r);t.endBody()}(r),r.endFile(u),r.getFile()}(u,0,0,0,s,o,a)},this.exportToFile=function(e,t,r,s,o){if("pdf"!==e){var a=function(e,t,i,r,n){var s=document.createElement("form");return p(e,"filename",s),p(t,"format",s),function(e,t,i){var r=document.createElement("textarea");r.name="content",r.value=e,i.appendChild(r)}(i,0,s),null!=r&&""!=r||(r=window&&window.location.toString().indexOf("jqwidgets.com")>=0?"https://jqwidgets.com/export_server/dataexport.php":"http://jquerygrid.net/export_server/dataexport.php"),s.action=r,s.method="post",n&&(s.acceptCharset=n),document.body.appendChild(s),s}(t,e,this.exportTo(e,o,e,t),r,s);a.submit(),document.body.removeChild(a)}else{var l=this.exportTo(e,o,e,t);i.jqx.pdfExport||(i.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});var d=new n(i.jqx.pdfExport.orientation,"pt",i.jqx.pdfExport.paperSize);"utf-8"!=s&&"UTF-8"!=s||d.setFont("courier","normal"),d.cellInitialize();var h=i(l).find("th"),u=i(l).find("tr"),c=0;d.setFontSize(9.75);var f=595;switch(i.jqx.pdfExport.paperSize){case"legal":f=612,"portrait"!==i.jqx.pdfExport.orientation&&(f=1008);break;case"letter":f=612,"portrait"!==i.jqx.pdfExport.orientation&&(f=792);break;case"a3":f=841,"portrait"!==i.jqx.pdfExport.orientation&&(f=1190);break;case"a4":f=595,"portrait"!==i.jqx.pdfExport.orientation&&(f=842);break;case"a5":f=420,"portrait"!==i.jqx.pdfExport.orientation&&(f=595)}f-=20;var m=0,g=[];if(i.each(h,(function(e){var t=parseInt(this.style.width);isNaN(t)&&(t=25);var i=72*t/96;g[e]=i,m+=i})),0===h.length&&i.each(u[0].cells,(function(e){var t=parseInt(this.style.width);isNaN(t)&&(t=f/u[0].cells.length);var i=72*t/96;g[e]=i,m+=i})),m>f&&i.each(g,(function(e){g[e]=g[e]/m*100,g[e]=g[e]*f/100})),i.each(h,(function(e){var t,r=g[e],n=d.getTextDimensions(i(this).html()),s=i(this).html();n.w+3>r&&(s=(t=d.splitTextToSize(s,r-3)[0]).length>3?t.substring(0,t.length-3)+"...":t.substring(0,1)+"...",(t=d.splitTextToSize(s,r-3)[0])!=s&&(s=t)),d.cell(10,10,r,18.75,s,c)})),c++,i.each(u,(function(e){if(0===e)return!0;var t=i(this).children();if(t.length>h.length&&h.length>0){for(var r=t.length-h.length,n="",s=g[0],o=18.75,a=0;a<=r;a++){var l=t[a].innerHTML;"+"!==l&&"-"!==l||(l+=" "),"&nbsp;"===l&&(l="   "),n+=l}for(d.getTextDimensions(n).w+3>s&&(n=(u=d.splitTextToSize(n,s-3)[0]).length>3?u.substring(0,u.length-3)+"...":u.substring(0,1)+"...",(u=d.splitTextToSize(n,s-3)[0])!=n&&(n=u)),d.cell(10,10,s,o,n,c),a=r+1;a<t.length;a++){var u;s=g[e=a-r],o=18.75,"&nbsp;"===(n=i(t[a]).html())&&(n="   "),d.getTextDimensions(i(t[a]).html()).w+3>s&&(n=(u=d.splitTextToSize(n,s-3)[0]).length>3?u.substring(0,u.length-3)+"...":u.substring(0,1)+"...",(u=d.splitTextToSize(n,s-3)[0])!=n&&(n=u)),d.cell(10,10,s,o,n,c)}return c++,!0}i.each(t,(function(e){var t,r=g[e],n=i(this).html();"&nbsp;"===n&&(n="   "),d.getTextDimensions(i(this).html()).w+3>r&&(n=(t=d.splitTextToSize(n,r-3)[0]).length>3?t.substring(0,t.length-3)+"...":t.substring(0,1)+"...",(t=d.splitTextToSize(n,r-3)[0])!=n&&(n=t)),d.cell(10,10,r,18.75,n,c)})),c++})),i.jqx.browser.msie&&i.jqx.browser.version<10)throw new Error("PDF export requires a browser with HTML5 support");d.save(t+".pdf")}},this.exportToLocalFile=function(e,t,i,r){var n=this.exportTo(e,i,r);document.location.href="data:application/octet-stream;filename="+t+","+encodeURIComponent(n)}}).extend=function(e,t){if(!(t instanceof i.jqx.dataAdapter.DataExportModuleBase))throw"The module "+e+" is not instance of DataExportModuleBase.";l[e]=t},o}(),i.jqx.dataAdapter.ArrayExporter=r,function(e){e.jqx.dataAdapter.DataExportModuleBase=function(){this.formatData=function(t,i,r,n){if("date"===i){var s="";if("string"==typeof t&&(t=s=e.jqx.dataFormat.tryparsedate(t)),""===t||null===t)return"";if((s=e.jqx.dataFormat.formatdate(t,r,n))&&"NaN"==s.toString()||null==s)return"";t=s}else if("number"===i||"float"===i||"int"===i||"integer"==i){if(""===t||null===t)return"";if(!isNaN(new Number(t))){var o=e.jqx.dataFormat.formatnumber(t,r,n);if("NaN"==o.toString())return"";t=o}}else t=t;return null===t?"":t},this.getFormat=function(e){var t,i=e?e.formatString:"";return"number"!=(t=e?e.type:"string")&&"float"!=t||i||(i="f2"),"int"!=t&&"integer"!=t||i||(i="n0"),"date"==t&&(i||(i="d")),{type:t,formatString:i,localization:e?e.localization:""}},this.beginFile=function(){throw"Not implemented!"},this.beginHeader=function(){throw"Not implemented!"},this.appendHeaderCell=function(){throw"Not implemented!"},this.endHeader=function(){throw"Not implemented!"},this.beginBody=function(){throw"Not implemented!"},this.beginRow=function(){throw"Not implemented!"},this.beginRows=function(){throw"Not implemented!"},this.endRows=function(){throw"Not implemented!"},this.appendBodyCell=function(){throw"Not implemented!"},this.endRow=function(){throw"Not implemented!"},this.endBody=function(){throw"Not implemented!"},this.endFile=function(){throw"Not implemented!"},this.getFile=function(){throw"Not implemented!"}}}(jqxBaseFramework),function(e){var t=function(e){var t,i,r=0,n=this;function s(i,r){i=function(e,t){if(t){var i=n.getFormat(t);e=n.formatData(e,i.type,i.formatString,i.localization)}return'"'+e+'"'}(i,r),t+=i+e}this.beginFile=function(){t=""},this.beginHeader=function(){},this.appendHeaderCell=function(e,t,r,n,o){if(r&&null!=r.level){if(o<r.maxLevel)return;if(o===r.maxLevel){n&&s(e.text);for(var a=0;a<r.maxLevel;a++)s("");return}}i=n,n&&s(e.text)},this.endHeader=function(){this.endRow()},this.beginBody=function(){r=0},this.beginRow=function(){(r>0||0==r&&i)&&(t+="\n"),r++},this.appendBodyCell=function(e,t,i,r,n){if(i&&null!=i.maxLevel&&n===i.maxLevel){s(e,t);for(var o=0;o<i.maxLevel-r.level-1;o++)s("",t)}else s(e,t)},this.endRow=function(){t=t.substring(0,t.length-1)},this.endBody=function(){},this.endFile=function(){},this.getFile=function(){return t}};t.prototype=new e.jqx.dataAdapter.DataExportModuleBase;var i=function(){};i.prototype=new t(",");var r=function(){};r.prototype=new t("\t"),e.jqx.dataAdapter.ArrayExporter.extend("csv",new i),e.jqx.dataAdapter.ArrayExporter.extend("tsv",new r)}(jqxBaseFramework),function(e){var t=function(){var e,t,i=!1,r=0;function n(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(i&&"font-size"==r&&(e[r]="100%"),t+=r+":"+e[r]+";");return t}this.setPDF=function(){i=!0},this.beginFile=function(t){e=i||null==t?'<table style="empty-cells: show;" cellspacing="0" cellpadding="2">':'<html>\n\t<head>\n\t\t<title></title>\n\t\t<meta http-equiv=Content-type content="text/html; charset=UTF-8">\n\t</head>\n\t<body>\n\t\t<table style="empty-cells: show;" cellspacing="0" cellpadding="2">'},this.beginHeader=function(){e+=i?"\n\t<thead><tr>":"\n\t\t\t<thead>"},this.appendHeaderCell=function(r,s,o,a){if(t=a,a)if(i)e+='\n\t\t\t\t<th style="'+n(o)+'">'+r.text+"</th>";else{if(o.disabled)return;e+=o.merge?r.width?"\n\t\t\t\t<th colspan="+(1+o.merge)+' style="width: '+r.width+"px; "+n(o)+'">'+r.text+"</th>":"\n\t\t\t\t<th colspan="+(1+o.merge)+' style="'+n(o)+'">'+r.text+"</th>":r.width?'\n\t\t\t\t<th style="width: '+r.width+"px; "+n(o)+'">'+r.text+"</th>":'\n\t\t\t\t<th style="'+n(o)+'">'+r.text+"</th>"}},this.endHeader=function(){e+=i?"\n\t</tr></thead>":"\n\t\t\t</thead>"},this.beginBody=function(){e+=i?"\n\t<tbody>":"\n\t\t\t<tbody>",r=0},this.beginRow=function(){e+=i?"\n\t<tr>":"\n\t\t\t\t<tr>",r++},this.appendBodyCell=function(s,o,a){var l=this.getFormat(o);""===s&&(s="&nbsp;"),e+=i?1!=r||t?'\n\t\t\t\t\t<td style="'+n(a)+'">'+this.formatData(s,l.type,l.formatString,l.localization)+"</td>":'\n\t\t\t\t\t<td style="'+n(a)+' border-top-width: 1px;">'+this.formatData(s,l.type,l.formatString,l.localization)+"</td>":a.merge?1!=r||t?"\n\t\t\t\t\t<td colspan="+(1+a.merge)+' style="'+n(a)+'">'+this.formatData(s,l.type,l.formatString,l.localization)+"</td>":"\n\t\t\t\t\t<td colspan="+(1+a.merge)+' style="'+n(a)+' border-top-width: 1px;">'+this.formatData(s,l.type,l.formatString,l.localization)+"</td>":1!=r||t?'\n\t\t\t\t\t<td style="'+n(a)+'">'+this.formatData(s,l.type,l.formatString,l.localization)+"</td>":'\n\t\t\t\t\t<td style="'+n(a)+' border-top-width: 1px;">'+this.formatData(s,l.type,l.formatString,l.localization)+"</td>"},this.endRow=function(){e+=i?"\n\t</tr>":"\n\t\t\t\t</tr>"},this.endBody=function(){e+=i?"\n\t</tbody>":"\n\t\t\t</tbody>"},this.endFile=function(t){e+=i||null==t?"\n</table>":"\n\t\t</table>\n\t</body>\n</html>\n"},this.getFile=function(){return e}};t.prototype=new e.jqx.dataAdapter.DataExportModuleBase;var i=function(){};i.prototype=new t;var r=function(){};r.prototype=new t;var n=new r;e.jqx.dataAdapter.ArrayExporter.extend("html",new i),e.jqx.dataAdapter.ArrayExporter.extend("pdf",n)}(jqxBaseFramework),function(e){var t=function(){var e,t,i,r,n,s,o={style:"",stylesMap:{font:{color:"Color","font-family":"FontName","font-style":"Italic","font-weight":"Bold"},interior:{"background-color":"Color",background:"Color"},alignment:{left:"Left",center:"Center",right:"Right"}},startStyle:function(e){this.style+='\n\t\t<Style ss:ID="'+e+'" ss:Name="'+e+'">'},buildAlignment:function(e){if(e["text-align"]){var t=this.stylesMap.alignment[e["text-align"]];t||(t="Left"),this.style+='\n\t\t\t<Alignment ss:Vertical="Bottom" ss:Horizontal="'+t+'"/>'}},buildBorder:function(e){if(e["border-color"]){var t="\n\t\t\t<Borders>";t+='\n\t\t\t\t<Border ss:Position="Bottom" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+e["border-color"]+'"/>',t+='\n\t\t\t\t<Border ss:Position="Left" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+e["border-color"]+'"/>',t+='\n\t\t\t\t<Border ss:Position="Right" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+e["border-color"]+'"/>',t+='\n\t\t\t\t<Border ss:Position="Top" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+e["border-color"]+'"/>',this.style+=t+="\n\t\t\t</Borders>"}},buildFont:function(e){var t=this.stylesMap.font,i="\n\t\t\t<Font ";for(var r in t)void 0!==e[r]&&("font-style"===r&&"italic"===e[r].toString().toLowerCase()?i+='ss:Italic="1" ':"font-weight"===r&&"bold"===e[r].toString().toLowerCase()?i+='ss:Bold="1" ':"color"===r&&(i+="ss:"+t[r]+'="'+e[r]+'" '));this.style+=i+="/>"},buildInterior:function(e){var t=this.stylesMap.interior,i="\n\t\t\t<Interior ",r=!1;for(var n in t)void 0!==e[n]&&(i+="ss:"+t[n]+'="'+e[n]+'" ',r=!0);r&&(i+='ss:Pattern="Solid"'),this.style+=i+="/>"},buildFormat:function(e){if("number"==e.dataType||"float"==e.dataType||"int"==e.dataType||"integer"==e.dataType){var t=e.formatString;""==t||-1!=t.indexOf("n")||-1!=t.indexOf("N")?this.style+='\n\t\t\t<NumberFormat ss:Format="0"/>':"f"==t||"F"==t||"D"==t||-1!=t.indexOf("d")?this.style+='\n\t\t\t<NumberFormat ss:Format="#,##0.00_);[Red](#,##0.00)"/>':-1!=t.indexOf("p")||-1!=t.indexOf("P")?this.style+='\n\t\t\t<NumberFormat ss:Format="Percent"/>':-1==t.indexOf("c")&&-1==t.indexOf("C")||(e.currencysymbol&&8364==parseInt(e.currencysymbol.charCodeAt(0))?this.style+='\n\t\t\t<NumberFormat ss:Format="Euro Currency"/>':this.style+='\n\t\t\t<NumberFormat ss:Format="Currency"/>')}else"date"==e.dataType&&(this.style+='\n\t\t\t<NumberFormat ss:Format="Short Date"/>')},closeStyle:function(){this.style+="\n\t\t</Style>"},toString:function(){var e=this.style;return this.style="",e}};function a(i,r,a,d){var h="String",u=this.getFormat(r);if(null!=i&&"_AG"==i.toString().substring(0,3))i=i.toString().substring(3),h="String";else{if("date"==u.type){var c=i;null===(i=this.formatData(i,u.type,u.formatString,u.localization))||""===i?(i="",h="String"):(i=c.toISOString(),h="DateTime")}"string"==u.type&&(null==i?i="":(i.toString().indexOf("&")>=0&&(i=i.toString().replace(/&/g,"&amp;")),i.toString().indexOf(">")>=0&&(i=i.toString().replace(/>/g,"&gt;")),i.toString().indexOf("<")>=0&&(i=i.toString().replace(/</g,"&lt;")),i.toString().indexOf('"')>=0&&(i=i.toString().replace(/"/g,"&quot;")),i.toString().indexOf("'")>=0&&(i=i.toString().replace(/'/g,"&apos;")))),"number"!=a.dataType&&"float"!=a.dataType&&"int"!=a.dataType&&"integer"!=a.dataType||(h="Number",(null===(i=parseFloat(i))||isNaN(i)||""===i)&&(i="",h="String"),i&&"String"!=h&&""!=i&&r&&r.formatString&&r.formatString.indexOf("p")>=0&&(i/=100),a.currencysymbol=r.localization.currencysymbol)}var p=function(t){if(!t)return"";var i=function(e){for(var t in n)if(l(e,n[t])&&l(n[t],e))return t}(t);return void 0===i&&(i="xls-style-"+(s+=1),n[i]=t,function(t,i){o.startStyle(t),o.buildAlignment(i),o.buildBorder(i),o.buildFont(i),o.buildInterior(i),o.buildFormat(i),o.closeStyle(),e+=o.toString()}(i,t)),i}(a);t+=a.merge?'\n\t\t\t\t<Cell ss:MergeAcross="'+a.merge+'" ss:StyleID="'+p+'"><Data ss:Type="'+h+'">'+i+"</Data></Cell>":'\n\t\t\t\t<Cell ss:StyleID="'+p+'"><Data ss:Type="'+h+'">'+i+"</Data></Cell>"}function l(e,t){var i=!0;for(var r in e)e[r]!==t[r]&&(i=!1);return i}this.beginFile=function(){n={},s=0,e='<?xml version="1.0"?>\n\t<?mso-application progid="Excel.Sheet"?> \n\t<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" \n\txmlns:o="urn:schemas-microsoft-com:office:office" \n\txmlns:x="urn:schemas-microsoft-com:office:excel" \n\txmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" \n\txmlns:html="http://www.w3.org/TR/REC-html40"> \n\t<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office"> \n\t<Version>12.00</Version> \n\t</DocumentProperties> \n\t<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"> \n\t<WindowHeight>8130</WindowHeight> \n\t<WindowWidth>15135</WindowWidth> \n\t<WindowTopX>120</WindowTopX> \n\t<WindowTopY>45</WindowTopY> \n\t<ProtectStructure>False</ProtectStructure> \n\t<ProtectWindows>False</ProtectWindows> \n\t</ExcelWorkbook> \n\t<Styles>'},this.beginHeader=function(){t='\n\t<Worksheet ss:Name="Sheet1">\n\t\t<Table>',i=[],r=[]},this.appendHeaderCell=function(e,n,s){t+='\n\t\t\t<Column ss:Width="'+(null!=e.width?e.width:10*e.text.length)+'"/>',i.push(e),r.push(s)},this.endHeader=function(e){if(e){this.beginRow();for(var t=0;t<i.length;t+=1)r[t].disabled||a.call(this,i[t].text,null,r[t]);this.endRow()}},this.beginBody=function(){},this.beginRow=function(e){if(null==e)t+="\n\t\t\t<Row>";else{t+="\n\t\t\t";for(var i=0;i<e;i++)t+="\t";t+="<Row>"}},this.beginRows=function(e){t+="\n\t\t\t\t<Rows>"},this.appendBodyCell=function(e,t,i,r){a.call(this,e,t,i,r)},this.endRow=function(e){if(null==e)t+="\n\t\t\t</Row>";else{t+="\n\t\t\t";for(var i=0;i<e;i++)t+="\t";t+="</Row>"}},this.endRows=function(e){if(null==e);else{t+="\n\t\t\t";for(var i=0;i<e;i++)t+="\t";t+="</Rows>"}},this.endBody=function(){t+="\n\t\t</Table>"},this.endFile=function(){t+="\n\t</Worksheet>\n</Workbook>",e+="\n\t</Styles>"},this.getFile=function(){return e+t}};t.prototype=new e.jqx.dataAdapter.DataExportModuleBase,e.jqx.dataAdapter.ArrayExporter.extend("xls",new t)}(jqxBaseFramework),function(e){var t=function(){var e,t,i;this.beginFile=function(){e='<?xml version="1.0" encoding="UTF-8" ?>',e+="\n<table>"},this.beginHeader=function(){t=[]},this.appendHeaderCell=function(e,i){t.push(i)},this.endHeader=function(){},this.beginBody=function(e,t){},this.beginRow=function(t){var r=this;if(r||(r=window.jqx),null!=t&&r.hierarchy){e+="\n\t";for(var n=0;n<t;n++)e+="\t\t";return e+="<row>",void(i=0)}e+="\n\t<row>",i=0},this.beginRows=function(t){if(null!=t){e+="\n\t\t";for(var r=0;r<t;r++)e+="\t\t";return e+="<rows>",void(i=0)}e+="\n\t\t<rows>"},this.appendBodyCell=function(r,n,s,o,a,l){var d=this;d||(d=window.jqx);var h=this.getFormat(n);if(r=this.formatData(r,h.type,h.formatString,h.localization),"string"==h.type&&(r.toString().indexOf("&")>=0&&(r=r.toString().replace(/&/g,"&amp;")),r.toString().indexOf(">")>=0&&(r=r.toString().replace(/>/g,"&gt;")),r.toString().indexOf("<")>=0&&(r=r.toString().replace(/</g,"&lt;")),r.toString().indexOf('"')>=0&&(r=r.toString().replace(/"/g,"&quot;")),r.toString().indexOf("'")>=0&&(r=r.toString().replace(/'/g,"&apos;"))),null!=o.level)if(d.hierarchy){e+="\n\t\t";for(var u=0;u<o.level;u++)e+="\t\t";e+=void 0===l?"<"+t[i]+">"+r+"</"+t[i]+">":"<"+l+">"+r+"</"+l+">"}else e+=null!=l?"\n\t\t<"+l+">"+r+"</"+l+">":"\n\t\t<"+t[i]+">"+r+"</"+t[i]+">";else e+="\n\t\t<"+t[i]+">"+r+"</"+t[i]+">";i++},this.endRow=function(t){var r=this;if(r||(r=window.jqx),null!=t&&r.hierarchy){e+="\n\t";for(var n=0;n<t;n++)e+="\t\t";return e+="</row>",void(i=0)}e+="\n\t</row>",i=0},this.endRows=function(t){if(null!=t){e+="\n\t\t";for(var r=0;r<t;r++)e+="\t\t";return e+="</rows>",void(i=0)}e+="\n\t\t</rows>"},this.endBody=function(){},this.endFile=function(){e+="\n</table>"},this.getFile=function(){return e}};t.prototype=new e.jqx.dataAdapter.DataExportModuleBase,e.jqx.dataAdapter.ArrayExporter.extend("xml",new t)}(jqxBaseFramework),function(e){var t=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function r(e){return'"'+e.replace(t,(function(e){var t=i[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"'}function n(e){return e<10?"0"+e:e}var s=function(){var e=this;this.prepareData=function(t,i){if(i){var r=e.getFormat(i);t=e.formatData(t,r.type,r.formatString,r.localization)}return t};var t,i,s,o=[],a=0;this.beginFile=function(){i=[]},this.beginHeader=function(){},this.appendHeaderCell=function(e){},this.endHeader=function(){},this.beginBody=function(e,t){},this.beginRow=function(){var e=this;e||(e=window.jqx),e.hierarchy||window.jqx.hierarchy?o[a]={}:s={}},this.beginRows=function(){o[a].rows=[],a++,o[a]={}},this.endRows=function(){a--},this.appendBodyCell=function(e,t){var i=this;i||(i=window.jqx);var r=this.prepareData(e,t);i.hierarchy||window.jqx.hierarchy?o[a][t.text]=r:s[t.text]=r},this.endRow=function(){var e=this;e||(e=window.jqx),e.hierarchy||window.jqx.hierarchy?0==a?i.push(o[a]):o[a-1].rows.push(o[a]):i.push(s)},this.endBody=function(){},this.endFile=function(){t=function(e){return window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(e):function e(t,i){var s=i[t],o=typeof s;return s&&"object"==typeof s&&"function"==typeof s.toJSON&&(o=typeof(s=s.toJSON(t))),/(number|float|int|integer|string|boolean)/.test(o)||!s&&"object"===o?function(e,t){switch(t){case"string":return r(e);case"number":case"float":case"integer":case"int":return isFinite(e)?e:"null";case"boolean":return e}return"null"}(s,o):function(t){switch(Object.prototype.toString.call(t)){case"[object Date]":return i=t,isFinite(i.valueOf())?i.getUTCFullYear()+"-"+n(i.getUTCMonth()+1)+"-"+n(i.getUTCDate())+"T"+n(i.getUTCHours())+":"+n(i.getUTCMinutes())+":"+n(i.getUTCSeconds())+'Z"':"null";case"[object Array]":return function(t){var i,r=t.length,n=[];for(i=0;i<r;i++)n.push(e(i,t)||"null");return"["+n.join(",")+"]"}(t)}var i;return function(t){var i,n,s=[];for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n=e(i,t))&&s.push(r(i)+":"+n);return"{"+s.join(",")+"}"}(t)}(s)}("",{"":e})}(i)},this.getFile=function(){return t}};s.prototype=new e.jqx.dataAdapter.DataExportModuleBase,e.jqx.dataAdapter.ArrayExporter.extend("json",new s)}(jqxBaseFramework);var n=window.jqxPdfDataExport=function(){"undefined"==typeof btoa&&(window.btoa=function(e){var t,i,r,n,s,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),a=0,l=0,d="",h=[];do{t=e.charCodeAt(a++),i=e.charCodeAt(a++),r=e.charCodeAt(a++),h[l++]=o[(n=t<<16|i<<8|r)>>18&63]+o[n>>12&63]+o[n>>6&63]+o[63&n]}while(a<e.length);return d=h.join(""),((s=e.length%3)?d.slice(0,s-3):d)+"===".slice(s||3)}),"undefined"==typeof atob&&(window.atob=function(e){var t,i,r,n,s,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l=0,d=0,h=[];if(!e)return e;e+="";do{t=(o=a.indexOf(e.charAt(l++))<<18|a.indexOf(e.charAt(l++))<<12|(n=a.indexOf(e.charAt(l++)))<<6|(s=a.indexOf(e.charAt(l++))))>>16&255,i=o>>8&255,r=255&o,h[d++]=64===n?String.fromCharCode(t):64===s?String.fromCharCode(t,i):String.fromCharCode(t,i,r)}while(l<e.length);return h.join("")});var e="function"==typeof Object.keys?function(e){return Object.keys(e).length}:function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i},t=function(e){this.topics={},this.context=e,this.publish=function(e,t){if(this.topics[e]){var i,r,n,s,o=this.topics[e],a=[],l=function(){};for(t=Array.prototype.slice.call(arguments,1),r=0,n=o.length;r<n;r++)i=(s=o[r])[0],s[1]&&(s[0]=l,a.push(r)),i.apply(this.context,t);for(r=0,n=a.length;r<n;r++)o.splice(a[r],1)}},this.subscribe=function(e,t,i){return this.topics[e]?this.topics[e].push([t,i]):this.topics[e]=[[t,i]],{topic:e,callback:t}},this.unsubscribe=function(e){if(this.topics[e.topic]){var t,i,r=this.topics[e.topic];for(t=0,i=r.length;t<i;t++)r[t][0]===e.callback&&r.splice(t,1)}}};function i(r,n,o,a){r=void 0===r?"p":r.toString().toLowerCase(),void 0===n&&(n="mm"),void 0===o&&(o="a4"),void 0===a&&"undefined"==typeof zpipe&&(a=!1);var l,d,h,u,c,p,f,m,g,v=o.toString().toLowerCase(),w=[],y=0,b=a,x={a3:[841.89,1190.55],a4:[595.28,841.89],a5:[420.94,595.28],letter:[612,792],legal:[612,1008]},_="0 g",C=0,j=[],q=2,k=!1,T=[],S={},I={},D=16,P={title:"",subject:"",author:"",keywords:"",creator:""},E=0,M=0,A={},H=new t(A),O=function(e){return e.toFixed(2)},B=function(e){return e.toFixed(3)},z=function(e){var t=e.toFixed(0);return e<10?"0"+t:t},N=function(e){var t=e.toFixed(0);return t.length<10?new Array(11-t.length).join("0")+t:t},L=function(e){k?j[C].push(e):(w.push(e),y+=e.length+1)},F=function(){return q++,T[q]=y,L(q+" 0 obj"),q},R=function(e){L("stream"),L(e),L("endstream")},V=function(e){e.objectNumber=F(),L("<</BaseFont/"+e.PostScriptName+"/Type/Font"),"string"==typeof e.encoding&&L("/Encoding/"+e.encoding),L("/Subtype/Type1>>"),L("endobj")},W=function(e,t,i){void 0===I[t]&&(I[t]={}),I[t][i]=e},G=function(t,i,r,n){var s="F"+(e(S)+1).toString(10),o=S[s]={id:s,PostScriptName:t,fontName:i,fontStyle:r,encoding:n,metadata:{}};return W(s,i,r),H.publish("addFont",o),s},U=function(e,t){return function(e,t){var i,r,n,s,o,a,d,h,u,c;if(t===n&&(t={}),s=t.sourceEncoding?s:"Unicode",a=t.outputEncoding,(t.autoencode||a)&&S[l].metadata&&S[l].metadata[s]&&S[l].metadata[s].encoding&&(o=S[l].metadata[s].encoding,!a&&S[l].encoding&&(a=S[l].encoding),!a&&o.codePages&&(a=o.codePages[0]),"string"==typeof a&&(a=o[a]),a)){for(h=!1,d=[],i=0,r=e.length;i<r;i++)u=a[e.charCodeAt(i)],d.push(u?String.fromCharCode(u):e[i]),d[i].charCodeAt(0)>>8&&(h=!0);e=d.join("")}for(i=e.length;h===n&&0!==i;)e.charCodeAt(i-1)>>8&&(h=!0),i--;if(h){for(d=t.noBOM?[]:[254,255],i=0,r=e.length;i<r;i++){if((c=(u=e.charCodeAt(i))>>8)>>8)throw new Error("Character at position "+i.toString(10)+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");d.push(c),d.push(u-(c<<8))}return String.fromCharCode.apply(n,d)}return e}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Y=function(){C++,k=!0,j[C]=[],L(O(.200025*u)+" w"),L("0 G"),0!==E&&L(E.toString(10)+" J"),0!==M&&L(M.toString(10)+" j"),H.publish("addPage",{pageNumber:C})},Z=function(e,t){var i,r;e===r&&(e=S[l].fontName),t===r&&(t=S[l].fontStyle);try{i=I[e][t]}catch(n){i=r}if(!i)throw new Error("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts.");return i},K=function(){k=!1,w=[],T=[],L("%PDF-1.3"),function(){var e,t,i,r,n,s;for(f=h*u,m=d*u,e=1;e<=C;e++){if(F(),L("<</Type /Page"),L("/Parent 1 0 R"),L("/Resources 2 0 R"),L("/Contents "+(q+1)+" 0 R>>"),L("endobj"),t=j[e].join("\n"),F(),b){for(i=[],r=0;r<t.length;++r)i[r]=t.charCodeAt(r);for(r in s=adler32cs.from(t),(n=new Deflater(6)).append(new Uint8Array(i)),t=n.flush(),i=[new Uint8Array([120,156]),new Uint8Array(t),new Uint8Array([255&s,s>>8&255,s>>16&255,s>>24&255])],t="",i)i.hasOwnProperty(r)&&(t+=String.fromCharCode.apply(null,i[r]));L("<</Length "+t.length+" /Filter [/FlateDecode]>>")}else L("<</Length "+t.length+">>");R(t),L("endobj")}for(T[1]=y,L("1 0 obj"),L("<</Type /Pages"),g="/Kids [",r=0;r<C;r++)g+=3+2*r+" 0 R ";L(g+"]"),L("/Count "+C),L("/MediaBox [0 0 "+O(f)+" "+O(m)+"]"),L(">>"),L("endobj")}(),function(){var e;for(e in S)S.hasOwnProperty(e)&&V(S[e])}(),H.publish("putResources"),T[2]=y,L("2 0 obj"),L("<<"),function(){var e;for(e in L("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),L("/Font <<"),S)S.hasOwnProperty(e)&&L("/"+e+" "+S[e].objectNumber+" 0 R");L(">>"),L("/XObject <<"),H.publish("putXobjectDict"),L(">>")}(),L(">>"),L("endobj"),H.publish("postPutResources"),F(),L("<<"),function(){L("/Producer (pdfDataExport 0.9.0rc2)"),P.title&&L("/Title ("+U(P.title)+")"),P.subject&&L("/Subject ("+U(P.subject)+")"),P.author&&L("/Author ("+U(P.author)+")"),P.keywords&&L("/Keywords ("+U(P.keywords)+")"),P.creator&&L("/Creator ("+U(P.creator)+")");var e=new Date;L("/CreationDate (D:"+[e.getFullYear(),z(e.getMonth()+1),z(e.getDate()),z(e.getHours()),z(e.getMinutes()),z(e.getSeconds())].join("")+")")}(),L(">>"),L("endobj"),F(),L("<<"),L("/Type /Catalog"),L("/Pages 1 0 R"),L("/OpenAction [3 0 R /FitH null]"),L("/PageLayout /OneColumn"),H.publish("putCatalog"),L(">>"),L("endobj");var e,t=y;for(L("xref"),L("0 "+(q+1)),L("0000000000 65535 f "),e=1;e<=q;e++)L(N(T[e])+" 00000 n ");return L("trailer"),L("<<"),L("/Size "+(q+1)),L("/Root "+q+" 0 R"),L("/Info "+(q-1)+" 0 R"),L(">>"),L("startxref"),L(t),L("%%EOF"),k=!0,w.join("\n")},X=function(e){var t="S";return"F"===e?t="f":"FD"!==e&&"DF"!==e||(t="B"),t},Q=function(e,t){var i,r,n,o,a;switch(e){case void 0:return K();case"save":if(navigator.getUserMedia){if(void 0===window.URL)return A.output("dataurlnewwindow");if(void 0===window.URL.createObjectURL)return A.output("dataurlnewwindow")}for(r=(i=K()).length,n=new Uint8Array(new ArrayBuffer(r)),o=0;o<r;o++)n[o]=i.charCodeAt(o);a=new Blob([n],{type:"application/pdf"}),s(a,t);break;case"datauristring":case"dataurlstring":return"data:application/pdf;base64,"+btoa(K());case"datauri":case"dataurl":document.location.href="data:application/pdf;base64,"+btoa(K());break;case"dataurlnewwindow":window.open("data:application/pdf;base64,"+btoa(K()));break;default:throw new Error('Output type "'+e+'" is not supported.')}};if("pt"===n)u=1;else if("mm"===n)u=72/25.4;else if("cm"===n)u=72/2.54;else{if("in"!==n)throw"Invalid unit: "+n;u=72}if(x.hasOwnProperty(v))d=x[v][1]/u,h=x[v][0]/u;else try{d=o[1],h=o[0]}catch(ee){throw"Invalid format: "+o}if("p"===r||"portrait"===r)r="p",h>d&&(c=h,h=d,d=c);else{if("l"!==r&&"landscape"!==r)throw"Invalid orientation: "+r;r="l",d>h&&(c=h,h=d,d=c)}A.internal={pdfEscape:U,getStyle:X,getFont:function(){return S[Z.apply(A,arguments)]},getFontSize:function(){return D},btoa:btoa,write:function(e,t,i,r){L(1===arguments.length?e:Array.prototype.join.call(arguments," "))},getCoordinateString:function(e){return O(e*u)},getVerticalCoordinateString:function(e){return O((d-e)*u)},collections:{},newObject:F,putStream:R,events:H,scaleFactor:u,pageSize:{width:h,height:d},output:function(e,t){return Q(e,t)}},A.addPage=function(){return Y(),this};var J=["","0","00","000","0000"],$=function(e,t){for(var i,r=["FEFF"],n=0,s=e.length;n<s;++n)i=e.charCodeAt(n).toString(16).toUpperCase(),r.push(J[4-i.length],i);return r.join("")};for(p in A.text16=function(e,t,i,r){var n,s,o,a,h;if("number"==typeof e&&(n=e,s=t,e=i,t=n,i=s),"string"==typeof e&&e.match(/[\n\r]/)&&(e=e.split(/\r\n|\r|\n/g)),void 0===r?r={noBOM:!0,autoencode:!0}:(void 0===r.noBOM&&(r.noBOM=!0),void 0===r.autoencode&&(r.autoencode=!0)),r.autoencode=!1,"string"==typeof e)a=$(e);else{if(!(e instanceof Array))throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');for(h=(o=e.concat()).length-1;-1!==h;h--)o[h]=$(o[h]);a=o.join("> Tj\nT* <")}return L("BT\n/"+l+" "+D+" Tf\n"+D+" TL\n"+_+"\n"+O(t*u)+" "+O((d-i)*u)+" Td\n<"+a+"> Tj\nET"),this},A.text=function(e,t,i,r){var n,s,o,a,h;if("number"==typeof e&&(n=e,s=t,e=i,t=n,i=s),"string"==typeof e&&e.match(/[\n\r]/)&&(e=e.split(/\r\n|\r|\n/g)),void 0===r?r={noBOM:!0,autoencode:!0}:(void 0===r.noBOM&&(r.noBOM=!0),void 0===r.autoencode&&(r.autoencode=!0)),"string"==typeof e)a=U(e,r);else{if(!(e instanceof Array))throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');for(h=(o=e.concat()).length-1;-1!==h;h--)o[h]=U(o[h],r);a=o.join(") Tj\nT* (")}return L("BT\n/"+l+" "+D+" Tf\n"+D+" TL\n"+_+"\n"+O(t*u)+" "+O((d-i)*u)+" Td\n("+a+") Tj\nET"),this},A.line=function(e,t,i,r){return L(O(e*u)+" "+O((d-t)*u)+" m "+O(i*u)+" "+O((d-r)*u)+" l S"),this},A.lines=function(e,t,i,r,n){var s,o,a,l,h,c,p,f,m,g,v,w,y;for("number"==typeof e&&(s=e,o=t,e=i,t=s,i=o),n=X(n),r=void 0===r?[1,1]:r,L(B(t*u)+" "+B((d-i)*u)+" m "),a=r[0],l=r[1],c=e.length,w=t,y=i,h=0;h<c;h++)2===(p=e[h]).length?(y=p[1]*l+y,L(B((w=p[0]*a+w)*u)+" "+B((d-y)*u)+" l")):(f=p[0]*a+w,m=p[1]*l+y,g=p[2]*a+w,v=p[3]*l+y,w=p[4]*a+w,y=p[5]*l+y,L(B(f*u)+" "+B((d-m)*u)+" "+B(g*u)+" "+B((d-v)*u)+" "+B(w*u)+" "+B((d-y)*u)+" c"));return L(n),this},A.rect=function(e,t,i,r,n){var s=X(n);return L([O(e*u),O((d-t)*u),O(i*u),O(-r*u),"re",s].join(" ")),this},A.triangle=function(e,t,i,r,n,s,o){return this.lines([[i-e,r-t],[n-i,s-r],[e-n,t-s]],e,t,[1,1],o),this},A.roundedRect=function(e,t,i,r,n,s,o){var a=4/3*(Math.SQRT2-1);return this.lines([[i-2*n,0],[n*a,0,n,s-s*a,n,s],[0,r-2*s],[0,s*a,-n*a,s,-n,s],[2*n-i,0],[-n*a,0,-n,-s*a,-n,-s],[0,2*s-r],[0,-s*a,n*a,-s,n,-s]],e+n,t,[1,1],o),this},A.ellipse=function(e,t,i,r,n){var s=X(n),o=4/3*(Math.SQRT2-1)*i,a=4/3*(Math.SQRT2-1)*r;return L([O((e+i)*u),O((d-t)*u),"m",O((e+i)*u),O((d-(t-a))*u),O((e+o)*u),O((d-(t-r))*u),O(e*u),O((d-(t-r))*u),"c"].join(" ")),L([O((e-o)*u),O((d-(t-r))*u),O((e-i)*u),O((d-(t-a))*u),O((e-i)*u),O((d-t)*u),"c"].join(" ")),L([O((e-i)*u),O((d-(t+a))*u),O((e-o)*u),O((d-(t+r))*u),O(e*u),O((d-(t+r))*u),"c"].join(" ")),L([O((e+o)*u),O((d-(t+r))*u),O((e+i)*u),O((d-(t+a))*u),O((e+i)*u),O((d-t)*u),"c",s].join(" ")),this},A.circle=function(e,t,i,r){return this.ellipse(e,t,i,i,r)},A.setProperties=function(e){var t;for(t in P)P.hasOwnProperty(t)&&e[t]&&(P[t]=e[t]);return this},A.setFontSize=function(e){return D=e,this},A.setFont=function(e,t){return l=Z(e,t),this},A.setFontStyle=A.setFontType=function(e){return l=Z(void 0,e),this},A.getFontList=function(){var e,t,i,r={};for(e in I)if(I.hasOwnProperty(e))for(t in r[e]=i=[],I[e])I[e].hasOwnProperty(t)&&i.push(t);return r},A.setLineWidth=function(e){return L((e*u).toFixed(2)+" w"),this},A.setDrawColor=function(e,t,i,r){var n;return n=void 0===t||void 0===r&&e===t===i?"string"==typeof e?e+" G":O(e/255)+" G":void 0===r?"string"==typeof e?[e,t,i,"RG"].join(" "):[O(e/255),O(t/255),O(i/255),"RG"].join(" "):"string"==typeof e?[e,t,i,r,"K"].join(" "):[O(e),O(t),O(i),O(r),"K"].join(" "),L(n),this},A.setFillColor=function(e,t,i,r){var n;return n=void 0===t||void 0===r&&e===t===i?"string"==typeof e?e+" g":O(e/255)+" g":void 0===r?"string"==typeof e?[e,t,i,"rg"].join(" "):[O(e/255),O(t/255),O(i/255),"rg"].join(" "):"string"==typeof e?[e,t,i,r,"k"].join(" "):[O(e),O(t),O(i),O(r),"k"].join(" "),L(n),this},A.setTextColor=function(e,t,i){return _=0===e&&0===t&&0===i||void 0===t?B(e/255)+" g":[B(e/255),B(t/255),B(i/255),"rg"].join(" "),this},A.CapJoinStyles={0:0,butt:0,but:0,bevel:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,milter:2},A.setLineCap=function(e){var t=this.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return E=t,L(t.toString(10)+" J"),this},A.setLineJoin=function(e){var t=this.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return M=t,L(t.toString(10)+" j"),this},A.output=Q,A.save=function(e){A.output("save",e)},i.API)i.API.hasOwnProperty(p)&&("events"===p&&i.API.events.length?function(e,t){var i,r;for(r=t.length-1;-1!==r;r--)e.subscribe.apply(e,[t[r][0]].concat("function"==typeof(i=t[r][1])?[i]:i))}(H,i.API.events):A[p]=i.API[p]);return function(){var e,t,i,r,n="helvetica",s="times",o="courier",a="normal",l="bold",d="italic",h="bolditalic",u=[["Helvetica",n,a],["Helvetica-Bold",n,l],["Helvetica-Oblique",n,d],["Helvetica-BoldOblique",n,h],["Courier",o,a],["Courier-Bold",o,l],["Courier-Oblique",o,d],["Courier-BoldOblique",o,h],["Times-Roman",s,a],["Times-Bold",s,l],["Times-Italic",s,d],["Times-BoldItalic",s,h]];for(e=0,t=u.length;e<t;e++)i=G(u[e][0],u[e][1],u[e][2],"StandardEncoding"),r=u[e][0].split("-"),W(i,r[0],r[1]||"");H.publish("addFonts",{fonts:S,dictionary:I})}(),l="F1",Y(),H.publish("initialized"),A}return i.API={events:[]},i}();!function(e){var t,i,r,n=0,s=0,o={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},a=1,l=!1,d=function(e,t,i,r,n){o={x:e,y:t,w:i,h:r,ln:n}},h=function(){return o},u=function(){return n},c=function(e){s=e},p=function(e){return s};e.getTextDimensions=function(e){t=this.internal.getFont().fontName,i=this.internal.getFontSize(),r=this.internal.getFont().fontStyle;var n,s,o=19.049976/25.4;return(s=document.createElement("font")).id="pdfDataExportCell",s.style.fontStyle=r,s.style.fontName=t,s.style.fontSize=i+"pt",s.innerHTML=e,document.body.appendChild(s),n={w:(s.offsetWidth+1)*o,h:(s.offsetHeight+1)*o},document.body.removeChild(s),n},e.cellAddPage=function(){this.addPage(),d(void 0,void 0,void 0,void 0,void 0),l=!0,a+=1,c(1)},e.cellInitialize=function(){n=0,o={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},a=1,l=!1,c(0)},e.cell=function(e,t,i,r,s,o){this.lnMod=void 0===this.lnMod?0:this.lnMod,!0!==this.printingHeaderRow&&0!==this.lnMod&&(o+=this.lnMod),(o*r+t+2*r)/a>=this.internal.pageSize.height&&1===a&&!l?(this.cellAddPage(),this.printHeaders&&this.tableHeaderRow&&(this.printHeaderRow(o),this.lnMod+=1,o+=1),0===u()&&function(e){n=e}(Math.round((this.internal.pageSize.height-2*r)/r))):l&&h().ln!==o&&p()===u()&&(this.cellAddPage(),this.printHeaders&&this.tableHeaderRow&&(this.printHeaderRow(o),this.lnMod+=1,o+=1));var f=h(),m=(this.getTextDimensions(s),1);return void 0!==f.x&&f.ln===o&&(e=f.x+f.w),void 0!==f.y&&f.y===t&&(t=f.y),void 0!==f.h&&f.h===r&&(r=f.h),void 0!==f.ln&&f.ln===o&&(o=f.ln,m=0),l?t=r*(p()+m):t+=r*Math.abs(u()*a-o-u()),this.rect(e,t,i,r),/[\u0430-\u044f\u0410-\u042f\u0401\u0451]/.test(s)?this.text16(s,e+3,t+r-3):this.text(s,e+3,t+r-3),c(p()+m),d(e,t,i,r,o),this},e.getKeys="function"==typeof Object.keys?function(e){return e?Object.keys(e):[]}:function(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(t);return i},e.arrayMax=function(e,t){var i,r,n,s=e[0];for(i=0,r=e.length;i<r;i+=1)n=e[i],t?-1===t(s,n)&&(s=n):n>s&&(s=n);return s},e.table=function(t,i,r){var n,s,o,a,l,d,h,u,c=[],p=[],f={},m={},g=[],v=[];if(this.lnMod=0,r&&(this.printHeaders=r.printHeaders||!0),!t)throw"No data for PDF table";if(null==i)c=this.getKeys(t[0]);else if(i[0]&&"string"!=typeof i[0])for(s=0,o=i.length;s<o;s+=1)c.push((n=i[s]).name),p.push(n.prompt);else c=i;if(r.autoSize)for(u=function(e){return e[n]},s=0,o=c.length;s<o;s+=1){for(f[n=c[s]]=t.map(u),g.push(this.getTextDimensions(p[s]||n).w),l=0,o=(a=f[n]).length;l<o;l+=1)g.push(this.getTextDimensions(a[l]).w);m[n]=e.arrayMax(g)}if(r.printHeaders){for(s=0,o=c.length;s<o;s+=1)v.push([10,10,m[n=c[s]],25,String(p.length?p[s]:n)]);this.setTableHeaderRow(v),this.printHeaderRow(1)}for(s=0,o=t.length;s<o;s+=1)for(d=t[s],l=0,h=c.length;l<h;l+=1)this.cell(10,10,m[n=c[l]],25,String(d[n]),s+2);return this},e.setTableHeaderRow=function(e){this.tableHeaderRow=e},e.printHeaderRow=function(e){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var t,i,r;for(this.printingHeaderRow=!0,i=0,r=this.tableHeaderRow.length;i<r;i+=1)t=[].concat(this.tableHeaderRow[i]),this.cell.apply(this,t.concat(e));this.printingHeaderRow=!1}}(n.API),function(e){var t=e.getCharWidthsArray=function(e,t){t||(t={});var i,r,n,s=t.widths?t.widths:this.internal.getFont().metadata.Unicode.widths,o=s.fof?s.fof:1,a=t.kerning?t.kerning:this.internal.getFont().metadata.Unicode.kerning,l=a.fof?a.fof:1,d=0,h=s[0]||o,u=[];for(i=0,r=e.length;i<r;i++)n=e.charCodeAt(i),u.push((s[n]||h)/o+(a[n]&&a[n][d]||0)/l),d=n;return u},i=function(e){for(var t=e.length,i=0;t;)i+=e[--t];return i},r=(e.getStringUnitWidth=function(e,r){return i(t.call(this,e,r))},function(e,t,i,r){for(var n=[],s=0,o=e.length,a=0;s!==o&&a+t[s]<i;)a+=t[s],s++;n.push(e.slice(0,s));var l=s;for(a=0;s!==o;)a+t[s]>r&&(n.push(e.slice(l,s)),a=0,l=s),a+=t[s],s++;return l!==s&&n.push(e.slice(l,s)),n}),n=function(e,n,s){s||(s={});var o,a,l,d,h,u=t(" ",s)[0],c=e.split(" "),p=[],f=[p],m=s.textIndent||0,g=0,v=0;for(l=0,d=c.length;l<d;l++)if(a=t(o=c[l],s),m+g+(v=i(a))>n){if(v>n){for(h=r(o,a,n-(m+g),n),p.push(h.shift()),p=[h.pop()];h.length;)f.push([h.shift()]);v=i(a.slice(o.length-p[0].length))}else p=[o];f.push(p),m=v,g=u}else p.push(o),m+=g+v,g=u;var w=[];for(l=0,d=f.length;l<d;l++)w.push(f[l].join(" "));return w};e.splitTextToSize=function(e,t,i){i||(i={});var r,s=i.fontSize||this.internal.getFontSize(),o=(function(e){var t={0:1},i={};if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var r=this.internal.getFont(e.fontName,e.fontStyle),n="Unicode";return r.metadata[n]?{widths:r.metadata[n].widths||t,kerning:r.metadata[n].kerning||i}:{widths:t,kerning:i}}).call(this,i);r=e.match(/[\n\r]/)?e.split(/\r\n|\r|\n/g):[e];var a=1*this.internal.scaleFactor*t/s;o.textIndent=i.textIndent?1*i.textIndent*this.internal.scaleFactor/s:0;var l,d,h=[];for(l=0,d=r.length;l<d;l++)h=h.concat(n(r[l],a,o));return h}}(n.API),function(e){var t="addImage_",i=function(e){var t=this.internal.newObject(),i=this.internal.write,r=this.internal.putStream;if(e.n=t,i("<</Type /XObject"),i("/Subtype /Image"),i("/Width "+e.w),i("/Height "+e.h),"Indexed"===e.cs?i("/ColorSpace [/Indexed /DeviceRGB "+(e.pal.length/3-1)+" "+(t+1)+" 0 R]"):(i("/ColorSpace /"+e.cs),"DeviceCMYK"===e.cs&&i("/Decode [1 0 1 0 1 0 1 0]")),i("/BitsPerComponent "+e.bpc),"f"in e&&i("/Filter /"+e.f),"dp"in e&&i("/DecodeParms <<"+e.dp+">>"),"trns"in e&&e.trns.constructor==Array)for(var n="",s=0;s<e.trns.length;s++)i("/Mask ["+(n+=e[n][s]+" "+e.trns[s]+" ")+"]");"smask"in e&&i("/SMask "+(t+1)+" 0 R"),i("/Length "+e.data.length+">>"),r(e.data),i("endobj")},r=function(){var e=this.internal.collections[t+"images"];for(var r in e)i.call(this,e[r])},n=function(){var e,i=this.internal.collections[t+"images"],r=this.internal.write;for(var n in i)r("/I"+(e=i[n]).i,e.n,"0","R")};e.addImage=function(e,i,s,o,a,l){if("object"==typeof e&&1===e.nodeType){var d=document.createElement("canvas");d.width=e.clientWidth,d.height=e.clientHeight;var h=d.getContext("2d");if(!h)throw"addImage requires canvas to be supported by browser.";h.drawImage(e,0,0,d.width,d.height),e=d.toDataURL("image/jpeg"),i="JPEG"}if("JPEG"!==i.toUpperCase())throw new Error("addImage currently only supports format 'JPEG', not '"+i+"'");var u,c=this.internal.collections[t+"images"],p=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;"data:image/jpeg;base64,"===e.substring(0,23)&&(e=atob(e.replace("data:image/jpeg;base64,",""))),c?u=Object.keys?Object.keys(c).length:function(e){var t=0;for(var i in e)e.hasOwnProperty(i)&&t++;return t}(c):(u=0,this.internal.collections[t+"images"]=c={},this.internal.events.subscribe("putResources",r),this.internal.events.subscribe("putXobjectDict",n));var m=function(e){var t;if(255===!e.charCodeAt(0)||216===!e.charCodeAt(1)||255===!e.charCodeAt(2)||224===!e.charCodeAt(3)||!e.charCodeAt(6)==="J".charCodeAt(0)||!e.charCodeAt(7)==="F".charCodeAt(0)||!e.charCodeAt(8)==="I".charCodeAt(0)||!e.charCodeAt(9)==="F".charCodeAt(0)||0===!e.charCodeAt(10))throw new Error("getJpegSize requires a binary jpeg file");for(var i=256*e.charCodeAt(4)+e.charCodeAt(5),r=4,n=e.length;r<n;){if(255!==e.charCodeAt(r+=i))throw new Error("getJpegSize could not find the size of the image");if(192===e.charCodeAt(r+1))return t=256*e.charCodeAt(r+5)+e.charCodeAt(r+6),[256*e.charCodeAt(r+7)+e.charCodeAt(r+8),t];i=256*e.charCodeAt(r+=2)+e.charCodeAt(r+1)}}(e),g={w:m[0],h:m[1],cs:"DeviceRGB",bpc:8,f:"DCTDecode",i:u,data:e};return c[u]=g,a||l||(a=-96,l=-96),a<0&&(a=-1*g.w*72/a/this.internal.scaleFactor),l<0&&(l=-1*g.h*72/l/this.internal.scaleFactor),0===a&&(a=l*g.w/g.h),0===l&&(l=a*g.h/g.w),this.internal.write("q",p(a),"0 0",p(l),p(s),f(o+l),"cm /I"+g.i,"Do Q"),this}}(n.API),function(e){var t=function(e){for(var t="klmnopqrstuvwxyz",i={},r=0;r<t.length;r++)i[t[r]]="0123456789abcdef"[r];var n,s,o,a,l,d={},h=1,u=d,c=[],p="",f="",m=e.length-1;for(r=1;r!=m;)l=e[r],r+=1,"'"==l?s?(a=s.join(""),s=n):s=[]:s?s.push(l):"{"==l?(c.push([u,a]),u={},a=n):"}"==l?((o=c.pop())[0][o[1]]=u,a=n,u=o[0]):"-"==l?h=-1:a===n?i.hasOwnProperty(l)?(p+=i[l],a=parseInt(p,16)*h,h=1,p=""):p+=l:i.hasOwnProperty(l)?(f+=i[l],u[a]=parseInt(f,16)*h,h=1,a=n,f=""):f+=l;return d},i={codePages:["WinAnsiEncoding"],WinAnsiEncoding:t("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},r={Unicode:{Courier:i,"Courier-Bold":i,"Courier-BoldOblique":i,"Courier-Oblique":i,Helvetica:i,"Helvetica-Bold":i,"Helvetica-BoldOblique":i,"Helvetica-Oblique":i,"Times-Roman":i,"Times-Bold":i,"Times-BoldItalic":i,"Times-Italic":i}},n={Unicode:{"Courier-Oblique":t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":t("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":t("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":t("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Helvetica:t("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":t("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),"Courier-Bold":t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":t("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":t("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":t("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFonts",function(e){var t,i,s,o,a,l="Unicode";for(i in e.fonts)e.fonts.hasOwnProperty(i)&&((s=n[l][(t=e.fonts[i]).PostScriptName])&&((o=t.metadata[l]?t.metadata[l]:t.metadata[l]={}).widths=s.widths,o.kerning=s.kerning),(a=r[l][t.PostScriptName])&&((o=t.metadata[l]?t.metadata[l]:t.metadata[l]={}).encoding=a,a.codePages&&a.codePages.length&&(t.encoding=a.codePages[0])))}])}(n.API);var s=window.jqxSaveAs=s||navigator.msSaveBlob&&navigator.msSaveBlob.bind(navigator)||function(e){var t=e.document,i=e.URL||e.webkitURL||e,r=$("<a></a>")[0],n="download"in r,s=e.webkitRequestFileSystem,o=e.requestFileSystem||s||e.mozRequestFileSystem,a=function(t){(e.setImmediate||e.setTimeout)((function(){throw t}),0)},l="application/octet-stream",d=0,h=[],u=function(e,t,i){for(var r=(t=[].concat(t)).length;r--;){var n=e["on"+t[r]];if("function"==typeof n)try{n.call(e,i||e)}catch(s){a(s)}}},c=function(i,a){var c,p,f=this,m=i.type,g=!1,v=function(){var t=(e.URL||e.webkitURL||e).createObjectURL(i);return h.push(t),t},w=function(){u(f,"writestart progress write writeend".split(" "))},y=function(){!g&&c||(c=v()),p&&(p.location.href=c),f.readyState=f.DONE,w()},b=function(e){return function(){if(f.readyState!==f.DONE)return e.apply(this,arguments)}},x={create:!0,exclusive:!1};if(f.readyState=f.INIT,a||(a="download"),n&&(c=v(),r.href=c,r.download=a,function(i){var r=t.createEvent("MouseEvents");return r.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(r)}(r)))return f.readyState=f.DONE,void w();e.chrome&&m&&m!==l&&(i=(i.slice||i.webkitSlice).call(i,0,i.size,l),g=!0),s&&"download"!==a&&(a+=".download"),p=m===l||s?e:e.open(),o?o(e.TEMPORARY,d+=i.size,b((function(e){e.root.getDirectory("saved",x,b((function(e){var t=function(){e.getFile(a,x,b((function(e){e.createWriter(b((function(t){t.onwriteend=function(t){p.location.href=e.toURL(),h.push(e),f.readyState=f.DONE,u(f,"writeend",t)},t.onerror=function(){var e=t.error;e.code!==e.ABORT_ERR&&y()},"writestart progress write abort".split(" ").forEach((function(e){t["on"+e]=f["on"+e]})),t.write(i),f.abort=function(){t.abort(),f.readyState=f.DONE},f.readyState=f.WRITING})),y)})),y)};e.getFile(a,{create:!1},b((function(e){e.remove(),t()})),b((function(e){e.code===e.NOT_FOUND_ERR?t():y()})))})),y)})),y):y()},p=c.prototype;return p.abort=function(){var e=this;e.readyState=e.DONE,u(e,"abort")},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,e.addEventListener&&e.addEventListener("unload",(function(){for(var e=h.length;e--;){var t=h[e];"string"==typeof t?i.revokeObjectURL(t):t.remove()}h.length=0}),!1),function(e,t){return new c(e,t)}}(self);!function(e){e.output=function(e,t){return this.internal.output(e,t)}}(n.API)},"6cDQ":function(e,t){var i;(i=jqxBaseFramework).jqx.jqxWidget("jqxCalendar","",{}),i.extend(i.jqx._jqxCalendar.prototype,{defineInstance:function(){var e,t=(_defineProperty(e={disabled:!1,restrictedDates:new Array,multipleMonthRows:1,multipleMonthColumns:1,minDate:i.jqx._jqxDateTimeInput.getDateTime(new Date),maxDate:i.jqx._jqxDateTimeInput.getDateTime(new Date),min:new Date(1900,0,1),max:new Date(2100,0,1),navigationDelay:400,stepMonths:1,width:null,height:null,value:i.jqx._jqxDateTimeInput.getDateTime(new Date),firstDayOfWeek:0,showWeekNumbers:!1,showDayNames:!0,enableWeekend:!1,enableOtherMonthDays:!0,showOtherMonthDays:!0,rowHeaderWidth:25,columnHeaderHeight:25,titleHeight:30,dayNameFormat:"firstTwoLetters",monthNameFormat:"default",titleFormat:["MMMM yyyy","yyyy","yyyy","yyyy"],enableViews:!0,readOnly:!1,culture:"default",enableFastNavigation:!0,enableHover:!0,enableAutoNavigation:!0,enableTooltips:!1,backText:"Back",forwardText:"Forward",specialDates:new Array,keyboardNavigation:!0,selectionMode:"default",selectableDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],todayString:"Today",clearString:"Clear",showFooter:!1,selection:{from:null,to:null},canRender:!0,_checkForHiddenParent:!0},"height",null),_defineProperty(e,"rtl",!1),_defineProperty(e,"view","month"),_defineProperty(e,"views",["month","year","decade"]),_defineProperty(e,"changing",null),_defineProperty(e,"change",null),_defineProperty(e,"localization",{backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}}),_defineProperty(e,"events",["backButtonClick","nextButtonClick","valuechanged","cellMouseDown","cellMouseUp","cellSelected","cellUnselected","change","viewChange"]),e);return this===i.jqx._jqxCalendar.prototype||(i.extend(!0,this,t),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(0),this.minDate._setMinutes(0),this.minDate._setSeconds(0),this.minDate._setMilliseconds(0),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(0),this.maxDate._setMinutes(0),this.maxDate._setSeconds(0),this.maxDate._setMilliseconds(0),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),t},_createFromInput:function(e){var t=this;if("input"==t.element.nodeName.toLowerCase()){t.field=t.element,t.field.className&&(t._className=t.field.className);var r={title:t.field.title};if(t.field.value&&(r.value=t.field.value),t.field.checked&&(r.checked=!0),r.id=t.field.id.length?t.field.id.replace(/[^\w]/g,"_")+"_"+e:i.jqx.utilities.createId()+"_"+e,t.field.getAttribute("min")){var n=new Date(t.field.getAttribute("min"));"Invalid Date"!=n&&(t.min=n)}if(t.field.getAttribute("max")){var s=new Date(t.field.getAttribute("max"));"Invalid Date"!=s&&(t.max=s)}var o=i("<div></div>",r);o[0].style.cssText=t.field.style.cssText,t.width||(t.width=i(t.field).width()),t.height||(t.height=i(t.field).outerHeight()),i(t.field).hide().after(o);var a=t.host.data();if(t.host=o,t.host.data(a),t.element=o[0],t.element.id=t.field.id,t.field.id=r.id,t._className&&(t.host.addClass(t._className),i(t.field).removeClass(t._className)),t.field.tabIndex){var l=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=l}}},createInstance:function(e){this._createFromInput("jqxCalendar"),this.setCalendarSize(),""===this.element.id&&(this.element.id=i.jqx.utilities.createId()),"date"==i.type(this.value)&&(this.value=i.jqx._jqxDateTimeInput.getDateTime(this.value)),this.element.innerHTML="",this.host.attr("data-role","calendar");var t=this;if(this.propertyChangeMap.width=function(e,i,r,n){t.setCalendarSize()},this.propertyChangeMap.height=function(e,i,r,n){t.setCalendarSize()},i.global&&i.global.preferCulture(this.culture),"default"!=this.culture){if(i.global)i.global.preferCulture(this.culture),this.localization.calendar=i.global.culture.calendar;else if(window.Globalize){var r=window.Globalize.culture(this.culture);this.localization.calendar=r.calendar}this.firstDayOfWeek=this.localization.calendar.firstDay}"Back"!=this.localization.backString&&(this.backText=this.localization.backString),"Forward"!=this.localization.forwardString&&(this.forwardText=this.localization.forwardString),"Today"!=this.localization.todayString&&this.localization.todayString&&(this.todayString=this.localization.todayString),"Clear"!=this.localization.clearString&&this.localization.clearString&&(this.clearString=this.localization.clearString),this.localization.calendar&&null!=this.localization.calendar.firstDay&&"default"!=this.culture&&(this.firstDayOfWeek=this.localization.calendar.firstDay),this.setMaxDate(this.max,!1),this.setMinDate(this.min,!1),this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.host.css("outline","none"),this.host.addClass(this.toThemeProperty("jqx-calendar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this._addInput(),-1==this.views.indexOf("month")&&(this.view="year"),-1==this.views.indexOf("year")&&-1==this.views.indexOf("month")&&(this.view="decade"),this.addHandler(this.host,"keydown",(function(e){var i=!0;return t.keyboardNavigation&&null!=t._handleKey&&((i=t._handleKey(e))||(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault())),i}));var n=!1,s=this,o=!1;null!=t.width&&-1!=t.width.toString().indexOf("%")&&(o=!0),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(o=!0),i.jqx.utilities.resize(this.host,(function(){var e=s.host.find("#View"+t.element.id);n?s.refreshTitle(e):(n=!0,s.render()),o&&(t.refreshTimer&&clearTimeout(t.refreshTimer),t.refreshTimer=setTimeout((function(){t.refreshControl()}),1))}),!1,this._checkForHiddenParent),this.propertyChangeMap.disabled=function(e,i,r,n){n?e.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.refreshControl()}},_addInput:function(){var e=this.host.attr("name");this.input=i("<input type='hidden'/>"),this.host.append(this.input),e&&this.input.attr("name",e),this.input.val(this.getDate().toString())},setCalendarSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.css("width",this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)||this.host.height(this.height),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.css("height",this.height)},_getYearAndMonthPart:function(e){return e?new Date(e.getFullYear(),e.getMonth(),1):new Date(1900,0,1)},_handleKey:function(e){if(this.readOnly)return!0;var t=e.keyCode,r=this._getSelectedDate();if(null==r){if("month"!=this.view||37!=t&&38!=t&&39!=t&&40!=t)return!0;this.selectedDate=new Date(this.value.year,this.value.month-1,1),this._selectDate(this.selectedDate,"key"),r=this.selectedDate}if(e.altKey)return!0;if(this._animating)return!1;if("month"!=this.view&&13==t){var n=this._getSelectedCell();this._setDateAndSwitchViews(n,e,"keyboard")}if("year"==this.view){var s=r.getMonth(),o=this._getYearAndMonthPart(this.getMinDate()),a=this._getYearAndMonthPart(this.getMaxDate());switch(t){case 37:return 0==s?(l=new Date(r.getFullYear()-1,11,1))>=o?(this.selectedDate=l,this.navigateBackward()):this.selectedDate!=o&&(this.selectedDate=o,this.navigateBackward()):(l=new Date(r.getFullYear(),s-1,1))>=o&&this._selectDate(l,"key"),!1;case 38:return(l=new Date(r.getFullYear(),s-4,1))<o&&(l=o),s-4<0?(this.selectedDate=l,this.navigateBackward()):this._selectDate(l,"key"),!1;case 40:return(l=new Date(r.getFullYear(),s+4,1))>a&&(l=a),s+4>11?(this.selectedDate=l,this.navigateForward()):this._selectDate(l,"key"),!1;case 39:var l;return 11==s?(l=new Date(r.getFullYear()+1,0,1))<=a?(this.selectedDate=l,this.navigateForward()):this.selectedDate!=a&&(this.selectedDate=a,this.navigateForward()):(l=new Date(r.getFullYear(),s+1,1))<=a&&this._selectDate(l,"key"),!1}return!0}if("decade"==this.view){var d=this._renderStartDate.getFullYear(),h=this._renderEndDate.getFullYear(),u=r.getFullYear(),c=this.getMinDate().getFullYear(),p=this.getMaxDate().getFullYear();switch(t){case 37:return u-1>=c&&(u<=d?(this.selectedDate=new Date(u-1,r.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(u-1,r.getMonth(),1),"key")),!1;case 38:var f=u-4;return u-4<c&&(f=c),f<d?(this.selectedDate=new Date(f,r.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(f,r.getMonth(),1),"key"),!1;case 40:return(f=u+4)>p&&(f=p),f>h?(this.selectedDate=new Date(f,r.getMonth(),1),this.navigateForward()):this._selectDate(new Date(f,r.getMonth(),1),"key"),!1;case 39:return u+1<=p&&(u==h?(this.selectedDate=new Date(u+1,r.getMonth(),1),this.navigateForward()):this._selectDate(new Date(u+1,r.getMonth(),1),"key")),!1}return!0}var m=new i.jqx._jqxDateTimeInput.getDateTime(r),g=this.getViewStart(),v=this.getViewEnd(),w=i.data(this.element,"View"+this.element.id);if(null==w||null==w)return!0;if(36==t)return m._setDay(1),this._isDisabled(m.dateTime)||this._selectDate(m.dateTime,"key"),!1;if(35==t){var y=this.value._daysInMonth(this.value.year,this.value.month);return m._setDay(y),this._isDisabled(m.dateTime)||this._selectDate(m.dateTime,"key"),!1}var b=1;if(e.ctrlKey&&(b=12),34==t){if(this.navigateForward(b)){if(m._addMonths(b),this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key")}return!1}if(33==t){if(this.navigateBackward(b)){if(m._addMonths(-b),this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key")}return!1}if(38==t){if(m._addDays(-7),m.dateTime<this.getMinDate())return!1;if(m.dateTime<g&&!this.navigateBackward())return!1;if(this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key");for(var x=0;x<w.cells.length;x++){var _=(n=w.cells[x]).getDate();if(n.isOtherMonth&&n.isSelected&&_<=m.dateTime){this.value.day=_.getDate(),this.navigateBackward(),this._selectDate(m.dateTime,"key");break}}return!1}if(40==t){if(m._addDays(7),m.dateTime>this.getMaxDate())return!1;if(m.dateTime>v&&!this.navigateForward())return!1;if(this._isDisabled(m.dateTime))return!1;for(this._selectDate(m.dateTime,"key"),x=0;x<w.cells.length;x++)if(_=(n=w.cells[x]).getDate(),n.isOtherMonth&&n.isSelected&&_>=m.dateTime){this.value.day=_.getDate(),this.navigateForward(),this._selectDate(m.dateTime,"key");break}return!1}if(37==t){if(m._addDays(-1),m.dateTime<this.getMinDate())return!1;if(m.dateTime<g&&!this.navigateBackward())return!1;if(this._isDisabled(m.dateTime))return!1;for(this._selectDate(m.dateTime,"key"),x=0;x<w.cells.length;x++)if(_=(n=w.cells[x]).getDate(),n.isOtherMonth&&n.isSelected&&_<=m.dateTime){if(m.dateTime<this.getMinDate()||m.dateTime>this.getMaxDate())return!1;if(this._isDisabled(m.dateTime))return!1;this.navigateBackward(),this._selectDate(m.dateTime,"key");break}return!1}if(39==t){if(m._addDays(1),m.dateTime>this.getMaxDate())return!1;if(m.dateTime>v&&!this.navigateForward())return!1;if(this._isDisabled(m.dateTime))return!1;for(this._selectDate(m.dateTime,"key"),x=0;x<w.cells.length;x++)if(_=(n=w.cells[x]).getDate(),n.isOtherMonth&&n.isSelected&&_>=m.dateTime){if(m.dateTime<this.getMinDate()||m.dateTime>this.getMaxDate())return!1;this.navigateForward(),this._selectDate(m.dateTime,"key");break}return!1}return!0},render:function(){if(this.canRender){this.host.children().remove();var e=this._renderSingleCalendar("View"+this.element.id);this.host.append(e)}},addSpecialDate:function(e,t,i){1==this.multipleMonthRows&&1==this.multipleMonthColumns&&(this.specialDates[this.specialDates.length]={Date:e,Class:t,Tooltip:i},this.refreshControl())},refresh:function(e){var t=this;this.render(),setTimeout((function(){t.refreshControl()}))},invalidate:function(){this.refreshControl()},refreshControl:function(){1==this.multipleMonthRows&&1==this.multipleMonthColumns&&this.refreshSingleCalendar("View"+this.element.id,null)},getViewStart:function(){var e=this.getVisibleDate();return this.getFirstDayOfWeek(e).dateTime},getViewEnd:function(){var e=this.getViewStart(),t=new i.jqx._jqxDateTimeInput.getDateTime(e);return t._addDays(41),t.dateTime},refreshSingleCalendar:function(e,t){if(this.canRender){var i=this.host.find("#"+e),r=this.getVisibleDate(),n=this.getFirstDayOfWeek(r);this.refreshCalendarCells(i,n,e),this.refreshTitle(i),this.refreshRowHeader(i,e),null!=this.selectedDate&&this._selectDate(this.selectedDate);var s=parseInt(this.month.css("padding-top")),o=this.host.height()-2*s-this.titleHeight-this.columnHeaderHeight;this.showDayNames||(o=this.month.height()-this.titleHeight),this.showFooter&&(o-=20);var a=i.find("#cellsTable"+e),l=i.find("#calendarRowHeader"+e);a.height(o),l.height(o)}},refreshRowHeader:function(e,t){if(this.showWeekNumbers){var r=this.getVisibleDate(),n=this.getFirstDayOfWeek(r),s=this.getWeekOfYear(n),o=new i.jqx._jqxDateTimeInput.getDateTime(new Date(n.dateTime));o._addDays(5),o.dayOfWeek=o.dateTime.getDay(),this.getWeekOfYear(o);var a=this.rowHeader.find("table");a.width(this.rowHeaderWidth);for(var l=n,d=new Array,h=0;h<6;h++){s.toString();var u=new i.jqx._jqxCalendar.cell(l.dateTime),c=h+1+this.element.id,p=i(a[0].rows[h].cells[0]);u.element=p,u.row=h,u.column=0;var f=p.find("#headerCellContent"+c);f.addClass(this.toThemeProperty("jqx-calendar-row-cell")),f[0].innerHTML=s,d[h]=u,l=new i.jqx._jqxDateTimeInput.getDateTime(new Date(l._addWeeks(1))),s=this.getWeekOfYear(l)}var m=i.data(this.element,e[0].id);m.rowCells=d,this._refreshOtherMonthRows(m,t)}},_refreshOtherMonthRows:function(e,t){if(!this.showOtherMonthDays){this._displayLastRow(!0,t),this._displayFirstRow(!0,t);for(var i=!1,r=!1,n=0;n<e.cells.length;n++){var s=e.cells[n];s.isVisible&&n<7?i=!0:s.isVisible&&n>=e.cells.length-7&&(r=!0)}i||this._displayFirstRow(!1,t),r||this._displayLastRow(!1,t)}},_displayLastRow:function(e,t){var r=this.host.find("#"+t),n=r.find("#calendarRowHeader"+r[0].id).find("table"),s=null;this.showWeekNumbers&&n[0].cells&&(s=i(n[0].rows[5]));var o=i(r.find("#cellTable"+r[0].id)[0].rows[5]);e?(this.showWeekNumbers&&s&&s.css("display","table-row"),o.css("display","table-row")):(this.showWeekNumbers&&s&&s.css("display","none"),o.css("display","none"))},_displayFirstRow:function(e,t){var r=this.host.find("#"+t),n=r.find("#calendarRowHeader"+r[0].id).find("table"),s=null;this.showWeekNumbers&&n[0].cells&&(s=i(n[0].rows[0]));var o=i(r.find("#cellTable"+r[0].id)[0].rows[0]);e?(this.showWeekNumbers&&s&&s.css("display","table-row"),o.css("display","table-row")):(this.showWeekNumbers&&s&&s.css("display","none"),o.css("display","none"))},_renderSingleCalendar:function(e,t){if(this.canRender){var r=this.host.find("#"+e.toString());null!=r&&r.remove();var n=i("<div id='"+e.toString()+"'></div>"),s=this.getVisibleDate(),o=this.getFirstDayOfWeek(s),a=new i.jqx._jqxDateTimeInput.getDateTime(o.dateTime);a._addMonths(1);var l=i.jqx._jqxCalendar.monthView(o,a,null,null,null,n);null==t||null==t?(this.host.append(n),n[0].style.width="100%",n[0].style.height="100%"):t.append(n),i.data(this.element,e,l);var d=parseInt(n.css("padding-top")),h=this.host.height()-2*d,u=h-this.titleHeight-this.columnHeaderHeight;this.showDayNames||(u=h-this.titleHeight),this.showFooter&&(u-=20),this.rowHeaderWidth<0&&(this.rowHeaderWidth=0),this.columnHeaderHeight<0&&(this.columnHeaderHeight=0),this.titleHeight<0&&(this.titleHeight=0);var c=this.rowHeaderWidth,p=this.columnHeaderHeight;this.showWeekNumbers||(c=0),this.showDayNames||(p=0);var f="<div style='height:"+this.titleHeight+"px;'><table role='grid' style='margin: 0px; width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarTitle' width='100%'><td role='gridcell' NOWRAP id='leftNavigationArrow'></td><td aria-live='assertive' aria-atomic='true' role='gridcell' align='center' NOWRAP id='calendarTitleHeader'></td><td role='gridcell' NOWRAP id='rightNavigationArrow'></td></tr></table></div>",m="<table role='grid' class='"+this.toThemeProperty("jqx-calendar-month")+"' style='margin: 0px; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarHeader' height='"+p+"'><td role='gridcell' id='selectCell' width='"+c+"'></td><td role='gridcell' colspan='2' style='border: none; padding-left: 2px; padding-right: 2px' id='calendarColumnHeader'></td></tr><tr role='row' id='calendarContent'><td role='gridcell' id='calendarRowHeader' valign='top' height='"+u+"' width='"+c+"'></td><td role='gridcell' valign='top' colspan='2' style='padding-left: 2px; padding-right: 2px' id='cellsTable' height='"+u+"'></td></tr></table>";n[0].innerHTML=f+m+"<div id='footer' style='margin: 0px; display: none; height:"+g+"px;'><table style='width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr id='calendarFooter'><td align='right' id='todayButton'></td><td align='left' colspan='2' id=doneButton></td></tr></table></div>",this.header=n.find("#calendarHeader"),this.header[0].id="calendarHeader"+e,this.header.addClass(this.toThemeProperty("calendar-header")),this.columnHeader=n.find("#calendarColumnHeader"),this.columnHeader[0].id="calendarColumnHeader"+e,this.table=n.find("#cellsTable"),this.table[0].id="cellsTable"+e,this.rowHeader=n.find("#calendarRowHeader"),this.rowHeader[0].id="calendarRowHeader"+e,this.selectCell=n.find("#selectCell"),this.selectCell[0].id="selectCell"+e,this.title=n.find("#calendarTitle"),this.title[0].id="calendarTitle"+e,this.leftButton=n.find("#leftNavigationArrow"),this.leftButton[0].id="leftNavigationArrow"+e,this.titleHeader=n.find("#calendarTitleHeader"),this.titleHeader[0].id="calendarTitleHeader"+e,this.rightButton=n.find("#rightNavigationArrow"),this.rightButton[0].id="rightNavigationArrow"+e,this.footer=n.find("#calendarFooter"),this._footer=n.find("#footer"),this._footer[0].id="footer"+e,this.footer[0].id="calendarFooter"+e,this.todayButton=n.find("#todayButton"),this.todayButton[0].id="todayButton"+e,this.doneButton=n.find("#doneButton"),this.doneButton[0].id="doneButton"+e,this.title.addClass(this.toThemeProperty("jqx-calendar-title-container"));var g=20;if(this.showFooter&&this._footer.css("display","block"),n.find("tr").addClass(this.toThemeProperty("jqx-reset")),n.addClass(this.toThemeProperty("jqx-widget-content")),n.addClass(this.toThemeProperty("jqx-calendar-month-container")),this.month=n,this.selectCell.addClass(this.toThemeProperty("jqx-reset")),this.selectCell.addClass(this.toThemeProperty("jqx-calendar-top-left-header")),this.showWeekNumbers?this._renderRowHeader(n):(this.table[0].colSpan=3,this.columnHeader[0].colSpan=3,this.rowHeader.css("display","none"),this.selectCell.css("display","none")),this.showFooter){this.footer.height(20);var v=i("<a href='javascript:;'>"+this.todayString+"</a>");v.appendTo(this.todayButton);var w=i("<a href='javascript:;'>"+this.clearString+"</a>");w.appendTo(this.doneButton),w.addClass(this.toThemeProperty("jqx-calendar-footer")),v.addClass(this.toThemeProperty("jqx-calendar-footer"));var y=this,b="mousedown";i.jqx.mobile.isTouchDevice()&&(b=i.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(v,b,(function(){return y.today?y.today():y.setDate(new Date,"mouse"),!1})),this.addHandler(w,b,(function(){return y.clear?y.clear():y.setDate(null,"mouse"),!1}))}"month"!=this.view&&this.header.hide(),this.showDayNames&&"month"==this.view&&this.renderColumnHeader(n),this.oldView=this.view,this.renderCalendarCells(n,o,e),null!=t&&null!=t||this.renderTitle(n),this._refreshOtherMonthRows(l,e),n.find("tbody").css({border:"none",background:"transparent"}),null!=this.selectedDate&&this._selectDate(this.selectedDate);var x=this;return this.addHandler(this.host,"focus",(function(){x.focus()})),n}},_getTitleFormat:function(){switch(this.view){case"month":return this.titleFormat[0];case"year":return this.titleFormat[1];case"decade":return this.titleFormat[2];case"centuries":return this.titleFormat[3]}},renderTitle:function(e){var t=i("<div role='button' style='float: left;'></div>"),r=i("<div role='button' style='float: right;'></div>"),n=this.title;n.addClass(this.toThemeProperty("jqx-reset")),n.addClass(this.toThemeProperty("jqx-widget-header")),n.addClass(this.toThemeProperty("jqx-calendar-title-header"));var s=n.find("td");if(i.jqx.browser.msie&&i.jqx.browser.version<8){if("transparent"!=s.css("background-color")){var o=n.css("background-color");s.css("background-color",o)}if("transparent"!=s.css("background-image")){var a=n.css("background-image"),l=n.css("background-repeat");n.css("background-position"),s.css("background-image",a),s.css("background-repeat",l),s.css("background-position","left center scroll")}}else s.css("background-color","transparent");this.disabled&&n.addClass(this.toThemeProperty("jqx-calendar-title-header-disabled")),t.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),t.addClass(this.toThemeProperty("jqx-icon-arrow-left")),t.appendTo(this.leftButton);var d=this.leftButton;r.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),r.addClass(this.toThemeProperty("jqx-icon-arrow-right")),r.appendTo(this.rightButton);var h=this.rightButton;this.enableTooltips&&i(d).jqxTooltip&&(i(d).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.backText}),i(h).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.forwardText}));var u=this.titleHeader,c=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);"decade"==this.view?c=this._format(this._renderStartDate,this._getTitleFormat(),this.culture)+" - "+this._format(this._renderEndDate,this._getTitleFormat(),this.culture):"centuries"==this.view&&(c=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture)+" - "+this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture));var p=i("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+c+"</div>");u.append(p),p.addClass(this.toThemeProperty("jqx-calendar-title-content"));var f=parseInt(t.width()),m=e.width()-2*f;u.find(".jqx-calendar-title-content").width(m),i.data(t,"navigateLeft",this),i.data(r,"navigateRight",this);var g=i.jqx.mobile.isTouchDevice();if(!this.disabled){var v=this;this.addHandler(u,"mousedown",(function(e){if(v.enableViews){if(!v._viewAnimating&&!v._animating){var t=v.view;switch(v.oldView=t,v.view){case"month":v.view="year";break;case"year":v.view="decade"}if(-1==v.views.indexOf("year")&&"year"==v.view&&(v.view="decade"),-1==v.views.indexOf("decade")&&"decade"==v.view&&(v.view=t),t!=v.view){var i="View"+v.element.id,r=v.host.find("#"+i),n=v.getVisibleDate(),s=v.getFirstDayOfWeek(n);v.renderCalendarCells(r,s,i,!0),v.refreshTitle(r),v._raiseEvent("8")}}return!1}})),this.addHandler(t,"mousedown",(function(e){if(v._animating)return!1;i.data(t,"navigateLeftRepeat",!0);var r=i.data(t,"navigateLeft");return r.enableFastNavigation&&!g&&r.startRepeat(r,t,!0,v.navigationDelay+200),r.navigateBackward(v.stepMonths,"arrow"),e.stopPropagation(),e.preventDefault(),r._raiseEvent(0,e)})),this.addHandler(t,"mouseup",(function(e){i.data(t,"navigateLeftRepeat",!1)})),this.addHandler(t,"mouseleave",(function(e){i.data(t,"navigateLeftRepeat",!1)})),this.addHandler(r,"mousedown",(function(e){if(v._animating)return!1;i.data(r,"navigateRightRepeat",!0);var t=i.data(r,"navigateRight");return t.enableFastNavigation&&!g&&t.startRepeat(t,r,!1,v.navigationDelay+200),t.navigateForward(v.stepMonths,"arrow"),e.stopPropagation(),e.preventDefault(),t._raiseEvent(1,e)})),this.addHandler(r,"mouseup",(function(e){i.data(r,"navigateRightRepeat",!1)})),this.addHandler(r,"mouseleave",(function(e){i.data(r,"navigateRightRepeat",!1)}))}},refreshTitle:function(e){var t=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);"decade"==this.view?t=this._format(this._renderStartDate,this._getTitleFormat(),this.culture)+" - "+this._format(this._renderEndDate,this._getTitleFormat(),this.culture):"centuries"==this.view&&(t=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture)+" - "+this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture));var r=this.titleHeader;if(this.titleHeader){var n=r.find(".jqx-calendar-title-content"),s=i("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+t+"</div>");r.append(s),s.addClass(this.toThemeProperty("jqx-calendar-title-content")),null!=n&&n.remove()}},startRepeat:function(e,t,r,n){var s=window.setTimeout((function(){var o=i.data(t,"navigateLeftRepeat");r||(o=i.data(t,"navigateRightRepeat")),o?(n<25&&(n=25),r?(e.navigateBackward(1,"arrow"),e.startRepeat(e,t,!0,n)):(e.navigateForward(1,"arrow"),s=e.startRepeat(e,t,!1,n))):window.clearTimeout(s)}),n)},navigateForward:function(e,t){null!=e&&null!=e||(e=this.stepMonths);var i=this.value.year;if("decade"==this.view){if(i=this._renderStartDate.getFullYear()+12,this._renderEndDate.getFullYear()>=this.getMaxDate().getFullYear())return}else"year"==this.view?i=this.value.year+1:"centuries"==this.view&&(i=this.value.year+100);if("month"!=this.view){var r=this.getMaxDate().getFullYear();if((r<i||i>r)&&(i=r),this.value.year==i){if("decade"!==this.view)return;if(!(this.value.year>this._renderEndDate.getFullYear()))return;this.value.year=i,this.value.month=1,this.value.day=1}this.value.year=i,this.value.month=1,this.value.day=1}var n=this.value.day;if(this.value.month+e<=12){var s=this.value._daysInMonth(this.value.year,this.value.month+e);n>s&&(n=s)}if("month"==this.view){var o=new Date(this.value.year,this.value.month-1+e,n);"arrow"==t&&7==this.selectableDays.length&&"range"!=this.selectionMode&&(this.selectedDate=new Date(this.value.year,this.value.month-1+e,1))}else o=new Date(this.value.year,this.value.month-1,n);return this.navigateTo(o)},navigateBackward:function(e,t){null!=e&&null!=e||(e=this.stepMonths);var i=this.value.year;if("decade"==this.view?i=this._renderStartDate.getFullYear()-12:"year"==this.view?i=this.value.year-1:"centuries"==this.view&&(i=this.value.year-100),"month"!=this.view){var r=this.getMinDate().getFullYear();if(i<r&&(i=r),"decade"==this.view&&this._renderStartDate&&this._renderStartDate.getFullYear()==i)return;this.value.year=i,this.value.month=1,this.value.day=1}var n=this.value.day;if(this.value.month-e>=1){var s=this.value._daysInMonth(this.value.year,this.value.month-e);n>s&&(n=s)}if("month"==this.view){var o=new Date(this.value.year,this.value.month-1-e,n);"arrow"==t&&7==this.selectableDays.length&&"range"!=this.selectionMode&&(this.selectedDate=new Date(this.value.year,this.value.month-1-e,1))}else o=new Date(this.value.year,this.value.month-1,n);return this.navigateTo(o)},_isRestrictedRange:function(e,t){if(e>t)return!0;for(var i=e;i.valueOf()<=t.valueOf();){if(this._isRestrictedDate(i))return!0;i.setDate(i.getDate()+1)}return!1},_hasUnrestrictedRanges:function(e,t){if(e>t)return!1;for(var i=e;i.valueOf()<=t.valueOf();){if(!this._isRestrictedDate(i))return!0;i.setDate(i.getDate()+1)}return!1},_getNextUnrestrictedDay:function(e,t){if(e>t)return null;for(var i=e;i.valueOf()<=t.valueOf();){if(!this._isRestrictedDate(i))return i;i.setDate(i.getDate()+1)}return null},_isRestrictedDate:function(e){var t=this;if(!i.isArray(t.restrictedDates))return!1;for(var r=0;r<t.restrictedDates.length;r++){var n=t.restrictedDates[r];if("object"==typeof n&&null!=n.from&&null!=n.to){var s=n.from,o=n.to;if(e.valueOf()>=s.valueOf()&&e.valueOf()<=o.valueOf())return!0}else if(n.getMonth()==e.getMonth()&&n.getDate()==e.getDate()&&n.getFullYear()==e.getFullYear())return!0}return!1},_isDisabled:function(e){var t=e.getDay();return-1==this.selectableDays.indexOf(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t])||!!this._isRestrictedDate(e)},refreshCalendarCells:function(e,t,r){if("year"!=this.view&&"decade"!=this.view&&"centuries"!=this.view){for(var n=this.table.find("#cellTable"+r.toString()),s=t,o=new Array,a=0,l=new i.jqx._jqxDateTimeInput.getDateTime(new Date),d=0;d<6;d++)for(var h=0;h<7;h++){var u=h;this.rtl&&(u=6-u);var c=u+1,p="#cell"+(d+1)+c+this.element.id,f=new Date(s.dateTime.getFullYear(),s.dateTime.getMonth(),s.dateTime.getDate()),m=new i.jqx._jqxCalendar.cell(f),g=i(n[0].rows[d].cells[c-1]);g[0].id=p.substring(1),m.element=g,m.row=d,m.column=h,m.isVisible=!0,m.isOtherMonth=!1,m.isToday=!1,m.isWeekend=!1,m.isHighlighted=!1,m.isSelected=!1,s.month!=this.value.month&&(m.isOtherMonth=!0,m.isVisible=this.showOtherMonthDays),this._isRestrictedDate(f)&&(m.isRestricted=!0,m.isDisabled=!0),m.isDisabled||(f<this.getMinDate()||f>this.getMaxDate()||this._isDisabled(f))&&(m.isDisabled=!0),s.month==l.month&&s.day==l.day&&s.year==l.year&&(m.isToday=!0),s.isWeekend()&&(m.isWeekend=!0),i.data(this.element,"cellContent"+p.substring(1),m),i.data(this.element,p.substring(1),m),o[a]=m,a++,i.jqx.utilities.html(g,s.day),this._applyCellStyle(m,g,g),s=new i.jqx._jqxDateTimeInput.getDateTime(new Date(s._addDays(1)))}var v=i.data(this.element,e[0].id);null!=v&&null!=v&&(v.cells=o),this.renderedCells=o,this._refreshOtherMonthRows(v,r)}else this.refreshViews(e,t,r)},_getDecadeAndCenturiesData:function(){var e=new Array,t=new Array,i=this.getMaxDate().getFullYear()-this.getMinDate().getFullYear();i<12&&(i=12);var r=this.getMinDate(),n=this.getMaxDate(),s=this.value.dateTime.getFullYear();if("decade"==this.view){s+12>n.getFullYear()&&(s=n.getFullYear()-11),s<r.getFullYear()&&(s=r.getFullYear());for(var o=0;o<i;o++){var a=new Date(r.getFullYear()+o,0,1);if(r.getFullYear()<=s&&s<=a.getFullYear()){for(var l=new Date(a.getFullYear(),a.getMonth(),1),d=0;d<12;d++){var h=new Date(l.getFullYear()+d,this.value.dateTime.getMonth(),this.value.dateTime.getDate()),u=h.getFullYear();r.getFullYear()<=u&&u<=n.getFullYear()?(e.push(u),t.push(h),0==d&&(this._renderStartDate=h),this._renderEndDate=h):(e.push(u),t.push(h))}break}}}else if("centuries"==this.view)for(o=0;o<i;o+=120)if(a=new Date(r.getFullYear()+o+120,0,1),r.getFullYear()<=s&&s<=a.getFullYear()){for((l=new Date(a.getFullYear()-130,a.getMonth(),1))<r&&(l=r),d=0;d<12;d++){var c=new Date(l.getFullYear()+10*d,l.getMonth(),1);l.getFullYear()>=r.getFullYear()&&c.getFullYear()<=n.getFullYear()&&(e.push("<span style='visibility: hidden;'>-</span>"+c.getFullYear()+"-"+(c.getFullYear()+9)),t.push(c),0==d&&(this._renderCenturyStartDate=c),this._renderCenturyEndDate=new Date(c.getFullYear()+9,0,1))}break}return{years:e,dates:t}},refreshViews:function(e,t,r){for(var n=new Array,s=e.find("#cellTable"+r.toString()),o=this._getDecadeAndCenturiesData(),a=o.years,l=o.dates,d=0,h=this.getMinDate(),u=this.getMaxDate(),c=0;c<3;c++)for(var p=0;p<4;p++){var f=p;this.rtl&&(f=3-f),(y=new Date(this.value.dateTime)).setDate(1),y.setMonth(4*c+f);var m=new i.jqx._jqxCalendar.cell(y),g=i(s[0].rows["row"+(1+c)+this.element.id].cells[p]);m.isSelected=!1,m.isVisible=!0,m.element=g,m.row=c,m.column=p,m.index=n.length;var v="";if("year"==this.view){var w=this.localization.calendar.months.names[4*c+f];switch(this.monthNameFormat){case"default":w=this.localization.calendar.months.namesAbbr[4*c+f];break;case"shortest":w=this.localization.calendar.months.namesShort[4*c+f];break;case"firstTwoLetters":w=w.substring(0,2);break;case"firstLetter":w=w.substring(0,1)}v=w}else"decade"!=this.view&&"centuries"!=this.view||(null==(v=a[4*c+f])&&(v="<span style='cursor: default; visibility: hidden;'>2013</span>"),m.setDate(l[4*c+f]));var y=m.getDate();"year"==this.view?y.getMonth()==this.getDate().getMonth()&&y.getFullYear()==this.getDate().getFullYear()&&(m.isSelected=!0):y.getFullYear()==this.getDate().getFullYear()&&(m.isSelected=!0),"year"==this.view?(this._getYearAndMonthPart(y)<this._getYearAndMonthPart(h)&&(m.isDisabled=!0),this._getYearAndMonthPart(y)>this._getYearAndMonthPart(u)&&(m.isDisabled=!0)):(y.getFullYear()<h.getFullYear()&&(m.isDisabled=!0),y.getFullYear()>u.getFullYear()&&(m.isDisabled=!0)),i.jqx.utilities.html(g,v),n[d]=m,d++}var b=i.data(this.element,e[0].id);null!=b&&null!=b&&(b.cells=n),this.renderedCells=n,this._applyCellStyles()},_createViewClone:function(){var e=this.host.find(".jqx-calendar-month"),t=e.clone();return t.css("position","absolute"),t.css("top",e.position().top),t.width(this.month.width()),t},_addCellsTable:function(e,t){var i=this,r=this.showFooter?20:0;t.height("month"!=this.view?this.month.height()-this.titleHeight:this.month.height()-this.titleHeight-this.columnHeaderHeight-r),this._viewAnimating=!0;var n=this.host.find(".jqx-calendar-month-container");n.css("position","relative"),this.host.find(".jqx-calendar-month");var s=this._createViewClone();n.append(s),"month"!=this.view?(this.header.fadeOut(0),this.showWeekNumbers&&this.rowHeader.fadeOut(0),this.showFooter&&this._footer.fadeOut(0)):(this.header.fadeIn(this.navigationDelay+200),this.showWeekNumbers&&this.rowHeader.fadeIn(this.navigationDelay+200),this.showFooter&&this._footer.fadeIn(this.navigationDelay+200)),e.children().remove(),e.append(t),this._animateViews(s,t,(function(){i.selectedDate||"range"==i.selectionMode||(i.selectedDate=i.renderedCells[0].getDate());try{i.renderedCells[0].element.focus(),setTimeout((function(){i.renderedCells[0].element.focus()}),10)}catch(e){}i._viewAnimating=!1})),t.addClass(this.toThemeProperty("jqx-calendar-view"))},_animateViews:function(e,t,i){var r=this;if(r._viewAnimating=!0,r.oldView==r.view)return e.remove(),t.fadeOut(0),t.fadeIn(0),void i();e.fadeOut(this.navigationDelay+100,(function(){e.remove()})),t.fadeOut(0),t.fadeIn(this.navigationDelay+200,(function(){i()}))},focus:function(){if(!this.disabled)try{this.renderedCells&&this.renderedCells.length>0&&(this.selectedDate||"range"==this.selectionMode||this.setDate(new Date,"mouse"),this.element.focus())}catch(e){}},renderViews:function(e,t,r){var n=this,s=new Array,o=i("<table role='grid' style='border-color: transparent; width: 100%; height: 100%;' cellspacing='2' cellpadding='0' id=cellTable"+r.toString()+"><tr role='row' id='row1"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row2"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row3"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>");this.host.find(".jqx-calendar-month-container").css("position","relative");var a=e.find("#cellsTable"+e[0].id);a[0].style.borderColor="transparent";var l=this._getDecadeAndCenturiesData(),d=l.years,h=l.dates,u=0,c=this.getMinDate(),p=this.getMaxDate(),f=new Date(this.value.dateTime);f.setDate(1);for(var m=0;m<3;m++)for(var g=0;g<4;g++){var v=g;this.rtl&&(v=3-v);var w=o[0].rows["row"+(1+m)+this.element.id];(C=new Date(f)).setMonth(4*m+v);var y=new i.jqx._jqxCalendar.cell(C),b=i(w.cells[g]);y.isVisible=!0,y.element=b,y.row=m,y.column=g,y.index=s.length,y.isSelected=!1;var x="";if("year"==this.view){C.getMonth()==this.getDate().getMonth()&&C.getFullYear()==this.getDate().getFullYear()&&(y.isSelected=!0);var _=this.localization.calendar.months.names[4*m+v];switch(this.monthNameFormat){case"default":_=this.localization.calendar.months.namesAbbr[4*m+v];break;case"shortest":_=this.localization.calendar.months.namesShort[4*m+v];break;case"firstTwoLetters":_=_.substring(0,2);break;case"firstLetter":_=_.substring(0,1)}x=_}else"decade"!=this.view&&"centuries"!=this.view||(x=d[4*m+v],y.setDate(h[4*m+v]),y.getDate().getFullYear()==this.getDate().getFullYear()&&(y.isSelected=!0),null==x&&(x="<span style='cursor: default; visibility: hidden;'>2013</span>"));var C=y.getDate();if("year"==this.view){var j=new Date(C);j.setDate(1),j.setHours(0,0,0,0),j.setMonth(C.getMonth()+1),j=new Date(j.valueOf()-1),(this._getYearAndMonthPart(C)<this._getYearAndMonthPart(c)||this._getYearAndMonthPart(C)>this._getYearAndMonthPart(p)||!this._hasUnrestrictedRanges(C,j))&&(y.isDisabled=!0)}else{var q=new Date(C);q.setMonth(0),q.setDate(1),q.setHours(0,0,0,0),q.setFullYear(C.getFullYear()+1),q=new Date(q.valueOf()-1),(C.getFullYear()<c.getFullYear()||C.getFullYear()>p.getFullYear()||!this._hasUnrestrictedRanges(C,q))&&(y.isDisabled=!0)}i.jqx.utilities.html(b,x),s[u]=y,u++}i.each(s,(function(){var e=this.element,t=this;n.disabled||(n.addHandler(e,"mousedown",(function(e){n._setDateAndSwitchViews(t,e,"mouse")})),n.addHandler(e,"mouseover",(function(e){var i=n.renderedCells[t.index];"centuries"!=n.view&&-1!=i.element.html().toLowerCase().indexOf("span")||(i.isHighlighted=!0,n._applyCellStyle(i,i.element,i.element))})),n.addHandler(e,"mouseout",(function(e){var i=n.renderedCells[t.index];"centuries"!=n.view&&-1!=i.element.html().toLowerCase().indexOf("span")||(i.isHighlighted=!1,n._applyCellStyle(i,i.element,i.element))})))}));var k=i.data(this.element,e[0].id);null!=k&&null!=k&&(k.cells=s),this.renderedCells=s,this._addCellsTable(a,o),this._applyCellStyles()},_setDateAndSwitchViews:function(e,t,r){if(!this._viewAnimating&&!this._animating){this.getDate();var n=this.renderedCells[e.index].getDate(),s=this.value.dateTime.getDate(),o=new Date(n);-1!=this.views.indexOf("month")?o.setDate(s):(o.setDate(1),n.setDate(1)),o.getMonth()==n.getMonth()&&(n=o);var a=this.getMinDate(),l=this.getMaxDate();if("year"==this.view){if(this._getYearAndMonthPart(n)<this._getYearAndMonthPart(a))return;if(this._getYearAndMonthPart(n)>this._getYearAndMonthPart(l))return}else{if(n.getFullYear()<a.getFullYear())return;if(n.getFullYear()>l.getFullYear())return}switch("range"!=this.selectionMode&&this._selectDate(n,r),this.oldView=this.view,this.view){case"year":this.view="month";break;case"decade":this.view="year"}-1==this.views.indexOf("month")&&(this.view="year"),-1==this.views.indexOf("year")&&(this.view="decade"),"year"==this.view?(this._getYearAndMonthPart(n)<this._getYearAndMonthPart(a)&&(n=a),this._getYearAndMonthPart(n)>this._getYearAndMonthPart(l)&&(n=l)):(n.getFullYear()<a.getFullYear()&&(n=a),n.getFullYear()>l.getFullYear()&&(n=l)),this.changing&&this.selectedDate&&(this.selectedDate.getFullYear()!=n.getFullYear()||this.selectedDate.getMonth()!=n.getMonth()||this.selectedDate.getDate()!=n.getDate())&&(n=this.selectedDate),this.value._setYear(n.getFullYear()),this.value._setDay(n.getDate()),this.value._setMonth(n.getMonth()+1),this.value._setDay(n.getDate());var d=this.getVisibleDate(),h=this.getFirstDayOfWeek(d),u="View"+this.element.id;if(this.renderCalendarCells(this.month,h,u,!0),this.refreshTitle(this.month),this.showWeekNumbers&&this.refreshRowHeader(this.month,u),3==this.views.length&&"month"==this.view)if("range"!=this.selectionMode)this._selectDate(this.selectedDate,"view");else{var c=this;i.each(this.renderedCells,(function(e){var t=this,r=t.getDate();if(0==i(t.element).length)return!1;var s=function(e){if(null==e)return new Date;var t=new Date;return t.setHours(0,0,0,0),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t};t.isOtherMonth||s(r).toString()!=s(n).toString()||(c.value._setMonth(n.getMonth()+1),c.value._setDay(n.getDate()),c.value._setYear(n.getFullYear())),t.isSelected=!1,t.isDisabled=!1,s(r)<s(c.selection.from)&&1==c._clicks&&(t.isDisabled=!0),c.getMaxDate()<r&&(t.isDisabled=!0),c.getMinDate()>r&&(t.isDisabled=!0),c._isDisabled(r)&&(t.isDisabled=!0),t.isDisabled||s(r)>=s(c.selection.from)&&s(r)<=s(c.selection.to)&&(t.isSelected=!0)})),this._applyCellStyles()}"month"!=this.view&&("year"==this.oldView||-1==this.views.indexOf("year")&&"decade"==this.view)&&("keyboard"!=r&&this._raiseEvent("3"),this._raiseEvent("5",{selectionType:"mouse"})),this._raiseEvent("8")}},renderCalendarCells:function(e,t,r,n){if("year"!=this.view&&"decade"!=this.view&&"centuries"!=this.view){var s=i("<table role='grid' style='width: 100%; height: 100%; border-color: transparent;' cellspacing='2' cellpadding='1' id=cellTable"+r.toString()+"><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>"),o=this.table;if(o[0].style.borderColor="transparent",null==n){var a=o.find("#cellTable"+r.toString());null!=a&&a.remove(),o.append(s)}var l=t,d=this.showDayNames?1:0,h=this.showWeekNumbers?1:0,u=new Array,c=0,p=(e.width()-this.rowHeaderWidth-2)/7;this.showWeekNumbers||(p=(e.width()-2)/7),p=parseInt(p);for(var f=new i.jqx._jqxDateTimeInput.getDateTime(new Date),m=0;m<6;m++){for(var g=0;g<7;g++){var v=g;this.rtl&&(v=6-v);var w=v+1,y="#cell"+(m+1)+w+this.element.id,b=new Date(l.dateTime.getFullYear(),l.dateTime.getMonth(),l.dateTime.getDate()),x=new i.jqx._jqxCalendar.cell(b),_=i(s[0].rows[m].cells[w-1]);_[0].id=y.substring(1),x.isVisible=!0,x.isDisabled=!1,l.month!=this.value.month&&(x.isOtherMonth=!0,x.isVisible=this.showOtherMonthDays),this._isRestrictedDate(b)&&(x.isRestricted=!0,x.isDisabled=!0),x.isDisabled||(b<this.getMinDate()||b>this.getMaxDate()||this._isDisabled(b))&&(x.isDisabled=!0),l.month==f.month&&l.day==f.day&&l.year==f.year&&(x.isToday=!0),l.isWeekend()&&(x.isWeekend=!0),x.element=_,x.row=d,x.column=h,i.jqx.utilities.html(_,l.day),l=new i.jqx._jqxDateTimeInput.getDateTime(new Date(l._addDays(1))),i.data(this.element,"cellContent"+y.substring(1),x),i.data(this.element,""+y.substring(1),x);var C=this;if(C.isMaterialized()&&(i(_).addClass("ripple"),i.jqx.ripple(i(_))),this.addHandler(_,"mousedown",(function(e){if(!C.readOnly&&!C.disabled){var t=i(e.target),r=i.data(C.element,t[0].id);if(C._raiseEvent(3,e),null!=r&&null!=r){var n=r.getDate();if(C.getMinDate()<=n&&n<=C.getMaxDate()&&!r.isDisabled)if(r.isOtherMonth&&C.enableAutoNavigation)r.row<2?C.navigateBackward():C.navigateForward(),C._selectDate(r.getDate(),"mouse",e.shiftKey);else{new Date(C.getDate()),C._selectDate(r.getDate(),"mouse",e.shiftKey),C.value._setYear(n.getFullYear()),C.value._setDay(1),C.value._setMonth(n.getMonth()+1),C.value._setDay(n.getDate());var s=C.host.find(".jqx-calendar-month");s.stop(),s.css("margin-left","0px"),C.getDate(),C._raiseEvent("2"),r.isOtherMonth&&C._raiseEvent("5",{selectionType:"mouse"})}}return!1}})),!C.disabled){var j=function(e,t){if(!C.readOnly){var r=i(e.target),n=i.data(C.element,r[0].id);if(null!=n&&null!=n){var s=n.getDate();C.getMinDate()<=s&&s<=C.getMaxDate()&&(n.isHighlighted=t,C._applyCellStyle(n,n.element,r))}}};this.addHandler(_,"mouseenter",(function(e){return j(e,!0),!1})),this.addHandler(_,"mouseleave",(function(e){return j(e,!1),!1}))}h++,u[c]=x,c++}h=0,d++}var q=i.data(this.element,e[0].id);null!=q&&null!=q&&(q.cells=u),this.renderedCells=u,null!=n&&this._addCellsTable(o,s),this._applyCellStyles(),this._refreshOtherMonthRows(q,r)}else this.renderViews(e,t,r)},setMaxDate:function(e,t){null!=e&&"string"==typeof e&&"Invalid Date"==(e=new Date(e))||(this.maxDate=i.jqx._jqxDateTimeInput.getDateTime(e),!1!==t&&this.render())},getMaxDate:function(){return null!=this.maxDate&&null!=this.maxDate?this.maxDate.dateTime:null},setMinDate:function(e,t){null!=e&&"string"==typeof e&&"Invalid Date"==(e=new Date(e))||(this.minDate=i.jqx._jqxDateTimeInput.getDateTime(e),!1!==t&&this.render())},getMinDate:function(){return null!=this.minDate&&null!=this.minDate?this.minDate.dateTime:null},navigateTo:function(e,t){if("month"==this.view){var r=this.getMinDate(),n=new Date(this.getMaxDate().getFullYear(),this.getMaxDate().getMonth()+1,this.getMaxDate().getDate());if(e<this._getYearAndMonthPart(r)||e>this._getYearAndMonthPart(n))return!1}else if(e&&(e.getFullYear()<this.getMinDate().getFullYear()||e.getFullYear()>this.getMaxDate().getFullYear()))return!1;if(null==e)return!1;if(null==t){var s=this;if(this._animating)return;this._animating=!0;var o=this.host.find(".jqx-calendar-month-container"),a=i("<div></div>");a[0].style.width="100%",a[0].style.height="100%",a[0].style.overflow="hidden",a[0].style.position="relative",a[0].style.left="0px",a[0].style.top="-100%",o.append(a),this._viewClone&&(this._viewClone.stop(),this._viewClone.remove()),this._newViewClone&&(this._newViewClone.stop(),this._newViewClone.remove()),(p=this.host.find(".jqx-calendar-month")).stop(),p.css("margin-left","0px");var l=p.clone();this._viewClone=l;var d=new Date(this.value.dateTime);this.value._setYear(e.getFullYear()),this.value._setDay(e.getDate()),this.value._setMonth(e.getMonth()+1);var h=parseInt(this.month.css("padding-top"));s.refreshControl(),a.css("overflow","hidden"),o.css("position","relative"),o.css("overflow","hidden"),l.css("position","absolute"),l.css("top",p.position().top-h),a.append(l),i.jqx.browser.msie&&i.jqx.browser.version<8&&(this.month.css("position","relative"),this.month.css("overflow","hidden"),this.table.css("position","relative"),this.table.css("overflow","hidden"));var u=-this.month.width();e<d&&("month"==this.view&&e.getMonth()!=d.getMonth()||e.getFullYear()!=d.getFullYear())&&(u=this.month.width()),l.animate({marginLeft:parseInt(u)+"px"},this.navigationDelay,(function(){l.remove()}));var c=p.clone();this._newViewClone=c,c.css("position","absolute"),c.css("top",p.position().top-h),a.append(c),c.css("margin-left",-u),p.css("visibility","hidden"),c.animate({marginLeft:"0px"},this.navigationDelay,(function(){c.remove(),p.css("visibility","inherit"),a.remove(),s._animating=!1}))}else{var p;this.value._setYear(e.getFullYear()),this.value._setDay(e.getDate()),this.value._setMonth(e.getMonth()+1),(p=this.host.find(".jqx-calendar-month")).stop(),p.css("margin-left","0px"),this.refreshControl()}return this._raiseEvent("2"),this._raiseEvent("8"),!0},setDate:function(e){return null!=e&&"string"==typeof e&&(e=new Date(e)),0==this.canRender&&(this.canRender=!0,this.render()),this.navigateTo(e,"api"),this._selectDate(e),"range"==this.selectionMode&&this._selectDate(e,"mouse"),!0},val:function(e){return 0!=arguments.length&&(null==e&&this.setDate(null),e instanceof Date&&this.setDate(e),"string"==typeof e&&this.setDate(e)),this.getDate()},getDate:function(){return null==this.selectedDate?new Date:this.selectedDate},getValue:function(){return null==this.value?new Date:this.value.dateTime},setRange:function(e,t){0==this.canRender&&(this.canRender=!0,this.render()),this.navigateTo(e,"api"),this._selectDate(e,"mouse"),this._selectDate(t,"mouse")},getRange:function(){return this.selection},_selectDate:function(e,t,r){if("none"!=this.selectionMode){null!=t&&null!=t||(t="none"),null!=r&&null!=r||(r=!1);var n=i.data(this.element,"View"+this.element.id);if(null!=n&&null!=n){if(this.changing&&e&&this.selectedDate){if(this.selectedDate.getFullYear()!=e.getFullYear()||this.selectedDate.getDate()!=e.getDate()||this.selectedDate.getMonth()!=e.getMonth())var s=this.changing(this.selectedDate,e);s&&(e=s)}var o=this;this.input&&this.input.val(null!=e?e.toString():"");var a=this.selectedDate;if(this.selectedDate=e,"month"!=this.view)return a!=e&&this._raiseEvent(7,{selectionType:t}),i.each(this.renderedCells,(function(r){var n=this,s=n.getDate(),a=i(n.element);if(a.find("#cellContent"+a[0].id),null==e)n.isSelected=!1,n.isDisabled=!1;else if(n.isSelected=!1,s&&(s.getMonth()==e.getMonth()&&"year"==o.view&&s.getFullYear()==e.getFullYear()||"decade"==o.view&&s.getFullYear()==e.getFullYear())){n.isSelected=!0;try{"none"!=t&&n.element.focus()}catch(l){}}o._applyCellStyle(n,a,a)})),void(this.change&&this.change(e));if("month"==this.view&&"range"==this.selectionMode&&"key"==t){var l=this.getVisibleDate(),d=this.getFirstDayOfWeek(l);this.refreshCalendarCells(this.month,d,"View"+this.element.id)}var h=!1;i.each(this.renderedCells,(function(n){var s=this,a=s.getDate(),l=i(s.element),d=l;if(0==l.length)return!1;if(null==e)s.isSelected=!1,s.isDisabled=!1,0==n&&(o.selection={from:null,to:null},o._raiseEvent("2"),o._raiseEvent("5",{selectionType:t}));else if("range"!=o.selectionMode||"key"==t){if(a.getDate()==e.getDate()&&a.getMonth()==e.getMonth()&&a.getFullYear()==e.getFullYear()&&s.isSelected)return o._applyCellStyle(s,l,d),void o._raiseEvent("5",{selectionType:t});if(s.isSelected&&o._raiseEvent("6",{selectionType:t}),s.isSelected=!1,a.getDate()==e.getDate()&&a.getMonth()==e.getMonth()&&a.getFullYear()==e.getFullYear()){s.isSelected=!0,0==n&&(o.selection={date:e});try{"none"!=t&&(s.element.focus(),o.host.focus())}catch(v){}s.isOtherMonth||(o.value._setMonth(e.getMonth()+1),o.value._setDay(e.getDate()),o.value._setYear(e.getFullYear()),o._raiseEvent("2"),o._raiseEvent("5",{selectionType:t}))}"range"==o.selectionMode&&(o._clicks=0,o.selection={from:e,to:e})}else if("range"==o.selectionMode){if("view"==t)return s.isSelected=!1,s.isDisabled=!1,o.getMaxDate()<a&&(s.isDisabled=!0),o.getMinDate()>a&&(s.isDisabled=!0),o._isRestrictedDate(a)&&(s.isDisabled=!0,s.isRestricted=!0),!s.isDisabled&&o._isDisabled(a)&&(s.isDisabled=!0),o._applyCellStyle(s,l,d),!0;if(0==n)if("none"!=t)if(null==o._clicks&&(o._clicks=0),o._clicks++,r&&o._clicks++,1==o._clicks)o.selection={from:e,to:e};else{var u=o.selection.from,c=u<=e?u:e,p=u<=e?e:u;if(c)var f=new Date(c.getFullYear(),c.getMonth(),c.getDate());if(p)var m=new Date(p.getFullYear(),p.getMonth(),p.getDate(),23,59,59);o.selection={from:f,to:m},o._clicks=0}else null!=o.selection&&null!=o.selection.from||(o.selection={from:e,to:e},null==o._clicks&&(o._clicks=0),o._clicks++,2==o._clicks&&(o._clicks=0));var g=function(e){if(null==e)return new Date;var t=new Date;return t.setHours(0,0,0,0),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t};s.isOtherMonth||g(a).toString()!=g(e).toString()||(o.value._setMonth(e.getMonth()+1),o.value._setDay(e.getDate()),o.value._setYear(e.getFullYear()),o._raiseEvent("2"),o._raiseEvent("5",{selectionType:t})),s.isSelected=!1,s.isDisabled=h,g(a)<g(o.selection.from)&&1==o._clicks&&(s.isDisabled=!0),o.getMaxDate()<a&&(s.isDisabled=!0),o.getMinDate()>a&&(s.isDisabled=!0),o._isRestrictedDate(a)&&(s.isRestricted=!0,s.isDisabled=!0),!s.isDisabled&&o._isDisabled(a)&&(s.isDisabled=!0),s.isDisabled?!o.allowRestrictedDaysInRange&&g(a)>=g(o.selection.from)&&o.selection.to==o.selection.from&&(h=!0):g(a)>=g(o.selection.from)&&g(a)<=g(o.selection.to)&&(s.isSelected=!0)}o._applyCellStyle(s,l,d)})),"range"!=o.selectionMode||0!=o._clicks?"range"!=o.selectionMode&&a!=e&&(o._raiseEvent(7,{selectionType:t}),this.change&&this.change(e)):o._raiseEvent(7,{selectionType:t})}}},_getSelectedDate:function(){var e=i.data(this.element,"View"+this.element.id);if(null!=e&&null!=e){if("month"!=this.view)return this.selectedDate;for(var t=0;t<e.cells.length;t++){var r=e.cells[t],n=r.getDate();if(r.isSelected)return n}return this.selectedDate?this.selectedDate:void 0}},_getSelectedCell:function(){var e=i.data(this.element,"View"+this.element.id);if(null!=e&&null!=e)for(var t=0;t<e.cells.length;t++){var r=e.cells[t];if(r.getDate(),r.isSelected)return r}},_applyCellStyle:function(e,t,r){var n=this;(null==r||null!=r&&0==r.length)&&(r=t);var s="";if(s=this.toThemeProperty("jqx-rc-all"),s+=" "+this.toThemeProperty("jqx-item"),(this.disabled||e.isDisabled&&!e.isRestricted)&&(s+=" "+this.toThemeProperty("jqx-calendar-cell-disabled"),s+=" "+this.toThemeProperty("jqx-fill-state-disabled")),!this.disabled&&e.isRestricted&&(s+=" "+this.toThemeProperty("jqx-calendar-cell-restrictedDate")),e.isOtherMonth&&this.enableOtherMonthDays&&e.isVisible&&(s+=" "+this.toThemeProperty("jqx-calendar-cell-othermonth")),e.isWeekend&&this.enableWeekend&&e.isVisible&&e.isVisible&&(s+=" "+this.toThemeProperty("jqx-calendar-cell-weekend")),this.isMaterialized()&&(s+=" ripple"),e.isVisible?(s+=" "+this.toThemeProperty("jqx-calendar-cell"),"month"!=this.view&&r.length>0&&-1!=r.html().toLowerCase().indexOf("span")&&r.css("cursor","default")):s+=" "+this.toThemeProperty("jqx-calendar-cell-hidden"),r.removeAttr("aria-selected"),e.isSelected&&e.isVisible){s+=" "+this.toThemeProperty("jqx-calendar-cell-selected"),s+=" "+this.toThemeProperty("jqx-fill-state-pressed"),r.attr("aria-selected",!0),this.host.removeAttr("aria-activedescendant").attr("aria-activedescendant",r[0].id);var o=e.getDate();this._isDisabled(o)&&(s+=" "+this.toThemeProperty("jqx-calendar-cell-selected-invalid"))}if(e.isHighlighted&&e.isVisible&&this.enableHover&&(e.isDisabled||(s+=" "+this.toThemeProperty("jqx-calendar-cell-hover"),s+=" "+this.toThemeProperty("jqx-fill-state-hover"))),s+=" "+this.toThemeProperty("jqx-calendar-cell-"+this.view),e.isToday&&e.isVisible&&(s+=" "+this.toThemeProperty("jqx-calendar-cell-today")),r[0].className=s,this.specialDates.length>0){var a=this;i.each(this.specialDates,(function(){r.removeClass(null!=this.Class&&null!=this.Class&&""!=this.Class?this.Class:n.toThemeProperty("jqx-calendar-cell-specialDate"));var t=e.getDate();if(t.getFullYear()==this.Date.getFullYear()&&t.getMonth()==this.Date.getMonth()&&t.getDate()==this.Date.getDate()){if(null==e.tooltip&&null!=this.Tooltip&&(e.tooltip=this.Tooltip,i(r).jqxTooltip)){var s=this.Class;i(r).jqxTooltip({value:{cell:e,specialDate:this.Date},name:a.element.id,content:this.Tooltip,position:"mouse",theme:a.theme,opening:function(e){return!!r.hasClass(n.toThemeProperty("jqx-calendar-cell-specialDate"))||!!r.hasClass(s)}})}return r.removeClass(n.toThemeProperty("jqx-calendar-cell-othermonth")),r.removeClass(n.toThemeProperty("jqx-calendar-cell-weekend")),null==this.Class||""==this.Class?(r.addClass(n.toThemeProperty("jqx-calendar-cell-specialDate")),!1):(r.addClass(this.Class),!1)}}))}},_applyCellStyles:function(){var e=i.data(this.element,"View"+this.element.id);if(null!=e&&null!=e)for(var t=0;t<e.cells.length;t++){var r=e.cells[t],n=i(r.element),s=n.find("#cellContent"+n[0].id);0==s.length&&(s=n),this._applyCellStyle(r,n,s)}},getWeekOfYear:function(e){var t=new Date(e.dateTime),i=this.firstDayOfWeek,r=new Date(t.getFullYear(),0,1),n=r.getDay()-i;n=n>=0?n:n+7;var s,o=Math.floor((t.getTime()-r.getTime()-6e4*(t.getTimezoneOffset()-r.getTimezoneOffset()))/864e5)+1;if(n<4){if((s=Math.floor((o+n-1)/7)+1)>52){var a=new Date(t.getFullYear()+1,0,1).getDay()-i;s=(a=a>=0?a:a+7)<4?1:53}}else s=Math.floor((o+n-1)/7);return s},renderColumnHeader:function(e){if(this.showDayNames){var t=i("<table role='grid' style='border-spacing: 0px; border-collapse: collapse; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>");t.find("table").addClass(this.toThemeProperty("jqx-reset")),t.find("tr").addClass(this.toThemeProperty("jqx-reset")),t.find("td").css({background:"transparent",padding:1,margin:0,border:"none"}),t.addClass(this.toThemeProperty("jqx-reset")),t.addClass(this.toThemeProperty("jqx-widget-content")),t.addClass(this.toThemeProperty("jqx-calendar-column-header")),this.columnHeader.append(t);var r=this.getVisibleDate(),n=this.getFirstDayOfWeek(r),s=(this.getWeekOfYear(n),this.firstDayOfWeek),o=this.localization.calendar.days.names,a=new Array,l=n,d=(e.width()-this.rowHeaderWidth-2)/7;this.showWeekNumbers||(d=(e.width()-2)/7);for(var h=0;h<7;h++){var u=o[s];switch(this.rtl&&(u=o[6-s]),this.dayNameFormat){case"default":u=this.localization.calendar.days.namesAbbr[s],this.rtl&&(u=this.localization.calendar.days.namesAbbr[6-s]);break;case"shortest":u=this.localization.calendar.days.namesShort[s],this.rtl&&(u=this.localization.calendar.days.namesShort[6-s]);break;case"firstTwoLetters":u=u.substring(0,2);break;case"firstLetter":u=u.substring(0,1)}var c=new i.jqx._jqxCalendar.cell(l.dateTime),p=h+1+this.element.id,f=i(t[0].rows[0].cells[h]),m=h;this.enableTooltips&&i(f).jqxTooltip&&i(f).jqxTooltip({name:this.element.id,content:o[s],theme:this.theme,position:"mouse"}),s>=6?s=0:s++,h=m,c.element=f,c.row=0,c.column=h+1;var g=this._textwidth(u);if(f.append("<div style='padding: 0; margin: 0; border: none; background: transparent;' id='columnCell"+p+"'>"+u+"</div>"),f.find("#columnCell"+p).addClass(this.toThemeProperty("jqx-calendar-column-cell")),f.width(d),this.disabled&&f.find("#columnCell"+p).addClass(this.toThemeProperty("jqx-calendar-column-cell-disabled")),g>0&&d>0)for(;g>f.width()&&0!=u.length;)u=u.substring(0,u.length-1),i.jqx.utilities.html(f.find("#columnCell"+p),u),g=this._textwidth(u);a[h]=c,l=new i.jqx._jqxDateTimeInput.getDateTime(new Date(l._addDays(1)))}parseInt(this.columnHeader.width())>parseInt(this.month.width())&&this.columnHeader.width(this.month.width()),i.data(this.element,e[0].id).columnCells=a}},_format:function(e,t,r){var n=!1;try{null!=window.Globalize?n=!0:document.Globalize&&(window.Globalize=document.Globalize,n=!0)}catch(s){document.Globalize&&(window.Globalize=document.Globalize,n=!0)}if(document.Globalize&&(window.Globalize=document.Globalize,n=!0),i.global)return i.global.culture.calendar=this.localization.calendar,i.global.format(e,t,this.culture);if(n)try{return window.Globalize.cultures[this.culture]?(window.Globalize.cultures[this.culture].calendar=this.localization.calendar,window.Globalize.format(e,t,this.culture)):window.Globalize.format(e,t,this.culture)}catch(s){return window.Globalize.format(e,t)}else if(i.jqx.dataFormat)return i.jqx.dataFormat.formatdate(e,t,this.localization.calendar)},_textwidth:function(e){var t=i("<span>"+e+"</span>");t.addClass(this.toThemeProperty("jqx-calendar-column-cell")),i(this.host).append(t);var r=t.width();return t.remove(),r},_textheight:function(e){var t=i("<span>"+e+"</span>");i(this.host).append(t);var r=t.height();return t.remove(),r},_renderRowHeader:function(e){var t=this.getVisibleDate(),r=this.getFirstDayOfWeek(t),n=this.getWeekOfYear(r),s=new i.jqx._jqxDateTimeInput.getDateTime(new Date(r.dateTime));s._addDays(5),s.dayOfWeek=s.dateTime.getDay(),this.getWeekOfYear(s),53==n&&0==s.dateTime.getMonth()&&(n=1);var o=i("<table style='overflow: hidden; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr><td></td></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr></table>");o.find("table").addClass(this.toThemeProperty("jqx-reset")),o.find("td").addClass(this.toThemeProperty("jqx-reset")),o.find("tr").addClass(this.toThemeProperty("jqx-reset")),o.addClass(this.toThemeProperty("jqx-calendar-row-header")),o.width(this.rowHeaderWidth),this.rowHeader.append(o);for(var a=r,l=new Array,d=0;d<6;d++){var h=n.toString(),u=new i.jqx._jqxCalendar.cell(a.dateTime),c=d+1+this.element.id,p=i(o[0].rows[d].cells[0]);u.element=p,u.row=d,u.column=0,p.append("<div style='background: transparent; border: none; padding: 0; margin: 0;' id ='headerCellContent"+c+"'>"+h+"</div>"),p.find("#headerCellContent"+c).addClass(this.toThemeProperty("jqx-calendar-row-cell")),l[d]=u,a=new i.jqx._jqxDateTimeInput.getDateTime(new Date(a._addWeeks(1))),n=this.getWeekOfYear(a)}i.data(this.element,e[0].id).rowCells=l},getFirstDayOfWeek:function(e){var t=e;(this.firstDayOfWeek<0||this.firstDayOfWeek>6)&&(this.firstDayOfWeek=6);var r=t.dayOfWeek-this.firstDayOfWeek;return r<=0&&(r+=7),i.jqx._jqxDateTimeInput.getDateTime(t._addDays(-r))},getVisibleDate:function(){var e=new i.jqx._jqxDateTimeInput.getDateTime(new Date(this.value.dateTime));return e<this.minDate&&(e=this.minDate),e>this.maxDate&&(this.visibleDate=this.maxDate),e.dateTime.setHours(0),i.jqx._jqxDateTimeInput.getDateTime(e._addDays(1-e.day))},destroy:function(e){i.jqx.utilities.resize(this.host,null,!0),this.host.removeClass(),0!=e&&this.host.remove()},_raiseEvent:function(e,t){null==t&&(t={owner:null});var r=this.events[e],n=t||{};n.owner=this;var s=new i.Event(r);if(s.owner=this,s.args=n,0==e||1==e||2==e||3==e||4==e||5==e||6==e||7==e||8==e){s.args.date=s.args.selectedDate=this.getDate(),s.args.range=this.getRange();var o=this.getViewStart(),a=this.getViewEnd();s.args.view={from:o,to:a}}if(7==e){var l=n.selectionType;l||(l=null),"key"==l&&(l="keyboard"),"none"==l&&(l=null),n.type=l}var d=this.host.trigger(s);return 0!=e&&1!=e||(d=!1),d},propertyMap:function(e){return"value"==e?"range"!=this.selectionMode?this.getDate():this.getRange():null},_setSize:function(){var e=this.host.find("#View"+this.element.id);if(e.length>0){this.setCalendarSize(),e[0].style.height="100%",e[0].style.width="100%";var t=this.month.height()-this.titleHeight-this.columnHeaderHeight,i="View"+this.element.id;e.find("#cellsTable"+i).height(t),e.find("#calendarRowHeader"+i).height(t),this.refreshControl()}},resize:function(){this._setSize()},clear:function(){"range"==this.selectionMode?(this._clicks=1,this.setRange(null,null),this._raiseEvent(7)):this.setDate(null,"mouse"),this._clicks=0,this.selection={from:null,to:null}},today:function(){"range"==this.selectionMode?this.setRange(new Date,new Date):this.setDate(new Date,"mouse")},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(e,t,r,n){if(null!=this.isInitialized&&0!=this.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)&&"enableHover"!=t&&"keyboardNavigation"!=t){if("localization"==t&&this.localization&&(this.localization.backString&&(this.backText=this.localization.backString),this.localization.forwardString&&(this.forwardText=this.localization.forwardString),this.localization.todayString&&(this.todayString=this.localization.todayString),this.localization.clearString&&(this.clearString=this.localization.clearString),this.firstDayOfWeek=this.localization.calendar.firstDay),"culture"==t)try{if(i.global)i.global.preferCulture(e.culture),e.localization.calendar=i.global.culture.calendar;else if(window.Globalize){var s=window.Globalize.culture(e.culture);e.localization.calendar=s.calendar}e.localization.calendar&&null!=e.localization.calendar.firstDay&&"default"!=e.culture&&(e.firstDayOfWeek=e.localization.calendar.firstDay)}catch(o){}if("views"==t)return-1==e.views.indexOf("month")&&(e.view="year"),-1==e.views.indexOf("year")&&-1==e.views.indexOf("month")&&(e.view="decade"),void e.render();"showFooter"==t&&e.render(),"width"!=t&&"height"!=t?("theme"==t?i.jqx.utilities.setTheme(r,n,e.host):"rowHeaderWidth"==t||"showWeekNumbers"==t?e.render():(e.view="month",e.render(),e.refreshControl()),"firstDayOfWeek"===t&&e.refreshControl()):e._setSize()}}}),function(e){e.jqx._jqxCalendar.cell=function(t){return{dateTime:new e.jqx._jqxDateTimeInput.getDateTime(t),_date:t,getDate:function(){return this._date},setDate:function(t){this.dateTime=new e.jqx._jqxDateTimeInput.getDateTime(t),this._date=t},isToday:!1,isWeekend:!1,isOtherMonth:!1,isVisible:!0,isSelected:!1,isHighlighted:!1,element:null,row:-1,column:-1,tooltip:null}},e.jqx._jqxCalendar.monthView=function(e,t,i,r,n,s){return{start:e,end:t,cells:i,rowCells:r,columnCells:n,element:s}}}(jqxBaseFramework)},"8/F6":function(e,t){!function(e){var t;e.jqx.observableArray=function(t,i){if("string"==typeof t&&(t=e.parseJSON(t)),!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var r=Object.defineProperty;Object.defineProperty=function(e,t,i){if(r)try{return r(e,t,i)}catch(n){}if(e!==Object(e))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in i&&Object.prototype.__defineGetter__.call(e,t,i.get),Object.prototype.__defineSetter__&&"set"in i&&Object.prototype.__defineSetter__.call(e,t,i.set),"value"in i?e[t]=i.value:e[t]||(e[t]=i),e}}Array.prototype.forEach||(Array.prototype.forEach=function(e){if(null==this)throw TypeError();var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw TypeError();var r,n=arguments[1];for(r=0;r<i;r++)r in t&&e.call(n,t[r],r,t)}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(e){if(e!==Object(e))throw TypeError("Object.getOwnPropertyNames called on non-object");var t,i=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t);return i});var n,s=this,o=[];return s.notifier=null,s.name="observableArray",s.observing=!0,s.changes=new Array,i=i,s.observe=function(){s.observing=!0,1==arguments.length&&(i=arguments[0])},s.unobserve=function(){s.observing=!1},s.toArray=function(){return o.slice(0)},s.toJSON=function(e,t){var i=o;t&&(i=t);var r=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function s(e){return'"'+e.replace(r,(function(e){var t=n[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"'}function a(e){return e<10?"0"+e:e}return!e&&window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(i):function t(i,r){var n=r[i],o=typeof n;return n&&"object"==typeof n&&"function"==typeof n.toJSON&&(o=typeof(n=n.toJSON(i))),/(number|float|int|integer|string|boolean)/.test(o)||!n&&"object"===o?function(e,t){switch(t){case"string":return s(e);case"number":case"float":case"integer":case"int":return isFinite(e)?e:"null";case"boolean":return e}return"null"}(n,o):function(i){switch(Object.prototype.toString.call(i)){case"[object Date]":return r=i,isFinite(r.valueOf())?r.getUTCFullYear()+"-"+a(r.getUTCMonth()+1)+"-"+a(r.getUTCDate())+"T"+a(r.getUTCHours())+":"+a(r.getUTCMinutes())+":"+a(r.getUTCSeconds())+'Z"':"null";case"[object Array]":return function(e){var i,r=e.length,n=[];for(i=0;i<r;i++)n.push(t(i,e)||"null");return"["+n.join(",")+"]"}(i)}var r;return function(i){var r,n,o=[];for(r in i)if(Object.prototype.hasOwnProperty.call(i,r)){if(""!=r&&e&&-1===e.indexOf(r))continue;(n=t(r,i))&&o.push(s(r)+":"+n)}return"{"+o.join(",")+"}"}(i)}(n)}("",{"":i})},s.defineIndexProperty=function(t){if(!(t in s)){var i=function(t,i,r,a){var l=t[i],d=l,h=function(){return d},u=function(t){if(d!==(l=t)){var r=d;if(d=l,"function"==typeof n){var h=o.indexOf(a),u="";(function t(r,n){Object.getOwnPropertyNames(r).forEach((function(s){var o=e.type(r[s]);"array"==o||"object"==o?t(r[s],n+"."+s):i===s&&(u=n+"."+s)}))})(a,h),n({object:s,type:"update",path:u,index:h,name:i,newValue:l,oldValue:r})}}return d=l,l};null!=t[i]&&"length"!=i&&(Object.defineProperty?Object.defineProperty(t,i,{get:h,set:u}):Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__&&(Object.prototype.__defineGetter__.call(t,i,h),Object.prototype.__defineSetter__.call(t,i,u)))},r=function t(r,n,s){var o=e.type(r);/(number|float|int|integer|string|boolean)/.test(o)||void 0!==r&&Object.getOwnPropertyNames(r).forEach((function(o){var a=e.type(r[o]);"array"==a||"object"==a?(i(r,o,0,s),t(r[o],n+"."+o,s)):i(r,o,0,s)}))};Object.defineProperty(s,t,{configurable:!0,enumerable:!0,get:function(){return o[t]},set:function(e){var i=o[t];s.toJSON(null,i)!=s.toJSON(null,e)&&(o[t]=e,"function"==typeof n&&n({object:s,type:"update",path:t.toString(),index:t,name:"index",newValue:e,oldValue:i}),r(e,t,e))}}),r(s[t],t,s[t])}},s.push=function(){for(var e,t=0,i=arguments.length;t<i;t++)e=o.length,o.push(arguments[t]),s.defineIndexProperty(e),"function"==typeof n&&n({object:s,type:"add",name:"length",index:e,newValue:o.length,oldValue:e});return o.length},s.pop=function(){if(~o.length){var e=o.length-1,t=o.pop();return delete s[e],"function"==typeof n&&n({object:s,type:"delete",name:"length",index:e,newValue:o.length,oldValue:e}),t}},s.unshift=function(){for(var e=o.length,t=0,i=arguments.length;t<i;t++)o.splice(t,0,arguments[t]),s.defineIndexProperty(o.length-1);return"function"==typeof n&&n({object:s,type:"add",index:0,name:"length",newValue:o.length,oldValue:e}),o.length},s.shift=function(){var e=o.length;if(~o.length){var t=o.shift();return 0===o.length&&delete s[e],"function"==typeof n&&n({object:s,type:"delete",index:e,name:"length",newValue:o.length,oldValue:e}),t}},s.slice=function(t,i,r){var n=o.slice(t,i);return new e.jqx.observableArray(n,r)},s.splice=function(t,i,r){var a,l=[];for(t=~t?t:o.length-t,i=(null==i?o.length-t:i)||0;i--;)a=o.splice(t,1)[0],l.push(a),delete s[o.length],"function"==typeof n&&n({object:s,type:"delete",index:t,name:"length",newValue:-1,oldValue:t});for(var d=2,h=arguments.length;d<h;d++)o.splice(t,0,arguments[d]),this.defineIndexProperty(o.length-1),"function"==typeof n&&n({object:s,type:"add",index:t,name:"length",newValue:o.length-1,oldValue:t}),t++;var u=new e.jqx.observableArray(l,r);return u},Object.defineProperty(s,"length",{configurable:!1,enumerable:!0,get:function(){return o.length},set:function(e){var t=Number(e);if(!(t%1==0&&t>=0))throw new RangeError("Invalid array length");return t<o.length?s.splice(t):t>o.length&&s.push.apply(s,new Array(t-o.length)),e}}),e.jqx.observableArray.prototype.fromArray=function(t,i){return new e.jqx.observableArray(t,i)},e.jqx.observableArray.prototype.clone=function(){var t=new e.jqx.observableArray(o,i);return t.observing=s.observing,t.changes=s.changes,t.notifier=s.notifier,t},s.remove=function(e){if(e<0||e>=s.length)throw new Error("Invalid index : "+e);if(s.hasOwnProperty(e)){var t=s[e];return s[e]=void 0,o[e]=void 0,"function"==typeof n&&n({object:s,type:"delete",index:e,name:"index",newValue:void 0,oldValue:t}),!0}return!1},s.concat=function(t,i){var r=o.concat(t);return new e.jqx.observableArray(r,i)},Object.getOwnPropertyNames(Array.prototype).forEach((function(e){e in s||Object.defineProperty(s,e,{configurable:!1,enumerable:!0,writeable:!1,value:function(){var t=s.observing;s.observing=!1;var i=o[e],r=i.apply(o,arguments);return s.observing=t,r}})})),s.set=function(t,i){if("string"==e.type(t)&&t.split(".").length>1){for(var r=t.split("."),n=s,o=0;o<r.length;o++){if(0===o&&r[o]>=s.length)throw new Error("Invalid Index: "+t);o<r.length-1?n=n[r[o]]:n[r[o]]=i}return!0}return t>=s.length?s.push(i):s[t]=i,!0},s.get=function(e){return s[e]},t instanceof Array&&s.push.apply(s,t),n=function(){s.observing&&(arguments&&arguments[0]&&s.changes.push(arguments[0]),i&&i.apply(s,arguments),s.notifier&&s.notifier.apply(s,arguments))},s},e.jqx.formatDate=function(t,i,r){return e.jqx.dataFormat.formatdate(t,i,r)},e.jqx.formatNumber=function(t,i,r){return e.jqx.dataFormat.formatnumber(t,i,r)},e.jqx.dataAdapter=function(t,i){if(null!=t&&(void 0!==t.dataFields&&(t.datafields=t.dataFields),void 0!==t.dataType&&(t.datatype=t.dataType),void 0!==t.localData&&(t.localdata=t.localData),void 0!==t.sortColumn&&(t.sortcolumn=t.sortColumn),void 0!==t.sortDirection&&(t.sortdirection=t.sortDirection),void 0!==t.sortColumns&&(t.sortcolumns=t.sortColumns),void 0!==t.sortDirections&&(t.sortdirections=t.sortDirections),void 0!==t.sortOrder&&(t.sortdirection=t.sortOrder),void 0!==t.formatData&&(t.formatdata=t.formatData),void 0!==t.processData&&(t.processdata=t.processData),void 0!==t.pageSize&&(t.pagesize=t.pageSize),void 0!==t.pageNum&&(t.pagenum=t.pageNum),void 0!==t.updateRow&&(t.updaterow=t.updateRow),void 0!==t.addRow&&(t.addrow=t.addRow),void 0!==t.deleteRow&&(t.deleterow=t.deleteRow),void 0!==t.contentType&&(t.contenttype=t.contentType),null!=t.totalRecords&&(t.totalrecords=t.totalRecords),null!=t.loadError&&(t.loadError=t.loadError),null!=t.sortComparer&&(t.sortcomparer=t.sortComparer)),this._source=t,this._options=i||{},null!=t.beforeLoadComplete&&(this._options.beforeLoadComplete=this._source.beforeLoadComplete),null!=t.downloadComplete&&(this._options.downloadComplete=this._source.downloadComplete),null!=t.loadComplete&&(this._options.loadComplete=this._source.loadComplete),null!=t.autoBind&&(this._options.downloadComplete=this._source.autoBind),null!=t.formatData&&(this._options.formatData=this._source.formatData),null!=t.loadError&&(this._options.loadError=this._source.loadError),null!=t.beforeSend&&(this._options.beforeSend=this._source.beforeSend),null!=t.contentType&&(this._options.contentType=this._source.contentType),null!=t.async&&(this._options.async=this._source.async),null!=t.loadServerData&&(this._options.loadServerData=this._source.loadServerData),null!=t.uniqueDataFields&&(this._options.uniqueDataFields=this._source.uniqueDataFields),this.records=new Array,this._downloadComplete=new Array,this._bindingUpdate=new Array,null!=t&&null!=t.localdata&&"function"==typeof t.localdata){var r=t.localdata();if(null!=r){t._localdata=t.localdata;var n=this;t._localdata.subscribe&&(n._oldlocaldata=[],t._localdata.subscribe((function(t){0!=n.suspendKO&&null!=n.suspendKO&&0!=n._oldlocaldata.length||(n._oldlocaldata=function t(i){return e.isArray(i)?e.makeArray(t(e(i))):e.extend(!0,{},i)}(t))}),t._localdata,"beforeChange"),t._localdata.subscribe((function(e){if(0==n.suspendKO||null==n.suspendKO){var i="";n._oldrecords=n.records,0==n._oldlocaldata.length&&(t.localdata=t._localdata()),0==n._oldlocaldata.length?i="change":e&&(n._oldlocaldata.length==e.length&&(i="update"),n._oldlocaldata.length>e.length&&(i="remove"),n._oldlocaldata.length<e.length&&(i="add")),n.dataBind(null,i)}}),t._localdata,"change"),n._knockoutdatasource=!0),t.localdata=r}}1==this._options.autoBind&&this.dataBind()},e.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(e){this.isUpdating=!1,0!=e&&(this._changedrecords&&this._changedrecords.length>0?(this.callBindingUpdate("update"),this._changedrecords=[]):this.dataBind(null,""))},formatDate:function(t,i,r){return e.jqx.dataFormat.formatdate(t,i,r)},formatNumber:function(t,i,r){return e.jqx.dataFormat.formatnumber(t,i,r)},dataBind:function(t,i){if(1!=this.isUpdating){var r=this._source;if(r){r.generatedfields&&(r.datafields=null,r.generatedfields=null),e.jqx.dataFormat.datescache=new Array,null!=r.dataFields&&(r.datafields=r.dataFields),null==r.recordstartindex&&(r.recordstartindex=0),null==r.recordendindex&&(r.recordendindex=0),null==r.loadallrecords&&(r.loadallrecords=!0),null==r.root&&(r.root=""),null==r.record&&(r.record=""),null!=r.sort&&(this.sort=r.sort),this.filter=null!=r.filter?r.filter:null,null!=r.sortcolumn&&(this.sortcolumn=r.sortcolumn),null!=r.sortdirection&&(this.sortdirection=r.sortdirection),null!=r.sortcolumns&&(this.sortcolumns=r.sortcolumns),null!=r.sortdirections&&(this.sortdirections=r.sortdirections),null!=r.sortcomparer&&(this.sortcomparer=r.sortcomparer),this.records=new Array;var n=this._options||{};if(this.virtualmode=null!=n.virtualmode&&n.virtualmode,this.totalrecords=null!=n.totalrecords?n.totalrecords:0,this.pageable=null!=n.pageable&&n.pageable,this.pagesize=null!=n.pagesize?n.pagesize:0,this.pagenum=null!=n.pagenum?n.pagenum:0,this.cachedrecords=null!=n.cachedrecords?n.cachedrecords:new Array,this.originaldata=new Array,this.recordids=new Array,this.updaterow=null!=n.updaterow?n.updaterow:null,this.addrow=null!=n.addrow?n.addrow:null,this.deleterow=null!=n.deleterow?n.deleterow:null,this.cache=null!=n.cache&&n.cache,this.unboundmode=!1,null!=r.formatdata&&(n.formatData=r.formatdata),null!=r.data&&(null==n.data&&(n.data={}),e.extend(n.data,r.data)),null!=r.mapChar&&(r.mapchar=r.mapChar),this.mapChar=null!=r.mapchar?r.mapchar?r.mapchar:">":n.mapChar?n.mapChar:">",(n.unboundmode||r.unboundmode)&&(this.unboundmode=n.unboundmode||r.unboundmode),null!=r.cache&&(this.cache=r.cache),this.koSubscriptions)for(var s=0;s<this.koSubscriptions.length;s++)this.koSubscriptions[s].dispose();this.koSubscriptions=new Array,this.pagenum<0&&(this.pagenum=0);var o=this,a=r.datatype;"csv"!==r.datatype&&"tab"!==r.datatype&&"tsv"!==r.datatype&&"text"!=r.datatype||(a="text");var l=null==n.async||n.async;switch(null!=r.async&&(l=r.async),a){case"local":case"array":case"observablearray":case"observableArray":default:if(null==r.localdata&&r.length){r.localdata=new Array;for(var d=0;d<r.length;d++)r.localdata[r.localdata.length]=r[d],r[d].uid=d}r.beforeprocessing&&e.isFunction(r.beforeprocessing)&&r.beforeprocessing(r.localdata);var h=r.localdata.length;if(this.totalrecords=this.virtualmode&&r.totalrecords||h,this.unboundmode&&(this.totalrecords=this.unboundmode&&r.totalrecords||h,(p=r.datafields?r.datafields.length:0)>0))for(d=0;d<this.totalrecords;d++){for(var u={},c=0;c<p;c++)u[r.datafields[c].name]="";u.uid=d,r.localdata[r.localdata.length]=u}null==this.totalrecords&&(this.totalrecords=0);var p=r.datafields?r.datafields.length:0,f=function(t,i){for(var n={},s=0;s<i;s++){var a=r.datafields?r.datafields[s]:{},l="";if(null!=a&&null!=a){if(a.map){if(e.isFunction(a.map))l=a.map(t);else{var d=a.map.split(o.mapChar);if(d.length>0){for(var h=t,u=0;u<d.length;u++)h&&(h=h[d[u]]);l=h}else l=t[a.map]}null!=l&&null!=l?l=l.toString():null==l&&null!=l&&(l="")}var c=!1;""==l&&(c=!0,null!=(l=t[a.name])&&null!=l&&(r._localdata&&l.subscribe?l=l():"array"!=a.type&&("date"===a.type?l&&l instanceof Date&&(l=l):l=l.toString()))),"[object Object]"==l&&a.map&&c&&(l=""),l=o.getvaluebytype(l,a),null!=a.displayname?n[a.displayname]=l:n[a.name]=l}}return n};if(r._localdata){this._changedrecords=[],this.records=new Array;var m=r._localdata();if(e.each(m,(function(t,n){if("string"==typeof n)o.records.push(n);else{var s={},a=0,l=this;e.each(this,(function(i,n){var d=null,h="string",u=i;if(p>0){for(var c=!1,f=!1,m=0;m<p;m++){var g=r.datafields[m];if(null!=g&&g.name==i){c=!0,d=g.map,h=g.type,u=g.name;break}if(null!=g&&g.map&&g.map.indexOf(i)>=0){c=!0,h=g.type,u=g.name,f=!0;var v=l[i];if(null!=(d=g.map))if((x=d.split(o.mapChar)).length>0){for(var w=l,y=0;y<x.length;y++)w=w[x[y]];v=w}else v=l[d];"string"!=h&&(v=o.getvaluebytype(v,{type:h})),s[u]=v,null!=s[u]&&(a+=s[u].toString().length+s[u].toString().substr(0,1))}}if(!c)return!0;if(f)return!0}if(e.isFunction(l[i])){if(v=l[i](),"string"!=h&&(v=o.getvaluebytype(v,{type:h})),s[i]=v,l[i].subscribe){var b=t;o.koSubscriptions[o.koSubscriptions.length]=l[i].subscribe((function(e){var t=b;if(s[i]=e,o._changedrecords.push({index:t,oldrecord:s,record:s}),!o.isUpdating)return o.callBindingUpdate("update"),o._changedrecords=[],!1}))}}else{var x;if(v=l[i],null!=d)if((x=d.split(o.mapChar)).length>0){for(w=l,y=0;y<x.length;y++)w=w[x[y]];v=w}else v=l[d];"string"!=h&&(v=o.getvaluebytype(v,{type:h})),s[u]=v,null!=s[u]&&(a+=s[u].toString().length+s[u].toString().substr(0,1))}}));var d=o.getid(r.id,l,t);if(s.uid=d,o.records.push(s),s._koindex=a,o._oldrecords){var h=o.records.length-1;"update"==i&&o._oldrecords[h]._koindex!=a&&o._changedrecords.push({index:h,oldrecord:o._oldrecords[h],record:s})}}})),"add"==i)for(h=o.records.length,d=0;d<h;d++){u=o.records[d];for(var g=!1,v=0;v<o._oldrecords.length;v++)if(o._oldrecords[v]._koindex===u._koindex){g=!0;break}g||o._changedrecords.push({index:d,oldrecord:null,record:u,position:0!=d?"last":"first"})}else if("remove"==i)for(h=o._oldrecords.length,d=0;d<h;d++){var w=o._oldrecords[d];o.records[d]?o.records[d]._koindex!=w._koindex&&o._changedrecords.push({index:d,oldrecord:w,record:null}):o._changedrecords.push({index:d,oldrecord:w,record:null})}}else if(e.isArray(r.localdata))0==p?(y=0,b=new Array,e.each(r.localdata,(function(t,i){var n=new Object(this);if("string"==typeof i)return o.records=r.localdata,!1;var s=o.getid(r.id,n,t);if("object"==typeof s&&(s=t),n.uid=s,0==t){for(var a in this){y++;var l=e.type(this[a]);b.push({name:a,type:l})}p=y,r.datafields=b,r.generatedfields=b}if(p>0){var d=f(n,p);d.uid=s,o.records[o.records.length]=d}else o.records[o.records.length]=n}))):e.each(r.localdata,(function(e){var t,i=f(t=this,p),n=o.getid(r.id,i,e);"object"==typeof n&&(n=e),(t=new Object(i)).uid=n,o.records[o.records.length]=t}));else{this.records=new Array;var y=0,b=new Array;e.each(r.localdata,(function(t){var i=o.getid(r.id,this,t);if(0==p&&!("string"==typeof this||this instanceof String)){for(var n in this){y++;var s=e.type(this[n]);b.push({name:n,type:s})}p=y,r.datafields=b,r.generatedfields=b}if(p>0){var a=f(this,p);a.uid=i,o.records[o.records.length]=a}else this.uid=i,o.records[o.records.length]=this}))}if(this.originaldata=r.localdata,this.cachedrecords=this.records,this.addForeignValues(r),n.uniqueDataFields){var x=this.getUniqueRecords(this.records,n.uniqueDataFields);this.records=x,this.cachedrecords=x}if(n.beforeLoadComplete&&null!=(C=n.beforeLoadComplete(o.records,this.originaldata))&&(o.records=C,o.cachedrecords=C),n.autoSort&&n.autoSortField){var _=Object.prototype.toString;Object.prototype.toString="function"==typeof field?field:function(){return this[n.autoSortField]},o.records.sort((function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return-1;if(t=t.toString(),i=i.toString(),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return-1;if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(t<i)return-1;if(t>i)return 1}catch(r){}return 0})),Object.prototype.toString=_}o.loadedData=r.localdata,o.buildHierarchy(),e.isFunction(n.loadComplete)&&n.loadComplete(r.localdata,o.records);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"ics":var C;if(null!=r.localdata&&!r.url)return e.isFunction(r.beforeprocessing)&&r.beforeprocessing(r.localdata),"xml"===r.datatype?o.loadxml(r.localdata,r.localdata,r):"text"===a?o.loadtext(r.localdata,r):"ics"===a?o.loadics(r.localdata,r):o.loadjson(r.localdata,r.localdata,r),o.addForeignValues(r),n.uniqueDataFields&&(x=o.getUniqueRecords(o.records,n.uniqueDataFields),o.records=x,o.cachedrecords=x),n.beforeLoadComplete&&null!=(C=n.beforeLoadComplete(o.records,this.originaldata))&&(o.records=C,o.cachedrecords=C),o.loadedData=r.localdata,o.buildHierarchy.call(o),e.isFunction(n.loadComplete)&&n.loadComplete(r.localdata,o.records),void o.callBindingUpdate(i);var j=null!=n.data?n.data:{};if(r.processdata&&r.processdata(j),e.isFunction(n.processData)&&n.processData(j),e.isFunction(n.formatData)){var q=n.formatData(j);null!=q&&(j=q)}var k="application/x-www-form-urlencoded";n.contentType&&(k=n.contentType);var T="GET";r.type&&(T=r.type),n.type&&(T=n.type);var S=a;if("ics"==a&&(S="text"),r.url&&r.url.length>0)e.isFunction(n.loadServerData)?o._requestData(j,r,n):this.xhr=e.jqx.data.ajax({dataType:S,cache:this.cache,type:T,url:r.url,async:l,timeout:r.timeout,contentType:k,data:j,success:function(t,i,s){var l;if(e.isFunction(r.beforeprocessing)&&null!=(l=r.beforeprocessing(t,i,s))&&(t=l),e.isFunction(n.downloadComplete)&&null!=(l=n.downloadComplete(t,i,s))&&(t=l),null==t)return o.records=new Array,o.cachedrecords=new Array,o.originaldata=new Array,o.callDownloadComplete(),void(e.isFunction(n.loadComplete)&&n.loadComplete(new Array));var d=t;if(t.records&&(d=t.records),null!=t.totalrecords?r.totalrecords=t.totalrecords:null!=t.totalRecords&&(r.totalrecords=t.totalRecords),"xml"===r.datatype?o.loadxml(null,d,r):"text"===a?o.loadtext(d,r):"ics"===a?o.loadics(d,r):o.loadjson(null,d,r),o.addForeignValues(r),n.uniqueDataFields){var h=o.getUniqueRecords(o.records,n.uniqueDataFields);o.records=h,o.cachedrecords=h}if(n.beforeLoadComplete){var u=n.beforeLoadComplete(o.records,t);null!=u&&(o.records=u,o.cachedrecords=u)}o.loadedData=t,o.buildHierarchy.call(o),o.callDownloadComplete(),e.isFunction(n.loadComplete)&&n.loadComplete(t,i,s,o.records)},error:function(t,i,s){e.isFunction(r.loaderror)&&r.loaderror(t,i,s),e.isFunction(n.loadError)&&n.loadError(t,i,s),t=null,o.callDownloadComplete()},beforeSend:function(t,i){e.isFunction(n.beforeSend)&&n.beforeSend(t,i),e.isFunction(r.beforesend)&&r.beforesend(t,i)}});else if(o.buildHierarchy(new Array),o.callDownloadComplete(),e.isFunction(n.loadComplete)){if(!I)var I={};n.loadComplete(I)}}this.callBindingUpdate(i)}}},buildHierarchy:function(e){var t=this._source,i=new Array;if(t.datafields&&(t.hierarchy&&!t.hierarchy.reservedNames?t.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}:t.hierarchy&&((n=t.hierarchy.reservedNames).leaf||(n.leaf="leaf"),n.parent||(n.parent="parent"),n.expanded||(n.expanded="expanded"),n.checked||(n.checked="checked"),n.selected||(n.selected="selected"),n.level||(n.level="level"),n.data||(n.data="data")),t.hierarchy)){var r=this,n=t.hierarchy.reservedNames;if(t.hierarchy.root){if("xml"==t.dataType)return i=this.getRecordsHierarchy("uid","parentuid","records",null,e),this.hierarchy=i,i;this.hierarchy=this.records;for(var s=t.hierarchy.root,o=0;o<this.records.length;o++){var a=this.records[o];if(a){var l=function(e){if(t.hierarchy.record)e.records=e[s][t.hierarchy.record];else{var i=s.split(r.mapChar),o=null;if(i.length>1){for(var a=e,l=0;l<i.length;l++)null!=a&&(a=a[i[l]]);o=a}else o=e[s];e.records=o}(null==e.records||e.records&&0==e.records.length)&&(e[n.leaf]=!0)};l(a),a[n.level]=0;var d=this.getid(t.id,a,o);a.uid=d,a[n.parent]=null,a[n.data]=a,void 0===a[n.expanded]&&(a[n.expanded]=!1);!function e(i,s){if(s)for(var o=0;o<s.length;o++){var a=s[o];if(a){l(a),a[n.level]=i[n.level]+1,a[n.parent]=i,a[n.data]=a;var d=r.getid(t.id,a,o);a.uid=d==o&&null==t.id?i.uid+"_"+d:d,void 0===a[n.expanded]&&(a[n.expanded]=!1),e(a,a.records)}}else i.records=new Array}(a,a.records)}}return this.hierarchy}if(t.hierarchy.keyDataField&&t.hierarchy.parentDataField)return i=this.getRecordsHierarchy(t.hierarchy.keyDataField.name,t.hierarchy.parentDataField.name,"records",null,e),this.hierarchy=i,i;if(t.hierarchy.groupingDataFields){var h=new Array;for(o=0;o<t.hierarchy.groupingDataFields.length;o++)h.push(t.hierarchy.groupingDataFields[o].name);return i=this.getGroupedRecords(h,"records","label",null,"data",null,"parent",e),this.hierarchy=i,i}}},addRecord:function(e,t,i,r){var n=this;if(null!=e){if(null==i){if(this.hierarchy&&this.hierarchy.length>=0&&(this._source.hierarchy||r)){var s=n._source&&n._source.hierarchy?n._source.hierarchy.reservedNames:null;null==s&&(s={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}),e[s.level]=0,"last"==t?this.hierarchy.push(e):"number"==typeof t&&isFinite(t)?this.hierarchy.splice(t,0,e):this.hierarchy.splice(0,0,e)}else"last"==t?this.records.push(e):"number"==typeof t&&isFinite(t)?this.records.splice(t,0,e):this.records.splice(0,0,e);return!0}if(this.hierarchy.length>0){!function r(s){if(s)for(var o=0;o<s.length;o++){var a=s[o];if(a.uid==i){var l=n._source&&n._source.hierarchy?n._source.hierarchy.reservedNames:null;return null==l&&(l={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}),e[l.parent]=a,e[l.level]=a[l.level]+1,a.records||(a.records=new Array),a[l.leaf]=!1,"last"==t?a.records.push(e):"number"==typeof t&&isFinite(t)?a.records.splice(t,0,e):a.records.splice(0,0,e),!0}a.records&&r(a.records)}}(this.hierarchy)}}return!1},deleteRecord:function(e){var t=this;if(this.hierarchy.length>0){!function i(r){if(r)for(var n=0;n<r.length;n++){if((o=r[n]).uid==e){r.splice(n,1),t.recordids[e]&&delete t.recordids[e];o.records&&function e(i){for(var r=0;r<i.length;r++){for(var n=i[r].uid,s=0;s<t.records.length;s++)if(t.records[s].uid==n){t.records.splice(s,1);break}i[r].records&&e(i[r].records)}}(o.records);for(var s=0;s<t.records.length;s++){var o;if((o=t.records[s]).uid==e){t.records.splice(s,1);break}}return!0}o.records&&i(o.records)}}(this.hierarchy)}else for(var i=0;i<this.records.length;i++)if(this.records[i].uid==e)return this.records.splice(i,1),!0;return!1},addForeignValues:function(e){for(var t=this,i=e.datafields?e.datafields.length:0,r=0;r<i;r++){var n=e.datafields[r];if(null!=n)if(null!=n.values){null==n.value&&(n.value=n.name),null==n.values.value&&(n.values.value=n.value);var s,o,a=new Array;t.pageable&&t.virtualmode?(o=(s=t.pagenum*t.pagesize)+t.pagesize)>t.totalrecords&&(o=t.totalrecords):t.virtualmode?(s=e.recordstartindex,(o=e.recordendindex)>t.totalrecords&&(o=t.totalrecords)):(s=0,o=t.records.length);for(var l=s;l<o;l++){var d=n.name,h=(m=t.records[l])[n.value];if(null!=a[h])m[d]=a[h];else for(var u=0;u<n.values.source.length;u++){var c=n.values.source[u],p=c[n.values.value];if(null==p&&(p=c.uid),p==h){var f=c[n.values.name];m[d]=f,a[h]=f;break}}}}else if(null!=n.value)for(l=0;l<t.records.length;l++){var m;(m=t.records[l])[n.name]=m[n.value]}}},abort:function(){this.xhr&&4!=this.xhr.readyState&&(this.xhr.abort(),this.callDownloadComplete())},_requestData:function(t,i,r){var n=this;r.loadServerData(t,i,(function(t){if(t.totalrecords&&(i.totalrecords=t.totalrecords,n.totalrecords=t.totalrecords),t.records&&(n.records=t.records,n.cachedrecords=t.records),n.addForeignValues(i),r.uniqueDataFields){var s=n.getUniqueRecords(n.records,r.uniqueDataFields);n.records=s,n.cachedrecords=s}if(r.beforeLoadComplete){var o=r.beforeLoadComplete(n.records,t);null!=o&&(n.records=o,n.cachedrecords=o)}for(var a=0;a<n.records.length;a++){var l=n.records[a];null!=l&&null==l.uid&&(l.uid=n.getid(i.id,l,a))}n.buildHierarchy.call(n),e.isFunction(r.loadComplete)&&r.loadComplete(t),n.callDownloadComplete()}))},getUniqueRecords:function(e,t){if(e&&t)for(var i=e.length,r=t.length,n=new Array,s=new Array,o=0;o<i;o++){var a=e[o],l="";if(null!=a){for(var d=0;d<r;d++)l+=a[t[d]]+"_";s[l]||(n[n.length]=a),s[l]=!0}}return n},getAggregatedData:function(t,i,r,n){var s=r;s||(s=this.records);var o={},a=new Array,l=s.length;if(0!=l&&null!=l){for(var d=0;d<l;d++)for(var h=s[d],u=0;u<t.length;u++){var c=h[(m=t[u]).name];if(m.aggregates){o[m.name]=o[m.name]||{},a[m.name]=a[m.name]||0,a[m.name]++;var p=function(t){for(var i in t){var r=o[m.name][i];null==r&&(o[m.name][i]=0,r=0),e.isFunction(t[i])&&(r=t[i](r,c,m.name,h,n)),o[m.name][i]=r}},f=parseFloat(c);(f=!isNaN(f))&&(c=parseFloat(c)),"number"==typeof c&&isFinite(c)?e.each(m.aggregates,(function(){var e=o[m.name][this];if(null==e&&(e=0,"min"==this&&(e=9999999999999),"max"==this&&(e=-9999999999999)),"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)e+=parseFloat(c);else if("product"==this)0==d?e=parseFloat(c):e*=parseFloat(c);else if("min"==this)e=Math.min(e,parseFloat(c));else if("max"==this)e=Math.max(e,parseFloat(c));else if("count"==this)e++;else if("object"==typeof this)return void p(this);o[m.name][this]=e})):e.each(m.aggregates,(function(){if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){if(null===c)return!0;var e=o[m.name][this];return null==e&&(e=0),o[m.name][this]=e,!0}"object"==typeof this&&p(this)}))}}for(u=0;u<t.length;u++){var m;if(o[(m=t[u]).name]||(o[m.name]={},e.each(m.aggregates,(function(e){o[m.name][this]=0}))),null!=o[m.name].avg){c=o[m.name].avg;var g=a[m.name];o[m.name].avg=0===g||null==g?0:c/g}else null!=o[m.name].count&&(o[m.name].count=l);(o[m.name].stdev||o[m.name].stdevp||o[m.name].var||o[m.name].varp)&&e.each(m.aggregates,(function(e){if("stdev"==this||"var"==this||"varp"==this||"stdevp"==this){for(var t=l,i=o[m.name][this]/l,r=0,n=0;n<l;n++){var a=s[n][m.name];r+=(a-i)*(a-i)}var d="stdevp"==this||"varp"==this?t:t-1;0==d&&(d=1),"var"==this||"varp"==this?o[m.name][this]=r/d:"stdevp"!=this&&"stdev"!=this||(o[m.name][this]=Math.sqrt(r/d))}})),m.formatStrings&&e.each(m.aggregates,(function(t){var r=m.formatStrings[t];if(r)if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)o[m.name][this]=e.jqx.dataFormat.formatnumber(o[m.name][this],r,i);else if("object"==typeof this)for(var n in this)o[m.name][n]=e.jqx.dataFormat.formatnumber(o[m.name][n],r,i)}))}return o}},bindDownloadComplete:function(e,t){this._downloadComplete[this._downloadComplete.length]={id:e,func:t}},unbindDownloadComplete:function(e){for(var t=0;t<this._downloadComplete.length;t++)if(this._downloadComplete[t].id==e){this._downloadComplete[t].func=null,this._downloadComplete.splice(t,1);break}},callDownloadComplete:function(){for(var e=0;e<this._downloadComplete.length;e++){var t=this._downloadComplete[e];null!=t.func&&t.func()}},setSource:function(e){this._source=e},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},getGroupedRecords:function(t,i,r,n,s,o,a,l,d){d||(d=0);for(var h=new Array,u=0;u<t.length;u++)h[u]=this.generatekey();i||(i="items"),r||(r="group"),s||(s="record"),a||(a="parentItem"),void 0===o&&(o="value");var c=new Array,p=0,f=new Array,m=t.length;new Array,l||(l=this.records);for(var g=l.length,v=function(t){var i=t;return n&&e.each(n,(function(){this.name&&this.map&&(i[this.map]=i[this.name])})),i},w=0;w<g;w++){var y=v(l[w]),b=new Array,x=0;for(u=0;u<m;u++){var _=y[t[u]];null!=_&&(b[x++]={value:_,hash:h[u]})}if(b.length!=m)break;for(var C=null,j="",q=0;q<b.length;q++){var k=b[q].value;if(null==f[j=j+"_"+b[q].hash+"_"+k]||null==f[j]){if(null==C){(C={level:0})[a]=null,C[r]=k,C[s]=y,C.expanded=void 0!==y.expanded&&y.expanded,o&&(C[o]=y[o]),C[i]=new Array;var T=c.length+d;this._source.id&&"number"!=typeof y.uid&&!isFinite(y.uid)||(T="Row"+T),C.uid=T,c[p++]=C}else{var S={level:C.level+1};S[a]=C,S[r]=k,S[i]=new Array,S[s]=y,S.expanded=void 0!==y.expanded&&y.expanded,o&&(S[o]=y[o]),S.uid=C.uid+"_"+C[i].length,C[i][C[i].length]=S,C=S}f[j]=C}else C=f[j]}y&&(y.leaf=!0),null!=C?(null==this._source.id&&(null==y.uid?y.uid=C.uid+"_"+C[i].length:-1==y.uid.toString().indexOf(C.uid)&&(y.uid=C.uid+"_"+y.uid)),y[a]=C,y.level=C.level+1,C[i][C[i].length]=y):null==y.uid&&(y.uid=this.generatekey())}return c},getRecordsHierarchy:function(t,i,r,n,s){var o=new Array,a=this.records;if(s&&(a=s),0==this.records.length)return null;for(var l=null!=r?r:"items",d=[],h=a,u=h.length,c=this._source&&this._source.hierarchy?this._source.hierarchy.reservedNames:null,p=function(t){var i=t;return n&&e.each(n,(function(){this.name&&this.map&&(i[this.map]=i[this.name])})),i},f=0;f<u;f++)d[g=(v=e.extend({},h[f]))[t]]={parentid:m=v[i],item:v};for(f=0;f<u;f++){var m,g=(v=e.extend({},h[f]))[t];if(null!=d[m=v[i]]){var v={parentid:m,item:d[g].item},w=d[m].item;w[l]||(w[l]=[]);var y=w[l].length,b=v.item;c?null==b[c.parent]&&(b[c.parent]=w):null==b.parent&&(b.parent=w);var x=p(b);w[l][y]=x,d[m].item=w,d[g]=v}else b=d[g].item,c?null==b[c.parent]&&(b[c.parent]=null):null==b.parent&&(b.parent=null),x=p(b),c?x[c.level]=0:x.level=0,o[o.length]=x}if(0!=o.length){!function e(t,i){for(var r=0;r<i.length;r++){c?i[r][c.level]=t:i[r].level=t;var n=i[r][l];n&&n.length>0?e(t+1,n):c?i[r][c.leaf]=!0:i[r].leaf=!0}}(0,o)}return o},bindBindingUpdate:function(e,t){this._bindingUpdate[this._bindingUpdate.length]={id:e,func:t}},unbindBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++)if(this._bindingUpdate[t].id==e){this._bindingUpdate[t].func=null,this._bindingUpdate.splice(t,1);break}},callBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++){var i=this._bindingUpdate[t];null!=i.func&&i.func(e)}},getid:function(t,i,r){if(null==t||null==t.name||!t.name){if(e(t,i).length>0)return e(t,i).text();if(t&&t.toString().length>0){if(null!=(a=e(i).attr(t))&&a.toString().length>0)return e.trim(a).split(" ").join("").replace(/([ #;?%&,.+*~\':"!^$[\]()=>|\/\\@])/g,"");var n=t.split(this.mapChar);if(n.length>1){for(var s=i,o=0;o<n.length;o++)null!=s&&(s=s[n[o]]);if(null!=s)return s}else if(null!=i[t])return i[t]}return r}if(null!=(a=e(i).attr(t.name))&&a.toString().length>0)return a;if(t.map)try{var a;if(null!=(a=e(i).attr(t.map))&&a.toString().length>0)return a;if(e(t.map,i).length>0)return e(t.map,i).text();if(e(t.name,i).length>0)return e(t.name,i).text()}catch(l){return r}},loadjson:function(t,i,r){"string"==typeof t&&(t=e.parseJSON(t)),null==r.root&&(r.root=""),null==r.record&&(r.record=""),(t=t||i)||(t=[]);var n=this;if(""!=r.root){if((C=r.root.split(n.mapChar)).length>1){for(var s=t,o=0;o<C.length;o++)null!=s&&(s=s[C[o]]);t=s}else if(void 0!==t[r.root]?t=t[r.root]:t[0]&&void 0!==t[0][r.root]?t=t[0][r.root]:e.each(t,(function(e){if(this==r.root)return t=this,!1;null!=this[r.root]&&(t=this[r.root])})),!t&&(C=r.root.split(n.mapChar)).length>0){for(s=t,o=0;o<C.length;o++)null!=s&&(s=s[C[o]]);t=s}}else if(!t.length)for(var a in t)if(e.isArray(t[a])){t=t[a];break}if(null!=t&&null==t.length&&(t=e.makeArray(t)),null==t||null==t||"undefined"==t||null==t.length)throw new Error("jqxDataAdapter: JSON Parse error! Invalid JSON. Please, check your JSON or your jqxDataAdapter initialization!");if(0!=t.length){var l=t.length;this.totalrecords=this.virtualmode&&r.totalrecords||l,this.records=new Array,this.originaldata=new Array;var d=this.records,h=this.pageable?this.pagesize*this.pagenum:r.recordstartindex;this.recordids=new Array,r.loadallrecords&&(h=0,l=this.totalrecords);var u=0;this.virtualmode&&(u=h=this.pageable?this.pagesize*this.pagenum:r.recordstartindex,h=0,l=this.totalrecords);var c=r.datafields?r.datafields.length:0;if(0==c){var p=t[0],f=new Array;for(var a in p)f[f.length]={name:a};r.datafields=f,r.generatedfields=r.datafields,c=f.length}for(var m=h,g=h;g<l;g++){var v=t[g];if(null==v)break;if(!r.record||""==r.record||null!=(v=v[r.record])){var w=this.getid(r.id,v,g);if("object"==typeof w&&(w=g),!this.recordids[w]){this.recordids[w]=v;for(var y={},b=0;b<c;b++){var x=r.datafields[b],_="";if(null!=x&&null!=x){if(x.map){var C;if(e.isFunction(x.map))_=x.map(v);else if((C=x.map.split(n.mapChar)).length>0){var j=v;for(o=0;o<C.length;o++)null!=j&&(j=j[C[o]]);_=j}else _=v[x.map];null!=_&&null!=_?_=this.getvaluebytype(_,x):null==_&&null!=_&&(_="")}if(""==_&&!x.map&&(null==(_=v[x.name])&&null!=_&&(_=""),null!=x.value&&null!=_)){var q=_[x.value];null!=q&&(_=q)}if(_=this.getvaluebytype(_,x),null!=x.displayname?y[x.displayname]=_:y[x.name]=_,"array"===x.type){(function t(i){if(i)for(var s=0;s<i.length;s++){var o=i[s];if(o)for(var a=0;a<c;a++){var l=r.datafields[a],d="";if(null!=l&&null!=l){if(l.map){if(e.isFunction(l.map))d=l.map(o);else{var h=l.map.split(n.mapChar);if(h.length>0){for(var u=o,p=0;p<h.length;p++)null!=u&&(u=u[h[p]]);d=u}else d=o[l.map]}null!=d&&null!=d?d=this.getvaluebytype(d,l):null==d&&null!=d&&(d="")}if(""==d&&!l.map&&(null==(d=o[l.name])&&null!=d&&(d=""),null!=l.value&&null!=d)){var f=d[l.value];null!=f&&(d=f)}d=this.getvaluebytype(d,l),null!=l.displayname?o[l.displayname]=d:o[l.name]=d,"array"===l.type&&t.call(this,d)}}}}).call(this,_)}}}(r.recordendindex<=0||h<r.recordendindex)&&(d[u+m]=new Object(y),d[u+m].uid=w,this.originaldata[u+m]=new Object(d[g]),m++)}}}this.records=d,this.cachedrecords=this.records}else this.totalrecords=0},loadxml:function(t,i,r){"string"==typeof t&&(t=i=e(e.parseXML(t)),t=null),null==r.root&&(r.root=""),null==r.record&&(r.record=""),(t=e.jqx.browser.msie&&i&&null!=i.xml?e(r.root+" "+r.record,e.parseXML(i.xml)):t||e(r.root+" "+r.record,i))||(t=[]);var n=t.length;if(0!=t.length){this.totalrecords=this.virtualmode&&r.totalrecords||n,this.records=new Array,this.originaldata=new Array;var s=this.records,o=this.pageable?this.pagesize*this.pagenum:r.recordstartindex;this.recordids=new Array,r.loadallrecords&&(o=0,n=this.totalrecords);var a=0;this.virtualmode&&(a=o=this.pageable?this.pagesize*this.pagenum:r.recordstartindex,o=0,n=this.totalrecords);var l=r.datafields?r.datafields.length:0;if(0==l){var d=t[0],h=new Array;for(var u in d)h[h.length]={name:u};r.datafields=h,r.generatedfields=r.datafields,l=h.length}for(var c=o,p=o;p<n&&null!=(k=t[p]);p++){var f=this.getid(r.id,k,p);if(!this.recordids[f]){this.recordids[f]=k;var m={},g=!1;r.hierarchy&&r.hierarchy.root&&(g=!0);for(var v=0;v<l;v++){var w=r.datafields[v],y="";if(null!=w&&null!=w){if(w.map)if(e.isFunction(w.map))y=w.map(k);else{var b=w.map.indexOf("[");if(b<0)if(1==(y=e(w.map,k)).length)y=y.text();else{for(var x=new Array,_=0;_<y.length;_++)x.push(e(y[_]).text());y=x,g&&x.length>0&&(y=x[0])}else{var C=w.map.substring(0,b-1),j=w.map.indexOf("]"),q=w.map.substring(b+1,j);null==(y=e(C,k).attr(q))&&(y=e(k).attr(q)),null==y&&(y="")}""==y&&null==(y=e(k).attr(w.map))&&(y="")}if(""==y){if(1==(y=e(w.name,k)).length)y=y.text();else{for(x=new Array,_=0;_<y.length;_++)x.push(e(y[_]).text());y=x,g&&x.length>0&&(y=x[0])}""==y&&null==(y=e(k).attr(w.name))&&(y=""),""==y&&k.nodeName&&k.nodeName==w.name&&k.firstChild&&(y=e(k.firstChild).text())}y=this.getvaluebytype(y,w),null!=w.displayname?m[w.displayname]=y:m[w.name]=y}}(r.recordendindex<=0||o<r.recordendindex)&&(s[a+c]=e.extend({},m),s[a+c].uid=f,this.originaldata[a+c]=e.extend({},s[p]),c++)}}if(r.hierarchy&&r.hierarchy.root)for(p=o;p<n;p++){var k,T=s[p];e(k=t[p]).parent().length>0?(f=this.getid(r.id,e(k).parents(r.hierarchy.record+":first")),T.parentuid=f):T.parentuid=null}this.records=s,this.cachedrecords=this.records}},loadics:function(e,t){if(null!=e){var i=e.split(t.rowDelimiter||this.rowDelimiter||"\n"),r=i.length,n=e.split("\r");1==r&&n.length>1&&(r=(i=n).length),this.records=new Array,this.originaldata=new Array;var s=this.records;this.recordids=new Array;for(var o=function(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/.exec(e);if(!t)throw new Error("Invalid UNTIL value: "+e);return new Date(Date.UTC(t[1],t[2]-1,t[3],t[5]||0,t[6]||0,t[7]||0))},a=0;a<r;a++){var l=i[a];if("BEGIN:VEVENT"!=l)if(l.indexOf("SUMMARY")>=0)h.SUMMARY=l.substring(l.indexOf("SUMMARY")+8);else if(l.indexOf("LOCATION")>=0)h.LOCATION=l.substring(l.indexOf("LOCATION")+9);else if(l.indexOf("DESCRIPTION")>=0)h.DESCRIPTION=l.substring(l.indexOf("DESCRIPTION")+12);else if(l.indexOf("RRULE")>=0)h.RRULE=l.substring(l.indexOf("RRULE")+6);else if(l.indexOf("EXDATE")>=0){var d=l.substring(l.indexOf("EXDATE")+7);h.EXDATE=d}else l.indexOf("DTEND")>=0?h.DTEND=o(l.substring(l.indexOf("DTEND")+6)):l.indexOf("DTSTART")>=0?h.DTSTART=o(l.substring(l.indexOf("DTSTART")+8)):l.indexOf("UID")>=0?h.uid=h.UID=l.substring(l.indexOf("UID")+4):l.indexOf("STATUS")>=0?h.STATUS=l.substring(l.indexOf("STATUS")+7):"END:VEVENT"!=l||s.push(h);else var h={}}this.records=s,this.cachedrecords=this.records}},loadtext:function(t,i){if(null!=t){var r=t.split(i.rowDelimiter||this.rowDelimiter||"\n"),n=r.length,s=t.split("\r");1==n&&s.length>1&&(n=(r=s).length),this.totalrecords=this.virtualmode&&i.totalrecords||n,this.records=new Array,this.originaldata=new Array;var o=this.records,a=this.pageable?this.pagesize*this.pagenum:i.recordstartindex;this.recordids=new Array,i.loadallrecords&&(a=0,n=this.totalrecords);var l=0;this.virtualmode&&(l=a=this.pageable?this.pagesize*this.pagenum:i.recordstartindex,a=0,n=this.totalrecords);var d=i.datafields.length,h=i.columnDelimiter||this.columnDelimiter;h||(h="tab"===i.datatype||"tsv"===i.datatype?"\t":",");for(var u=a;u<n;u++){var c=r[u],p=null;if(!this.recordids[p]){null==i.id&&(this.recordids[p=u]=c);for(var f={},m=r[u].split(h),g=0;g<d;g++)if(!(g>=m.length)){var v=i.datafields[g],w=m[g];v.map&&e.isFunction(v.map)&&(w=v.map(c)),v.type&&(w=this.getvaluebytype(w,v)),f[v.map||v.name||g.toString()]=w,null!=i.id&&i.id===v.name&&(this.recordids[p=w]=c)}null==p&&(p=u),o[l+u]=e.extend({},f),o[l+u].uid=p,this.originaldata[l+u]=e.extend({},o[u])}}this.records=o,this.cachedrecords=this.records}},getvaluebytype:function(t,i){var r=t;if(null==t)return t;if(e.isArray(t)&&"array"!=i.type){for(var n=0;n<t.length;n++)t[n]=this.getvaluebytype(t[n],i);return t}if("date"==i.type)if("NaN"==t)t="";else{if(t&&t instanceof Date)return t;var s=new Date(t);if("string"==typeof t&&i.format){var o=e.jqx.dataFormat.parsedate(t,i.format);null!=o&&(s=o)}null==(t="NaN"!=s.toString()&&"Invalid Date"!=s.toString()||!e.jqx.dataFormat?s:e.jqx.dataFormat.tryparsedate(t))&&(t=r)}else"float"==i.type||"number"==i.type||"decimal"==i.type?"NaN"==t?t="":(t=parseFloat(t),isNaN(t)&&(t=r)):"int"==i.type||"integer"==i.type?(t=parseInt(t),isNaN(t)&&(t=r)):"bool"!=i.type&&"boolean"!=i.type||(null!=t&&null!=t.toLowerCase&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t||(0!=t||""===t)&&"");return t}},e.jqx.dataFormat={},e.extend(e.jqx.dataFormat,(_defineProperty(t={regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(e){return"boolean"==typeof e},isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},isDate:function(e){return e instanceof Date},arrayIndexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNull:function(e){return null===e},isUndefined:function(e){return void 0===e},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(t){return!(!this.isString(t)&&this.isValue(t)||this.isValue(t)&&""!==e.trim(t).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,""))},startsWith:function(e,t){return 0===e.indexOf(t)},endsWith:function(e,t){return e.substr(e.length-t.length)===t},trim:function(e){return(e+"").replace(this.regexTrim,"")},isArray:function(e){return"[object Array]"===this.toString.call(e)},defaultcalendar:function(){return{"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","}},expandFormat:function(e,t){var i,r=(t=t||"F").length;if(1===r){if(!(i=e.patterns[t]))throw"Invalid date format string '"+t+"'.";t=i}else 2===r&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},getEra:function(e,t){if(!t)return 0;if("string"==typeof e)return 0;for(var i,r=e.getTime(),n=0,s=t.length;n<s;n++)if(null===(i=t[n].start)||r>=i)return n;return 0},toUpper:function(e){return e.split("\xa0").join(" ").toUpperCase()},toUpperArray:function(e){for(var t=[],i=0,r=e.length;i<r;i++)t[i]=this.toUpper(e[i]);return t},getEraYear:function(e,t,i,r){var n=e.getFullYear();return!r&&t.eras&&(n-=t.eras[i].offset),n}},"toUpper",(function(e){return e?e.toUpperCase():""})),_defineProperty(t,"getDayIndex",(function(e,t,i){var r,n=e.days,s=e._upperDays;return s||(e._upperDays=s=[this.toUpperArray(n.names),this.toUpperArray(n.namesAbbr),this.toUpperArray(n.namesShort)]),t=t.toUpperCase(),i?-1===(r=this.arrayIndexOf(s[1],t))&&(r=this.arrayIndexOf(s[2],t)):r=this.arrayIndexOf(s[0],t),r})),_defineProperty(t,"getMonthIndex",(function(e,t,i){var r=e.months,n=e.monthsGenitive||e.months,s=e._upperMonths,o=e._upperMonthsGen;s||(e._upperMonths=s=[this.toUpperArray(r.names),this.toUpperArray(r.namesAbbr)],e._upperMonthsGen=o=[this.toUpperArray(n.names),this.toUpperArray(n.namesAbbr)]),t=this.toUpper(t);var a=this.arrayIndexOf(i?s[1]:s[0],t);return a<0&&(a=this.arrayIndexOf(i?o[1]:o[0],t)),a})),_defineProperty(t,"appendPreOrPostMatch",(function(e,t){for(var i=0,r=!1,n=0,s=e.length;n<s;n++){var o=e.charAt(n);switch(o){case"'":r?t.push("'"):i++,r=!1;break;case"\\":r&&t.push("\\"),r=!r;break;default:t.push(o),r=!1}}return i})),_defineProperty(t,"getTokenRegExp",(function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g})),_defineProperty(t,"formatlink",(function(e,t){var i="";return t&&t.target&&(i="target="+t.target),""!=i?"<a "+i+' href="'+e+'">'+e+"</a>":'<a href="'+e+'">'+e+"</a>"})),_defineProperty(t,"formatemail",(function(e){return'<a href="mailto:'+e+'">'+e+"</a>"})),_defineProperty(t,"formatNumber",(function(e,t,i){return this.formatnumber(e,t,i)})),_defineProperty(t,"formatnumber",(function(e,t,i){if(null!=i&&null!=i&&""!=i||(i=this.defaultcalendar()),""===t||null===t)return e;var r;this.isNumber(e)||(e*=1),t.length>1&&(r=parseInt(t.slice(1),10));var n={},s=t.charAt(0).toUpperCase();switch(n.thousandsSeparator=i.thousandsseparator,n.decimalSeparator=i.decimalseparator,s){case"D":case"d":case"F":case"f":n.decimalPlaces=r;break;case"N":case"n":n.decimalPlaces=0;break;case"C":case"c":n.decimalPlaces=r,"before"==i.currencysymbolposition?n.prefix=i.currencysymbol:n.suffix=i.currencysymbol;break;case"P":case"p":n.suffix=i.percentsymbol,n.decimalPlaces=r;break;default:throw"Bad number format specifier: "+s}if(this.isNumber(e)){var o,a=e<0,l=e+"",d=n.decimalSeparator?n.decimalSeparator:".";if(this.isNumber(n.decimalPlaces)){var h=n.decimalPlaces,u=Math.pow(10,h);if(o=(l=(e*u).toFixed(0)/u+"").lastIndexOf("."),h>0)for(o<0?o=(l+=d).length-1:"."!==d&&(l=l.replace(".",d));l.length-1-o<h;)l+="0"}else(o=(l=e+"").lastIndexOf("."))>0&&null==h&&"."!==d&&(l=l.replace(".",d));if(n.thousandsSeparator){var c=n.thousandsSeparator;o=l.lastIndexOf(d);for(var p=l.substring(o=o>-1?o:l.length),f=-1,m=o;m>0;m--)++f%3==0&&m!==o&&(!a||m>1)&&(p=c+p),p=l.charAt(m-1)+p;l=p}return l=n.prefix?n.prefix+l:l,n.suffix?l+n.suffix:l}return e})),_defineProperty(t,"tryparsedate",(function(t,i){null!=i&&null!=i||(i=this.defaultcalendar());var r=this;if(""==t)return null;if(null==t||t.substring||(t=t.toString()),null!=t&&"/Date("==t.substring(0,6)){if("Invalid Date"==(n=new Date(+t.replace(/\/Date\((\d+)\)\//,"$1")))){var n=null;(M=t.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/))&&(n=new Date(1*M[1]+36e5*M[2]+6e4*M[3]))}if(null==n||"Invalid Date"==n||isNaN(n)){var s=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/.exec(t);if(s){var o=new Date(parseInt(s[1]));if(s[2]){var a=parseInt(s[3]);"-"===s[2]&&(a=-a);var l=o.getUTCMinutes();o.setUTCMinutes(l-a)}if(!isNaN(o.valueOf()))return o}}return n}var d=i.patterns;for(var h in d)if(n=r.parsedate(t,d[h],i))return"ISO"==h&&(u=r.parsedate(t,d.ISO2,i))?u:n;if(null!=t){for(var u=null,c=[":","/","-"],p=!0,f=0;f<c.length;f++)-1!=t.indexOf(c[f])&&(p=!1);if(p){var m=new Number(t);if(!isNaN(m))return new Date(m)}}if("string"===e.type(t)){var g=r,v=[":","/","-"," ",","],w="",y=t=(t=g.trim(t)).replace(new RegExp(", ","g"),",");t.indexOf(":")>=0?(w=t.substring(t.indexOf(":")-2),w=g.trim(w),y=t.substring(0,t.indexOf(":")-2)):t.toUpperCase().indexOf("AM")>=0?(w=t.substring(t.toUpperCase().indexOf("AM")-2),w=g.trim(w),y=t.substring(0,t.toUpperCase().indexOf("AM")-2)):t.toUpperCase().indexOf("PM")>=0&&(w=t.substring(t.toUpperCase().indexOf("PM")-2),w=g.trim(w),y=t.substring(0,t.toUpperCase().indexOf("PM")-2));var b=new Date,x=!1;if(y){for(var _=0;_<v.length;_++)if(y.indexOf(v[_])>=0){c=y.split(v[_]);break}var C=new Array,j=new Array,q=new Array,k=null,T=null;for(_=0;_<c.length;_++){var S=g.parsedate(f=c[_],"d",i)||g.parsedate(f,"dd",i)||g.parsedate(f,"ddd",i)||g.parsedate(f,"dddd",i);if(S&&f.length<=2){k=_,C.push(S.getDate());break}}for(_=0;_<c.length;_++){var I=g.parsedate(f=c[_],"M",i)||g.parsedate(f,"MM",i)||g.parsedate(f,"MMM",i)||g.parsedate(f,"MMMM",i);if(I){if(null!=k&&k==_)continue;if(j.push(I.getMonth()),f.length>2){T=_;break}}}for(_=0;_<c.length;_++){var D=g.parsedate(f=c[_],"yyyy",i);if(D){if(null!=k&&k==_)continue;if(null!=T&&T==_)continue;q.push(D.getFullYear())}}for(var P=new Array,E=0;E<C.length;E++)for(var M=0;M<j.length;M++)for(var A=0;A<q.length;A++)o=new Date(q[A],j[M],C[E]),q[A]<1970&&o.setFullYear(q[A]),NaN!=o.getTime()&&P.push(o);P.length>0&&(b=P[0],x=!0)}if(w){var H=w.indexOf(":")>=0?w.split(":"):w,O=g.parsedate(w,"h:mm tt",i)||g.parsedate(w,"h:mm:ss tt",i)||g.parsedate(w,"HH:mm:ss.fff",i)||g.parsedate(w,"HH:mm:ss.ff",i)||g.parsedate(w,"HH:mm:ss.tttt",i)||g.parsedate(w,"HH:mm:ss",i)||g.parsedate(w,"HH:mm",i)||g.parsedate(w,"HH",i),B=0,z=0,N=0,L=0;O&&NaN!=O.getTime()?(B=O.getHours(),z=O.getMinutes(),N=O.getSeconds(),L=O.getMilliseconds()):(1==H.length&&(B=parseInt(H[0])),2==H.length&&(B=parseInt(H[0]),z=parseInt(H[1])),3==H.length&&(B=parseInt(H[0]),z=parseInt(H[1]),H[2].indexOf(".")>=0?(N=parseInt(H[2].toString().split(".")[0]),L=parseInt(H[2].toString().split(".")[1])):N=parseInt(H[2])),4==H.length&&(B=parseInt(H[0]),z=parseInt(H[1]),N=parseInt(H[2]),L=parseInt(H[3]))),!b||isNaN(B)||isNaN(z)||isNaN(N)||isNaN(L)||(b.setHours(B,z,N,L),x=!0)}if(x)return b}return null})),_defineProperty(t,"getparseregexp",(function(e,t){var i=e._parseRegExp;if(i){var r=i[t];if(r)return r}else e._parseRegExp=i={};for(var n,s=this.expandFormat(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),o=["^"],a=[],l=0,d=0,h=this.getTokenRegExp();null!==(n=h.exec(s));){var u=s.slice(l,n.index);if(l=h.lastIndex,(d+=this.appendPreOrPostMatch(u,o))%2)o.push(n[0]);else{var c,p=n[0],f=p.length;switch(p){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":c="(\\D+)";break;case"tt":case"t":c="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":c="(\\d{"+f+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":c="(\\d\\d?)";break;case"zzz":c="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":c="([+-]?\\d\\d?)";break;case"/":c="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+p+"'."}c&&o.push(c),a.push(n[0])}}this.appendPreOrPostMatch(s.slice(l),o),o.push("$");var m=o.join("").replace(/\s+/g,"\\s+");return i[t]={regExp:m,groups:a}})),_defineProperty(t,"outOfRange",(function(e,t,i){return e<t||e>i})),_defineProperty(t,"expandYear",(function(e,t){var i=new Date,r=this.getEra(i);if(t<100){var n=e.twoDigitYearMax;n="string"==typeof n?(new Date).getFullYear()%100+parseInt(n,10):n;var s=this.getEraYear(i,e,r);(t+=s-s%100)>n&&(t-=100)}return t})),_defineProperty(t,"parsedate",(function(e,t,i){null!=i&&null!=i||(i=this.defaultcalendar()),e=this.trim(e);var r=i,n=this.getparseregexp(r,t),s=new RegExp(n.regExp).exec(e);if(null===s)return null;for(var o,a=n.groups,l=null,d=null,h=null,u=null,c=null,p=0,f=0,m=0,g=0,v=null,w=!1,y=0,b=a.length;y<b;y++){var x=s[y+1];if(x){var _=a[y],C=_.length,j=parseInt(x,10);switch(_){case"dd":case"d":if(this.outOfRange(u=j,1,31))return null;break;case"MMM":case"MMMM":if(h=this.getMonthIndex(r,x,3===C),this.outOfRange(h,0,11))return null;break;case"M":case"MM":if(this.outOfRange(h=j-1,0,11))return null;break;case"y":case"yy":case"yyyy":if(d=C<4?this.expandYear(r,j):j,this.outOfRange(d,0,9999))return null;break;case"h":case"hh":if(12===(p=j)&&(p=0),this.outOfRange(p,0,11))return null;break;case"H":case"HH":if(this.outOfRange(p=j,0,23))return null;break;case"m":case"mm":if(this.outOfRange(f=j,0,59))return null;break;case"s":case"ss":if(this.outOfRange(m=j,0,59))return null;break;case"tt":case"t":if(!(w=r.PM&&(x===r.PM[0]||x===r.PM[1]||x===r.PM[2]))&&(!r.AM||x!==r.AM[0]&&x!==r.AM[1]&&x!==r.AM[2]))return null;break;case"f":case"ff":case"fff":if(g=j*Math.pow(10,3-C),this.outOfRange(g,0,999))return null;break;case"ddd":case"dddd":if(c=this.getDayIndex(r,x,3===C),this.outOfRange(c,0,6))return null;break;case"zzz":var q=x.split(/:/);if(2!==q.length)return null;if(o=parseInt(q[0],10),this.outOfRange(o,-12,13))return null;var k=parseInt(q[1],10);if(this.outOfRange(k,0,59))return null;v=60*o+(this.startsWith(x,"-")?-k:k);break;case"z":case"zz":if(this.outOfRange(o=j,-12,13))return null;v=60*o;break;case"g":case"gg":var T=x;if(!T||!r.eras)return null;T=this.trim(T.toLowerCase());for(var S=0,I=r.eras.length;S<I;S++)if(T===r.eras[S].name.toLowerCase()){l=S;break}if(null===l)return null}}}var D,P=new Date,E=r.convert;if(D=P.getFullYear(),null===d?d=D:r.eras&&(d+=r.eras[l||0].offset),null===h&&(h=0),null===u&&(u=1),E){if(null===(P=E.toGregorian(d,h,u)))return null}else{if(P.setFullYear(d,h,u),P.getDate()!==u)return null;if(null!==c&&P.getDay()!==c)return null}if(w&&p<12&&(p+=12),P.setHours(p,f,m,g),null!==v){var M=P.getMinutes()-(v+P.getTimezoneOffset());P.setHours(P.getHours()+parseInt(M/60,10),M%60)}return P})),_defineProperty(t,"cleardatescache",(function(){this.datescache=new Array})),_defineProperty(t,"formatDate",(function(e,t,i){return this.formatdate(e,t,i)})),_defineProperty(t,"formatdate",(function(e,t,i){if(null!=i&&null!=i||(i=this.defaultcalendar()),"string"==typeof e)return e;var r,n=e.toString()+"_"+t;if(this.datescache&&this.datescache[n]&&-1==t.indexOf("f"))return this.datescache[n];if(!t||!t.length||"i"===t)return this.formatDate(e,i.patterns.F,i);var s=i.eras,o="s"===t;t=this.expandFormat(i,t),r=[];var a,l=["0","00","000"],d=0,h=this.getTokenRegExp();function u(e,t){var i,r=e+"";return t>1&&r.length<t?(i=l[t-2]+r).substr(i.length-t,t):i=r}function c(e,t){if(null!=e.getMonth)switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}for(;;){var p=h.lastIndex,f=h.exec(t),m=t.slice(p,f?f.index:t.length);if(d+=this.appendPreOrPostMatch(m,r),!f)break;if(d%2)r.push(f[0]);else{var g=f[0],v=g.length;switch(g){case"ddd":case"dddd":r.push((3===v?i.days.namesAbbr:i.days.names)[e.getDay()]);break;case"d":case"dd":r.push(u(c(e,2),v));break;case"MMM":case"MMMM":var w=c(e,1);r.push(i.months[3===v?"namesAbbr":"names"][w]);break;case"M":case"MM":r.push(u(c(e,1)+1,v));break;case"y":case"yy":case"yyyy":w=this.getEraYear(e,i,this.getEra(e,s),o),v<4&&(w%=100),r.push(u(w,v));break;case"h":case"hh":0==(a=e.getHours()%12)&&(a=12),r.push(u(a,v));break;case"H":case"HH":r.push(u(e.getHours(),v));break;case"m":case"mm":r.push(u(e.getMinutes(),v));break;case"s":case"ss":r.push(u(e.getSeconds(),v));break;case"t":case"tt":w=e.getHours()<12?i.AM?i.AM[0]:" ":i.PM?i.PM[0]:" ",r.push(1===v?w.charAt(0):w);break;case"f":case"ff":case"fff":r.push(u(e.getMilliseconds(),3).substr(0,v));break;case"z":case"zz":a=e.getTimezoneOffset()/60,r.push((a<=0?"+":"-")+u(Math.floor(Math.abs(a)),v));break;case"zzz":a=e.getTimezoneOffset()/60,r.push((a<=0?"+":"-")+u(Math.floor(Math.abs(a)),2)+":"+u(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":i.eras&&r.push(i.eras[this.getEra(e,s)].name);break;case"/":r.push(i["/"]);break;default:throw"Invalid date format pattern '"+g+"'."}}}var y=r.join("");return this.datescache||(this.datescache=new Array),this.datescache[n]=y,y})),t)),e.jqx.data={};var i,r,n=/#.*$/,s=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,o=/^(?:GET|HEAD)$/,a=/^\/\//,l=/\?/,d=/([?&])_=[^&]*/,h=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,u=/\s+/,c={},p={},f=["*/"]+["*"];try{r=location.href}catch(T){(r=document.createElement("a")).href="",r=r.href}function m(t){return function(i,r){"string"!=typeof i&&(r=i,i="*");var n,s,o=i.toLowerCase().split(u),a=0,l=o.length;if(e.isFunction(r))for(;a<l;a++)(s=/^\+/.test(n=o[a]))&&(n=n.substr(1)||"*"),(t[n]=t[n]||[])[s?"unshift":"push"](r)}}function g(e,t,i,r,n,s){(s=s||{})[n=n||t.dataTypes[0]]=!0;for(var o,a=e[n],l=0,d=a?a.length:0,h=e===c;l<d&&(h||!o);l++)"string"==typeof(o=a[l](t,i,r))&&(!h||s[o]?o=void 0:(t.dataTypes.unshift(o),o=g(e,t,i,r,o,s)));return!h&&o||s["*"]||(o=g(e,t,i,r,"*",s)),o}function v(t,i){var r,n,s=e.jqx.data.ajaxSettings.flatOptions||{};for(r in i)void 0!==i[r]&&((s[r]?t:n||(n={}))[r]=i[r]);n&&e.extend(!0,t,n)}i=h.exec(r.toLowerCase())||[],e.extend(e.jqx.data,{ajaxSetup:function(t,i){return i?v(t,e.jqx.data.ajaxSettings):(i=t,t=e.jqx.data.ajaxSettings),v(t,i),t},ajaxSettings:{url:r,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(i[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":f},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":e.parseJSON,"text xml":e.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:m(c),ajaxTransport:m(p),ajax:function(t,r){"object"==typeof t&&(r=t,t=void 0);var m,v,w,y,b,x,_,C,j=e.jqx.data.ajaxSetup({},r=r||{}),q=j.context||j,k=q!==j&&(q.nodeType||q instanceof e)?e(q):e.event,T=e.Deferred(),S=e.Callbacks("once memory"),I=j.statusCode||{},D={},P={},E=0,M="canceled",A={readyState:0,setRequestHeader:function(e,t){if(!E){var i=e.toLowerCase();e=P[i]=P[i]||e,D[e]=t}return this},getAllResponseHeaders:function(){return 2===E?v:null},getResponseHeader:function(e){var t;if(2===E){if(!w)for(w={};t=s.exec(v);)w[t[1].toLowerCase()]=t[2];t=w[e.toLowerCase()]}return void 0===t?null:t},overrideMimeType:function(e){return E||(j.mimeType=e),this},abort:function(e){return e=e||M,y&&y.abort(e),H(0,e),this}};function H(i,r,n,s){var o,a,l,d,h,u=r;2!==E&&(E=2,b&&clearTimeout(b),y=void 0,v=s||"",A.readyState=i>0?4:0,n&&(d=function(e,t,i){var r,n,s,o,a=e.contents,l=e.dataTypes,d=e.responseFields;for(n in d)n in i&&(t[d[n]]=i[n]);for(;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("content-type"));if(r)for(n in a)if(a[n]&&a[n].test(r)){l.unshift(n);break}if(l[0]in i)s=l[0];else{for(n in i){if(!l[0]||e.converters[n+" "+l[0]]){s=n;break}o||(o=n)}s=s||o}if(s)return s!==l[0]&&l.unshift(s),i[s]}(j,A,n)),i>=200&&i<300||304===i?(j.ifModified&&((h=A.getResponseHeader("Last-Modified"))&&(e.lastModified[m]=h),(h=A.getResponseHeader("Etag"))&&(e.etag[m]=h)),304===i?(u="notmodified",o=!0):(u=(o=function(e,i){var r,n,s,o,a=e.dataTypes.slice(),l=a[0],d={},h=0;if(e.dataFilter&&(i=e.dataFilter(i,e.dataType)),a[1])for(r in e.converters)d[r.toLowerCase()]=e.converters[r];for(;s=a[++h];)if("*"!==s){if("*"!==l&&l!==s){if(!(r=d[l+" "+s]||d["* "+s]))for(n in d)if((o=n.split(" "))[1]===s&&(r=d[l+" "+o[0]]||d["* "+o[0]])){!0===r?r=d[n]:!0!==d[n]&&a.splice(h--,0,s=o[0]);break}if(!0!==r)if(r&&e.throws)i=r(i);else try{i=r(i)}catch(t){return{state:"parsererror",error:r?t:"No conversion from "+l+" to "+s}}}l=s}return{state:"success",data:i}}(j,d)).state,a=o.data,o=!(l=o.error))):(l=u,u&&!i||(u="error",i<0&&(i=0))),A.status=i,A.statusText=(r||u)+"",o?T.resolveWith(q,[a,u,A]):T.rejectWith(q,[A,u,l]),A.statusCode(I),I=void 0,_&&k.trigger("ajax"+(o?"Success":"Error"),[A,j,o?a:l]),S.fireWith(q,[A,u]),_&&(k.trigger("ajaxComplete",[A,j]),--e.active||e.event.trigger("ajaxStop")))}if(T.promise(A),A.success=A.done,A.error=A.fail,A.complete=S.add,A.statusCode=function(e){var t;if(e)if(E<2)for(t in e)I[t]=[I[t],e[t]];else A.always(t=e[A.status]);return this},j.url=((t||j.url)+"").replace(n,"").replace(a,i[1]+"//"),j.dataTypes=e.trim(j.dataType||"*").toLowerCase().split(u),null==j.crossDomain&&(x=h.exec(j.url.toLowerCase()),j.crossDomain=!(!x||x[1]===i[1]&&x[2]===i[2]&&(x[3]||("http:"===x[1]?80:443))==(i[3]||("http:"===i[1]?80:443)))),j.data&&j.processData&&"string"!=typeof j.data&&(j.data=e.param(j.data,j.traditional)),g(c,j,r,A),2===E)return A;if(_=j.global,j.type=j.type.toUpperCase(),j.hasContent=!o.test(j.type),_&&0==e.active++&&e.event.trigger("ajaxStart"),!j.hasContent&&(j.data&&(j.url+=(l.test(j.url)?"&":"?")+j.data,delete j.data),m=j.url,!1===j.cache)){var O=(new Date).getTime(),B=j.url.replace(d,"$1_="+O);j.url=B+(B===j.url?(l.test(j.url)?"&":"?")+"_="+O:"")}for(C in(j.data&&j.hasContent&&!1!==j.contentType||r.contentType)&&A.setRequestHeader("Content-Type",j.contentType),j.ifModified&&(e.lastModified[m=m||j.url]&&A.setRequestHeader("If-Modified-Since",e.lastModified[m]),e.etag[m]&&A.setRequestHeader("If-None-Match",e.etag[m])),A.setRequestHeader("Accept",j.dataTypes[0]&&j.accepts[j.dataTypes[0]]?j.accepts[j.dataTypes[0]]+("*"!==j.dataTypes[0]?", "+f+"; q=0.01":""):j.accepts["*"]),j.headers)A.setRequestHeader(C,j.headers[C]);if(j.beforeSend&&(!1===j.beforeSend.call(q,A,j)||2===E))return A.abort();for(C in M="abort",{success:1,error:1,complete:1})A[C](j[C]);if(y=g(p,j,r,A)){A.readyState=1,_&&k.trigger("ajaxSend",[A,j]),j.async&&j.timeout>0&&(b=setTimeout((function(){A.abort("timeout")}),j.timeout));try{E=1,y.send(D,H)}catch(z){if(!(E<2))throw z;H(-1,z)}}else H(-1,"No Transport");return A},active:0,lastModified:{},etag:{}});var w=[],y=/\?/,b=/(=)\?(?=&|$)|\?\?/,x=(new Date).getTime();e.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=w.pop()||e.expando+"_"+x++;return this[t]=!0,t}}),e.jqx.data.ajaxPrefilter("json jsonp",(function(t,i,r){var n,s,o,a=t.data,l=t.url,d=!1!==t.jsonp,h=d&&b.test(l),u=d&&!h&&"string"==typeof a&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&b.test(a);if("jsonp"===t.dataTypes[0]||h||u)return n=t.jsonpCallback=e.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s=window[n],h?t.url=l.replace(b,"$1"+n):u?t.data=a.replace(b,"$1"+n):d&&(t.url+=(y.test(l)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return o||e.error(n+" was not called"),o[0]},t.dataTypes[0]="json",window[n]=function(){o=arguments},r.always((function(){window[n]=s,t[n]&&(t.jsonpCallback=i.jsonpCallback,w.push(n)),o&&e.isFunction(s)&&s(o[0]),o=s=void 0})),"script"})),e.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return e.globalEval(t),t}}}),e.jqx.data.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)})),e.jqx.data.ajaxTransport("script",(function(e){if(e.crossDomain){var t,i=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(r,n){(t=document.createElement("script")).async="async",e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,r){(r||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,i&&t.parentNode&&i.removeChild(t),t=void 0,r||n(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(0,1)}}}}));var _,C,j=!!window.ActiveXObject&&function(){for(var e in _)_[e](0,1)},q=0;function k(){try{return new window.XMLHttpRequest}catch(e){}}e.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&k()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:k,C=e.jqx.data.ajaxSettings.xhr(),e.extend(e.support,{ajax:!!C,cors:!!C&&"withCredentials"in C}),e.support||(e.support={ajax:!0}),e.support.ajax&&e.jqx.data.ajaxTransport((function(t){var i;if(!t.crossDomain||e.support.cors)return{send:function(r,n){var s,o,a=t.xhr();if(t.username?a.open(t.type,t.url,t.async,t.username,t.password):a.open(t.type,t.url,t.async),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(o in r)a.setRequestHeader(o,r[o])}catch(l){}a.send(t.hasContent&&t.data||null),i=function(e,r){var o,l,d,h,u;try{if(i&&(r||4===a.readyState))if(i=void 0,s&&(a.onreadystatechange=function(){},j&&delete _[s]),r)4!==a.readyState&&a.abort();else{o=a.status,d=a.getAllResponseHeaders(),h={},(u=a.responseXML)&&u.documentElement&&(h.xml=u);try{h.text=a.responseText}catch(c){}try{l=a.statusText}catch(c){l=""}o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=h.text?200:404}}catch(p){r||n(-1,p)}h&&n(o,l,h,d)},t.async?4===a.readyState?setTimeout(i,0):(s=++q,j&&(_||(_={},e(window).unload(j)),_[s]=i),a.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}})),e.jqx.filter=function(){this.operator="and";var t=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],i=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],r=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],n=["EQUAL","NOT_EQUAL"],s=new Array,o=new Array;this.evaluate=function(e){for(var t=!0,i=0;i<s.length;i++){var r=s[i].evaluate(e);t=0==i?r:1==o[i]||"or"==o[i]?t||r:t&&r}return t},this.getfilterscount=function(){return s.length},this.setoperatorsbyfiltertype=function(e,s){switch(e){case"numericfilter":i=s;break;case"stringfilter":t=s;break;case"datefilter":r=s;break;case"booleanfilter":n=s}},this.getoperatorsbyfiltertype=function(e){var s=new Array;switch(e){case"numericfilter":s=i.slice(0);break;case"stringfilter":s=t.slice(0);break;case"datefilter":s=r.slice(0);break;case"booleanfilter":s=n.slice(0)}return s};var a=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+"-"+e()+"-"+e()};this.createfilter=function(e,t,i,r,n,s){if(null==e||null==e)return null;switch(e){case"numericfilter":return new h(t,i.toUpperCase());case"stringfilter":return new l(t,i.toUpperCase());case"datefilter":return new u(t,i.toUpperCase(),n,s);case"booleanfilter":return new d(t,i.toUpperCase());case"custom":return new c(t,i.toUpperCase(),r)}throw new Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'")},this.getfilters=function(){for(var e=new Array,t=0;t<s.length;t++){var i={value:s[t].filtervalue,condition:s[t].comparisonoperator,operator:o[t],type:s[t].type};s[t].data&&(i.id=s[t].data),e[t]=i}return e},this.addfilter=function(e,t){s[s.length]=t,t.key=a(),o[o.length]=e},this.removefilter=function(e){for(var t=0;t<s.length;t++)if(s[t].key==e.key){s.splice(t,1),o.splice(t,1);break}},this.getoperatorat=function(e){return null==e||null==e||e<0||e>s.length?null:o[e]},this.setoperatorat=function(e,t){return null==e||null==e||e<0||e>s.length?null:void(o[t]=t)},this.getfilterat=function(e){return null==e||null==e||e<0||e>s.length?null:s[e]},this.setfilterat=function(e,t){return null==e||null==e||e<0||e>s.length?null:(t.key=a(),void(s[e]=t))},this.clear=function(){s=new Array,o=new Array};var l=function(t,i){this.filtervalue=t,this.comparisonoperator=i,this.type="stringfilter",this.evaluate=function(t){var i=this.filtervalue,r=this.comparisonoperator;if(null==t||null==t||""==t){if("NULL"==r)return!0;if("NOT_NULL"==r)return!1;if("EQUAL"==r&&t==i)return!0;if("NOT_EQUAL"==r&&t!=i)return!0;if("EMPTY"!=r)return!1;if(""==t)return!0}var n="";try{n=t.toString()}catch(v){return!0}var s=function(t,i){switch(r){case"EQUAL":return e.jqx.string.equalsIgnoreCase(t,i);case"EQUAL_CASE_SENSITIVE":return e.jqx.string.equals(t,i);case"NOT_EQUAL":return!e.jqx.string.equalsIgnoreCase(t,i);case"NOT_EQUAL_CASE_SENSITIVE":return!e.jqx.string.equals(t,i);case"CONTAINS":return e.jqx.string.containsIgnoreCase(t,i);case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t,i);case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t,i);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t,i);case"EMPTY":return""==t;case"NOT_EMPTY":return""!=t;case"NOT_NULL":return null!=t;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t,i);case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t,i);case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t,i);case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t,i);default:return!1}},o=new Array;if(i&&i.indexO&&"NOT_EQUAL"!==r&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){if(g=s(n,i))return g;var a=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,l=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,d=i.indexOf(" and ")>=0?i.split(" and "):new Array,h=i.indexOf(" or ")>=0?i.split(" or "):new Array,u=i.indexOf("|")>=0?i.split("|"):new Array;if(u.length>0)for(var c=0;c<u.length;c++)u[c]=e.trim(u[c]);var p=i.indexOf(" ")>=0?i.split(" "):new Array;if(p.length>0)for(c=0;c<p.length;c++)p[c]=e.trim(p[c]);if(a=(a=a.concat(p)).concat(d),l=(l=l.concat(u)).concat(h),a.length>0)for(c=0;c<a.length;c++)!a[c].indexOf(" OR ")>=0&&o.push(a[c]);if(l.length>0)for(c=0;c<l.length;c++)!l[c].indexOf(" AND ")>=0&&o.push(l[c]);for(var f=void 0,m=0;m<o.length;m++){var g=s(n,t=o[m]);f=null==f?g:"or"==(m<a.length?"and":"or")?f||g:f&&g}return f}return s(n,i)}},d=function(e,t){this.filtervalue=e,this.comparisonoperator=t,this.type="booleanfilter",this.evaluate=function(e){var t=this.filtervalue,i=this.comparisonoperator;if(null==e||null==e)return"NULL"==i;var r=e;switch(i){case"EQUAL":return r==t||r.toString()==t.toString();case"NOT_EQUAL":return r!=t&&r.toString()!=t.toString();default:return!1}}},h=function(t,i){this.filtervalue=t,this.comparisonoperator=i,this.type="numericfilter",this.evaluate=function(t){var i=this.filtervalue,r=this.comparisonoperator;if(null==t||""===t){if("NOT_NULL"==r)return!1;if("NULL"==r)return!0;switch(r){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i}return!1}if("NULL"==r)return!1;if("NOT_NULL"==r)return!0;var n=t;try{n=parseFloat(n)}catch(v){if(""!=t.toString())return!1}var s=function(t,i){switch(r){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i;case"GREATER_THAN":return t>i;case"GREATER_THAN_OR_EQUAL":return t>=i;case"LESS_THAN":return t<i;case"LESS_THAN_OR_EQUAL":return t<=i;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),i.toString());case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),i.toString());case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),i.toString());case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),i.toString());default:return!0}},o=new Array;if(i&&i.indexOf&&(i=i.replace("$","")),i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){if(g=s(n,i))return g;var a=(i=i.toString()).indexOf(" AND ")>=0?i.split(" AND "):new Array,l=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,d=i.indexOf(" and ")>=0?i.split(" and "):new Array,h=i.indexOf(" or ")>=0?i.split(" or "):new Array;a=a.concat(d),l=l.concat(h);var u=i.indexOf("|")>=0?i.split("|"):new Array;if(u.length>0)for(var c=0;c<u.length;c++)u[c]=e.trim(u[c]);if(l=l.concat(u),a.length>0)for(c=0;c<a.length;c++)!a[c].indexOf(" OR ")>=0&&o.push(a[c]);if(l.length>0)for(c=0;c<l.length;c++)!l[c].indexOf(" AND ")>=0&&o.push(l[c]);for(var p=void 0,f=0;f<o.length;f++){if((t=o[f])&&t.indexOf&&t.indexOf("..")>=0){var m=t.toString().split("..");2==m.length&&(g=n>=m[0]&&n<=m[1])}else var g=s(n,t);p=null==p?g:"or"==(f<a.length?"and":"or")?p||g:p&&g}return p}return i&&i.indexOf&&i.indexOf("..")>=0&&2==(o=i.toString().split("..")).length?n>=o[0]&&n<=o[1]:s(n,i)}},u=function(t,i,r,n){this.filtervalue=t,this.type="datefilter";var s=this;if(null!=r&&null!=n){var o=e.jqx.dataFormat.parsedate(t,r,n);if(null!=o)this.filterdate=o;else{var a=e.jqx.dataFormat.tryparsedate(t,n);null!=a&&(this.filterdate=a)}}else{var l=new Date(t);this.filterdate="NaN"==l.toString()||"Invalid Date"==l.toString()?e.jqx.dataFormat.tryparsedate(t):l}this.filterdate||(l=new Date(t),this.filterdate="NaN"==l.toString()||"Invalid Date"==l.toString()?e.jqx.dataFormat.tryparsedate(t):l),this.comparisonoperator=i,this.evaluate=function(t){var i=this.filtervalue,o=this.comparisonoperator;if(null==t||null==t||""==t){if("NOT_NULL"==o)return!1;if("NULL"==o)return!0;switch(o){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i}return!1}if("NULL"==o)return!1;if("NOT_NULL"==o)return!0;var a=new Date;a.setFullYear(1900,0,1),a.setHours(12,0,0,0);try{var l=new Date(t);a=t="NaN"==l.toString()||"Invalid Date"==l.toString()?e.jqx.dataFormat.tryparsedate(t):l;var d=!1;null!=r&&null!=n&&(r.indexOf("t")>=0||r.indexOf("T")>=0||r.indexOf(":")>=0||r.indexOf("f")>=0)&&(d=!0,i&&-1==i.toString().indexOf(":")&&null!=(C=e.jqx.dataFormat.tryparsedate(i.toString()+":00",n))&&(s.filterdate=C)),null!=r&&(r.indexOf("hh")>=0||r.indexOf("t")>=0)&&(d=!0),d||(a.setHours(0),a.setMinutes(0),a.setSeconds(0))}catch(j){if(""!=t.toString())return!1}if(null!=s.filterdate)i=s.filterdate;else if(i&&i.indexOf&&(-1!=i.indexOf(":")||!isNaN(parseInt(i)))){var h=new Date(a);h.setHours(12,0,0,0);for(var u=i.split(":"),c=0;c<u.length;c++)0==c&&h.setHours(u[c]),1==c&&h.setMinutes(u[c]),2==c&&h.setSeconds(u[c]);i=h}d&&i&&i.setFullYear&&a&&a.getFullYear&&-1==r.indexOf("d")&&-1==r.indexOf("M")&&-1==r.indexOf("y")&&i.setFullYear(a.getFullYear(),a.getMonth(),a.getDate());var p=function(t,i){switch(null==t&&(t=""),o){case"EQUAL":return t.toString()==i.toString();case"NOT_EQUAL":return t.toString()!=i.toString();case"GREATER_THAN":return t>i;case"GREATER_THAN_OR_EQUAL":return t>=i;case"LESS_THAN":return t<i;case"LESS_THAN_OR_EQUAL":return t<=i;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),i.toString());case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),i.toString());case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),i.toString());case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),i.toString());default:return!0}},f=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){if(C=p(a,i))return C;var m=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,g=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,v=i.indexOf(" and ")>=0?i.split(" and "):new Array,w=i.indexOf(" or ")>=0?i.split(" or "):new Array;m=m.concat(v),g=g.concat(w);var y=i.indexOf("|")>=0?i.split("|"):new Array;if(y.length>0)for(c=0;c<y.length;c++)y[c]=e.trim(y[c]);if(g=g.concat(y),m.length>0)for(c=0;c<m.length;c++)!m[c].indexOf(" OR ")>=0&&f.push(m[c]);if(g.length>0)for(c=0;c<g.length;c++)!g[c].indexOf(" AND ")>=0&&f.push(g[c]);for(var b=void 0,x=0;x<f.length;x++){if((t=f[x])&&t.indexOf&&t.indexOf("..")>=0){var _=t.toString().split("..");2==_.length&&(C=a>=_[0]&&a<=_[1])}else var C=p(a,t);b=null==b?C:"or"==(x<m.length?"and":"or")?b||C:b&&C}return b}return i&&i.indexOf&&i.indexOf("..")>=0&&2==(f=i.toString().split("..")).length?a>=f[0]&&a<=f[1]:p(a,i)}},c=function(e,t,i){this.filtervalue=e,this.comparisonoperator=t,this.evaluate=function(e,t){return i(this.filtervalue,e,this.comparisonoperator)}}}}(jqxBaseFramework)},CwaN:function(e,t){var i;(i=jqxBaseFramework).extend(i.jqx._jqxGrid.prototype,{_initpager:function(){var e=this.that,t=this.gridlocalization.pagergotopagestring,r=this.gridlocalization.pagershowrowsstring,n=(this.pagerheight-28)/2;if(this.pagerdiv=this.pagerdiv||i('<div style="line-height: 26px; width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.vScrollBar.jqxScrollBar({thumbSize:0});if("material"===this.pagermode){var s=function(){var t=i("<div style='margin-top: 5px; width: 100%; height: 100%;'></div>"),r=document.createElement("style");r.innerHTML=".jqx-center{text-align:center}.jqx-pagination{display:inline-block}.jqx-pagination span{float:left;text-decoration:none;transition:background-color .3s;border-style:solid;border-width:1px;margin:0 4px;border-radius:100%;width:38px;height:38px;display:flex;justify-content:center;align-content:center;align-items:center;cursor:pointer}",t[0].appendChild(r);var n=e.getdatainformation().paginginformation,s=(document.querySelector("#pager"),document.createElement("div"));s.classList.add("jqx-center");for(var o="<span>\u276e</span>",a=0;a<n.pagesize;a++)o+="<span>"+n.pagenum+a+"1</span>";s.innerHTML='<div class="jqx-pagination">'+(o+="<span>\u276f</span>")+"</div>",t[0].appendChild(s);var l=s.querySelectorAll("span"),d=e.theme,h=function(e,t,i){e.classList.add("jqx-grid-column-header"),"hover"===i&&e.classList[t]("jqx-fill-state-hover"),d&&(e.classList.add("jqx-grid-column-header-"+d),"hover"===i&&e.classList[t]("jqx-fill-state-hover-"+d)),"pressed"===i&&(e.classList[t]("active"),e.classList[t]("jqx-grid-cell-selected"),d&&e.classList[t]("jqx-grid-cell-selected-"+d))};for(a=0;a<l.length;a++){var u=l[a];a>0&&a<l.length-1?(u.innerHTML=n.pagenum+a,u.setAttribute("data-page",a)):(0===a&&u.setAttribute("data-page","prev"),a===l.length-1&&u.setAttribute("data-page","next")),a===n.pagenum+1&&h(u,"add","pressed"),h(u,"add","normal"),u.onmouseenter=function(){h(this,"add","hover")},u.onmouseleave=function(){h(this,"remove","hover")},u.onpointerdown=function(){h(this,"add","pressed")},u.onclick=function(){for(var t=0;t<l.length;t++)h(l[t],"remove","pressed");var i=this.getAttribute("data-page"),r=e.getdatainformation(),n=r.paginginformation;"prev"===i&&n.pagenum>0?e.gotoprevpage():"next"===i&&n.pagenum<n.pagescount-1?e.gotonextpage():"prev"!==i&&"next"!==i&&(i=parseInt(i),e.gotopage(i-1));var s=!1,o=null;n=(r=e.getdatainformation()).paginginformation;for(var a=0;a<l.length;a++){var d=l[a];(i=parseInt(d.getAttribute("data-page")))===n.pagenum+1&&h(d,"add","pressed");var u=parseInt(l[1].getAttribute("data-page"))-1,c=[u,u+n.pagesize];(n.pagenum<c[0]||n.pagenum>=c[1])&&a>0&&a<l.length-1&&(o?o++:o=Math.max(1,n.pagenum-n.pagesize+a+1),d.innerHTML=o,s=!0)}if(s)for(a=1;a<l.length-1;a++){d=l[a];var p=parseInt(d.innerHTML);p===n.pagenum+1&&h(d,"add","pressed"),d.setAttribute("data-page",p)}return!1}}return t}();this.pagerdiv.children().remove(),this.pagerdiv.append(i(s)),this.pager.append(this.pagerdiv)}else if(this.pagerrenderer)this.pagerdiv.children().remove(),null!=(s=this.pagerrenderer())&&this.pagerdiv.append(i(s)),this.pager.append(this.pagerdiv);else{if(this.pagerdiv.css("top",n),this.pager.append(this.pagerdiv),this.pagergotoinput=this.pagergotoinput||i('<div style="margin-right: 12px; height: 28px; float: right;"><input style="height:100%; box-sizing: border-box; text-align: right; width: 36px;" type="text"/></div>'),this.pagergoto=this.pagergoto||i('<div style="float: right; margin-right: 7px;"></div>'),this.pagerrightbutton=this.pagerrightbutton||i('<div type="button" style="padding: 0px; margin-right: 3px; height:26px; width: 26px; float: right;"></div>'),this.pagerleftbutton=this.pagerleftbutton||i('<div type="button" style="padding: 0px; margin-right: 3px; height:26px; width: 26px; float: right;"></div>'),this.pagerdetails=this.pagerdetails||i('<div style="margin-right: 7px; float: right;"></div>'),this.pagershowrows=this.pagershowrows||i('<div style="margin-right: 7px; float: right;"></div>'),this.pagerbuttons=i('<div style="margin-right: 3px; float: right;"></div>'),this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList&&(this.pagershowrowscombo.remove(),this.pagershowrowscombo=null),this.pagergotoinput.attr("disabled",this.disabled),this.pagerfirstbutton=i('<div type="button" style="padding: 0px; margin-left: 3px; margin-right: 3px; width: 26px; float: right;"></div>'),this.pagerlastbutton=i('<div type="button" style="padding: 0px; margin-right: 3px; width: 26px; float: right;"></div>'),this.pagershowrowscombo=this.pagershowrowscombo||i('<div id="gridpagerlist" style="margin-right: 7px; float: right;"></div>'),this.pagerdiv.children().remove(),this.pagershowrowscombo[0].id="gridpagerlist"+this.element.id,this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.removeHandler(this.pagerfirstbutton,"mousedown"),this.removeHandler(this.pagerfirstbutton,"mouseup"),this.removeHandler(this.pagerfirstbutton,"click"),this.removeHandler(this.pagerlastbutton,"mousedown"),this.removeHandler(this.pagerlastbutton,"mouseup"),this.removeHandler(this.pagerlastbutton,"click"),this.pagerleftbutton.attr("title",this.gridlocalization.pagerpreviousbuttonstring),this.pagerrightbutton.attr("title",this.gridlocalization.pagernextbuttonstring),"simple"==this.pagermode){i.jqx.browser.msie&&i.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var o=i("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>");o.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(o);var a=i("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>");a.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(a),this.rtl?(this.pagerdiv.append(this.pagerlastbutton),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerfirstbutton)):(this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton)),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme});var l=this.rtl?"right":"left";this.pagerbuttons.css("float",l),this.pagerlastbutton.css("float",l),this.pagerfirstbutton.css("float",l),this.pagerrightbutton.css("float",l),this.pagerleftbutton.css("float",l),this.pagerdetails.css("float",this.rtl?"left":"right"),this.rtl?(this.pagerdetails.css("margin-left","7px"),this.pagerdetails.css("margin-right","0px")):(this.pagerdetails.css("margin-left","0px"),this.pagerdetails.css("margin-right","7px")),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show(),this.rtl||(this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton));this.pagerrightbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var d=i("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>");d.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(d);var h=i("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>");h.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(h),this.pagerdiv.append(this.pagerdetails),"simple"!=this.pagermode&&(this.rtl?(this.pagerdiv.append(this.pagergoto),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagerdetails),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton)):(this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagergoto)));var u=this.pagesizeoptions;if(!this.pagershowrowscombo.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");this.pagershowrowscombo.jqxDropDownList({rtl:this.rtl,disabled:this.disabled,source:u,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:"auto",height:28,theme:this.theme});for(var c=0,p=0;p<u.length;p++)this.pagesize>=u[p]&&(c=p);this.pagershowrows[0].innerHTML=r,this.pagergoto[0].innerHTML=t,this.updatepagerdetails(),this.pagershowrowscombo.jqxDropDownList({selectedIndex:c}),this.pagerpageinput=this.pagergotoinput.find("input"),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.rtl&&this.pagerpageinput.css("direction","rtl");var f=6+(this.columns.records?this.columns.records.length:this.columns.length);this.pagerpageinput.attr("tabindex",f++),this.pagershowrowscombo.attr("tabindex",f++),this.pagerleftbutton.attr("tabindex",f++),this.pagerrightbutton.attr("tabindex",f++),e=this.that,this.removeHandler(this.pagershowrowscombo,"select"),this.addHandler(this.pagershowrowscombo,"select",(function(t){if(t.args){e.vScrollInstance&&e.vScrollInstance.setPosition(0),null!=e.editcell&&e.endcelledit&&e.endcelledit(e.editcell.row,e.editcell.column,!0,!1);var i=e.dataview.pagenum*e.dataview.pagesize,r=e.pagesize;e.pagesize=parseInt(u[t.args.index]),isNaN(e.pagesize)&&(e.pagesize=10),e.dataview.pagesize=e.pagesize;var n=Math.floor(i/e.dataview.pagesize);e.prerenderrequired=!0,e._requiresupdate=!0,e._raiseEvent(10,{pagenum:n,oldpagesize:r,pagesize:e.dataview.pagesize}),e.gotopage(n),e.autoheight&&e._updatesizeonwindowresize&&(e._updatesize(!0),setTimeout((function(){e._updatesize(!0)}),500)),setTimeout((function(){e.pagershowrowscombo.focus()}),25)}}));var m=this.pagergotoinput.find("input");m.addClass(this.toThemeProperty("jqx-grid-pager-input")),m.addClass(this.toThemeProperty("jqx-rc-all")),this.removeHandler(m,"keydown"),this.removeHandler(m,"change"),this.addHandler(m,"keydown",(function(t){if(t.keyCode>=65&&t.keyCode<=90)return!1;if("13"==t.keyCode){var i=m.val();return i=parseInt(i),isNaN(i)||(e.gotopage(i-1),setTimeout((function(){m.focus()}),25)),!1}})),this.addHandler(m,"change",(function(){var t=m.val();t=parseInt(t),isNaN(t)||(e.gotopage(t-1),setTimeout((function(){m.focus()}),25))})),this.addHandler(this.pagerrightbutton,"mouseenter",(function(){h.addClass(e.toThemeProperty("jqx-icon-arrow-right-hover"))})),this.addHandler(this.pagerleftbutton,"mouseenter",(function(){d.addClass(e.toThemeProperty("jqx-icon-arrow-left-hover"))})),this.addHandler(this.pagerrightbutton,"mouseleave",(function(){h.removeClass(e.toThemeProperty("jqx-icon-arrow-right-hover"))})),this.addHandler(this.pagerleftbutton,"mouseleave",(function(){d.removeClass(e.toThemeProperty("jqx-icon-arrow-left-hover"))})),this.addHandler(this.pagerrightbutton,"mousedown",(function(){h.addClass(e.toThemeProperty("jqx-icon-arrow-right-selected"))})),this.addHandler(this.pagerrightbutton,"mouseup",(function(){h.removeClass(e.toThemeProperty("jqx-icon-arrow-right-selected"))})),this.addHandler(this.pagerleftbutton,"mousedown",(function(){d.addClass(e.toThemeProperty("jqx-icon-arrow-left-selected"))})),this.addHandler(this.pagerleftbutton,"mouseup",(function(){d.removeClass(e.toThemeProperty("jqx-icon-arrow-left-selected"))})),this.addHandler(i(document),"mouseup.pagerbuttons"+this.element.id,(function(){h.removeClass(e.toThemeProperty("jqx-icon-arrow-right-selected")),d.removeClass(e.toThemeProperty("jqx-icon-arrow-left-selected"))})),this.addHandler(this.pagerrightbutton,"click",(function(){e.pagerrightbutton.jqxButton("disabled")||(e.rtl?e.gotoprevpage():e.gotonextpage())})),this.addHandler(this.pagerleftbutton,"click",(function(){e.pagerleftbutton.jqxButton("disabled")||(e.rtl?e.gotonextpage():e.gotoprevpage())})),this.addHandler(this.pagerrightbutton,"keydown",(function(t){13===t.keyCode&&(e.pagerrightbutton.jqxButton("disabled")||(e.rtl?e.gotoprevpage():e.gotonextpage(),setTimeout((function(){e.pagerrightbutton.focus()}),25)))})),this.addHandler(this.pagerleftbutton,"keydown",(function(t){13===t.keyCode&&(e.pagerleftbutton.jqxButton("disabled")||(e.rtl?e.gotonextpage():e.gotoprevpage(),setTimeout((function(){e.pagerleftbutton.focus()}),25)))}));var g=this;if("simple"===this.pagermode){var v=this.pagerfirstbutton,w=this.pagerlastbutton;this.addHandler(w,"mouseenter",(function(){a.addClass(g.toThemeProperty("jqx-icon-arrow-last-hover"))})),this.addHandler(v,"mouseenter",(function(){o.addClass(g.toThemeProperty("jqx-icon-arrow-first-hover"))})),this.addHandler(w,"mouseleave",(function(){a.removeClass(g.toThemeProperty("jqx-icon-arrow-last-hover"))})),this.addHandler(v,"mouseleave",(function(){o.removeClass(g.toThemeProperty("jqx-icon-arrow-first-hover"))})),this.addHandler(w,"mousedown",(function(){a.addClass(g.toThemeProperty("jqx-icon-arrow-last-selected"))})),this.addHandler(v,"mousedown",(function(){o.addClass(g.toThemeProperty("jqx-icon-arrow-first-selected"))})),this.addHandler(w,"mouseup",(function(){a.removeClass(g.toThemeProperty("jqx-icon-arrow-last-selected"))})),this.addHandler(v,"mouseup",(function(){o.removeClass(g.toThemeProperty("jqx-icon-arrow-first-selected"))})),this.addHandler(i(document),"mouseup.pagerbuttons"+name+this.element.id,(function(){h.removeClass(g.toThemeProperty("jqx-icon-arrow-right-selected")),d.removeClass(g.toThemeProperty("jqx-icon-arrow-left-selected")),a&&(a.removeClass(g.toThemeProperty("jqx-icon-arrow-last-selected")),o.removeClass(g.toThemeProperty("jqx-icon-arrow-first-selected")))})),this.addHandler(v,"click",(function(){if(!v.jqxButton("disabled"))if(g.rtl){var e=Math.ceil(g.dataview.totalrecords/g.pagesize);g.gotopage(e-1)}else g.gotopage(0)})),this.addHandler(w,"click",(function(){if(!w.jqxButton("disabled"))if(g.rtl)g.gotopage(0);else{var e=Math.ceil(g.dataview.totalrecords/g.pagesize);g.gotopage(e-1)}}))}}this.vScrollBar.jqxScrollBar("refresh"),this._arrange()},_updatepagertheme:function(){if(null!=this.pagershowrowscombo){this.pagershowrowscombo.jqxDropDownList({theme:this.theme}),this.pagerrightbutton.jqxButton({theme:this.theme}),this.pagerleftbutton.jqxButton({theme:this.theme}),this.pagerpageinput.removeClass();var e=this.pagergotoinput.find("input");e.removeClass(),e.addClass(this.toThemeProperty("jqx-grid-pager-input")),e.addClass(this.toThemeProperty("jqx-rc-all")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var t=i("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");t.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(t);var r=i("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");if(r.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(r),"simple"==this.pagermode){i.jqx.browser.msie&&i.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var n=i("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");n.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(n);var s=i("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");s.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(s),this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerbuttons.css("float","left"),this.pagerlastbutton.css("float","left"),this.pagerfirstbutton.css("float","left"),this.pagerrightbutton.css("float","left"),this.pagerleftbutton.css("float","left"),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show();var o=function(e,t){e.removeHandler(t,"mouseenter"),e.removeHandler(t,"mouseleave"),e.removeHandler(t,"mousedown"),e.removeHandler(t,"mouseup")};o(this,this.pagerrightbutton),o(this,this.pagerleftbutton);var a=this.that;this.addHandler(this.pagerrightbutton,"mouseenter",(function(){r.addClass(a.toThemeProperty("jqx-icon-arrow-right-hover"))})),this.addHandler(this.pagerleftbutton,"mouseenter",(function(){t.addClass(a.toThemeProperty("jqx-icon-arrow-left-hover"))})),this.addHandler(this.pagerrightbutton,"mouseleave",(function(){r.removeClass(a.toThemeProperty("jqx-icon-arrow-right-hover"))})),this.addHandler(this.pagerleftbutton,"mouseleave",(function(){t.removeClass(a.toThemeProperty("jqx-icon-arrow-left-hover"))})),this.addHandler(this.pagerrightbutton,"mousedown",(function(){r.addClass(a.toThemeProperty("jqx-icon-arrow-right-selected"))})),this.addHandler(this.pagerrightbutton,"mouseup",(function(){r.removeClass(a.toThemeProperty("jqx-icon-arrow-right-selected"))})),this.addHandler(this.pagerleftbutton,"mousedown",(function(){t.addClass(a.toThemeProperty("jqx-icon-arrow-left-selected"))})),this.addHandler(this.pagerleftbutton,"mouseup",(function(){t.removeClass(a.toThemeProperty("jqx-icon-arrow-left-selected"))}))}},gotopage:function(e){if(null!=e&&null!=e||(e=0),-1==e&&(e=0),!(e<0)){var t=this.dataview.totalrecords;this.summaryrows&&(t+=this.summaryrows.length);var i=this.pagenum;this._raiseEvent(25,{oldpagenum:this.dataview.pagenum,pagenum:e,pagesize:this.dataview.pagesize});var r=Math.ceil(t/this.pagesize);if(e>=r&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),e>0&&(e=r-1),e<0&&(e=0)),(this.dataview.pagenum!=e||this._requiresupdate)&&this.pageable){if(this.source.pager&&this.source.pager(e,this.dataview.pagesize,this.dataview.pagenum),this.dataview.pagenum=e,this.virtualmode){if(this.hiddens=new Array,this.expandedgroups=new Array,this.rendergridrows){var n=e*this.dataview.pagesize;if(null!=n&&null!=n+this.dataview.pagesize)return this.pagerrightbutton&&(this.pagerrightbutton.jqxButton({disabled:!0}),this.pagerleftbutton.jqxButton({disabled:!0}),this.pagershowrowscombo.jqxDropDownList({disabled:!0})),this.pagerfirstbutton&&(this.pagerfirstbutton.jqxButton({disabled:!0}),this.pagerlastbutton.jqxButton({disabled:!0})),this.updatebounddata("pagechanged"),this._raiseEvent(9,{pagenum:e,oldpagenum:i,pagesize:this.dataview.pagesize}),this.updatepagerdetails(),void(this.autosavestate&&this.savestate&&this.savestate())}}else this.dataview.updateview();this._loadrows(),this._updatepageviews(),this.tableheight=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.updatepagerdetails(),(this.autoheight||this.autorowheight)&&this.host.height()-this._gettableheight()+this._pageviews[0].height!=this.host.height()&&(this._arrange(),this._updatepageviews(),this.autorowheight&&this._renderrows(this.virtualsizeinfo)),null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1),this.focus(),this._raiseEvent(9,{pagenum:e,oldpagenum:i,pagesize:this.dataview.pagesize}),this.autosavestate&&this.savestate&&this.savestate()}}},gotoprevpage:function(){if(this.dataview.pagenum>0)this.gotopage(this.dataview.pagenum-1);else if("simple"!=this.pagermode){var e=this.dataview.totalrecords;this.summaryrows&&(e+=this.summaryrows.length);var t=Math.ceil(e/this.pagesize);this.gotopage(t-1)}},gotonextpage:function(){var e=this.dataview.totalrecords;this.summaryrows&&(e+=this.summaryrows.length);var t=Math.ceil(e/this.pagesize);this.dataview.pagenum<t-1?this.gotopage(this.dataview.pagenum+1):"simple"!=this.pagermode&&this.gotopage(0)},updatepagerdetails:function(){if(null!=this.pagerdetails&&this.pagerdetails.length>0){var e=this.dataview.pagenum*this.pagesize,t=(this.dataview.pagenum+1)*this.pagesize;t>=this.dataview.totalrecords&&(t=this.dataview.totalrecords);var r=this.dataview.totalrecords;this.summaryrows&&(r+=this.summaryrows.length,(this.dataview.pagenum+1)*this.pagesize>this.dataview.totalrecords&&(t=r)),e++;var n=Math.ceil(r/this.dataview.pagesize);if(n>=1&&n--,n++,"simple"!==this.pagermode)this.pagergotoinput.find("input").val(this.dataview.pagenum+1);else{var s="",o=this.pagerbuttonscount;0!=o&&o||(o=5);var a=0;for(this.rtl&&(a=o-1);this.rtl&&a>=0||!this.rtl&&a<o;){var l=1+a;l+=Math.floor(this.dataview.pagenum/o)*o;var d=this.toTP("jqx-grid-pager-number");if(d+=" "+this.toTP("jqx-rc-all"),l>n)break;this.rtl||0==a&&l>o&&(s+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+(-1+l)+"'>...</a>"),this.dataview.pagenum===l-1&&(d+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl?(a===o-1&&(d=this.toTP("jqx-grid-pager-number"),d+=" "+this.toTP("jqx-rc-all"),n>=1+l&&(s+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+(1+l)+"'>...</a>")),this.dataview.pagenum===l-1&&(d+=" "+this.toTP("jqx-fill-state-pressed")),s+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+l+"'>"+l+"</a>"):(s+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+l+"'>"+l+"</a>",a===o-1&&(d=this.toTP("jqx-grid-pager-number"),d+=" "+this.toTP("jqx-rc-all"),n>=1+l&&(s+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+(1+l)+"'>...</a>"))),this.rtl&&(d=this.toTP("jqx-grid-pager-number"),d+=" "+this.toTP("jqx-rc-all"),0==a&&l>o&&(s+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+(-1+l)+"'>...</a>")),this.rtl?a--:a++}var h=this.pagerbuttons.find("a");this.removeHandler(h,"click"),this.removeHandler(h,"mouseenter"),this.removeHandler(h,"mouseleave"),this.pagerbuttons[0].innerHTML=s;var u=this;h=this.pagerbuttons.find("a"),u.addHandler(h,"click",(function(e){var t=i(e.target).attr("data-page");return u.gotopage(parseInt(t)-1),!1})),u.addHandler(h,"mouseenter",(function(e){i(e.target).addClass(u.toTP("jqx-fill-state-hover"))})),u.addHandler(h,"mouseleave",(function(e){i(e.target).removeClass(u.toTP("jqx-fill-state-hover"))}))}this.pagergotoinput.attr("title","1 - "+n),0==t&&t<e&&(e=0),this.pagerdetails[0].innerHTML=this.rtl?r+this.gridlocalization.pagerrangestring+t+"-"+e:e+"-"+t+this.gridlocalization.pagerrangestring+r,e>t&&this.gotoprevpage()}},_updatepagedview:function(e,t,i){var r=this.that;this.dataview.rows.length!=this.dataview.pagesize&&this.dataview.updateview();for(var n=this.dataview.rows.length,s=0;s<n;s++){var o=this.dataview.rows[s].visibleindex,a={index:o,height:this.heights[o],hidden:this.hiddens[o],details:this.details[o]};if(null==this.heights[o]&&(this.heights[o]=this.rowsheight,a.height=this.rowsheight),null==this.hiddens[o]&&(this.hiddens[o]=!1,a.hidden=!1),null==this.details[o]&&(this.details[o]=null),a.height!=r.rowsheight&&(t-=r.rowsheight,t+=a.height),a.hidden)t-=a.height;else{i+=a.height;var l=0;this.rowdetails&&a.details&&a.details.rowdetails&&!a.details.rowdetailshidden&&(i+=l=a.details.rowdetailsheight,t+=l)}}return this._pageviews[0]={top:0,height:i},t}})},HhK0:function(e,t){var i;(i=jqxBaseFramework).jqx.jqxWidget("jqxListBox","",{}),i.extend(i.jqx._jqxListBox.prototype,{defineInstance:function(){var e={disabled:!1,checkboxSize:16,checkboxes:!1,width:null,height:null,items:new Array,multiple:!1,selectedIndex:-1,selectedIndexes:new Array,source:null,scrollBarSize:i.jqx.utilities.scrollBarSize,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",hasThreeStates:!1,autoHeight:!1,autoItemsHeight:!1,roundedcorners:!0,touchMode:"auto",displayMember:"",groupMember:"",valueMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:1e3,incrementalSearchKeyDownDelay:300,allowDrag:!1,allowDrop:!0,dropAction:"default",touchModeStyle:"auto",keyboardNavigation:!0,enableMouseWheel:!0,multipleextended:!1,selectedValues:new Array,emptyString:"",rtl:!1,rendered:null,renderer:null,dragStart:null,dragEnd:null,focusable:!0,ready:null,_checkForHiddenParent:!0,autoBind:!0,_renderOnDemand:!1,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,filterChange:null,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["select","unselect","change","checkChange","dragStart","dragEnd","bindingComplete","itemAdd","itemRemove","itemUpdate"]};return this===i.jqx._jqxListBox.prototype||i.extend(!0,this,e),e},createInstance:function(e){var t=this;15!=i.jqx.utilities.scrollBarSize&&(t.scrollBarSize=i.jqx.utilities.scrollBarSize),null==t.width&&(t.width=200),null==t.height&&(t.height=200),t.renderListBox();var r=t;i.jqx.utilities.resize(t.host,(function(){r._updateSize()}),!1,t._checkForHiddenParent)},resize:function(e,t){this.width=e,this.height=t,this._updateSize()},render:function(){this.renderListBox(),this.refresh()},renderListBox:function(){var e=(a=this).element.nodeName.toLowerCase();if("select"==e||"ul"==e||"ol"==e){a.field=a.element,a.field.className&&(a._className=a.field.className);var t={title:a.field.title};t.id=a.field.id.length?a.field.id.replace(/[^\w]/g,"_")+"_jqxListBox":i.jqx.utilities.createId()+"_jqxListBox";var r=i("<div></div>",t);a.width||(a.width=i(a.field).width()),a.height||(a.height=i(a.field).outerHeight()),a.element.style.cssText=a.field.style.cssText,i(a.field).hide().after(r);var n=a.host.data();if(a.host=r,a.host.data(n),a.element=r[0],a.element.id=a.field.id,a.field.id=t.id,a._className&&(a.host.addClass(a._className),i(a.field).removeClass(a._className)),a.field.tabIndex){var s=a.field.tabIndex;a.field.tabIndex=-1,a.element.tabIndex=s}}else if(a.host.find("li").length>0||a.host.find("option").length>0){var o=i.jqx.parseSourceTag(a.element);a.source=o.items}a.element.innerHTML="";var a,l=(a=a).element.className;l+=" "+a.toThemeProperty("jqx-listbox"),l+=" "+a.toThemeProperty("jqx-reset"),l+=" "+a.toThemeProperty("jqx-rc-all"),l+=" "+a.toThemeProperty("jqx-widget"),l+=" "+a.toThemeProperty("jqx-widget-content"),a.element.className=l;var d=window.getComputedStyle(this.element),h=2*parseInt(d.borderLeftWidth);0===this.element.offsetWidth&&(h=2),("border-box"===d.boxSizing||isNaN(h))&&(h=0),null!=a.width&&-1!=a.width.toString().indexOf("%")&&(a.host.width(a.width),h>0&&this.host.css("box-sizing","border-box")),null!=a.height&&-1!=a.height.toString().indexOf("%")&&(a.host.height(a.height),0==a.host.height()&&a.host.height(200)),null!=a.width&&-1!=a.width.toString().indexOf("px")?a.element.style.width=parseInt(a.width)-h+"px":null==a.width||isNaN(a.width)||(a.element.style.width=parseInt(a.width)-h+"px"),null!=a.height&&-1!=a.height.toString().indexOf("px")?a.element.style.height=parseInt(a.height)-h+"px":null==a.height||isNaN(a.height)||(a.element.style.height=parseInt(a.height)-h+"px"),i.jqx.aria(a,"aria-multiselectable",!!(a.multiple||a.multipleextended||a.checkboxes));var u="<div style='-webkit-appearance: none; background: transparent; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div style='-webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='filter"+a.element.id+"' style='display: none; visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><input style='position: absolute;'/></div><div id='listBoxContent' style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+a.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+a.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/></div></div>";a.host.attr("role","listbox"),a.element.innerHTML=u,a._checkForHiddenParent&&(a._addInput(),a.host.attr("tabIndex")||a.host.attr("tabIndex",1)),a.filter=i(a.element.firstChild.firstChild.firstChild),a.filterInput=i(a.filter[0].firstChild),a.filterInput.attr("placeholder",a.filterPlaceHolder),a.filterInput.addClass(a.toThemeProperty("jqx-widget jqx-listbox-filter-input jqx-input jqx-rc-all")),a.addHandler(a.filterInput,"keyup.textchange",(function(e){13==e.keyCode?a._search(e):a.filterDelay>0&&(a._filterTimer&&clearTimeout(a._filterTimer),a._filterTimer=setTimeout((function(){a._search(e)}),a.filterDelay)),e.stopPropagation()}));var c=i(a.element.firstChild.firstChild.firstChild.nextSibling.nextSibling);if(!a.host.jqxButton)throw new Error("jqxListBox: Missing reference to jqxbuttons.js.");if(!c.jqxScrollBar)throw new Error("jqxListBox: Missing reference to jqxscrollbar.js.");var p=parseInt(a.host.height())/2;0==p&&(p=10),a.vScrollBar=c.jqxScrollBar({_initialLayout:!0,vertical:!0,rtl:a.rtl,theme:a.theme,touchMode:a.touchMode,largestep:p});var f=i(a.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling);if(a.hScrollBar=f.jqxScrollBar({_initialLayout:!0,vertical:!1,rtl:a.rtl,touchMode:a.touchMode,theme:a.theme}),a.content=i(a.element.firstChild.firstChild.firstChild.nextSibling),a.content[0].id="listBoxContent"+a.element.id,a.bottomRight=i(a.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling.nextSibling).addClass(a.toThemeProperty("jqx-listbox-bottomright")).addClass(a.toThemeProperty("jqx-scrollbar-state-normal")),a.bottomRight[0].id="bottomRight"+a.element.id,a.vScrollInstance=i.data(a.vScrollBar[0],"jqxScrollBar").instance,a.hScrollInstance=i.data(a.hScrollBar[0],"jqxScrollBar").instance,a.isTouchDevice()&&!(i.jqx.browser.msie&&i.jqx.browser.version<9)){var m=i("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");a.content.parent().append(m),a.overlayContent=a.host.find(".overlay"),a.filterable&&a.overlayContent.css("top","30px")}a._updateTouchScrolling(),a.host.addClass("jqx-disableselect"),a.host.jqxDragDrop&&window.jqxListBoxDragDrop()},_highlight:function(e,t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+i+")","ig"),(function(e,t){return"<b>"+t+"</b>"}))},_addInput:function(){var e=this.host.attr("name");e&&this.host.attr("name",""),this.input=i("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",e)},_updateTouchScrolling:function(){var e=this;if(this.isTouchDevice()){e.enableHover=!1;var t=this.overlayContent?this.overlayContent:this.content;this.removeHandler(i(t),i.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"),this.removeHandler(i(t),i.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(i(t),i.jqx.mobile.getTouchEventName("touchend")+".touchScroll"),this.removeHandler(i(t),"touchcancel.touchScroll"),i.jqx.mobile.touchScroll(t,e.vScrollInstance.max,(function(t,i){null!=i&&"hidden"!=e.vScrollBar.css("visibility")&&(e.vScrollInstance.setPosition(i),e._lastScroll=new Date),null!=t&&"hidden"!=e.hScrollBar.css("visibility")&&(e.hScrollInstance.setPosition(t),e._lastScroll=new Date)}),this.element.id,this.hScrollBar,this.vScrollBar),"visible"!=e.vScrollBar.css("visibility")&&"visible"!=e.hScrollBar.css("visibility")?i.jqx.mobile.setTouchScroll(!1,this.element.id):i.jqx.mobile.setTouchScroll(!0,this.element.id),this._arrange()}},isTouchDevice:function(){var e=i.jqx.mobile.isTouchDevice();if(1==this.touchMode){if(this.touchDevice)return!0;if(i.jqx.browser.msie&&i.jqx.browser.version<9)return!1;this.touchDevice=!0,e=!0,i.jqx.mobile.setMobileSimulator(this.element)}else 0==this.touchMode&&(e=!1);return e&&0!=this.touchModeStyle&&(this.scrollBarSize=i.jqx.utilities.touchScrollBarSize),e&&this.host.addClass(this.toThemeProperty("jqx-touch")),e},beginUpdate:function(){this.updatingListBox=!0},endUpdate:function(){this.updatingListBox=!1,this.allowDrag&&this._enableDragDrop||this.virtualSize&&this.virtualSize.height<10+this.host.height()?this._addItems(!0):this._addItems(!1),this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop()},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this._render(!1)},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._cachedItemHtml=new Array,e.refresh())},propertyChangedHandler:function(e,t,r,n){if(null!=this.isInitialized&&0!=this.isInitialized&&r!=n&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)){if("_renderOnDemand"==t&&(e._render(!1,!0),-1!=e.selectedIndex)){var s=e.selectedIndex;e.selectedIndex=-1,e._stopEvents=!0,e.selectIndex(s,!1,!0),-1==e.selectedIndex&&(e.selectedIndex=s),e._stopEvents=!1}if("filterable"==t&&e.refresh(),"filterHeight"==t&&e._arrange(),"filterPlaceHolder"==t&&e.filterInput.attr("placeholder",n),"renderer"==t&&(e._cachedItemHtml=new Array,e.refresh()),"itemHeight"!=t&&"checkboxSize"!==t||e.refresh(),"source"!=t&&"checkboxes"!=t||(null==n&&r&&r.unbindBindingUpdate&&(r.unbindBindingUpdate(e.element.id),r.unbindDownloadComplete(e.element.id)),e.clearSelection(),e.refresh()),"scrollBarSize"!=t&&"equalItemsWidth"!=t||n!=r&&e._updatescrollbars(),"disabled"==t&&(e._renderItems(),e.vScrollBar.jqxScrollBar({disabled:n}),e.hScrollBar.jqxScrollBar({disabled:n})),"touchMode"==t||"rtl"==t){if(e._removeHandlers(),e.vScrollBar.jqxScrollBar({touchMode:n}),e.hScrollBar.jqxScrollBar({touchMode:n}),"touchMode"==t&&!(i.jqx.browser.msie&&i.jqx.browser.version<9)){var o=i("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");e.content.parent().append(o),e.overlayContent=e.host.find(".overlay")}e.filterable&&e.filterInput&&("rtl"==t&&n?e.filterInput.addClass(e.toThemeProperty("jqx-rtl")):"rtl"!=t||n||e.filterInput.removeClass(e.toThemeProperty("jqx-rtl")),e._arrange()),e._updateTouchScrolling(),e._addHandlers(),e._render(!1)}if(this.updating||"width"!=t&&"height"!=t||e._updateSize(),"theme"==t&&r!=n&&(e.hScrollBar.jqxScrollBar({theme:e.theme}),e.vScrollBar.jqxScrollBar({theme:e.theme}),e.host.removeClass(),e.host.addClass(e.toThemeProperty("jqx-listbox")),e.host.addClass(e.toThemeProperty("jqx-widget")),e.host.addClass(e.toThemeProperty("jqx-widget-content")),e.host.addClass(e.toThemeProperty("jqx-reset")),e.host.addClass(e.toThemeProperty("jqx-rc-all")),e.refresh()),"selectedIndex"==t&&(e.clearSelection(),e.selectIndex(n,!0)),"displayMember"==t||"valueMember"==t){if(r!=n){var a=e.selectedIndex;e.refresh(),e.selectedIndex=a,e.selectedIndexes[a]=a}e._renderItems()}"autoHeight"==t&&(r!=n?e._render(!1):(e._updatescrollbars(),e._renderItems())),e._checkForHiddenParent&&i.jqx.isHidden(e.host)&&i.jqx.utilities.resize(this.host,(function(){e._updateSize()}),!1,e._checkForHiddenParent)}},loadFromSelect:function(e){if(null!=e){var t=i("#"+e);if(t.length>0){var r=i.jqx.parseSourceTag(t[0]),n=r.index;this.source=r.items,this.fromSelect=!0,this.clearSelection(),this.selectedIndex=n,this.selectedIndexes[this.selectedIndex]=this.selectedIndex,this.refresh()}}},invalidate:function(){this._cachedItemHtml=[],this._renderItems(),this.virtualSize=null,this._updateSize()},refresh:function(e){var t=this;if(null!=this.vScrollBar){this.itemHeight=parseInt(this.itemHeight),this._cachedItemHtml=[],this.visibleItems=new Array;var r=function(e){if(1==e&&-1!=t.selectedIndex){var i=t.selectedIndex;t.selectedIndex=-1,t._stopEvents=!0,t.selectIndex(i,!1,!0),-1==t.selectedIndex&&(t.selectedIndex=i),t._stopEvents=!1}};if(null!=this.itemswrapper&&(this.itemswrapper.remove(),this.itemswrapper=null),i.jqx.dataAdapter&&null!=this.source&&this.source._source)return this.databind(this.source,e),void r(e);(this.autoBind||!this.autoBind&&!e)&&(this.field&&this.loadSelectTag(),this.items=this.loadItems(this.source)),this._render(!1,1==e),r(e),this._raiseEvent("6")}},loadSelectTag:function(){var e=i.jqx.parseSourceTag(this.field);this.source=e.items,-1==this.selectedIndex&&(this.selectedIndex=e.index)},_render:function(e,t){return this._renderOnDemand?(this.visibleItems=new Array,this.renderedVisibleItems=new Array,void this._renderItems()):(this._addItems(),this._renderItems(),this.vScrollInstance.setPosition(0),this._cachedItemHtml=new Array,(null==e||e)&&null!=this.items&&null!=this.items&&this.selectedIndex>=0&&this.selectedIndex<this.items.length&&this.selectIndex(this.selectedIndex,!0,!0,!0),this.allowDrag&&this._enableDragDrop&&(this._enableDragDrop(),this.isTouchDevice())?(this._removeHandlers(),this.overlayContent&&(this.overlayContent.remove(),this.overlayContent=null),this._updateTouchScrolling(),void this._addHandlers()):(this._updateTouchScrolling(),this.rendered&&this.rendered(),void(this.ready&&this.ready())))},_hitTest:function(e,t){this.filterable&&(t-=this.filterHeight)<0&&(t=0);var i=parseInt(this.vScrollInstance.value),r=this._searchFirstVisibleIndex(t+i,this.renderedVisibleItems);if(null!=this.renderedVisibleItems[r]&&this.renderedVisibleItems[r].isGroup)return null;if(this.renderedVisibleItems.length>0){var n=this.renderedVisibleItems[this.renderedVisibleItems.length-1];if(n.height+n.top<t+i)return null}return r=this._searchFirstVisibleIndex(t+i),this.visibleItems[r]},_searchFirstVisibleIndex:function(e,t){null==e&&(e=parseInt(this.vScrollInstance.value));var i=0;null!=t&&null!=t||(t=this.visibleItems);for(var r=t.length;i<=r;){var n=parseInt((i+r)/2),s=t[n];if(null==s)break;if(s.initialTop>e&&s.initialTop+s.height>e)r=n-1;else{if(!(s.initialTop<e&&s.initialTop+s.height<=e))return n;i=n+1}}return 0},_renderItems:function(){if(null!=this.items&&0!=this.items.length){if(1!=this.updatingListBox){var e=this.isTouchDevice(),t=this.vScrollInstance,r=this.hScrollInstance,n=parseInt(t.value),s=parseInt(r.value);this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(s=r.max-s),this.host.width();var o=parseInt(this.content[0].style.width),a=o+parseInt(r.max);parseInt(this.vScrollBar[0].style.width),"visible"!=this.hScrollBar[0].style.visibility&&(a=o),this._getVirtualItemsCount();var l=new Array,d=0,h=parseInt(this.element.style.height)+2;-1!=this.element.style.height.indexOf("%")&&(h=this.host.outerHeight()),isNaN(h)&&(h=0);var u=0,c=0,p=0;if(0==t.value||0==this.visibleItems.length)for(var f=0;f<this.items.length;f++)(k=this.items[f]).visible&&(k.top=-n,k.initialTop=-n,!k.isGroup&&k.visible&&(this.visibleItems[c++]=k,k.visibleIndex=c-1),this.renderedVisibleItems[p++]=k,k.left=-s,k.top+k.height>=0&&k.top-k.height<=h&&(l[d++]={index:f,item:k}),n-=k.height,n--);var m=n>0?this._searchFirstVisibleIndex(this.vScrollInstance.value,this.renderedVisibleItems):0,g=0;d=0;for(var v=this.vScrollInstance.value,w=0;g<100+h&&null!=(k=this.renderedVisibleItems[m])&&(k.visible&&(k.left=-s,k.top+k.height-v>=0&&k.initialTop-v-k.height<=2*h&&(l[d++]={index:m,item:k})),m++,k.visible&&(g+=k.initialTop-v+k.height-g),!(++w>this.items.length-1)););if(!this._renderOnDemand){var y=this.toThemeProperty("jqx-listitem-state-normal")+" "+this.toThemeProperty("jqx-item"),b=this.toThemeProperty("jqx-listitem-state-group"),x=this.toThemeProperty("jqx-listitem-state-disabled")+" "+this.toThemeProperty("jqx-fill-state-disabled");this.checkboxes&&(y+=" checkboxes");var _=0,C=this;for(f=0;f<this.visualItems.length;f++){var j=this.visualItems[f],q=function(){var e=j[0].firstChild;C.checkboxes&&(e=j[0].lastChild),null!=e&&(e.style.visibility="hidden",e.className=""),C.checkboxes&&(j[0].firstChild.style.visibility="hidden")};if(f<l.length){var k;if((k=l[f].item).initialTop-v>=h){q();continue}var T=i(j[0].firstChild);if(this.checkboxes&&(T=i(j[0].lastChild)),0==T.length)continue;if(null==T[0])continue;T[0].className="",T[0].style.display="block",T[0].style.visibility="inherit";var S="";if(S=!k.isGroup&&!this.selectedIndexes[k.index]>=0?y:b,(k.disabled||this.disabled)&&(S+=" "+x),this.roundedcorners&&(S+=" "+this.toThemeProperty("jqx-rc-all")),e&&(S+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),T[0].className=S,this.renderer)if(k.key||(k.key=this.generatekey()),this._cachedItemHtml||(this._cachedItemHtml=new Array),this._cachedItemHtml[k.key])T[0].innerHTML!=this._cachedItemHtml[k.key]&&(T[0].innerHTML=this._cachedItemHtml[k.key]);else{var I=this.renderer(k.index,k.label,k.value);T[0].innerHTML=I,this._cachedItemHtml[k.key]=T[0].innerHTML}else{if(-1!==this.itemHeight){var D=2+2*parseInt(T.css("padding-top"));T[0].style.lineHeight=k.height-D+"px",T.css("vertical-align","middle")}null!=k.html&&k.html.toString().length>0?T[0].innerHTML=k.html:null!=k.label||null!=k.value?null!=k.label?(T[0].innerHTML!==k.label&&(T[0].innerHTML=k.label),""==i.trim(k.label)&&(T[0].innerHTML=this.emptyString,""==this.emptyString&&(T[0].style.height=k.height-8+"px")),this.incrementalSearch||k.disabled||null!=this.searchString&&""!=this.searchString&&(T[0].innerHTML=this._highlight(k.label.toString(),this.searchString))):null===k.label?(T[0].innerHTML=this.emptyString,""==this.emptyString&&(T[0].style.height=k.height-8+"px")):T[0].innerHTML!==k.value?T[0].innerHTML=k.value:""==k.label&&(T[0].innerHTML=" "):""!=k.label&&null!=k.label||(T[0].innerHTML="",T[0].style.height=k.height-8+"px")}if(j[0].style.left=k.left+"px",j[0].style.top=k.initialTop-v+"px",k.element=T[0],this.isMaterialized()&&!this.renderer&&this._checkForHiddenParent&&(i(k.element).addClass("ripple"),i.jqx.ripple(i(k.element))),k.title&&(T[0].title=k.title),this.equalItemsWidth&&!k.isGroup){if(0==u){var P=parseInt(a);P-=parseInt(T.outerWidth())-parseInt(T.width());var E=1;E=null!=E?parseInt(E):0,"border-box"===this.host.css("box-sizing")&&(P-=2),u=P,this.checkboxes&&"hidden"==this.hScrollBar[0].style.visibility&&(u-=this.checkboxSize+13)}o>this.virtualSize.width?(T[0].style.width=u+"px",k.width=u):(T[0].style.width=-4+this.virtualSize.width+"px",k.width=this.virtualSize.width-4)}else T.width()<this.host.width()&&T.width(this.host.width()-2);if(this.rtl&&(T[0].style.textAlign="right"),this.autoItemsHeight&&(T[0].style.whiteSpace="pre-line",T.width(u),k.width=u),_=0,this.checkboxes&&!k.isGroup){if(0==_&&(_=(k.height-this.checkboxSize-3)/2,_=parseInt(_),_++),(O=i(j.children()[0]))[0].item=k,this.rtl)"0px"!=T[0].style.left&&(T[0].style.left="0px");else{var M=this.checkboxSize+9;T[0].style.left!=M+"px"&&(T[0].style.left=M+"px")}this.rtl&&O.css("left",8+k.width+"px"),O[0].style.top=_+"px",O[0].style.display="block",O[0].style.visibility="inherit";var A=k.checked,H=k.checked?" "+this.toThemeProperty("jqx-checkbox-check-checked"):"";O[0].setAttribute("checked",k.checked),O[0].firstChild&&O[0].firstChild.firstChild&&O[0].firstChild.firstChild.firstChild&&O[0].firstChild.firstChild&&(A?O[0].firstChild.firstChild.firstChild.className=H:!1===A?O[0].firstChild.firstChild.firstChild.className="":null===A&&(O[0].firstChild.firstChild.firstChild.className=this.toThemeProperty("jqx-checkbox-check-indeterminate"))),i.jqx.ariaEnabled&&(A?j[0].setAttribute("aria-selected",!0):j[0].removeAttribute("aria-selected"))}else{var O;this.checkboxes&&(O=i(j.children()[0])).css({display:"none",visibility:"inherit"})}!k.disabled&&(!this.filterable&&this.selectedIndexes[k.visibleIndex]>=0||k.selected&&this.filterable)?(T.addClass(this.toThemeProperty("jqx-listitem-state-selected")),T.addClass(this.toThemeProperty("jqx-fill-state-pressed")),i.jqx.ariaEnabled&&(j[0].setAttribute("aria-selected",!0),this._activeElement=j[0])):this.checkboxes||i.jqx.ariaEnabled&&j[0].removeAttribute("aria-selected")}else q()}}}}else this.visibleItems=new Array},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},_calculateVirtualSize:function(e){if(!this._renderOnDemand){var t=0,r=2,n=0,s=document.createElement("span");this.equalItemsWidth&&i(s).css("float","left"),s.style.whiteSpace="pre";var o=0,a=void 0===e?this.host.outerHeight():e+2;document.body.appendChild(s);var l=this.items.length,d=this.host.width();if(this.autoItemsHeight&&(d-=10,"hidden"!=this.vScrollBar.css("visibility")&&(d-=20)),this.autoItemsHeight||this.renderer||this.groups.length>=1||l>0&&null!=this.items[0].html&&""!=this.items[0].html){for(n=0;n<l;n++)if((!(b=this.items[n]).isGroup||""!=b.label||""!=b.html)&&b.visible){var h="";if(h+=this.toThemeProperty(b.isGroup?"jqx-listitem-state-group jqx-rc-all":"jqx-widget jqx-listitem-state-normal jqx-rc-all"),h+=" "+this.toThemeProperty("jqx-fill-state-normal"),this.isTouchDevice()&&(h+=" "+this.toThemeProperty("jqx-touch")),s.className=h,this.autoItemsHeight){s.style.whiteSpace="pre-line";var u=this.checkboxSize+9;s.style.width=(this.checkboxes?-u:0)+d+"px"}if(this.renderer){var c=this.renderer(b.index,b.label,b.value);s.innerHTML=c}else null!=b.html&&b.html.toString().length>0?s.innerHTML=b.html:null==b.label&&null==b.value||(null!=b.label?(s.innerHTML=b.label,""==b.label&&(s.innerHTML="Empty")):s.innerHTML=b.value);var p=s.offsetHeight,f=s.offsetWidth;this.itemHeight>-1&&(p=this.itemHeight),b.height=p,b.width=f,r+=++p,t=Math.max(t,f),r<=a&&o++}}else{r=0;var m=0,g="",v=0,w=0,y=-1;for(n=0;n<l;n++){var b;(b=this.items[n]).isGroup&&""==b.label&&""==b.html||!b.visible||(h="",0==++y&&(h+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all"),h+=" "+this.toThemeProperty("jqx-fill-state-normal"),h+=" "+this.toThemeProperty("jqx-widget"),h+=" "+this.toThemeProperty("jqx-listbox"),h+=" "+this.toThemeProperty("jqx-widget-content"),this.isTouchDevice()&&(h+=" "+this.toThemeProperty("jqx-touch"),h+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),s.className=h,this.autoItemsHeight&&(s.style.whiteSpace="pre-line",u=this.checkboxSize+9,s.style.width=(this.checkboxes?-u:0)+d+"px"),null==b.html||""==b.label||null==b.label?s.innerHTML="Item":null!=b.html&&b.html.toString().length>0?s.innerHTML=b.html:null==b.label&&null==b.value||(s.innerHTML=null!=b.label?null!=b.label.toString().match(new RegExp("\\w"))||null!=b.label.toString().match(new RegExp("\\d"))?b.label:"Item":b.value),p=1+s.offsetHeight,this.itemHeight>-1&&(p=this.itemHeight),m=p),null!=v&&(w=v),null!=b.html&&b.html.toString().length>0?w!=(v=Math.max(v,b.html.toString().length))&&(g=b.html):null!=b.label?w!=(v=Math.max(v,b.label.length))&&(g=b.label):null!=b.value&&w!=(v=Math.max(v,b.value.length))&&(g=b.value),b.height=m,r+=m,++r<=a&&o++)}s.innerHTML=g,t=s.offsetWidth}return r+=2,o<10&&(o=10),this.filterable&&(r+=this.filterHeight),r-=4,s.parentNode.removeChild(s),{width:t,height:r,itemsPerPage:o}}},_getVirtualItemsCount:function(){if(0==this.virtualItemsCount){var e=parseInt(this.host.height())/5;return e>this.items.length&&(e=this.items.length),e}return this.virtualItemsCount},_addItems:function(e){if(!this._renderOnDemand&&1!=(m=this).updatingListBox){if(null==m.items||0==m.items.length)return m.virtualSize={width:0,height:0,itemsPerPage:0},m._updatescrollbars(),m.renderedVisibleItems=new Array,void(m.itemswrapper&&m.itemswrapper.children().remove());var t=m.host.height();if(0==e){var r=2*(f=m._calculateVirtualSize(t)).itemsPerPage;return m.autoHeight&&(r=m.items.length),m.virtualItemsCount=Math.min(r,m.items.length),m.virtualSize=f,void m._updatescrollbars()}var n=0;m.visibleItems=new Array,m.renderedVisibleItems=new Array,m._removeHandlers(),m.allowDrag&&m._enableDragDrop&&(m.itemswrapper=null),null==m.itemswrapper&&(m.content[0].innerHTML="",m.itemswrapper=i('<div style="outline: 0 none; overflow:hidden; width:100%; position: relative;"></div>'),m.itemswrapper[0].style.height=2*t+"px",m.content[0].appendChild(m.itemswrapper[0])),r=2*(f=m._calculateVirtualSize(t)).itemsPerPage,m.autoHeight&&(r=m.items.length),m.virtualItemsCount=Math.min(r,m.items.length),(m=this).virtualSize=f;var s=Math.max(m.host.width(),17+f.width);m.itemswrapper[0].style.width=s+"px";for(var o="",a=i.jqx.browser.msie&&i.jqx.browser.version<9?' unselectable="on"':"",l=0;l<m.virtualItemsCount;l++){var d=m.items[l],h="listitem"+l+m.element.id;if(o+=""!=m.theme?"<div"+a+" role='option' id='"+h+"' class='jqx-listitem-element jqx-listitem-element-"+m.theme+"'>":"<div"+a+" role='option' id='"+h+"' class='jqx-listitem-element'>",m.checkboxes){var u=this.checkboxSize+8;o+='<div style="background-color: transparent; padding: 0; margin: 0; overflow:hidden; position: absolute; float: left; width: '+u+"px; height:  "+u+'px;" class="'+m.toThemeProperty("jqx-checkbox")+' chkbox">';var c='<div class="'+m.toThemeProperty("jqx-checkbox-default")+" "+m.toThemeProperty("jqx-fill-state-normal")+" "+m.toThemeProperty("jqx-rc-all")+'"><div style="cursor: pointer; width:  '+this.checkboxSize+"px; height:  "+this.checkboxSize+'px;">',p=d.checked?" "+m.toThemeProperty("jqx-checkbox-check-checked"):"";c+='<span style="width: '+this.checkboxSize+"px; height:  "+this.checkboxSize+'px;" class="checkBoxCheck'+p+'"></span>',o+=c+="</div></div>",o+="</div>"}o+="<span"+a+" style='white-space: pre; -ms-touch-action: none;'></span></div>"}this.WinJS?m.itemswrapper.html(o):m.itemswrapper[0].innerHTML=o;var f,m,g=m.itemswrapper.children();for(l=0;l<m.virtualItemsCount;l++){d=m.items[l];var v=i(g[l]);m.allowDrag&&m._enableDragDrop&&v.addClass("draggable"),m.checkboxes&&(i(v.children()[0]),v.css("float","left"),i(v[0].firstChild).css("float","left")),v[0].style.height=d.height+"px",v[0].style.top=n+"px",n+=d.height+1,m.visualItems[l]=v}m._addHandlers(),m._updatescrollbars(),m.autoItemsHeight&&(r=2*(f=m._calculateVirtualSize(t)).itemsPerPage,m.autoHeight&&(r=m.items.length),m.virtualItemsCount=Math.min(r,m.items.length),(m=this).virtualSize=f,m._updatescrollbars()),i.jqx.browser.msie&&i.jqx.browser.version<8&&(m.host.attr("hideFocus",!0),m.host.find("div").attr("hideFocus",!0))}},_updatescrollbars:function(){var e=this;if(e.virtualSize){var t=e.virtualSize.height,r=e.virtualSize.width,n=e.vScrollInstance,s=e.hScrollInstance;e._arrange(!1);var o=!1,a=e.host.outerWidth(),l=e.host.outerHeight(),d=0;if(r>a&&(d=e.hScrollBar.outerHeight()+2),t+d>l){var h=n.max;n.max=2+parseInt(t)+d-parseInt(l-2),"inherit"!=e.vScrollBar[0].style.visibility&&(e.vScrollBar[0].style.visibility="inherit",o=!0),h!=n.max&&n._arrange()}else"hidden"!=e.vScrollBar[0].style.visibility&&(e.vScrollBar[0].style.visibility="hidden",o=!0,n.setPosition(0));var u=0;"hidden"!=e.vScrollBar[0].style.visibility&&(u=e.scrollBarSize+6);var c=e.checkboxes?this.checkboxSize+6:0;if(e.autoItemsHeight)e.hScrollBar[0].style.visibility="hidden";else if(r>=a-u-c){var p=s.max;s.max="inherit"==e.vScrollBar[0].style.visibility?c+u+parseInt(r)-e.host.width()+2:c+parseInt(r)-e.host.width()+4,"inherit"!=e.hScrollBar[0].style.visibility&&(e.hScrollBar[0].style.visibility="inherit",o=!0),p!=s.max&&s._arrange(),"inherit"==e.vScrollBar[0].style.visibility&&(n.max=2+parseInt(t)+e.hScrollBar.outerHeight()+2-parseInt(e.host.height()))}else"hidden"!=e.hScrollBar[0].style.visibility&&(e.hScrollBar[0].style.visibility="hidden",o=!0);s.setPosition(0),o&&e._arrange(),e.itemswrapper&&(e.itemswrapper[0].style.width=Math.max(0,Math.max(a-2,17+r))+"px",e.itemswrapper[0].style.height=Math.max(0,2*l)+"px"),e.isTouchDevice()&&("visible"!=e.vScrollBar.css("visibility")&&"visible"!=e.hScrollBar.css("visibility")?i.jqx.mobile.setTouchScroll(!1,e.element.id):i.jqx.mobile.setTouchScroll(!0,e.element.id))}},clear:function(){this.source=null,this.visibleItems=new Array,this.renderedVisibleItems=new Array,this.itemsByValue=new Array,this.clearSelection(),this.refresh()},clearSelection:function(e){for(var t=0;t<this.selectedIndexes.length;t++)this.selectedIndexes[t]&&-1!=this.selectedIndexes[t]&&this._raiseEvent("1",{index:t,type:"api",item:this.getVisibleItem(t),originalEvent:null}),this.selectedIndexes[t]=-1;this.selectedIndex=-1,this.selectedValue=null,this.selectedValues=new Array,0!=e&&this._renderItems()},unselectIndex:function(e,t){if(!isNaN(e)){this.selectedIndexes[e]=-1;for(var i=!1,r=0;r<this.selectedIndexes.length;r++){var n=this.selectedIndexes[r];-1!=n&&null!=n&&(i=!0)}if(!i){this.selectedValue=null,this.selectedIndex=-1;var s=this.getVisibleItem(e);s&&this.selectedValues[s.value]&&(this.selectedValues[s.value]=null)}null!=t&&1!=t||(this._renderItems(),this._raiseEvent("1",{index:e,type:"api",item:this.getVisibleItem(e),originalEvent:null})),this._updateInputSelection(),this._raiseEvent("2",{index:e,type:"api",item:this.getItem(e)})}},getInfo:function(){var e=this,t=this.getItems(),i=this.getVisibleItems(),r=function(){var t=e.vScrollInstance.value;e.filterable&&(t-=e.filterHeight);for(var r=new Array,n=0;n<i.length;n++){var s=i[n];if(s){var o=s.initialTop,a=!0;(o+s.height-t<0||o-t>=e.host.height())&&(a=!1),a&&r.push(s)}}return r}();return{items:t,visibleItems:i,viewItems:r}},getItem:function(e){if(-1==e||isNaN(e)||"string"==typeof e)return-1===e?null:this.getItemByValue(e);var t=null;return i.each(this.items,(function(){if(this.index==e)return t=this,!1})),t},getVisibleItem:function(e){return-1==e||isNaN(e)||"string"==typeof e?-1===e?null:this.getItemByValue(e):this.visibleItems[e]},getVisibleItems:function(){return this.visibleItems},checkIndex:function(e,t,r){if(this.checkboxes&&!isNaN(e)&&!(e<0||e>=this.visibleItems.length||null!=this.visibleItems[e]&&this.visibleItems[e].disabled||this.disabled)){var n=this.getItem(e);(this.groups.length>0||this.filterable)&&(n=this.getVisibleItem(e)),null!=n&&(i(n.checkBoxElement),n.checked=!0,null!=t&&1!=t||this._updateCheckedItems()),null!=r&&1!=r||this._raiseEvent(3,{label:n.label,value:n.value,checked:!0,item:n})}},getCheckedItems:function(){if(!this.checkboxes)return null;var e=new Array;return null!=this.items?(i.each(this.items,(function(){this.checked&&(e[e.length]=this)})),e):void 0},checkAll:function(e){if(this.checkboxes&&!this.disabled){var t=this;i.each(this.items,(function(){var i=this,r=i.checked;this.checked=!0,!1!==e&&!0!==r&&t._raiseEvent(3,{label:i.label,value:i.value,checked:!0,item:i})})),this._updateCheckedItems()}},uncheckAll:function(e){if(this.checkboxes&&!this.disabled){var t=this;i.each(this.items,(function(){var i=this,r=i.checked;this.checked=!1,!1!==e&&!1!==r&&(this.checked=!1,t._raiseEvent(3,{label:i.label,value:i.value,checked:!1,item:i}))})),this._updateCheckedItems()}},uncheckIndex:function(e,t,r){if(this.checkboxes&&!isNaN(e)&&!(e<0||e>=this.visibleItems.length||null!=this.visibleItems[e]&&this.visibleItems[e].disabled||this.disabled)){var n=this.getItem(e);(this.groups.length>0||this.filterable)&&(n=this.getVisibleItem(e)),null!=n&&(i(n.checkBoxElement),n.checked=!1,null!=t&&1!=t||this._updateCheckedItems()),null!=r&&1!=r||this._raiseEvent(3,{label:n.label,value:n.value,checked:!1,item:n})}},indeterminateIndex:function(e,t,r){if(this.checkboxes&&!isNaN(e)&&!(e<0||e>=this.visibleItems.length||null!=this.visibleItems[e]&&this.visibleItems[e].disabled||this.disabled)){var n=this.getItem(e);(this.groups.length>0||this.filterable)&&(n=this.getVisibleItem(e)),null!=n&&(i(n.checkBoxElement),n.checked=null,null!=t&&1!=t||this._updateCheckedItems()),null!=r&&1!=r||this._raiseEvent(3,{checked:null})}},getSelectedIndex:function(){return this.selectedIndex},getSelectedItems:function(){var e=this.getVisibleItems(),t=this.selectedIndexes,i=[];for(var r in t)-1!=t[r]&&(i[i.length]=e[r]);return i},getSelectedItem:function(){var e=this.getSelectedItems();return e&&e.length>0?e[0]:null},_updateCheckedItems:function(){var e=this.selectedIndex;this.clearSelection(!1),this.getCheckedItems(),this.selectedIndex=e,this._renderItems();var t=i.data(this.element,"hoveredItem");null!=t&&(i(t).addClass(this.toThemeProperty("jqx-listitem-state-hover")),i(t).addClass(this.toThemeProperty("jqx-fill-state-hover"))),this._updateInputSelection()},getItemByValue:function(e){if(null!=this.visibleItems){if(e&&e.value&&(e=e.value),this.itemsByValue)return this.itemsByValue[i.trim(e).split(" ").join("?")];for(var t=this.visibleItems,r=0;r<t.length;r++)if(t[r].value==e)return t[r]}},checkItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.checkIndex(t.visibleIndex,!0)}return!1},uncheckItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.uncheckIndex(t.visibleIndex,!0)}return!1},indeterminateItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.indeterminateIndex(t.visibleIndex,!0)}return!1},val:function(e){if(this.input){var t=function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"!=typeof e&&"date"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e};if(t(e)||0==arguments.length)return this.input.val();var i=this.getItemByValue(e);return null!=i&&this.selectItem(i),this.input?this.input.val():void 0}},selectItem:function(e){if(null!=e){if(null==e.index){var t=this.getItemByValue(e);t&&(e=t)}return this.selectIndex(e.visibleIndex,!0)}return this.clearSelection(),!1},unselectItem:function(e){if(null!=e){if(null==e.index){var t=this.getItemByValue(e);t&&(e=t)}return this.unselectIndex(e.visibleIndex,!0)}return!1},selectIndex:function(e,t,i,r,n,s){if(!isNaN(e)){var o=this.selectedIndex;if(this.filterable&&(this.selectedIndex=-1),!(e<-1||e>=this.visibleItems.length||null!=this.visibleItems[e]&&this.visibleItems[e].disabled||this.disabled)){if(this.multiple||this.multipleextended||this.selectedIndex!=e||r||this.checkboxes){if(this.checkboxes){this._updateCheckedItems();var a=o;this.selectedIndex!=e||this.multiple||(a=-1),null==n&&(n="none");var l=this.getItem(e),d=this.getItem(a);return this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),d=this.getVisibleItem(a)),this._raiseEvent("1",{index:a,type:n,item:d,originalEvent:s}),this.selectedIndex=e,this.selectedIndexes[a]=-1,this.selectedIndexes[e]=e,l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value),this._raiseEvent("0",{index:e,type:n,item:l,originalEvent:s}),void this._renderItems()}this.focused=!0;var h=!1;if(this.selectedIndex!=e&&(h=!0),a=o,this.selectedIndex!=e||this.multiple||(a=-1),null==n&&(n="none"),l=this.getItem(e),d=this.getItem(a),this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),d=this.getVisibleItem(a)),null!=r&&r)this._raiseEvent("1",{index:a,type:n,item:d,originalEvent:s}),this.selectedIndex=e,this.selectedIndexes[a]=-1,this.selectedIndexes[e]=e,l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value),this._raiseEvent("0",{index:e,type:n,item:l,originalEvent:s});else{var u=this,c=function(e,t,i,r,n,s){u._raiseEvent("1",{index:t,type:i,item:r,originalEvent:s}),u.selectedIndex=e,u.selectedIndexes=[],t=e,u.selectedIndexes[e]=e,u.selectedValues=new Array,n&&(u.selectedValues[n.value]=n.value),u._raiseEvent("0",{index:e,type:i,item:n,originalEvent:s})},p=function(e,t,i,r,n,s){null==u.selectedIndexes[e]||-1==u.selectedIndexes[e]?(u.selectedIndexes[e]=e,u.selectedIndex=e,n&&(u.selectedValues[n.value]=n.value,u._raiseEvent("0",{index:e,type:i,item:n,originalEvent:s}))):((r=u.getVisibleItem(t=u.selectedIndexes[e]))&&(u.selectedValues[r.value]=null),u.selectedIndexes[e]=-1,u.selectedIndex=-1,u._raiseEvent("1",{index:t,type:i,item:r,originalEvent:s}))};if(this.multipleextended)if(this._shiftKey||this._ctrlKey){if(this._ctrlKey)"keyboard"==n&&(this.clearSelection(!1),u._clickedIndex=e),p(e,a,n,d,l,s);else if(this._shiftKey){null==u._clickedIndex&&(u._clickedIndex=a);var f=Math.min(u._clickedIndex,e),m=Math.max(u._clickedIndex,e);this.clearSelection(!1);for(var g=f;g<=m;g++)u.selectedIndexes[g]=g,u.selectedValues[u.getVisibleItem(g).value]=u.getVisibleItem(g).value,u._raiseEvent("0",{index:g,type:n,item:this.getVisibleItem(g),originalEvent:s});u.selectedIndex="keyboard"!=n?u._clickedIndex:e}}else"keyboard"!=n&&"mouse"!=n?(p(e,a,n,d,l,s),u._clickedIndex=e):(this.clearSelection(!1),u._clickedIndex=e,c(e,a,n,d,l,s));else this.multiple?p(e,a,n,d,l,s):(l&&(this.selectedValue=l.value),c(e,a,n,d,l,s))}return null!=i&&1!=i||this._renderItems(),null!=t&&null!=t&&1==t&&this.ensureVisible(e),this._raiseEvent("2",{index:e,item:l,oldItem:d,type:n,originalEvent:s}),this._updateInputSelection(),h}this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e))&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value)}}},_updateInputSelection:function(){this._syncSelection();var e=new Array;if(this.input&&(-1==this.selectedIndex?this.input.val(""):this.items&&null!=this.items[this.selectedIndex]&&(this.input.val(this.items[this.selectedIndex].value),e.push(this.items[this.selectedIndex].value)),this.multiple||this.multipleextended||this.checkboxes)){var t=this.checkboxes?this.getCheckedItems():this.getSelectedItems(),r="";if(t){for(var n=0;n<t.length;n++)null!=t[n]&&(r+=n==t.length-1?t[n].value:t[n].value+",",e.push(t[n].value));this.input.val(r)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?i.each(this.field,(function(t,r){i(this).removeAttr("selected"),this.selected=e.indexOf(this.value)>=0,this.selected&&i(this).attr("selected",!0)})):i.each(this.items,(function(t,r){i(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=e.indexOf(this.value)>=0,this.selected&&i(this.originalItem.originalItem).attr("data-selected",!0)})))},isIndexInView:function(e){if(isNaN(e))return!1;if(!this.items)return!1;if(e<0||e>=this.items.length)return!1;var t=this.vScrollInstance.value,i=0;this.filterable&&(i=this.filterHeight);var r=this.visibleItems[e];if(null==r)return!0;var n=r.initialTop;return!(n-t<i||n-t+i+r.height>=this.host.outerHeight())},_itemsInPage:function(){var e=0,t=this;return this.items&&i.each(this.items,(function(){if(this.initialTop+this.height>=t.content.height())return!1;e++})),e},_firstItemIndex:function(){return null!=this.visibleItems?this.visibleItems[0]&&this.visibleItems[0].isGroup?this._nextItemIndex(0):0:-1},_lastItemIndex:function(){return null!=this.visibleItems?this.visibleItems[this.visibleItems.length-1]&&this.visibleItems[this.visibleItems.length-1].isGroup?this._prevItemIndex(this.visibleItems.length-1):this.visibleItems.length-1:-1},_nextItemIndex:function(e){for(var t=e+1;t<this.visibleItems.length;t++)if(this.visibleItems[t]&&!this.visibleItems[t].disabled&&!this.visibleItems[t].isGroup)return t;return-1},_prevItemIndex:function(e){for(var t=e-1;t>=0;t--)if(this.visibleItems[t]&&!this.visibleItems[t].disabled&&!this.visibleItems[t].isGroup)return t;return-1},clearFilter:function(){this.filterInput.val(""),this._updateItemsVisibility("")},_search:function(e){var t=this,i=t.filterInput.val();if(9!=e.keyCode&&"none"!=t.searchMode&&null!=t.searchMode&&"undefined"!=t.searchMode&&16!=e.keyCode&&17!=e.keyCode&&20!=e.keyCode)return 37!=e.keyCode&&39!=e.keyCode&&void(e.altKey||18==e.keyCode||e.keyCode>=33&&e.keyCode<=40||(e.ctrlKey||e.metaKey||t.ctrlKey)&&88!=e.keyCode&&86!=e.keyCode||i!==t.searchString&&t._updateItemsVisibility(i))},_updateItemsVisibility:function(e){var t=this.getItems();if(null==t)return{index:-1,matchItem:new Array};var r=this,n=new Array,s=0;i.each(t,(function(t){var o="";if(!this.isGroup){o=(o=this.searchLabel?this.searchLabel:this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem").toString();var a=!1;switch(r.searchMode){case"containsignorecase":a=i.jqx.string.containsIgnoreCase(o,e);break;case"contains":a=i.jqx.string.contains(o,e);break;case"equals":a=i.jqx.string.equals(o,e);break;case"equalsignorecase":a=i.jqx.string.equalsIgnoreCase(o,e);break;case"startswith":a=i.jqx.string.startsWith(o,e);break;case"startswithignorecase":a=i.jqx.string.startsWithIgnoreCase(o,e);break;case"endswith":a=i.jqx.string.endsWith(o,e);break;case"endswithignorecase":a=i.jqx.string.endsWithIgnoreCase(o,e)}a||(this.visible=!1),a&&(n[s++]=this,this.visible=!0),""==e&&(this.visible=!0,a=!1)}})),r.renderedVisibleItems=new Array,r.visibleItems=new Array,r.vScrollInstance.setPosition(0,!0),r._addItems(!1),r._renderItems();for(var o=0;o<r.items.length;o++)r.selectedIndexes[o]=-1;for(var a in r.selectedIndex=-1,r.selectedValues){var l=r.getItemByValue(e=r.selectedValues[a]);l&&l.visible&&(r.selectedIndex=l.visibleIndex,r.selectedIndexes[l.visibleIndex]=l.visibleIndex)}r._syncSelection(),r.filterChange&&r.filterChange(e)},_getMatches:function(e,t){if(null==e||0==e.length)return-1;null==t&&(t=0);var r=this.getItems(),n=this,s=-1;return i.each(r,(function(r){var o="";if(!this.isGroup){o=this.searchLabel?this.searchLabel.toString():this.label?this.label.toString():this.value?this.value.toString():this.title?this.title.toString():"jqxItem";var a=!1;switch(n.searchMode){case"containsignorecase":a=i.jqx.string.containsIgnoreCase(o,e);break;case"contains":a=i.jqx.string.contains(o,e);break;case"equals":a=i.jqx.string.equals(o,e);break;case"equalsignorecase":a=i.jqx.string.equalsIgnoreCase(o,e);break;case"startswith":a=i.jqx.string.startsWith(o,e);break;case"startswithignorecase":a=i.jqx.string.startsWithIgnoreCase(o,e);break;case"endswith":a=i.jqx.string.endsWith(o,e);break;case"endswithignorecase":a=i.jqx.string.endsWithIgnoreCase(o,e)}if(a&&this.visibleIndex>=t)return s=this.visibleIndex,!1}})),s},findItems:function(e){var t=this.getItems(),r=this,n=0,s=new Array;return i.each(t,(function(t){var o="";if(!this.isGroup){o=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var a=!1;switch(r.searchMode){case"containsignorecase":a=i.jqx.string.containsIgnoreCase(o,e);break;case"contains":a=i.jqx.string.contains(o,e);break;case"equals":a=i.jqx.string.equals(o,e);break;case"equalsignorecase":a=i.jqx.string.equalsIgnoreCase(o,e);break;case"startswith":a=i.jqx.string.startsWith(o,e);break;case"startswithignorecase":a=i.jqx.string.startsWithIgnoreCase(o,e);break;case"endswith":a=i.jqx.string.endsWith(o,e);break;case"endswithignorecase":a=i.jqx.string.endsWithIgnoreCase(o,e)}a&&(s[n++]=this)}})),s},_syncSelection:function(){var e=this;if(e.filterable){if(e.items)for(var t=0;t<e.items.length;t++)(i=e.items[t]).selected=!1;for(t=0;t<e.visibleItems.length;t++){var i=e.visibleItems[t];e.selectedIndexes&&e.selectedIndexes[t]==i.visibleIndex&&(i.selected=!0)}e.itemswrapper&&e._renderItems()}},_handleKeyDown:function(e){var t=e.keyCode,r=this,n=r.selectedIndex,s=r.selectedIndex;if(this.keyboardNavigation&&this.enableSelection&&!(this.filterInput&&e.target==this.filterInput[0]||e.target instanceof HTMLInputElement&&i(e.target).ischildof(this.host))){var o,a=function(){(r.multiple||r.checkboxes)&&r.clearSelection(!1)};if(e.altKey&&(t=-1),32==t&&this.checkboxes)return null!=(o=this.getItem(n))&&(r._updateItemCheck(o,n),e.preventDefault()),r._searchString="",r.selectIndex(o.visibleIndex,!1,!0,!0,"keyboard",e),void r._renderItems();if(r.incrementalSearch){var l=-1;r._searchString||(r._searchString=""),(8==t||46==t)&&r._searchString.length>=1&&(r._searchString=r._searchString.substr(0,r._searchString.length-1));var d=String.fromCharCode(t),h=!isNaN(parseInt(d)),u=!1;if(t>=65&&t<=97||h||8==t||32==t||46==t){e.shiftKey||(d=d.toLocaleLowerCase());var c=1+r.selectedIndex;8!=t&&32!=t&&46!=t&&(r._searchString.length>0&&r._searchString.substr(0,1)==d?(c=1+r.selectedIndex,r._searchString+=d):r._searchString+=d),32==t&&(r._searchString+=" ");var p=this._getMatches(r._searchString,c);(l=p)!=r._lastMatchIndex&&-1!=l||(p=this._getMatches(r._searchString,0),l=p),r._lastMatchIndex=l,l>=0&&(r._toSelectTimer&&clearTimeout(r._toSelectTimer),r._toSelectTimer=setTimeout((function(){a(),r.selectIndex(l,!1,!1,!1,"keyboard",e),r.isIndexInView(l)?r._renderItems():r.ensureVisible(l)}),r.incrementalSearchKeyDownDelay)),u=!0}if(null!=r._searchTimer&&clearTimeout(r._searchTimer),27!=t&&13!=t||(r._searchString=""),r._searchTimer=setTimeout((function(){r._searchString="",r._renderItems()}),r.incrementalSearchDelay),l>=0)return;if(u)return!1}if(33==t){var f=r._itemsInPage();r.selectedIndex-f>=0?(a(),r.selectIndex(s-f,!1,!1,!1,"keyboard",e)):(a(),r.selectIndex(r._firstItemIndex(),!1,!1,!1,"keyboard",e)),r._searchString=""}if(32==t&&this.checkboxes&&(null!=(o=this.getItem(n))&&(r._updateItemCheck(o,n),e.preventDefault()),r._searchString=""),36==t&&(a(),r.selectIndex(r._firstItemIndex(),!1,!1,!1,"keyboard",e),r._searchString=""),35==t&&(a(),r.selectIndex(r._lastItemIndex(),!1,!1,!1,"keyboard",e),r._searchString=""),34==t&&(f=r._itemsInPage(),r.selectedIndex+f<r.visibleItems.length?(a(),r.selectIndex(s+f,!1,!1,!1,"keyboard",e)):(a(),r.selectIndex(r._lastItemIndex(),!1,!1,!1,"keyboard",e)),r._searchString=""),38==t){if(r._searchString="",!(r.selectedIndex>0))return!1;if((m=r._prevItemIndex(r.selectedIndex))==r.selectedIndex||-1==m)return!0;a(),r.selectIndex(m,!1,!1,!1,"keyboard",e)}else if(40==t){if(r._searchString="",!(r.selectedIndex+1<r.visibleItems.length))return!1;var m;if((m=r._nextItemIndex(r.selectedIndex))==r.selectedIndex||-1==m)return!0;a(),r.selectIndex(m,!1,!1,!1,"keyboard",e)}return 35!=t&&36!=t&&38!=t&&40!=t&&34!=t&&33!=t||(r.isIndexInView(r.selectedIndex)?r._renderItems():r.ensureVisible(r.selectedIndex),!1)}},_updateItemCheck:function(e,t){if(!this.disabled)switch(e.checked=1==e.checked?!(!e.hasThreeStates||!this.hasThreeStates)&&null:null!=e.checked,e.checked){case!0:this.checkIndex(t);break;case!1:this.uncheckIndex(t);break;default:this.indeterminateIndex(t)}},wheel:function(e,t){if(t.autoHeight||!t.enableMouseWheel)return e.returnValue=!0,!0;if(t.disabled)return!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var r=t._handleDelta(i);return r&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()),!!r&&(e.returnValue=r=!1,r)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){var t=this.vScrollInstance.value;return e<0?this.scrollDown():this.scrollUp(),t!=this.vScrollInstance.value},focus:function(){try{this.focused=!0,this.host.focus();var e=this;setTimeout((function(){e.host.focus()}),25)}catch(t){}},_removeHandlers:function(){this.removeHandler(i(document),"keydown.listbox"+this.element.id),this.removeHandler(i(document),"keyup.listbox"+this.element.id),this.removeHandler(this.vScrollBar,"valueChanged"),this.removeHandler(this.hScrollBar,"valueChanged"),this._mousewheelfunc?this.removeHandler(this.host,"mousewheel",this._mousewheelfunc):this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.content,"mouseleave"),this.removeHandler(this.content,"focus"),this.removeHandler(this.content,"blur"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.content,"mouseenter"),this.removeHandler(this.content,"mouseup"),this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"touchend"),this._mousemovefunc?this.removeHandler(this.content,"mousemove",this._mousemovefunc):this.removeHandler(this.content,"mousemove"),this.removeHandler(this.content,"selectstart"),this.overlayContent&&this.removeHandler(this.overlayContent,i.jqx.mobile.getTouchEventName("touchend"))},_updateSize:function(){this.virtualSize||(this._oldheight=null,this.virtualSize=this._calculateVirtualSize());var e=this;if(e._arrange(),e.host.height()!=e._oldheight||e.host.width()!=e._oldwidth){if(e.host.width(),e.autoItemsHeight)e._render(!1);else if(e.items)if(e.items.length>0&&e.virtualItemsCount*e.items[0].height<e._oldheight-2)e._render(!1);else{var t=e.vScrollInstance.value;e._updatescrollbars(),e._renderItems(),e.vScrollInstance.setPosition(t<e.vScrollInstance.max?t:e.vScrollInstance.max)}e._oldwidth=e.host.width(),e._oldheight=e.host.height()}},_addHandlers:function(){var e=this;this.focused=!1,new Date;var t=this.isTouchDevice();this.addHandler(this.vScrollBar,"valueChanged",(function(t){i.jqx.browser.msie&&i.jqx.browser.version>9?setTimeout((function(){e._renderItems()}),1):e._renderItems()})),this.addHandler(this.hScrollBar,"valueChanged",(function(){e._renderItems()})),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this._mousewheelfunc=function(t){e.wheel(t,e)},this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(i(document),"keydown.listbox"+this.element.id,(function(t){e._ctrlKey=t.ctrlKey||t.metaKey,e._shiftKey=t.shiftKey})),this.addHandler(i(document),"keyup.listbox"+this.element.id,(function(t){e._ctrlKey=t.ctrlKey||t.metaKey,e._shiftKey=t.shiftKey})),this.addHandler(this.host,"keydown",(function(t){return e._handleKeyDown(t)})),this.addHandler(this.content,"mouseleave",(function(t){e.focused=!1;var r=i.data(e.element,"hoveredItem");null!=r&&(i(r).removeClass(e.toThemeProperty("jqx-listitem-state-hover")),i(r).removeClass(e.toThemeProperty("jqx-fill-state-hover")),i.data(e.element,"hoveredItem",null))})),this.addHandler(this.content,"focus",(function(t){e.disabled||(e.host.addClass(e.toThemeProperty("jqx-fill-state-focus")),e.focused=!0)})),this.addHandler(this.content,"blur",(function(t){e.focused=!1,e.host.removeClass(e.toThemeProperty("jqx-fill-state-focus"))})),this.addHandler(this.host,"focus",(function(t){e.disabled||(e.host.addClass(e.toThemeProperty("jqx-fill-state-focus")),e.focused=!0)})),this.addHandler(this.host,"blur",(function(t){i.jqx.browser.msie&&i.jqx.browser.version<9&&e.focused||(e.host.removeClass(e.toThemeProperty("jqx-fill-state-focus")),e.focused=!1)})),this.addHandler(this.content,"mouseenter",(function(t){e.focused=!0}));var r=i.jqx.utilities.hasTransform(this.host),n=e.isTouchDevice()&&!0!==this.touchMode,s=n?"touchend":"mousedown";if(this.overlayContent)this.addHandler(this.overlayContent,i.jqx.mobile.getTouchEventName("touchend"),(function(t){if(!e.enableSelection)return!0;if(n&&(e._newScroll=new Date,e._newScroll-e._lastScroll<500))return!0;var r=i.jqx.mobile.getTouches(t)[0];if(null!=r){var s=e.host.offset(),o=parseInt(r.pageX),a=parseInt(r.pageY);1==e.touchMode&&null!=r._pageX&&(o=parseInt(r._pageX),a=parseInt(r._pageY));var l=e._hitTest(o-=s.left,a-=s.top);if(null!=l&&!l.isGroup){if(e._newScroll=new Date,e._newScroll-e._lastScroll<500)return!1;if(e.checkboxes)return void e._updateItemCheck(l,l.visibleIndex);if(-1==l.html.indexOf("href"))return e.selectIndex(l.visibleIndex,!1,!0,!1,"mouse",t),t.preventDefault&&t.preventDefault(),e.content.trigger("click"),!1;setTimeout((function(){return e.selectIndex(l.visibleIndex,!1,!0,!1,"mouse",t),e.content.trigger("click"),!1}),100)}}}));else{var o=!1;this.addHandler(this.content,s,(function(t){if(!e.enableSelection)return!0;if(o=!0,n&&(e._newScroll=new Date,e._newScroll-e._lastScroll<500))return!1;if(e.focused=!0,!e.isTouchDevice()&&e.focusable&&e.host.focus(),t.target.id!="listBoxContent"+e.element.id&&e.itemswrapper[0]!=t.target){var a=t.target,l=i(a).offset(),d=e.host.offset();if(r){var h=i.jqx.mobile.getLeftPos(a),u=i.jqx.mobile.getTopPos(a);l.left=h,l.top=u,h=i.jqx.mobile.getLeftPos(e.element),u=i.jqx.mobile.getTopPos(e.element),d.left=h,d.top=u}var c=parseInt(l.top)-parseInt(d.top),p=parseInt(l.left)-parseInt(d.left),f=e._hitTest(p,c);if(null!=f&&!f.isGroup){var m=function(t,i){e._shiftKey||(e._clickedIndex=t.visibleIndex),e.checkboxes?(p=20+i.pageX-l.left,e.rtl?("hidden"!=e.hScrollBar.css("visibility")||e.host.width(),p<=e.host.width()-20&&(e.allowDrag?setTimeout((function(){e._dragItem||o||(e._updateItemCheck(t,t.visibleIndex),e.selectIndex(t.visibleIndex,!1,!0,!1,"mouse",i))}),200):(e._updateItemCheck(t,t.visibleIndex),e.selectIndex(t.visibleIndex,!1,!0,!1,"mouse",i)))):p+e.hScrollInstance.value>=20&&(e.allowDrag?setTimeout((function(){e._dragItem||o||(e._updateItemCheck(t,t.visibleIndex),e.selectIndex(t.visibleIndex,!1,!0,!1,"mouse",i))}),200):(e._updateItemCheck(t,t.visibleIndex),e.selectIndex(t.visibleIndex,!1,!0,!1,"mouse",i)))):e.selectIndex(t.visibleIndex,!1,!0,!1,"mouse",i)};f.disabled||(-1!=f.html.indexOf("href")?setTimeout((function(){m(f,t)}),100):m(f,t))}if("mousedown"==s){var g=!1;if(t.which?g=3==t.which:t.button&&(g=2==t.button),g)return!0}}return!0}))}this.addHandler(this.content,"mouseup",(function(t){e.vScrollInstance.handlemouseup(e,t),o=!1})),i.jqx.browser.msie&&this.addHandler(this.content,"selectstart",(function(e){return!1})),t=this.isTouchDevice(),this.enableHover&&!t&&(this._mousemovefunc=function(n){if(t)return!0;if(!e.enableHover)return!0;if(null==n.target)return!0;if(e.disabled)return!0;if(e.focused=!0,!e.vScrollInstance.isScrolling()&&n.target.id!="listBoxContent"+e.element.id&&e.itemswrapper[0]!=n.target){var s=n.target,o=i(s).offset(),a=e.host.offset();if(r){var l=i.jqx.mobile.getLeftPos(s),d=i.jqx.mobile.getTopPos(s);o.left=l,o.top=d,l=i.jqx.mobile.getLeftPos(e.element),d=i.jqx.mobile.getTopPos(e.element),a.left=l,a.top=d}var h=parseInt(o.top)-parseInt(a.top),u=parseInt(o.left)-parseInt(a.left),c=e._hitTest(u,h);if(null!=c&&!c.isGroup&&!c.disabled){var p=i.data(e.element,"hoveredItem");null!=p&&(i(p).removeClass(e.toThemeProperty("jqx-listitem-state-hover")),i(p).removeClass(e.toThemeProperty("jqx-fill-state-hover"))),i.data(e.element,"hoveredItem",c.element);var f=i(c.element);f.addClass(e.toThemeProperty("jqx-listitem-state-hover")),f.addClass(e.toThemeProperty("jqx-fill-state-hover"))}}},this.addHandler(this.content,"mousemove",this._mousemovefunc))},_arrange:function(e){null==e&&(e=!0);var t=this,i=null,r=null,n=t.filterable?t.filterHeight:0,s=window.getComputedStyle(this.element),o=2*parseInt(s.borderLeftWidth);0===this.element.offsetWidth&&(o=2),("border-box"===s.boxSizing||isNaN(o))&&(o=0);var a=function(e){return 0==(e=t.host.height()-o)&&t.host.height(e=200),e};null!=t.width&&-1!=t.width.toString().indexOf("px")?i=t.width:null==t.width||isNaN(t.width)||(i=t.width),null!=t.height&&-1!=t.height.toString().indexOf("px")?r=t.height:null==t.height||isNaN(t.height)||(r=t.height),null!=t.width&&-1!=t.width.toString().indexOf("%")&&(t.host.css("width",t.width),i=t.host.width()),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(t.host.css("height",t.height),r=a(r)),null!=i&&(i=parseInt(i)-o,parseInt(t.element.style.width)!=parseInt(t.width)&&(t.element.style.width=parseInt(i)+"px")),t.autoHeight?t.virtualSize&&("hidden"!=t.hScrollBar.css("visibility")?(t.host.height(t.virtualSize.height+parseInt(t.scrollBarSize)+3),t.height=t.virtualSize.height+parseInt(t.scrollBarSize)+3,r=t.height):(t.host.height(t.virtualSize.height),t.height=t.virtualSize.height,r=t.virtualSize.height)):null!=r&&(r=parseInt(r),parseInt(t.element.style.height)!=parseInt(t.height)&&(t.host.height(t.height),a(r)));var l=t.scrollBarSize;isNaN(l)&&(l=parseInt(l),isNaN(l)?l="17px":l+="px"),l=parseInt(l);var d=2,h=1;if(t.vScrollBar&&("hidden"!=t.vScrollBar[0].style.visibility?h=l+4:(h=0,t.vScrollInstance.setPosition(0)),0==l&&(h=0,d=0),t.hScrollBar)){"hidden"!=t.hScrollBar[0].style.visibility?d=l+4:(t.hScrollInstance.setPosition(0),d=0),t.autoItemsHeight&&(t.hScrollBar[0].style.visibility="hidden",d=0),null==r&&(r=0);var u=parseInt(r)-4-l;u<0&&(u=0),parseInt(t.hScrollBar[0].style.height)!=l&&(parseInt(l)<0&&(l=0),t.hScrollBar[0].style.height=parseInt(l)+"px"),t.hScrollBar[0].style.top!=u+"px"&&(t.hScrollBar[0].style.top=u+"px",t.hScrollBar[0].style.left="0px");var c=i-l-4;c<0&&(c=0);var p=c+"px";if(t.hScrollBar[0].style.width!=p&&(t.hScrollBar[0].style.width=p),h<=1&&i>=2&&(t.hScrollBar[0].style.width=parseInt(i-2)+"px"),l!=parseInt(t.vScrollBar[0].style.width)&&(t.vScrollBar[0].style.width=parseInt(l)+"px"),parseInt(r)-d!=parseInt(t.vScrollBar[0].style.height)){var f=parseInt(r)-d;f<0&&(f=0),t.vScrollBar[0].style.height=f+"px"}null==i&&(i=0);var m=parseInt(i)-parseInt(l)-4+"px";"border-box"===this.host.css("box-sizing")&&(m=parseInt(m)-2+"px"),m!=t.vScrollBar[0].style.left&&(parseInt(m)>=0&&(t.vScrollBar[0].style.left=m),t.vScrollBar[0].style.top="0px");var g=t.vScrollInstance;g.disabled=t.disabled,e&&g._arrange();var v=t.hScrollInstance;if(v.disabled=t.disabled,e&&v._arrange(),"hidden"!=t.vScrollBar[0].style.visibility&&"hidden"!=t.hScrollBar[0].style.visibility?(t.bottomRight[0].style.visibility="inherit",t.bottomRight[0].style.left=1+parseInt(t.vScrollBar[0].style.left)+"px",t.bottomRight[0].style.top=1+parseInt(t.hScrollBar[0].style.top)+"px",t.rtl&&t.bottomRight.css({left:0}),t.bottomRight[0].style.width=parseInt(l)+3+"px",t.bottomRight[0].style.height=parseInt(l)+3+"px"):t.bottomRight[0].style.visibility="hidden",parseInt(t.content[0].style.width)!=parseInt(i)-h){var w=parseInt(i)-h;w<0&&(w=0),t.content[0].style.width=w+"px"}if(t.rtl&&(t.vScrollBar.css({left:"0px",top:"0px"}),t.hScrollBar.css({left:t.vScrollBar.width()+2+"px"}),"hidden"!=t.vScrollBar[0].style.visibility?t.content.css("margin-left",4+t.vScrollBar.width()):(t.content.css("margin-left",0),t.hScrollBar.css({left:"0px"})),t.filterable&&t.filterInput&&t.filterInput.css({left:t.vScrollBar.width()+6+"px"})),parseInt(t.content[0].style.height)!=parseInt(r)-d){var y=parseInt(r)-d;y<0&&(y=0),t.content[0].style.height=y+"px",t.content[0].style.top="0px"}n>0&&(t.content[0].style.top=n+"px",t.content[0].style.height=parseInt(t.content[0].style.height)-n+"px"),t.filterable?(t.filterInput[0].style.height=n-6+"px",t.filterInput[0].style.top="3px",t.rtl||(t.filterInput[0].style.left=parseInt(t.content.css("left"))+3+"px"),t.filterInput[0].style.width=parseInt(t.content.css("width"))-7+"px",t.filter[0].style.display="block"):t.filter[0].style.display="none",t.overlayContent&&(t.overlayContent.width(parseInt(i)-h),t.overlayContent.height(parseInt(r)-d))}},ensureVisible:function(e,t){if(isNaN(e)&&(n=this.getItemByValue(e))&&(e=n.index),this.isIndexInView(e)){if(t)for(r=0;r<this.visibleItems.length;r++)(n=this.visibleItems[r]).visibleIndex!=e||n.isGroup||(h=n.initialTop,this.filterable&&(h=this.filterHeight+2+n.initialTop),(o=this.vScrollInstance.value)+this.host.height()<this.vScrollInstance.max&&this.vScrollInstance.setPosition(h))}else{if(e<0)return;if(this.autoHeight)(s=i.data(this.vScrollBar[0],"jqxScrollBar").instance).setPosition(0);else for(var r=0;r<this.visibleItems.length;r++){var n;if((n=this.visibleItems[r]).visibleIndex==e&&!n.isGroup){var s,o=(s=i.data(this.vScrollBar[0],"jqxScrollBar").instance).value,a=this.filterable?this.filterHeight+2:0,l="hidden"===this.hScrollBar.css("visibility")?0:this.scrollBarSize+4;if(n.initialTop<o)s.setPosition(n.initialTop),0==r&&s.setPosition(0);else if(n.initialTop+n.height>o+this.host.height()-a){var d=this.host.height();if(this.filterable?s.setPosition(this.filterHeight+2+n.initialTop+n.height+2-d+l):(s.setPosition(n.initialTop+n.height+2-d+l),r===this.visibleItems.length-1&&s.setPosition(s.max)),t){var h=n.initialTop;this.filterable&&(h=this.filterHeight+2+n.initialTop),(o=s.value)+d<s.max&&s.setPosition(h)}}break}}}this._renderItems()},scrollTo:function(e,t){"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollInstance.setPosition(t),"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollInstance.setPosition(e)},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value+e.largestep<=e.max?(e.setPosition(e.value+e.largestep),!0):(e.setPosition(e.max),!0)},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value-e.largestep>=e.min?(e.setPosition(e.value-e.largestep),!0):e.value!=e.min&&(e.setPosition(e.min),!0)},databind:function(e,t){this.records=new Array;var r=!!e._source,n=new i.jqx.dataAdapter(e,{autoBind:!1});r&&(n=e,e=e._source);var s=function(e,t){var r=function(t){var r=null;if("string"==typeof t)var n=t,s=t,o="";else null!=e.displayMember&&""!=e.displayMember&&(s=t[e.valueMember],n=t[e.displayMember]);o="",e.groupMember?o=t[e.groupMember]:t&&null!=t.group&&(o=t.group),e.searchMember?r=t[e.searchMember]:t&&null!=t.searchLabel&&(r=t.searchLabel),e.valueMember||e.displayMember||"string"==i.type(t)&&(n=s=t.toString()),t&&null!=t.label&&(n=t.label),t&&null!=t.value&&(s=t.value);var a=!1;t&&null!=t.checked&&(a=t.checked);var l="";t&&null!=t.html&&(l=t.html);var d=!0;t&&null!=t.visible&&(d=t.visible);var h=!1;t&&null!=t.disabled&&(h=t.disabled);var u=!1;t&&null!=t.hasThreeStates&&(u=t.hasThreeStates);var c={};return c.label=n,c.value=s,c.searchLabel=r,c.html=l,c.visible=d,c.originalItem=t,c.group=o,c.groupHtml="",c.disabled=h,c.checked=a,c.hasThreeStates=u,c};if(null!=t&&n._changedrecords[0])i.each(n._changedrecords,(function(){var i=this.index;if("remove"!=t)var n=r(this.record);switch(t){case"update":e.updateAt(n,i);break;case"add":e.insertAt(n,i);break;case"remove":e.removeAt(i)}}));else{e.records=n.records;for(var s=e.records.length,o=new Array,a=0;a<s;a++){var l=r(e.records[a]);l.index=a,o[a]=l}e.items=e.loadItems(o,!0),e._render(),e._raiseEvent("6")}};null!=e.type&&(n._options.type=e.type),null!=e.formatdata&&(n._options.formatData=e.formatdata),null!=e.contenttype&&(n._options.contentType=e.contenttype),null!=e.async&&(n._options.async=e.async);var o=this;switch(e.datatype){case"local":case"array":default:(null!=e.localdata||i.isArray(e))&&(n.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!t)&&n.dataBind(),s(this),n.bindBindingUpdate(this.element.id,(function(e){s(o,e)})));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=e.localdata)return n.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!t)&&n.dataBind(),s(this),void n.bindBindingUpdate(this.element.id,(function(){s(o)}));var a={};n._options.data?i.extend(n._options.data,a):(e.data&&i.extend(a,e.data),n._options.data=a),n.unbindDownloadComplete(o.element.id),n.bindDownloadComplete(o.element.id,(function(){s(o)})),(this.autoBind||!this.autoBind&&!t)&&n.dataBind()}},loadItems:function(e,t){if(null==e)return this.groups=new Array,this.items=new Array,void(this.visualItems=new Array);var r=this,n=0,s=0,o=0;this.groups=new Array,this.items=new Array,this.visualItems=new Array;var a=new Array;this.itemsByValue=new Array,i.map(e,(function(e){if(null==e)return null;var l=new i.jqx._jqxListBox.item,d=e.group,h=e.groupHtml,u=e.title,c=null;if(r.searchMember?c=e[r.searchMember]:e&&null!=e.searchLabel&&(c=e.searchLabel),null!=u&&null!=u||(u=""),null!=d&&null!=d||(d=""),r.groupMember&&(d=e[r.groupMember]),null!=h&&null!=h||(h=""),!r.groups[d]){r.groups[d]={items:new Array,index:-1,caption:d,captionHtml:h};var p=++n+"jqxGroup";r.groups[p]=r.groups[d],s++,r.groups.length=s}var f=r.groups[d];return f.index++,f.items[f.index]=l,"string"==typeof e?(l.label=e,l.value=e,arguments.length>1&&arguments[1]&&"string"==i.type(arguments[1])&&(l.label=e,l.value=arguments[1])):null==e.label&&null==e.value&&null==e.html&&null==e.group&&null==e.groupHtml?(l.label=e.toString(),l.value=e.toString()):(l.label=e.label,l.value=e.value,void 0===l.label&&(l.label=e.value),void 0===l.value&&(l.value=e.label)),"string"!=typeof e&&(void 0===e.label&&""!=r.displayMember&&(l.label=null!=e[r.displayMember]?e[r.displayMember]:""),void 0===e.value&&""!=r.valueMember&&(l.value=e[r.valueMember])),l.hasThreeStates=null==e.hasThreeStates||e.hasThreeStates,l.originalItem=e,t&&(l.originalItem=e.originalItem),l.title=u,u&&void 0===l.value&&void 0===l.label&&(l.value=l.label=u),l.html=e.html||"",l.group=d,l.checked=e.checked||!1,l.groupHtml=e.groupHtml||"",l.disabled=e.disabled||!1,l.visible=null==e.visible||e.visible,l.searchLabel=c,l.index=o,a[o]=l,o++,l}));var l=new Array,d=0;if(null==this.fromSelect||0==this.fromSelect)for(var h=0;h<s;h++){var u=this.groups[(n=h+1)+"jqxGroup"];if(null==u||null==u)break;if(0==h&&""==u.caption&&""==u.captionHtml&&s<=1){for(var c=0;c<u.items.length;c++){var p=u.items[c].value;null!=u.items[c].value&&null!=u.items[c].value||(p=c),this.itemsByValue[i.trim(p).split(" ").join("?")]=u.items[c]}return u.items}var f=new i.jqx._jqxListBox.item;f.isGroup=!0,f.label=u.caption,""==u.caption&&""==u.captionHtml&&(u.caption=this.emptyGroupText,f.label=u.caption),f.html=u.captionHtml,l[d]=f,d++;for(var m=0;m<u.items.length;m++)l[d]=u.items[m],p=u.items[m].value,""!=u.items[m].value&&null!=u.items[m].value||(p=d),r.itemsByValue[i.trim(p).split(" ").join("?")]=u.items[m],d++}else{d=0;var g=new Array;i.each(a,(function(){if(!g[this.group]&&""!=this.group){var e=new i.jqx._jqxListBox.item;e.isGroup=!0,e.label=this.group,l[d]=e,d++,g[this.group]=!0}l[d]=this;var t=this.value;""!=this.value&&null!=this.value||(t=d-1),r.itemsByValue[i.trim(t).split(" ").join("?")]=this,d++}))}return l},_mapItem:function(e){var t=new i.jqx._jqxListBox.item;return this.displayMember&&(null==e.label&&(e.label=e[this.displayMember]),null==e.value&&(e.value=e[this.valueMember])),"string"==typeof e?(t.label=e,t.value=e):"number"==typeof e?(t.label=e.toString(),t.value=e.toString()):(t.label=void 0!==e.label?e.label:e.value,t.value=void 0!==e.value?e.value:e.label),null==t.label&&null==t.value&&null==t.html&&(t.label=t.value=e),t.html=e.html||"",t.group=e.group||"",t.checked=e.checked||!1,t.title=e.title||"",t.groupHtml=e.groupHtml||"",t.disabled=e.disabled||!1,t.visible=e.visible||!0,t},addItem:function(e){return this.insertAt(e,this.items?this.items.length:0)},_getItemByParam:function(e){if(null!=e&&null==e.index){var t=this.getItemByValue(e);t&&(e=t)}return e},insertItem:function(e,t){var i=this._getItemByParam(e);return this.insertAt(i,t)},updateItem:function(e,t){var i=this._getItemByParam(t);return!(!i||null==i.index)&&this.updateAt(e,i.index)},updateAt:function(e,t){if(null!=e){var r=this._mapItem(e);this.itemsByValue[i.trim(r.value).split(" ").join("?")]=this.items[t],this.items[t].value=r.value,this.items[t].label=r.label,this.items[t].html=r.html,this.items[t].disabled=r.disabled,this._raiseEvent("9",{item:this.items[t]})}this._cachedItemHtml=[],this._renderItems(),this.rendered&&this.rendered()},insertAt:function(e,t){if(null==e)return!1;if(this._cachedItemHtml=[],null==this.items||0==this.items.length){this.source=new Array,this.refresh(),(n=this._mapItem(e)).index=0,this.items[this.items.length]=n,this._addItems(!0),this._renderItems(),this.rendered&&this.rendered(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop();var r=n.value;return""!=n.value&&null!=n.value||(r=t),this.itemsByValue[i.trim(r).split(" ").join("?")]=n,!1}var n=this._mapItem(e);if(-1==t||null==t||null==t||t>=this.items.length)n.index=this.items.length,this.items[this.items.length]=n;else{for(var s=new Array,o=0,a=!1,l=0,d=0;d<this.items.length;d++)0==this.items[d].isGroup&&l>=t&&!a&&(s[o++]=n,n.index=t,l++,a=!0),s[o]=this.items[d],this.items[d].isGroup||(s[o].index=l,l++),o++;this.items=s}r=n.value,""!=n.value&&null!=n.value||(r=t),this.itemsByValue[i.trim(r).split(" ").join("?")]=n,this.visibleItems=new Array,this.renderedVisibleItems=new Array;var h=i.data(this.vScrollBar[0],"jqxScrollBar").instance,u=h.value;return h.setPosition(0),this.allowDrag&&this._enableDragDrop||this.virtualSize&&this.virtualSize.height<10+this.host.height()?this._addItems(!0):this._addItems(!1),this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),h.setPosition(u),this._raiseEvent("7",{item:n}),this.rendered&&this.rendered(),!0},removeAt:function(e){if(e<0||e>this.items.length-1)return!1;if(null==e)return!1;var t=this.items[e].height;""!=(p=this.items[e].value)&&null!=p||(p=e),this.itemsByValue[i.trim(p).split(" ").join("?")]=null;var r=this.items[e];if(this.groups.length>1){for(var n=new Array,s=0;s<this.items.length;s++)this.items[s].isGroup||n.push({item:this.items[s],key:s});if(!n[e])return!1;this.items.splice(n[e].key,1)}else this.items.splice(e,1);var o=new Array,a=0,l=0;for(s=0;s<this.items.length;s++)o[a]=this.items[s],this.items[s].isGroup||(o[a].index=l,l++),a++;this.items=o;var d=i.data(this.vScrollBar[0],"jqxScrollBar").instance,h=(d=i.data(this.vScrollBar[0],"jqxScrollBar").instance).value;if(d.setPosition(0),this.visibleItems=new Array,this.renderedVisibleItems=new Array,this.items.length>0){if(this.virtualSize){this.virtualSize.height-=t;var u=2*this.virtualSize.itemsPerPage;this.autoHeight&&(u=this.items.length),this.virtualItemsCount=Math.min(u,this.items.length)}this._updatescrollbars()}else this._addItems();this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),"hidden"!=this.vScrollBar.css("visibility")?d.setPosition(h):d.setPosition(0),this.itemsByValue=new Array;for(var c=0;c<this.items.length;c++){var p=this.items[c].value;""!=this.items[c].value&&null!=this.items[c].value||(p=c),this.itemsByValue[i.trim(p).split(" ").join("?")]=this.items[c]}return this._raiseEvent("8",{item:r}),0===this.items.length&&(this.selectedIndex=-1,this.selectedValue=null,this._updateInputSelection()),this.rendered&&this.rendered(),!0},removeItem:function(e,t){var i=this._getItemByParam(e),r=-1;if(i&&null!=i.index&&!0!==t){for(var n=0;n<this.items.length;n++)if(this.items[n].label==i.label&&this.items[n].value==i.value){r=n;break}if(-1!=r)return this.removeAt(r)}if(-1==r)return this.removeAt(i.index)},getItems:function(){return this.items},disableItem:function(e){var t=this._getItemByParam(e);this.disableAt(t.index)},enableItem:function(e){var t=this._getItemByParam(e);this.enableAt(t.index)},disableAt:function(e){return!(!this.items||e<0||e>this.items.length-1||(this.items[e].disabled=!0,this._renderItems(),0))},enableAt:function(e){return!(!this.items||e<0||e>this.items.length-1||(this.items[e].disabled=!1,this._renderItems(),0))},destroy:function(){this.source&&this.source.unbindBindingUpdate&&this.source.unbindBindingUpdate(this.element.id),this._removeHandlers(),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar.remove(),this.hScrollBar.remove(),this.content.remove(),i.jqx.utilities.resize(this.host,null,!0);var e=i.data(this.element,"jqxListBox");delete this.hScrollInstance,delete this.vScrollInstance,delete this.vScrollBar,delete this.hScrollBar,delete this.content,delete this.bottomRight,delete this.itemswrapper,delete this.visualItems,delete this.visibleItems,delete this.items,delete this.groups,delete this.renderedVisibleItems,delete this._mousewheelfunc,delete this._mousemovefunc,delete this._cachedItemHtml,delete this.itemsByValue,delete this._activeElement,delete this.source,delete this.events,this.input&&(this.input.remove(),delete this.input),e&&delete e.instance,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.element=null,delete this.element,this.host=null,delete this.set,delete this.get,delete this.call,delete this.host},_raiseEvent:function(e,t){if(1==this._stopEvents)return!0;null==t&&(t={owner:null});var r=this.events[e],n=t;n.owner=this,this._updateInputSelection();var s=new i.Event(r);if(s.owner=this,s.args=n,null!=this.host)var o=this.host.trigger(s);return o}}),function(e){e.jqx.parseSourceTag=function(t){var i=new Array,r=e(t).find("option"),n=e(t).find("optgroup"),s=!1;if(0===r.length&&(r=e(t).find("li")).length>0&&(s=!0),0===r.length){var o=[],a=e(t).find("tr"),l=e(t).find("th"),d=0;0===l.length&&a.length>0&&(l=e(a[0]).find("td"),d=1);for(var h=[],u=[],c=(o=[],0);c<a.length;c++){var p=a[c],f={};c===d+1&&(u=[]);for(var m=0;m<l.length;m++){var g=e.trim(e(l[m]).text()),v=e(p).find("td:eq("+m+")");if(f[g]=e.trim(v.text()),c===d&&(h.push({text:g,dataField:g}),u.push({name:g})),c===d+1){var w=typeof f[g],y="";"string"===w&&("true"===f[g]||"false"===f[g]?w="bool":isNaN(parseFloat(f[g]))||-1!==f[g].indexOf("-")||-1!==f[g].indexOf("/")?f[g].indexOf("$")>=0||f[g].indexOf("%")>=0?(w="number",f[g].indexOf("$")>=0&&(y="c"),f[g].indexOf("%")>=0&&(y="p"),f[g]=f[g].replace("%","").replace("$","")):"Invalid Date"!==new Date(f[g]).toString()&&(w="date",y="d"):(w="number",y=f[g].indexOf(".")>=0?"f":"n")),h[m].cellsformat=y,"number"===w&&(h[m].cellsalign="right",h[m].align="right"),u.push({name:g,type:w})}}c>=1&&(o[o.length]=f)}return{source:new e.jqx.dataAdapter({localdata:o,datatype:"array",datafields:u}),columns:h}}var b=null,x=(b=-1,new Array);if(e.each(r,(function(t){var r=n.find(this).length>0,o=null;null==this.text||null!=this.label&&""!=this.label||(this.label=this.text),!0===s&&(this.label=e(this).text().trim(),this.selected=e(this).attr("data-selected"),this.checked=this.selected,this.value=e(this).attr("data-value")||t,this.disabled=e(this).attr("disabled"));var a={style:this.style.cssText,selected:this.selected,html:this.innerHTML.trim(),classes:this.className,disabled:this.disabled,value:this.value,label:this.label,title:this.title,originalItem:this};e.jqx.browser.msie&&e.jqx.browser.version<8&&!s&&""==a.value&&null!=this.text&&this.text.length>0&&(a.value=this.text),r&&(o=n.find(this).parent()[0].label,a.group=o,x[o]||(x[o]=new Array,x.length++),x[o].push(a)),this.selected&&(b=t),a.checked=this.selected,void 0!==a.label&&i.push(a)})),x.length>0){var _=new Array;for(var C in x)if("indexOf"!==C){for(c=0;c<n.length&&C!==n[c].label&&!n[c].text;c++);e.each(x[C],(function(e,t){void 0!==this.label&&_.push(this)}))}}return _&&_.length>0?{items:_,index:b}:{items:i,index:b}},e.jqx._jqxListBox.item=function(){return{group:"",groupHtml:"",selected:!1,isGroup:!1,highlighted:!1,value:null,label:"",html:null,visible:!0,disabled:!1,element:null,width:null,height:null,initialTop:null,top:null,left:null,title:"",index:-1,checkBoxElement:null,originalItem:null,checked:!1,visibleIndex:-1}}}(jqxBaseFramework)},Llok:function(e,t){var i;(i=jqxBaseFramework).extend(i.jqx._jqxGrid.prototype,{_updatefilterrowui:function(e){var t=this.columns.records.length,r=0,n=this;if(this.filterrow){for(var s=0;s<t;s++){var o=this.columns.records[s],a=parseInt(o.width);a<o.minwidth&&(a=o.minwidth),a>o.maxwidth&&(a=o.maxwidth);var l=i(this.filterrow[0].cells[s]);l.css("left",r);var d=!0;if(l.width()==a&&(d=!1),e&&(d=!0),l.width(a),l[0].left=r,o.element&&(l[0].style.width=o.element.style.width,l[0].style.left=o.element.style.left),o.hidden&&o.hideable?l.css("display","none"):r+=a,d)if(o.createfilterwidget&&"custom"==o.filtertype)o.createfilterwidget(o,l);else if(o.filterable){var h=function(e,t){var r=i(t.children()[0]);r[0]&&(r[0].style.width=a-8+"px",i.jqx.browser.msie&&(r[0].style.width=a-16+"px")),r.attr("disabled",e.disabled)};switch(o.filtertype){case"number":case"input":i(l.children()[0]).width(a),l.find("input")[0].style.width=a-30+"px",i.jqx.browser.msie&&(l.find("input")[0].style.width=a-36+"px"),l.find("input").attr("disabled",n.disabled),i(l.find(".jqx-dropdownlist-state-normal")).jqxDropDownList({theme:n.theme,disabled:n.disabled});break;case"date":case"range":this.host.jqxDateTimeInput?i(l.children()[0]).jqxDateTimeInput({theme:n.theme,disabled:n.disabled,width:a-10}):h(this,l);break;case"textbox":case"default":h(this,l);break;case"list":case"checkedlist":this.host.jqxDropDownList?i(l.children()[0]).jqxDropDownList({theme:n.theme,disabled:n.disabled,width:a-10}):h(this,l);break;case"bool":case"boolean":this.host.jqxCheckBox?i(l.children()[0]).jqxCheckBox({theme:n.theme,disabled:n.disabled}):h(this,l)}}}var u=i(this.filterrow.children()[0]);u.width(parseInt(r)+2),u.height(this.filterrowheight)}},clearfilterrow:function(e){if(this._disablefilterrow=!0,this.columns.records){for(var t=this.columns.records.length,r=0;r<t;r++){var n=this.columns.records[r],s=i(this.filterrow[0].cells[r]);if(("string"!=typeof e||n.displayfield==e)&&n.filterable){var o=function(e,t){var r=i(t.children()[0]);r.val(""),r[0]&&(e["_oldWriteText"+r[0].id]="")};switch(n.filtertype){case"number":case"input":if(s.find("input").val(""),this.host.jqxDropDownList){var a=i(i(i(s).children()[0]).children()[1]);a.jqxDropDownList("clearSelection");var l=0;if(0==l){this._getfiltersbytype("number"==n.filtertype?"number":"string");var d=(new i.jqx.filter).getoperatorsbyfiltertype("number"==n.filtertype?"numberfilter":"stringfilter");null!=n.filtercondition?-1==(l=d.indexOf(n.filtercondition.toUpperCase()))&&(l="number"==n.filtertype?0:2):l="number"==n.filtertype?0:2}a.jqxDropDownList({selectedIndex:l}),a.jqxDropDownList("ensureVisible",l)}break;case"date":case"range":this.host.jqxDateTimeInput?i(s.children()[0]).jqxDateTimeInput("setDate",null):o(this,s);break;case"textbox":case"default":o(this,s);break;case"list":this.host.jqxDropDownList?i(s.children()[0]).jqxDropDownList("clearSelection"):o(this,s);break;case"checkedlist":this.host.jqxDropDownList?i(s.children()[0]).jqxDropDownList("checkAll",!1):o(this,s);break;case"bool":case"boolean":this.host.jqxCheckBox?i(s.children()[0]).jqxCheckBox({checked:null}):o(this,s)}}}this._disablefilterrow=!1}},_applyfilterfromfilterrow:function(){if(1!=this._disablefilterrow&&!this.disabled){for(var e=this.columns.records.length,t=this.that,r=0;r<e;r++){var n=new i.jqx.filter,s=this.columns.records[r];if(s.filterable&&null!==s.datafield){var o=t._getcolumntypebydatafield(s),a=t._getfiltertype(o),l=!0,d=function(e,i,r){var n=!0;if(e._filterwidget){var s=e._filterwidget.val();if(""!=s){var o="equal";if("stringfilter"==i&&(o="contains"),"numericfilter"==i&&","==t.gridlocalization.decimalseparator&&s.indexOf(t.gridlocalization.decimalseparator)>=0&&(s=s.replace(t.gridlocalization.decimalseparator,".")),"stringfilter"!=i){var a=0;if(-1!=s.indexOf(">")&&(o="greater_than",a=1),-1!=s.indexOf("<")&&(o="less_than",a=1),-1!=s.indexOf("=")&&("greater_than"==o?(o="greater_than_or_equal",a=2):"less_than"==o?(o="less_than_or_equal",a=2):(o="equal",a=1)),0!=a&&(s=s.substring(a)).length<1)return!1}if(null!=e.filtercondition&&(o=e.filtercondition),"datefilter"==i)var l=r.createfilter(i,s,o,null,e.cellsformat,t.gridlocalization);else l=r.createfilter(i,s,o);r.addfilter(1,l)}else n=!1}return n};switch(s.filtertype){case"range":case"date":if(s._filterwidget.jqxDateTimeInput)if("range"==s.filtertype)if(null!=(m=s._filterwidget.jqxDateTimeInput("getRange"))&&null!=m.from&&null!=m.to){var h="GREATER_THAN_OR_EQUAL";(f=new Date(0)).setHours(0),f.setMinutes(0),f.setFullYear(m.from.getFullYear(),m.from.getMonth(),m.from.getDate());var u=new Date(0);u.setHours(0),u.setMinutes(0),u.setFullYear(m.to.getFullYear(),m.to.getMonth(),m.to.getDate()),u.setHours(m.to.getHours()),u.setMinutes(m.to.getMinutes()),u.setSeconds(m.to.getSeconds());var c=n.createfilter(a,f,h);n.addfilter(0,c);var p=n.createfilter(a,u,"LESS_THAN_OR_EQUAL");n.addfilter(0,p)}else l=!1;else if(null!=(m=s._filterwidget.jqxDateTimeInput("getDate"))){var f;(f=new Date(0)).setHours(0),f.setMinutes(0),f.setFullYear(m.getFullYear(),m.getMonth(),m.getDate()),s._filterwidget.jqxDateTimeInput("showTimeButton")&&(f.setHours(m.getHours()),f.setMinutes(m.getMinutes())),h="EQUAL",null!=s.filtercondition&&(h=s.filtercondition),c=n.createfilter(a,f,h),s._filterwidget.jqxDateTimeInput("showTimeButton")&&(c=n.createfilter(a,f,h,null,s.cellsformat)),n.addfilter(0,c)}else l=!1;else l=d(s,a,n);break;case"input":if(s._filterwidget){var m=s._filterwidget.find("input").val(),g=s._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),v=n.getoperatorsbyfiltertype(a)[g];t.updatefilterconditions&&(null!=(b=t.updatefilterconditions(a,n.getoperatorsbyfiltertype(a)))&&n.setoperatorsbyfiltertype(a,b),v=n.getoperatorsbyfiltertype(a)[g]);var w="NULL"==v||"NOT_NULL"==v,y="EMPTY"==v||"NOT_EMPTY"==v;null!=m&&m.length>0||w||y?(c=n.createfilter(a,m,v,null,s.cellsformat,t.gridlocalization),n.addfilter(0,c)):l=!1}else l=!1;break;case"number":var b;s._filterwidget?(m=s._filterwidget.find("input").val(),","==t.gridlocalization.decimalseparator&&m.indexOf(t.gridlocalization.decimalseparator)>=0&&(m=m.replace(t.gridlocalization.decimalseparator,".")),g=s._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),v=n.getoperatorsbyfiltertype(a)[g],t.updatefilterconditions&&(null!=(b=t.updatefilterconditions(a,n.getoperatorsbyfiltertype(a)))&&n.setoperatorsbyfiltertype(a,b),v=n.getoperatorsbyfiltertype(a)[g]),w="NULL"==v||"NOT_NULL"==v,y="EMPTY"==v||"NOT_EMPTY"==v,null!=m&&m.length>0||w||y?(c=n.createfilter(a,new Number(m),v,null,s.cellsformat,t.gridlocalization),n.addfilter(0,c)):l=!1):l=!1;break;case"textbox":case"default":l=d(s,a,n);break;case"bool":case"boolean":if(s._filterwidget.jqxCheckBox)if(null!=(m=s._filterwidget.jqxCheckBox("checked"))){var x=n.createfilter(a,m,h="equal");n.addfilter(1,x)}else l=!1;else l=d(s,a,n);break;case"list":if((j=s._filterwidget.jqxDropDownList("listBox")).selectedIndex>0){var _=j.getItem(j.selectedIndex),C=_.value;h="equal",""===(m=_.label)&&(h="NULL"),x=n.createfilter(a,m,h),n.addfilter(1,x),C!==m&&(x.data=C)}else l=!1;break;case"checkedlist":if(s._filterwidget.jqxDropDownList){var j,q=(j=s._filterwidget.jqxDropDownList("listBox")).getCheckedItems();if(0==q.length){for(var k=1;k<j.items.length;k++)C=j.items[k].value,h="not_equal",""===(m=j.items[k].label)&&(h="NOT_NULL"),x=n.createfilter(a,m,h),C!==m&&(x.data=C),n.addfilter(0,x);l=!0}else if(q.length!=j.items.length)for(k=0;k<q.length;k++)C=q[k].value,h="equal",""===(m=q[k].label)&&(h="NULL"),x=n.createfilter(a,m,h),C!==m&&(x.data=C),n.addfilter(1,x);else l=!1}else l=d(s,a,n)}this._loading||(l?this.addfilter(s.displayfield,n,!1):this.removefilter(s.displayfield,!1))}}this._loading||this.applyfilters("filterrow")}},_updatefilterrow:function(){var e=i('<div style="position: relative;" id="row00'+this.element.id+'"></div>'),t=0,r=this.columns.records.length,n=this.toThemeProperty("jqx-grid-cell");n+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),n+=" "+this.toThemeProperty("jqx-grid-cell-filter-row");var s=r+10,o=new Array,a=this.that;this.filterrow[0].cells=o,e.height(this.filterrowheight),this.filterrow.children().detach(),this.filterrow.append(e),this._filterrowcache||(this._filterrowcache=new Array),this._initcolumntypes();for(var l=!1,d=new Array,h=document.createDocumentFragment(),u=0;u<r;u++){var c=this.columns.records[u],p=c.width;p<c.minwidth&&(p=c.minwidth),p>c.maxwidth&&(p=c.maxwidth);var f=document.createElement("div");f.style.overflow="hidden",f.style.position="absolute",f.style.height="100%",f.className=n,f=i(f),h.appendChild(f[0]),f[0].style.left=t+"px",this.rtl?(f.css("z-index",s++),f.css("border-left-width","1px")):f.css("z-index",s--),"auto"==p&&(p=0),f[0].style.width=parseFloat(p)+"px",f[0].left=t,c.hidden&&c.hideable?f.css("display","none"):t+=p,o[o.length]=f[0];var m=!0;this.rtl?(this.groupable&&this.groups.length+(this.showrowdetailscolumn&&this.rowdetails?1:0)+u>r-1&&(m=!1),this.showrowdetailscolumn&&this.rowdetails&&u==r-1&&(m=!1)):(this.groupable&&this.groups.length+(this.showrowdetailscolumn&&this.rowdetails?1:0)>u&&(m=!1),this.showrowdetailscolumn&&this.rowdetails&&0==u&&(m=!1)),m&&("custom"==c.filtertype&&c.createfilterwidget?c.createfilterwidget(c,f,(function(){a._applyfilterfromfilterrow()})):c.filterable&&(this._filterrowcache[c.datafield]?(l=!0,f.append(this._filterrowcache[c.datafield]),c._filterwidget=this._filterrowcache[c.datafield]):(this._addfilterwidget(c,f,p),d[c.datafield]=c._filterwidget)))}e[0].appendChild(h),this._filterrowcache=d,i.jqx.browser.msie&&i.jqx.browser.version<8&&e.css("z-index",s--),e.width(parseFloat(t)+2),this.filterrow.addClass(n),this.filterrow.css("border-top-width","1px"),this.filterrow.css("border-right-width","0px"),l&&this._updatefilterrowui(!0)},_getfilterdataadapter:function(e){if(this.source._source){var t={localdata:i.extend(!0,{},this.source.records),datatype:this.source.datatype,async:!1},r=this;n=new i.jqx.dataAdapter(t,{autoBind:!1,autoSort:!0,autoSortField:e.displayfield,async:!1,uniqueDataFields:[e.displayfield],beforeLoadComplete:function(t){var i=new Array;if(e.cellsformat){for(var s=r._getcolumntypebydatafield(e),o=0;o<t.length;o++){i.push(t[o]);var a=t[o][e.displayfield];t[o][e.displayfield+"JQValue"]=a,"date"===s?t[o][e.displayfield]=null!=a?n.formatDate(a,e.cellsformat,r.gridlocalization):"":"number"!==s&&"float"!==s&&"int"!==s||(t[o][e.displayfield]=null!=a?n.formatNumber(a,e.cellsformat,r.gridlocalization):"")}return i}return t}})}else var n=new i.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[e.displayfield],autoSort:!0,autoSortField:e.displayfield,async:!1});if(e.filteritems&&e.filteritems.length>0)n=new i.jqx.dataAdapter(t={localdata:e.filteritems,datatype:this.source.datatype,async:!1},{autoBind:!1,async:!1});else if(e.filteritems){if(e.filteritems._source)return e.filteritems._options.autoBind=!1,e.filteritems._options.async=!1,e.filteritems;if(i.isFunction(e.filteritems))return e.filteritems()}return n},refreshfilterrow:function(){if(this.showfilterrow){this.refreshingfilter=!0,this._updatefilterrowui(),this._updatelistfilters(!0,!0);for(var e=this.that,t=this.columns.records.length,r=0;r<t;r++){var n=this.columns.records[r];if(n.filterable&&n.filter){var s=n.filter.getfilters();if(s.length>0){var o=s[0].value,a=n._filterwidget,l=n._filterwidget.parent();if(null!=a)switch(n.filtertype){case"number":if(l.find("input").val(o),this.host.jqxDropDownList){var d=n.filter.getoperatorsbyfiltertype("numericfilter");a.find(".filter").jqxDropDownList("selectIndex",d.indexOf(s[0].condition))}break;case"input":l.find("input").val(o),this.host.jqxDropDownList&&(d=n.filter.getoperatorsbyfiltertype("stringfilter"),a.find(".filter").jqxDropDownList("selectIndex",d.indexOf(s[0].condition)));break;case"date":case"range":if(this.host.jqxDateTimeInput){if(null!=(o=n.filter.getfilterat(0).filtervalue)){if(n.filter.getfilterat(1))var h=n.filter.getfilterat(1).filtervalue;else h=o;"range"==n.filtertype?i(l.children()[0]).jqxDateTimeInput("setRange",new Date(o),new Date(h)):i(l.children()[0]).jqxDateTimeInput("setDate",new Date(o))}}else a.val(o);break;case"textbox":case"default":a.val(o),e["_oldWriteText"+a[0].id]=o;break;case"bool":case"boolean":this.host.jqxCheckBox?i(l.children()[0]).jqxCheckBox({checked:o}):a.val(o)}}}}this.refreshingfilter=!1}},_destroyedfilters:function(){for(var e=this.columns.records.length,t=0;t<e;t++){var r=this.columns.records[t];if(r.filterable){var n=r._filterwidget;if("list"==r.filtertype||"checkedlist"==r.filtertype)this.removeHandler(n,"select"),this.removeHandler(n,"close"),n.jqxDropDownList("destroy");else if("date"==r.filtertype||"range"==r.filtertype)this.removeHandler(n,"valueChanged"),n.jqxDateTimeInput("destroy");else if("bool"==r.filtertype)this.removeHandler(n,"change"),n.jqxCheckBox("destroy");else if("number"==r.filtertype||"input"===r.filtertype){var s=n.find(".jqx-input");this.removeHandler(s,"keydown"),i(n.children()[1]).jqxDropDownList("destroy")}else this.removeHandler(n,"keydown");n.remove()}}},_updatelistfilters:function(e,t){for(var r=this.that,n=this.columns.records.length,s=0;s<n;s++){var o=this.columns.records[s];if(o.filterable&&("list"==o.filtertype||"checkedlist"==o.filtertype)){var a=o._filterwidget;if(e){var l=this._getfilterdataadapter(o);a.jqxDropDownList({source:l});var d=!0;if((c=a.jqxDropDownList("getItems")).length!=l.records.length+1&&(d=!1),d)for(var h=1;h<c.length;h++)if(c[h].label!=l.records[h-1][o.displayfield]){d=!1;break}if(d&&!t)continue}else if(null==o.filter){a.jqxDropDownList("renderSelection");continue}var u="checkedlist"==o.filtertype,c=a.jqxDropDownList("getItems"),p=a.jqxDropDownList("listBox");if(a.jqxDropDownList("dataBind"),u){a.jqxDropDownList({selectionRenderer:function(){return r.gridlocalization.filterselectstring}}),null==p.getItem(this.gridlocalization.filterselectallstring)&&p.insertAt({label:this.gridlocalization.filterselectallstring},0);var f=i('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+this.gridlocalization.filterselectstring+"</span>");if(f.addClass(this.toThemeProperty("jqx-item")),a.jqxDropDownList("setContent",f),p.checkAll(!1),o.filter){var m=o.filter.getfilters();for(h=0;h<p.items.length;h++){var g=p.items[h].label,v=void 0;i.each(m,(function(){var e;"NOT_EQUAL"==this.condition?e=g!=this.value:"EQUAL"==this.condition&&(e=g==this.value),v=null==v&&void 0!==e?e:"EQUAL"==this.condition?v||e:v&&e})),v?p.checkIndex(h,!1,!1):p.uncheckIndex(h,!1,!1)}p._updateCheckedItems();var w=p.getCheckedItems().length;p.items.length!=w&&w>0&&p.host.jqxListBox("indeterminateIndex",0,!0,!1)}}else if(null==p.getItem(this.gridlocalization.filterchoosestring)&&p.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),a.jqxDropDownList({selectedIndex:0}),o.filter){m=o.filter.getfilters();var y=-1;for(h=0;h<p.items.length;h++)g=p.items[h].label,i.each(m,(function(){return"NOT_EQUAL"==this.condition||(g==this.value?(y=h,!1):void 0)}));-1!=y&&p.selectIndex(y)}a.jqxDropDownList("autoDropDownHeight",c.length<8)}}},_renderfiltercolumn:function(){var e=this.that;if(this.filterable){if(!this.columns.records)return;i.each(this.columns.records,(function(t,r){var n=!1;e.autoshowfiltericon?this.filter?(i(this.filtericon).show(),n=!0):i(this.filtericon).hide():this.filterable&&(i(this.filtericon).show(),n=!0),this.element.removeAttribute("filter"),n&&this.element.setAttribute("filter",!0),"right"!=this.align||this.renderer||this.element&&(this.element.firstChild.firstChild.style.marginRight=n?"18px":"2px")}))}},_initcolumntypes:function(){if(this.columns&&this.columns.records){var e=this.source._source.datafields;if(e)for(var t=0;t<this.columns.records.length;t++){var r=this.columns.records[t];if(!r.datatype){var n="";i.each(e,(function(){if(this.name==r.displayfield)return this.type&&(n=this.type),!1})),r.datatype=""!=n?n:""}}}},_getcolumntypebydatafield:function(e){var t=this.that,r="string",n=t.source.datafields||(t.source._source?t.source._source.datafields:null);if(n){var s="";if(i.each(n,(function(){if(this.name==e.displayfield)return this.type&&(s=this.type),!1})),s)return s}if(null!=e){if(null==this.dataview.cachedrecords)return r;var o=null;if(this.virtualmode)i.each(this.dataview.cachedrecords,(function(){return o=this[e.displayfield],!1}));else{if(0==this.dataview.cachedrecords.length)return r;if(null!=(o=this.dataview.cachedrecords[0][e.displayfield])&&""==o.toString())return"string"}if(null!=o)if("boolean"==typeof o)r="boolean";else if(i.jqx.dataFormat.isNumber(o))r="number";else{var a=new Date(o);if("NaN"==a.toString()||"Invalid Date"==a.toString())if(i.jqx.dataFormat){if(null!=(a=i.jqx.dataFormat.tryparsedate(o))){if(a&&a.getFullYear()&&1970==a.getFullYear()&&0==a.getMonth()&&1==a.getDate()){var l=new Number(o);return isNaN(l)?"string":"number"}return"date"}r="string"}else r="string";else r="date"}}return r},_getfiltersbytype:function(e){var t=this.that,i="";switch(e){case"number":case"float":case"int":i=t.gridlocalization.filternumericcomparisonoperators;break;case"date":i=t.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":i=t.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:i=t.gridlocalization.filterstringcomparisonoperators}return i},_getfiltertype:function(e){var t="stringfilter";switch(e){case"number":case"int":case"float":case"decimal":t="numericfilter";break;case"boolean":case"bool":t="booleanfilter";break;case"date":case"time":case"range":t="datefilter";break;case"string":case"input":t="stringfilter"}return t},_buildfilter:function(e,t,r){var n=i(t).find(".filter1"),s=i(t).find(".filter2"),o=i(t).find(".filter3"),a=i(t).find(".filtertext1"+e.element.id),l=i(t).find(".filtertext2"+e.element.id),d=a.val(),h=l.val(),u=e._getcolumntypebydatafield(r),c=(e._getfiltersbytype(u),new i.jqx.filter),p=e._getfiltertype(u);if("default"===e.filtermode&&"list"!==r.filtertype&&"checkedlist"!==r.filtertype){var f=n.jqxDropDownList("selectedIndex"),m=s.jqxDropDownList("selectedIndex"),g=o.jqxDropDownList("selectedIndex"),v=null,w=null;if(e.updatefilterconditions){var y=e.updatefilterconditions(p,c.getoperatorsbyfiltertype(p));null!=y&&c.setoperatorsbyfiltertype(p,y)}var b=!1,x=c.getoperatorsbyfiltertype(p)[f],_=(o=c.getoperatorsbyfiltertype(p)[g],"NULL"==x||"NOT_NULL"==x),C="EMPTY"==x||"NOT_EMPTY"==x;null==x&&(x=c.getoperatorsbyfiltertype(p)[0]),null==o&&(o=c.getoperatorsbyfiltertype(p)[0]),(d.length>0||_||C)&&(v=c.createfilter(p,d,x,null,r.cellsformat,e.gridlocalization),c.addfilter(m,v),b=!0),(h.length>0||"NULL"==o||"NOT_NULL"==o||"EMPTY"==o||"NOT_EMPTY"==o)&&(w=c.createfilter(p,h,o,null,r.cellsformat,e.gridlocalization),c.addfilter(m,w),b=!0),b?this.addfilter(r.displayfield,c,!0):this._clearfilter(e,t,r)}else if("excel"===e.filtermode||"list"===r.filtertype||"checkedlist"===r.filtertype){var j=!1,q=n.data().jqxListBox.instance,k="excel"===this.filtermode||"checkedlist"===r.filtertype,T=q.getCheckedItems();if(k||(T=q.getSelectedItems()),0==T.length){for(var S=1;S<q.items.length;S++){void 0===(P=q.items[S].value)&&(P="");var I="not_equal";if(P&&P.indexOf&&(P.indexOf("|")>=0||P.indexOf(" AND ")>=0||P.indexOf(" OR ")>=0||P.indexOf(" and ")>=0||P.indexOf(" or ")>=0)&&(P=(P=(P=(P=(P=P.replace("|","")).replace("AND","")).replace("OR","")).replace("and","")).replace("or",""),I="equal"),"datefilter"==p)var D=c.createfilter(p,P,I,null,r.cellsformat,e.gridlocalization);else D=c.createfilter(p,P,I,null);c.addfilter(0,D)}j=!0}else if(T.length!=q.items.length)for(j=!0,S=0;S<T.length;S++){var P;if(e.gridlocalization.filterselectallstring!==T[S].value)void 0===(P=T[S].value)&&(P=""),I="equal",D="datefilter"==p?c.createfilter(p,P,I,null,r.cellsformat,e.gridlocalization):c.createfilter(p,P,I,null),c.addfilter(1,D)}else j=!1;j?this.addfilter(r.displayfield,c,!0):this.removefilter(r.displayfield,!0)}},_clearfilter:function(e,t,i){this.removefilter(i.displayfield,!0)},addfilter:function(e,t,i){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var r=this.getcolumn(e),n=this._getcolumn(e);null!=r&&null!=r&&(r.filter=t,n.filter=t,this.dataview.addfilter(e,t),1==i&&null!=i&&this.applyfilters("add"))},removefilter:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var i=this.getcolumn(e),r=this._getcolumn(e);null!=i&&null!=i&&null!=i.filter&&(this.dataview.removefilter(e,i.filter),i.filter=null,r.filter=null,this.showfilterrow&&this.clearfilterrow(e),1!=t&&!1===t||this.applyfilters("remove"))},applyfilters:function(e){if(this.dataview.filters.length>=0&&(this.virtualmode||!this.source.localdata)&&null!=this.source&&this.source.filter){var t=-1;this.pageable?(t=this.dataview.pagenum,this.dataview.pagenum=0):(this.vScrollInstance.setPosition(0),this.loadondemand=!0,this._renderrows(this.virtualsizeinfo)),this.pageable&&this.virtualmode&&(this.dataview.pagenum=0),this.source.filter(this.dataview.filters,this.dataview.records,this.dataview.records.length),this.pageable&&!this.virtualmode&&(this.dataview.pagenum=t)}if(this._cellscache=new Array,this.dataview.clearsortdata&&this.dataview.clearsortdata(),this.virtualmode)return this.pageable&&(this.dataview.updateview(),this.gotopage&&this.gotopage(0)),this.rendergridcontent(!1,!1),this.showfilterrow&&"string"!=typeof e&&i.isEmptyObject(e)&&this.refreshfilterrow(),this._postrender("filter"),void this._raiseEvent(13,{filters:this.dataview.filters});if(this.dataview.refresh(),this.dataview.clearsortdata&&this.sortcolumn&&this.sortdirection){var r=this.sortdirection.ascending?"asc":"desc";this._loading?this.sortby(this.sortcolumn,r,null,!1,!1):this.sortby(this.sortcolumn,r,null,!1)}this.pageable&&(this.dataview.updateview(),this.gotopage&&(this.gotopage(0),this.updatepagerdetails())),this._updaterowsproperties(),!this.groupable||this.groupable&&0==this.groups.length?(this._rowdetailscache=new Array,this.virtualsizeinfo=null,this._pagescache=new Array,this.columns&&this.columns.records&&this.columns.records.length>0&&!this.columns.records[0].filtericon&&(this.prerenderrequired=!0),this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this._postrender("filter")):(this.collapseallgroups(),this._rowdetailscache=new Array,this._render(!0,!0,!1,!1,!1),this.showfilterrow&&this._updatefocusedfilter(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this._postrender("filter")),this.showfilterrow&&"string"!=typeof e&&i.isEmptyObject(e)&&this.refreshfilterrow(),this._raiseEvent(13,{filters:this.dataview.filters})},getfilterinformation:function(){for(var e=new Array,t=0;t<this.dataview.filters.length;t++){var i=this.getcolumn(this.dataview.filters[t].datafield);e[t]={filter:this.dataview.filters[t].filter,datafield:i.datafield,displayfield:i.displayfield,filtercolumn:i.datafield,filtercolumntext:i.text}}return e},clearfilters:function(e){var t=this.that;if(this.showfilterrow&&this.clearfilterrow(),this.columns.records){var r=1==e||!1!==e;i.each(this.columns.records,(function(){t.removefilter(this.displayfield,!r)}))}!1!==e&&(1!=e&&!1===e||this.applyfilters("clear"))},_destroyfilterpanel:function(){var e=i(i.find("#filterclearbutton"+this.element.id)),t=i(i.find("#filterbutton"+this.element.id)),r=i(i.find("#filter1"+this.element.id)),n=i(i.find("#filter2"+this.element.id)),s=i(i.find("#filter3"+this.element.id)),o=i(i.find(".filtertext1"+this.element.id)),a=i(i.find(".filtertext2"+this.element.id));o.length>0&&a.length>0&&(o.removeClass(),a.removeClass(),o.remove(),a.remove()),e.length>0&&(e.jqxButton("destroy"),t.jqxButton("destroy"),this.removeHandler(e,"click"),this.removeHandler(t,"click")),r.length>0&&r.jqxDropDownList("destroy"),n.length>0&&n.jqxDropDownList("destroy"),s.length>0&&s.jqxDropDownList("destroy"),r=i(i.find("#filter1"+this.element.id+"ex")),n=i(i.find("#filter2"+this.element.id+"ex")),s=i(i.find("#filter3"+this.element.id+"ex")),r.length>0&&r.jqxDropDownList("destroy"),n.length>0&&n.jqxDropDownList("destroy"),s.length>0&&s.jqxDropDownList("destroy")},_updatefilterpanel:function(e,t,r){null!=e&&null!=e||(e=this);var n=e._getcolumntypebydatafield(r),s=e._getfiltersbytype(n);if(!e.host.jqxDropDownList)throw new Error("jqxGrid: Missing reference to jqxdropdownlist.js.");e.filterpanel.detach(),e.excelfilterpanel.detach(),r.filterpanel&&r.filterpanel.detach(),i(t).children().detach();var o=i(e.menuitemsarray[6]);if(i(o).css("height","190px"),r.createfilterpanel&&!r.filterpanel){var a=i("<div class='filter' style='margin-left: 7px;'></div>");i(t).append(a),r.createfilterpanel(r.displayfield,a),r.filterpanel=a}"list"===r.filtertype||"checkedlist"===r.filtertype?i(t).append(e.excelfilterpanel):"custom"!==r.filtertype?i(t).append(e.filterpanel):r.filterpanel&&i(t).append(r.filterpanel);var l=i(t),d=l.find("#filterclearbutton"+e.element.id),h=l.find("#filterbutton"+e.element.id),u=l.find(".filter1"),c=l.find(".filter2"),p=l.find(".filter3"),f=l.find(".filtertext1"+e.element.id),m=l.find(".filtertext2"+e.element.id);if(this._hasdatefilter&&"list"!==r.filtertype&&"checkedlist"!==r.filtertype&&"custom"!==r.filtertype){var g=f.parent(),v=m.parent();if(g.children().remove(),v.children().remove(),"date"==r.filtertype){e._showwhere.text(e.gridlocalization.filtershowrowdatestring);var w=i("<div class='filtertext1"+e.element.id+"' style=''></div>");g.append(w),(y=function(t){t.jqxDateTimeInput({disabled:e.disabled,firstDayOfWeek:e.gridlocalization.firstDay,localization:{calendar:e.gridlocalization,todayString:e.gridlocalization.todaystring,clearString:e.gridlocalization.clearstring},rtl:e.rtl,width:e._filterpanelwidth-10,height:24,value:null,formatString:r.cellsformat,theme:e.theme})})(w),w=i("<div class='filtertext2"+e.element.id+"' style=''></div>"),v.append(w),y(w)}else{var y;e._showwhere.text(e.gridlocalization.filtershowrowstring),w=i("<input autocomplete='off' class='filtertext1"+e.element.id+"' style='box-sizing: content-box; height: 16px; padding: 3px;' type='text'></input>"),g.append(w),(y=function(t){t.addClass(e.toThemeProperty("jqx-input")),t.addClass(e.toThemeProperty("jqx-filter-input jqx-widget-content")),t.addClass(e.toThemeProperty("jqx-rc-all")),t.width(e._filterpanelwidth-18)})(w),w=i("<input autocomplete='off' class='filtertext2"+e.element.id+"' style='box-sizing: content-box; height: 16px; padding: 3px;' type='text'></input>"),v.append(w),y(w)}f=l.find(".filtertext1"+e.element.id),m=l.find(".filtertext2"+e.element.id)}if("date"!=r.filtertype?(f.val(""),m.val("")):(f.val(null),m.val(null)),this.removeHandler(h,"click"),this.addHandler(h,"click",(function(){e._buildfilter(e,t,r),e._closemenu()})),this.removeHandler(d,"click"),this.addHandler(d,"click",(function(){e._clearfilter(e,t,r),e._closemenu()})),this.removeHandler(h,"keydown"),this.addHandler(h,"keydown",(function(i){13===i.keyCode&&(e._buildfilter(e,t,r),e._closemenu())})),this.removeHandler(d,"keydown"),this.addHandler(d,"keydown",(function(i){13===i.keyCode&&(e._clearfilter(e,t,r),e._closemenu())})),this.removeHandler(f,"keydown"),this.addHandler(f,"keydown",(function(t){13===t.keyCode&&h.trigger("click"),27===t.keyCode&&e._closemenu()})),this.removeHandler(m,"keydown"),this.addHandler(m,"keydown",(function(t){13===t.keyCode&&h.trigger("click"),27===t.keyCode&&e._closemenu()})),"default"===this.filtermode&&"list"!==r.filtertype&&"checkedlist"!==r.filtertype&&"custom"!==r.filtertype){if(u.jqxDropDownList("source")!=s&&(u.jqxDropDownList({enableBrowserBoundsDetection:!1,source:s}),p.jqxDropDownList({enableBrowserBoundsDetection:!1,source:s})),"boolean"==n||"bool"==n)u.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0}),p.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0});else{var b=!1;s&&s.length&&s.length<5&&(b=!0),u.jqxDropDownList({autoDropDownHeight:b,selectedIndex:2}),p.jqxDropDownList({autoDropDownHeight:b,selectedIndex:2})}c.jqxDropDownList({selectedIndex:0});var x=r.filter,_=new i.jqx.filter,C="";switch(n){case"number":case"int":case"float":case"decimal":C="numericfilter",j=_.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":C="booleanfilter",j=_.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":C="datefilter",j=_.getoperatorsbyfiltertype("datefilter");break;case"string":C="stringfilter",j=_.getoperatorsbyfiltertype("stringfilter")}if(null!=x){if(g=x.getfilterat(0),v=x.getfilterat(1),x.getoperatorat(0),e.updatefilterconditions){var j=[],q=e.updatefilterconditions(C,j);if(null!=q){for(var k=0;k<q.length;k++)q[k]=q[k].toUpperCase();x.setoperatorsbyfiltertype(C,q),j=q}}var T="default";if(null!=g){var S=j.indexOf(g.comparisonoperator);f.val(g.filtervalue),u.jqxDropDownList({selectedIndex:S,animationType:T})}if(null!=v){var I=j.indexOf(v.comparisonoperator);m.val(v.filtervalue),p.jqxDropDownList({selectedIndex:I,animationType:T})}null==x.getoperatorat(0)?c.jqxDropDownList({selectedIndex:0,animationType:T}):"and"==x.getoperatorat(0)||0==x.getoperatorat(0)?c.jqxDropDownList({selectedIndex:0}):c.jqxDropDownList({selectedIndex:1})}e.updatefilterpanel&&e.updatefilterpanel(u,p,c,f,m,h,d,x,C,j),(!this._hasdatefilter||this._hasdatefilter&&"date"!=r.filtertype)&&(this.touchdevice||(f.focus(),setTimeout((function(){f.focus()}),10)))}else if("excel"===this.filtermode||"list"===r.filtertype||"checkedlist"===r.filtertype){var D=e._getfilterdataadapter(r),P=(C=e._getfiltertype(n),"excel"===this.filtermode||"checkedlist"===r.filtertype);if("date"==r.filtertype&&e._showwhere.text(e.gridlocalization.filtershowrowstring),u.jqxListBox("focus"),this.removeHandler(u,"keyup"),this.addHandler(u,"keyup",(function(t){13===t.keyCode&&h.trigger("click"),27===t.keyCode&&e._closemenu()})),u.jqxListBox(r.cellsformat?{checkboxes:P,displayMember:r.displayfield,valueMember:r.displayfield+"JQValue",source:D}:{checkboxes:P,displayMember:r.displayfield,valueMember:r.displayfield,source:D}),P){if(u.jqxListBox("insertAt",{label:e.gridlocalization.filterselectallstring},0),(O=u.data().jqxListBox.instance).checkAll(!1),r.filter){O.uncheckAll(!1);for(var E=r.filter.getfilters(),M=0;M<O.items.length;M++){var A=O.items[M].value;i.each(E,(function(){if("NOT_EQUAL"==this.condition){if(A!=this.value)return O.uncheckIndex(M,!1,!1),!1;if(null!=A&&null!=this.value&&A.toString()!=this.value.toString())return O.uncheckIndex(M,!1,!1),!1}else if("EQUAL"==this.condition){if(A==this.value)return O.checkIndex(M,!1,!1),!1;if(null!=A&&null!=this.value&&A.toString()==this.value.toString())return O.checkIndex(M,!1,!1),!1}}))}O._updateCheckedItems();var H=O.getCheckedItems().length;O.items.length!=H&&H>0&&O.host.jqxListBox("indeterminateIndex",0,!0,!1),H===O.items.length-1&&O.host.jqxListBox("checkIndex",0,!0,!1)}}else if(r.filter){var O;for((O=u.data().jqxListBox.instance).clearSelection(),E=r.filter.getfilters(),M=0;M<O.items.length;M++)A=O.items[M].value,i.each(E,(function(){if("NOT_EQUAL"==this.condition){if(A!=this.value)return O.unselectIndex(M,!1,!1),!1}else if("EQUAL"==this.condition&&A==this.value)return O.selectIndex(M,!0,!1),!1}));O._renderItems()}}},_initfilterpanel:function(e,t,r,n,s){null!=e&&null!=e||(e=this),t[0].innerHTML="";var o=i("<div class='filter' style='position: absolute; bottom: 3px; margin-left: 3px;'></div>");t.append(o);var a=i("<div class='filter showwhere' style='height: 18px; margin-top: 3px; margin-bottom: 3px;'></div>");a.text(e.gridlocalization.filtershowrowstring),this._showwhere=a;var l=s?"ex":"",d=i("<div class='filter filter1' id='filter1"+e.element.id+l+"'></div>"),h=i("<div class='filter filter2' id='filter2"+e.element.id+l+"' style='margin-top: 3px; margin-bottom: 3px;'></div>"),u=i("<div class='filter filter3' id='filter3"+e.element.id+l+"'></div>"),c=e._getcolumntypebydatafield(r);if(!d.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");var p=e._getfiltersbytype(c);if(this._hasdatefilter=!1,this._filterpanelwidth=n,this.columns&&this.columns.records){for(var f=0;f<this.columns.records.length;f++)if("date"==this.columns.records[f].filtertype){this._hasdatefilter=!0;break}}else if(this.columns&&!this.columns.records)for(f=0;f<this.columns.length;f++)if("date"==this.columns[f].filtertype){this._hasdatefilter=!0;break}var m=i("<div style='margin-top:3px;' class='filter'><input autocomplete='off' class='filtertext1"+e.element.id+"' style='padding: 3px; height: 17px; margin-top: 3px; margin-bottom: 3px;' type='text'></input></div>"),g=m.find("input");g.addClass(this.toThemeProperty("jqx-input")),g.addClass(this.toThemeProperty("jqx-filter-input jqx-widget-content")),g.addClass(this.toThemeProperty("jqx-rc-all")),g.width(n-18);var v=i("<div style='margin-top:3px;' class='filter'><input autocomplete='off' class='filtertext2"+e.element.id+"' style='padding: 3px; height: 17px; margin-top: 3px;' type='text'></input></div>"),w=v.find("input");w.addClass(this.toThemeProperty("jqx-input")),w.addClass(this.toThemeProperty("jqx-filter-input jqx-widget-content")),w.addClass(this.toThemeProperty("jqx-rc-all")),w.width(n-18),e.rtl&&(g.css("direction","rtl"),w.css("direction","rtl"));var y=i("<div class='filter' style='height: 25px; text-align:center; margin-top: 12px; margin-left:-2px;'></div>"),b=i('<span tabIndex=0 id="filterbutton'+e.element.id+'" class="filterbutton" style="padding: 4px 12px;">'+e.gridlocalization.filterstring+"</span>");y.append(b);var x=i('<span tabIndex=0 id="filterclearbutton'+e.element.id+'" class="filterclearbutton" style="position: relative; left: 1px; padding: 4px 12px; margin-left: 7px;">'+e.gridlocalization.filterclearstring+"</span>");y.append(x),b.jqxButton({height:20,theme:e.theme}),x.jqxButton({height:20,theme:e.theme});var _=function(t){if(t){if(-1!=t.text().indexOf("case sensitive")){var i=t.text();i=i.replace("case sensitive","match case"),t.text(i)}return t.css("font-family",e.host.css("font-family")),t.css("font-size",e.host.css("font-size")),t.css("top","2px"),t.css("position","relative"),t}return""};if("default"!==this.filtermode||s){if("excel"===this.filtermode||s){o.append(a),o.append(d),d.attr("tabindex",0),d.jqxListBox({rtl:e.rtl,_checkForHiddenParent:!1,checkboxes:!0,selectedIndex:2,width:n-10,height:130,theme:e.theme});var C=!0;e.addHandler(d,"checkChange",(function(t){if(C)if(t.args.label!=e.gridlocalization.filterselectallstring){C=!1,d.jqxListBox("checkIndex",0,!0,!1);var i=d.jqxListBox("getCheckedItems"),r=d.jqxListBox("getItems");1==i.length?d.jqxListBox("uncheckIndex",0,!0,!1):r.length!=i.length&&d.jqxListBox("indeterminateIndex",0,!0,!1),C=!0}else C=!1,d.jqxListBox(t.args.checked?"checkAll":"uncheckAll",!1),C=!0}))}}else{o.append(a),o.append(d),d.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:e.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:n-10,height:24,dropDownHeight:150,dropDownWidth:n-10,selectionRenderer:_,source:p,theme:e.theme}),o.append(m);var j=new Array;j[0]=e.gridlocalization.filterandconditionstring,j[1]=e.gridlocalization.filterorconditionstring,h.jqxDropDownList({_checkForHiddenParent:!1,rtl:e.rtl,enableBrowserBoundsDetection:!1,autoDropDownHeight:!0,selectedIndex:0,width:60,height:24,source:j,selectionRenderer:_,theme:e.theme}),o.append(h),u.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:e.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:n-10,height:24,dropDownHeight:150,dropDownWidth:n-10,selectionRenderer:_,source:p,theme:e.theme}),o.append(u),o.append(v)}o.append(y),e.updatefilterpanel&&e.updatefilterpanel(d,u,h,m,v,b,x,null,null,p)}}),function(e){e.extend(e.jqx._jqxGrid.prototype,{_updatefilterrowui:function(t){var i=this.columns.records.length,r=0,n=this;if(this.filterrow){for(var s=0;s<i;s++){var o=this.columns.records[s],a=parseInt(o.width);a<o.minwidth&&(a=o.minwidth),a>o.maxwidth&&(a=o.maxwidth);var l=e(this.filterrow[0].cells[s]);l.css("left",r);var d=!0;if(l.width()==a&&(d=!1),t&&(d=!0),l.width(a),l[0].left=r,o.element&&(l[0].style.width=o.element.style.width,l[0].style.left=o.element.style.left),o.hidden&&o.hideable?l.css("display","none"):r+=a,d)if(o.createfilterwidget&&"custom"==o.filtertype)o.createfilterwidget(o,l);else if(o.filterable){var h=function(t,i){var r=e(i.children()[0]);r[0]&&(r[0].style.width=a-8+"px",e.jqx.browser.msie&&(r[0].style.width=a-16+"px")),r.attr("disabled",t.disabled)};switch(o.filtertype){case"number":case"input":e(l.children()[0]).width(a),l.find("input")[0].style.width=a-30+"px",e.jqx.browser.msie&&(l.find("input")[0].style.width=a-36+"px"),l.find("input").attr("disabled",n.disabled),e(l.find(".jqx-dropdownlist-state-normal")).jqxDropDownList({theme:n.theme,disabled:n.disabled});break;case"date":case"range":this.host.jqxDateTimeInput?e(l.children()[0]).jqxDateTimeInput({theme:n.theme,disabled:n.disabled,width:a-10}):h(this,l);break;case"textbox":case"default":h(this,l);break;case"list":case"checkedlist":this.host.jqxDropDownList?e(l.children()[0]).jqxDropDownList({theme:n.theme,disabled:n.disabled,width:a-10}):h(this,l);break;case"bool":case"boolean":this.host.jqxCheckBox?e(l.children()[0]).jqxCheckBox({theme:n.theme,disabled:n.disabled}):h(this,l)}}}var u=e(this.filterrow.children()[0]);u.width(parseInt(r)+2),u.height(this.filterrowheight)}},clearfilterrow:function(t){if(this._disablefilterrow=!0,this.columns.records){for(var i=this.columns.records.length,r=0;r<i;r++){var n=this.columns.records[r],s=e(this.filterrow[0].cells[r]);if(("string"!=typeof t||n.displayfield==t)&&n.filterable){var o=function(t,i){var r=e(i.children()[0]);r.val(""),r[0]&&(t["_oldWriteText"+r[0].id]="")};switch(n.filtertype){case"number":case"input":if(s.find("input").val(""),this.host.jqxDropDownList){var a=e(e(e(s).children()[0]).children()[1]);a.jqxDropDownList("clearSelection");var l=0;if(0==l){this._getfiltersbytype("number"==n.filtertype?"number":"string");var d=(new e.jqx.filter).getoperatorsbyfiltertype("number"==n.filtertype?"numberfilter":"stringfilter");null!=n.filtercondition?-1==(l=d.indexOf(n.filtercondition.toUpperCase()))&&(l="number"==n.filtertype?0:2):l="number"==n.filtertype?0:2}a.jqxDropDownList({selectedIndex:l}),a.jqxDropDownList("ensureVisible",l)}break;case"date":case"range":this.host.jqxDateTimeInput?e(s.children()[0]).jqxDateTimeInput("setDate",null):o(this,s);break;case"textbox":case"default":o(this,s);break;case"list":this.host.jqxDropDownList?e(s.children()[0]).jqxDropDownList("clearSelection"):o(this,s);break;case"checkedlist":this.host.jqxDropDownList?e(s.children()[0]).jqxDropDownList("checkAll",!1):o(this,s);break;case"bool":case"boolean":this.host.jqxCheckBox?e(s.children()[0]).jqxCheckBox({checked:null}):o(this,s)}}}this._disablefilterrow=!1}},_applyfilterfromfilterrow:function(){if(1!=this._disablefilterrow&&!this.disabled){for(var t=this.columns.records.length,i=this.that,r=0;r<t;r++){var n=new e.jqx.filter,s=this.columns.records[r];if(s.filterable&&null!==s.datafield){var o=i._getcolumntypebydatafield(s),a=i._getfiltertype(o),l=!0,d=function(e,t,r){var n=!0;if(e._filterwidget){var s=e._filterwidget.val();if(""!=s){var o="equal";if("stringfilter"==t&&(o="contains"),"numericfilter"==t&&","==i.gridlocalization.decimalseparator&&s.indexOf(i.gridlocalization.decimalseparator)>=0&&(s=s.replace(i.gridlocalization.decimalseparator,".")),"stringfilter"!=t){var a=0;if(-1!=s.indexOf(">")&&(o="greater_than",a=1),-1!=s.indexOf("<")&&(o="less_than",a=1),-1!=s.indexOf("=")&&("greater_than"==o?(o="greater_than_or_equal",a=2):"less_than"==o?(o="less_than_or_equal",a=2):(o="equal",a=1)),0!=a&&(s=s.substring(a)).length<1)return!1}if(null!=e.filtercondition&&(o=e.filtercondition),"datefilter"==t)var l=r.createfilter(t,s,o,null,e.cellsformat,i.gridlocalization);else l=r.createfilter(t,s,o);r.addfilter(1,l)}else n=!1}return n};switch(s.filtertype){case"range":case"date":if(s._filterwidget.jqxDateTimeInput)if("range"==s.filtertype)if(null!=(g=s._filterwidget.jqxDateTimeInput("getRange"))&&null!=g.from&&null!=g.to){var h="GREATER_THAN_OR_EQUAL";(f=new Date(0)).setHours(0),f.setMinutes(0),f.setFullYear(g.from.getFullYear(),g.from.getMonth(),g.from.getDate());var u=new Date(0);u.setHours(0),u.setMinutes(0),u.setFullYear(g.to.getFullYear(),g.to.getMonth(),g.to.getDate()),u.setHours(g.to.getHours()),u.setMinutes(g.to.getMinutes()),u.setSeconds(g.to.getSeconds());var c=n.createfilter(a,f,h);n.addfilter(0,c);var p=n.createfilter(a,u,"LESS_THAN_OR_EQUAL");n.addfilter(0,p)}else l=!1;else if(null!=(g=s._filterwidget.jqxDateTimeInput("getDate"))){var f;(f=new Date(0)).setHours(0),f.setMinutes(0),f.setFullYear(g.getFullYear(),g.getMonth(),g.getDate());var m=s._filterwidget.jqxDateTimeInput("showTimeButton");m&&(f.setHours(g.getHours()),f.setMinutes(g.getMinutes())),h="EQUAL",null!=s.filtercondition&&(h=s.filtercondition),c=n.createfilter(a,f,h),m&&(c=n.createfilter(a,f,h,null,s.cellsformat)),n.addfilter(0,c)}else l=!1;else l=d(s,a,n);break;case"input":if(s._filterwidget){var g=s._filterwidget.find("input").val(),v=s._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),w=n.getoperatorsbyfiltertype(a)[v];i.updatefilterconditions&&(null!=(x=i.updatefilterconditions(a,n.getoperatorsbyfiltertype(a)))&&n.setoperatorsbyfiltertype(a,x),w=n.getoperatorsbyfiltertype(a)[v]);var y="NULL"==w||"NOT_NULL"==w,b="EMPTY"==w||"NOT_EMPTY"==w;null!=g&&g.length>0||y||b?(c=n.createfilter(a,g,w,null,s.cellsformat,i.gridlocalization),n.addfilter(0,c)):l=!1}else l=!1;break;case"number":var x;s._filterwidget?(g=s._filterwidget.find("input").val(),","==i.gridlocalization.decimalseparator&&g.indexOf(i.gridlocalization.decimalseparator)>=0&&(g=g.replace(i.gridlocalization.decimalseparator,".")),v=s._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),w=n.getoperatorsbyfiltertype(a)[v],i.updatefilterconditions&&(null!=(x=i.updatefilterconditions(a,n.getoperatorsbyfiltertype(a)))&&n.setoperatorsbyfiltertype(a,x),w=n.getoperatorsbyfiltertype(a)[v]),y="NULL"==w||"NOT_NULL"==w,b="EMPTY"==w||"NOT_EMPTY"==w,null!=g&&g.length>0||y||b?(c=n.createfilter(a,new Number(g),w,null,s.cellsformat,i.gridlocalization),n.addfilter(0,c)):l=!1):l=!1;break;case"textbox":case"default":l=d(s,a,n);break;case"bool":case"boolean":if(s._filterwidget.jqxCheckBox)if(null!=(g=s._filterwidget.jqxCheckBox("checked"))){var _=n.createfilter(a,g,h="equal");n.addfilter(1,_)}else l=!1;else l=d(s,a,n);break;case"list":if((q=s._filterwidget.jqxDropDownList("listBox")).selectedIndex>0){var C=q.getItem(q.selectedIndex),j=C.value;h="equal",""===(g=C.label)&&(h="NULL"),_=n.createfilter(a,g,h),n.addfilter(1,_),j!==g&&(_.data=j)}else l=!1;break;case"checkedlist":if(s._filterwidget.jqxDropDownList){var q,k=(q=s._filterwidget.jqxDropDownList("listBox")).getCheckedItems();if(0==k.length){for(var T=1;T<q.items.length;T++)j=q.items[T].value,h="not_equal",""===(g=q.items[T].label)&&(h="NOT_NULL"),_=n.createfilter(a,g,h),j!==g&&(_.data=j),n.addfilter(0,_);l=!0}else if(k.length!=q.items.length)for(T=0;T<k.length;T++)j=k[T].value,h="equal",""===(g=k[T].label)&&(h="NULL"),_=n.createfilter(a,g,h),j!==g&&(_.data=j),n.addfilter(1,_);else l=!1}else l=d(s,a,n)}this._loading||(l?this.addfilter(s.displayfield,n,!1):this.removefilter(s.displayfield,!1))}}this._loading||this.applyfilters("filterrow")}},_updatefilterrow:function(){var t=e('<div style="position: relative;" id="row00'+this.element.id+'"></div>'),i=0,r=this.columns.records.length,n=this.toThemeProperty("jqx-grid-cell");n+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),n+=" "+this.toThemeProperty("jqx-grid-cell-filter-row");var s=r+10,o=new Array,a=this.that;this.filterrow[0].cells=o,t.height(this.filterrowheight),this.filterrow.children().detach(),this.filterrow.append(t),this._filterrowcache||(this._filterrowcache=new Array),this._initcolumntypes();for(var l=!1,d=new Array,h=document.createDocumentFragment(),u=0;u<r;u++){var c=this.columns.records[u],p=c.width;p<c.minwidth&&(p=c.minwidth),p>c.maxwidth&&(p=c.maxwidth);var f=document.createElement("div");f.style.overflow="hidden",f.style.position="absolute",f.style.height="100%",f.className=n,f=e(f),h.appendChild(f[0]),f[0].style.left=i+"px",this.rtl?(f.css("z-index",s++),f.css("border-left-width","1px")):f.css("z-index",s--),"auto"==p&&(p=0),f[0].style.width=parseFloat(p)+"px",f[0].left=i,c.hidden&&c.hideable?f.css("display","none"):i+=p,o[o.length]=f[0];var m=!0;this.rtl?(this.groupable&&this.groups.length+(this.showrowdetailscolumn&&this.rowdetails?1:0)+u>r-1&&(m=!1),this.showrowdetailscolumn&&this.rowdetails&&u==r-1&&(m=!1)):(this.groupable&&this.groups.length+(this.showrowdetailscolumn&&this.rowdetails?1:0)>u&&(m=!1),this.showrowdetailscolumn&&this.rowdetails&&0==u&&(m=!1)),m&&("custom"==c.filtertype&&c.createfilterwidget?c.createfilterwidget(c,f,(function(){a._applyfilterfromfilterrow()})):c.filterable&&(this._filterrowcache[c.datafield]?(l=!0,f.append(this._filterrowcache[c.datafield]),c._filterwidget=this._filterrowcache[c.datafield]):(this._addfilterwidget(c,f,p),d[c.datafield]=c._filterwidget)))}t[0].appendChild(h),this._filterrowcache=d,e.jqx.browser.msie&&e.jqx.browser.version<8&&t.css("z-index",s--),t.width(parseFloat(i)+2),this.filterrow.addClass(n),this.filterrow.css("border-top-width","1px"),this.filterrow.css("border-right-width","0px"),l&&this._updatefilterrowui(!0)},_addfilterwidget:function(t,i,r){for(var n=this.that,s=this,o="",a=0;a<n.dataview.filters.length;a++){var l=n.dataview.filters[a];if(l.datafield&&l.datafield==t.datafield){a=l.filter.getfilters()[0],o=a.value,"range"===t.filtertype&&(o={from:o,to:l.filter.getfilters()[1].value}),t.filtercondition=a.condition;break}}var d,h,u,c=function(i,n){var s=e('<input autocomplete="off" type="textarea"/>');s.attr("tabindex",5+t.visibleindex),s[0].id=e.jqx.utilities.createId(),s.addClass(i.toThemeProperty("jqx-widget")),s.addClass(i.toThemeProperty("jqx-filter-input jqx-input jqx-input-widget")),s.addClass(i.toThemeProperty("jqx-rc-all")),s.addClass(i.toThemeProperty("jqx-widget-content")),i.rtl&&s.css("direction","rtl"),i.disabled&&s.attr("disabled",!0),s.attr("disabled",!1),s.appendTo(n),s.css("margin","4px"),s.width(r-8),s.height(i.filterrowheight-9),t.createfilterwidget&&t.createfilterwidget(t,n,s),t._filterwidget=s,s.focus((function(){return i.content[0].scrollLeft=0,setTimeout((function(){i.content[0].scrollLeft=0}),10),i.focusedfilter=s,s.addClass(i.toThemeProperty("jqx-fill-state-focus")),!1})),s.blur((function(){s.removeClass(i.toThemeProperty("jqx-fill-state-focus"))})),s.keydown((function(e){"13"==e.keyCode&&i._applyfilterfromfilterrow(),s[0]._writeTimer&&clearTimeout(s[0]._writeTimer),s[0]._writeTimer=setTimeout((function(){i._loading||(i["_oldWriteText"+s[0].id]||(i["_oldWriteText"+s[0].id]=""),(i["_oldWriteText"+s[0].id].length>0&&i["_oldWriteText"+s[0].id]!=s.val()||0==i["_oldWriteText"+s[0].id].length)&&(i._applyfilterfromfilterrow(),i["_oldWriteText"+s[0].id]=s.val()))}),t.filterdelay),i.focusedfilter=s})),i.host.removeClass("jqx-disableselect"),i.content.removeClass("jqx-disableselect"),s.val(o)};switch(null!=t.datatype&&("number"==t.filtertype&&("string"!=t.datatype&&"date"!=t.datatype&&"bool"!=t.datatype||(t.filtertype="textbox")),"date"==t.filtertype&&("string"!=t.datatype&&"number"!=t.datatype&&"bool"!=t.datatype||(t.filtertype="textbox")),"bool"==t.filtertype&&("string"!=t.datatype&&"number"!=t.datatype&&"date"!=t.datatype||(t.filtertype="textbox"))),t.filtertype){case"number":case"input":var p=e("<div></div>");p.width(i.width()),p.height(this.filterrowheight),i.append(p),d=p,h=r=i.width()-21,u=e('<input style="float: left;" autocomplete="off" type="textarea"/>'),n.rtl&&(u.css("float","right"),u.css("direction","rtl")),u.attr("tabindex",5+t.visibleindex),u[0].id=e.jqx.utilities.createId(),u.addClass(n.toThemeProperty("jqx-widget jqx-input jqx-rc-all jqx-input-widget jqx-filter-input jqx-widget-content")),u.appendTo(d),u.width(h-10),n.disabled&&u.attr("disabled",!0),u.attr("disabled",!1),u[0].style.height=n.filterrowheight-9+"px",u.css("margin","4px"),u.css("margin-right","3px"),u.focus((function(){n.focusedfilter=u,u.addClass(n.toThemeProperty("jqx-fill-state-focus"))})),u.blur((function(){u.removeClass(n.toThemeProperty("jqx-fill-state-focus"))})),u.keydown((function(e){"13"==e.keyCode&&n._applyfilterfromfilterrow(),"9"!=e.keyCode&&(u[0]._writeTimer&&clearTimeout(u[0]._writeTimer),u[0]._writeTimer=setTimeout((function(){n._loading||n["_oldWriteText"+u[0].id]!=u.val()&&(n._applyfilterfromfilterrow(),n["_oldWriteText"+u[0].id]=u.val())}),t.filterdelay),n.focusedfilter=u)})),u.val(o);var f=n._getfiltersbytype("number"==t.filtertype?"number":"string");(x=e("<div class='filter' style='float: left;'></div>")).css("margin-top","4px"),x.appendTo(p),n.rtl&&x.css("float","right");var m=0;null!=t.filtercondition&&-1!=(g=(a=new e.jqx.filter).getoperatorsbyfiltertype("number"==t.filtertype?"numericfilter":"stringfilter").indexOf(t.filtercondition.toUpperCase()))&&(m=g);var g,v=180;"input"==t.filtertype&&(v=240,0==m&&-1!=(g=f.indexOf("contains")||2)&&null==t.filtercondition&&(m=g)),x.jqxDropDownList({disabled:n.disabled,touchMode:n.touchmode,rtl:n.rtl,dropDownHorizontalAlignment:"right",enableBrowserBoundsDetection:!0,selectedIndex:m,width:20,height:27,dropDownHeight:150,dropDownWidth:v,source:f,theme:n.theme}),x.jqxDropDownList({selectionRenderer:function(e){return""}}),x.attr("tabindex",5+t.visibleindex),x.jqxDropDownList("setContent",""),x.find(".jqx-dropdownlist-content").hide(),t.createfilterwidget&&t.createfilterwidget(t,i,p),t._filterwidget=p;var w=null;this.addHandler(x,"open",(function(){s._activeFilterElement=x})),this.addHandler(x,"select",(function(){var e=x.jqxDropDownList("getSelectedItem").label;t._filterwidget.find("input").val().length>0&&!n.refreshingfilter&&n._applyfilterfromfilterrow(),("input"!=t.filtertype||n.refreshingfilter)&&(0!=t._filterwidget.find("input").val().length||n.refreshingfilter||"null"!=w&&"not null"!=w&&"null"!=e&&"not null"!=e)||n._applyfilterfromfilterrow(),w=e}));break;case"textbox":case"default":default:c(this,i);break;case"none":break;case"date":case"range":if(this.host.jqxDateTimeInput){var y=e("<div></div>");y.css("margin","4px"),y.css("margin-left","5px"),y.appendTo(i),y.jqxDateTimeInput({firstDayOfWeek:this.gridlocalization.firstDay,readonly:!0,disabled:n.disabled,localization:{calendar:this.gridlocalization,todayString:this.gridlocalization.todaystring,clearString:this.gridlocalization.clearstring},rtl:n.rtl,showFooter:!0,formatString:t.cellsformat,selectionMode:t.filtertype,value:null,theme:this.theme,width:r-9,height:this.filterrowheight-9}),t.createfilterwidget&&t.createfilterwidget(t,i,y),o&&o.from?y.jqxDateTimeInput("setRange",o.from,o.to):o&&o.toString().length>1&&y.val(o),y.find("input").attr("tabindex",5+t.visibleindex),t._filterwidget=y,this.addHandler(y,"valueChanged",(function(e){n.refreshingfilter||(n._applyfilterfromfilterrow(),n.focusedfilter=null)}))}else c(this,i);break;case"list":case"checkedlist":if(this.host.jqxDropDownList){var b,x,_=this._getfilterdataadapter(t);(x=e("<div></div>")).css("margin","4px"),x.css("margin-left","5px");var C=t.datafield,j="checkedlist"==t.filtertype;v=r<150?220:"auto",_.dataBind();var q=_.records.length<8;b=q,x.appendTo(i),x.jqxDropDownList({hint:!1,placeHolder:n.gridlocalization.filterchoosestring,disabled:n.disabled,touchMode:n.touchmode,rtl:n.rtl,checkboxes:j,dropDownWidth:v,source:_.records,autoDropDownHeight:q,theme:this.theme,width:r-9,height:this.filterrowheight-9,displayMember:t.displayfield,valueMember:C}),x.attr("tabindex",5+t.visibleindex),x.attr("default-placeholder",!0),t.createfilterwidget&&t.createfilterwidget(t,i,x),this.addHandler(x,"open",(function(){s._activeFilterElement=x}));var k=x.jqxDropDownList("listBox");if(j){x.jqxDropDownList({selectionRenderer:function(){return'<span class="'+n.toThemeProperty("jqx-item")+'" style="top: 4px; position: relative; color: inherit; border: none; background-color: transparent;">'+n.gridlocalization.filterselectstring+"</span>"}});var T=e('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+n.gridlocalization.filterselectstring+"</span>");if(T.addClass(this.toThemeProperty("jqx-item")),null!=k){b||k.host.height(200),k.insertAt({label:n.gridlocalization.filterselectallstring},0),x.jqxDropDownList("setContent",T);var S=!0;new Array,k.checkAll(!1),n.addHandler(k.host,"checkChange",(function(e){if(x[0]._selectionChanged=!0,S)if(e.args.label!=n.gridlocalization.filterselectallstring){S=!1,k.host.jqxListBox("checkIndex",0,!0,!1);var t=k.host.jqxListBox("getCheckedItems"),i=k.host.jqxListBox("getItems");1==t.length?k.host.jqxListBox("uncheckIndex",0,!0,!1):i.length!=t.length&&k.host.jqxListBox("indeterminateIndex",0,!0,!1),S=!0}else S=!1,k.host.jqxListBox(e.args.checked?"checkAll":"uncheckAll",!1),S=!0}))}}else k.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),x.jqxDropDownList({selectedIndex:0});t._filterwidget=x,x.jqxDropDownList("dropdownlistWrapper"),"list"==t.filtertype?this.addHandler(x,"select",(function(e){n.refreshingfilter||e.args&&"none"!=e.args.type&&(n._applyfilterfromfilterrow(),n.focusedfilter=null)})):this.addHandler(x,"close",(function(e){x[0]._selectionChanged&&(n._applyfilterfromfilterrow(),n.focusedfilter=null,x[0]._selectionChanged=!1)}))}else c(this,i);break;case"bool":case"boolean":if(this.host.jqxCheckBox){var I=e('<div tabIndex=0 style="opacity: 0.99; position: absolute; top: 50%; left: 50%; margin-top: -9px; margin-left: -12px;"></div>');I.appendTo(i),I.jqxCheckBox({disabled:n.disabled,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,hasThreeStates:!0,theme:this.theme,checked:null}),I.attr("tabindex",5+t.visibleindex),t.createfilterwidget&&t.createfilterwidget(t,i,I),!0===o||"true"==o?I.jqxCheckBox({checked:!0}):!1!==o&&"false"!=o||I.jqxCheckBox({checked:!1}),t._filterwidget=I,this.addHandler(I,"change",(function(e){n.refreshingfilter||e.args&&(n.focusedfilter=null,n._applyfilterfromfilterrow())}))}else c(this,i)}},_getfilterdataadapter:function(t){if(this.source._source){var i={localdata:e.extend(!0,{},this.source.records),datatype:this.source.datatype,async:!1},r=this;n=new e.jqx.dataAdapter(i,{autoBind:!1,autoSort:!0,autoSortField:t.displayfield,async:!1,uniqueDataFields:[t.displayfield],beforeLoadComplete:function(e){var i=new Array;if(t.cellsformat){for(var s=r._getcolumntypebydatafield(t),o=0;o<e.length;o++){i.push(e[o]);var a=e[o][t.displayfield];e[o][t.displayfield+"JQValue"]=a,"date"===s?e[o][t.displayfield]=null!=a?n.formatDate(a,t.cellsformat,r.gridlocalization):"":"number"!==s&&"float"!==s&&"int"!==s||(e[o][t.displayfield]=null!=a?n.formatNumber(a,t.cellsformat,r.gridlocalization):"")}return i}return e}})}else var n=new e.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[t.displayfield],autoSort:!0,autoSortField:t.displayfield,async:!1});if(t.filteritems&&t.filteritems.length>0)n=new e.jqx.dataAdapter(i={localdata:t.filteritems,datatype:this.source.datatype,async:!1},{autoBind:!1,async:!1});else if(t.filteritems){if(t.filteritems._source)return t.filteritems._options.autoBind=!1,t.filteritems._options.async=!1,t.filteritems;if(e.isFunction(t.filteritems))return t.filteritems()}return n},refreshfilterrow:function(){if(this.showfilterrow){this.refreshingfilter=!0,this._updatefilterrowui(),this._updatelistfilters(!0,!0);for(var t=this.that,i=this.columns.records.length,r=0;r<i;r++){var n=this.columns.records[r];if(n.filterable&&n.filter){var s=n.filter.getfilters();if(s.length>0){var o=s[0].value,a=n._filterwidget,l=n._filterwidget.parent();if(null!=a)switch(n.filtertype){case"number":if(l.find("input").val(o),this.host.jqxDropDownList){var d=n.filter.getoperatorsbyfiltertype("numericfilter");a.find(".filter").jqxDropDownList("selectIndex",d.indexOf(s[0].condition))}break;case"input":l.find("input").val(o),this.host.jqxDropDownList&&(d=n.filter.getoperatorsbyfiltertype("stringfilter"),a.find(".filter").jqxDropDownList("selectIndex",d.indexOf(s[0].condition)));break;case"date":case"range":if(this.host.jqxDateTimeInput){if(null!=(o=n.filter.getfilterat(0).filtervalue)){if(n.filter.getfilterat(1))var h=n.filter.getfilterat(1).filtervalue;else h=o;"range"==n.filtertype?e(l.children()[0]).jqxDateTimeInput("setRange",new Date(o),new Date(h)):e(l.children()[0]).jqxDateTimeInput("setDate",new Date(o))}}else a.val(o);break;case"textbox":case"default":a.val(o),t["_oldWriteText"+a[0].id]=o;break;case"bool":case"boolean":this.host.jqxCheckBox?e(l.children()[0]).jqxCheckBox({checked:o}):a.val(o)}}}}this.refreshingfilter=!1}},_destroyedfilters:function(){for(var t=this.columns.records.length,i=0;i<t;i++){var r=this.columns.records[i];if(r.filterable){var n=r._filterwidget;if("list"==r.filtertype||"checkedlist"==r.filtertype)this.removeHandler(n,"select"),this.removeHandler(n,"close"),n.jqxDropDownList("destroy");else if("date"==r.filtertype||"range"==r.filtertype)this.removeHandler(n,"valueChanged"),n.jqxDateTimeInput("destroy");else if("bool"==r.filtertype)this.removeHandler(n,"change"),n.jqxCheckBox("destroy");else if("number"==r.filtertype||"input"===r.filtertype){var s=n.find(".jqx-input");this.removeHandler(s,"keydown"),e(n.children()[1]).jqxDropDownList("destroy")}else this.removeHandler(n,"keydown");n.remove()}}},_updatelistfilters:function(t,i){for(var r=this.that,n=this.columns.records.length,s=0;s<n;s++){var o=this.columns.records[s];if(o.filterable&&("list"==o.filtertype||"checkedlist"==o.filtertype)){var a=o._filterwidget;if(t){var l=this._getfilterdataadapter(o);a.jqxDropDownList({source:l});var d=!0;if((c=a.jqxDropDownList("getItems")).length!=l.records.length+1&&(d=!1),d)for(var h=1;h<c.length;h++)if(c[h].label!=l.records[h-1][o.displayfield]){d=!1;break}if(d&&!i)continue}else if(null==o.filter){a.jqxDropDownList("renderSelection");continue}var u="checkedlist"==o.filtertype,c=a.jqxDropDownList("getItems"),p=a.jqxDropDownList("listBox");if(a.jqxDropDownList("dataBind"),u){a.jqxDropDownList({selectionRenderer:function(){return r.gridlocalization.filterselectstring}}),null==p.getItem(this.gridlocalization.filterselectallstring)&&p.insertAt({label:this.gridlocalization.filterselectallstring},0);var f=e('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+this.gridlocalization.filterselectstring+"</span>");if(f.addClass(this.toThemeProperty("jqx-item")),a.jqxDropDownList("setContent",f),p.checkAll(!1),o.filter){var m=o.filter.getfilters();for(h=0;h<p.items.length;h++){var g=p.items[h].label,v=void 0;e.each(m,(function(){var e;"NOT_EQUAL"==this.condition?e=g!=this.value:"EQUAL"==this.condition&&(e=g==this.value),v=null==v&&void 0!==e?e:"EQUAL"==this.condition?v||e:v&&e})),v?p.checkIndex(h,!1,!1):p.uncheckIndex(h,!1,!1)}p._updateCheckedItems();var w=p.getCheckedItems().length;p.items.length!=w&&w>0&&p.host.jqxListBox("indeterminateIndex",0,!0,!1)}}else if(null==p.getItem(this.gridlocalization.filterchoosestring)&&p.items[0].label!==this.gridlocalization.filterchoosestring&&p.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),a.jqxDropDownList({selectedIndex:0}),o.filter){m=o.filter.getfilters();var y=-1;for(h=0;h<p.items.length;h++)g=p.items[h].label,e.each(m,(function(){return"NOT_EQUAL"==this.condition||(g==this.value?(y=h,!1):void 0)}));-1!=y&&p.selectIndex(y)}a.jqxDropDownList("autoDropDownHeight",c.length<8)}}},_renderfiltercolumn:function(){var t=this.that;if(this.filterable){if(!this.columns.records)return;e.each(this.columns.records,(function(i,r){var n=!1;t.autoshowfiltericon?this.filter?(e(this.filtericon).show(),n=!0):e(this.filtericon).hide():this.filterable&&(e(this.filtericon).show(),n=!0),this.element.removeAttribute("filter"),n&&this.element.setAttribute("filter",!0),"right"!=this.align||this.renderer||this.element&&(this.element.firstChild.firstChild.style.marginRight=n?"18px":"2px")}))}},_initcolumntypes:function(){if(this.columns&&this.columns.records){var t=this.source._source.datafields;if(t)for(var i=0;i<this.columns.records.length;i++){var r=this.columns.records[i];if(!r.datatype){var n="";e.each(t,(function(){if(this.name==r.displayfield)return this.type&&(n=this.type),!1})),r.datatype=""!=n?n:""}}}},_getcolumntypebydatafield:function(t){var i=this.that,r="string",n=i.source.datafields||(i.source._source?i.source._source.datafields:null);if(n){var s="";if(e.each(n,(function(){if(this.name==t.displayfield)return this.type&&(s=this.type),!1})),s)return s}if(null!=t){if(null==this.dataview.cachedrecords)return r;var o=null;if(this.virtualmode)e.each(this.dataview.cachedrecords,(function(){return o=this[t.displayfield],!1}));else{if(0==this.dataview.cachedrecords.length)return r;if(null!=(o=this.dataview.cachedrecords[0][t.displayfield])&&""==o.toString())return"string"}if(null!=o)if("boolean"==typeof o)r="boolean";else if(e.jqx.dataFormat.isNumber(o))r="number";else{var a=new Date(o);if("NaN"==a.toString()||"Invalid Date"==a.toString())if(e.jqx.dataFormat){if(null!=(a=e.jqx.dataFormat.tryparsedate(o))){if(a&&a.getFullYear()&&1970==a.getFullYear()&&0==a.getMonth()&&1==a.getDate()){var l=new Number(o);return isNaN(l)?"string":"number"}return"date"}r="string"}else r="string";else r="date"}}return r},_getfiltersbytype:function(e){var t=this.that,i="";switch(e){case"number":case"float":case"int":i=t.gridlocalization.filternumericcomparisonoperators;break;case"date":i=t.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":i=t.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:i=t.gridlocalization.filterstringcomparisonoperators}return i},_getfiltertype:function(e){var t="stringfilter";switch(e){case"number":case"int":case"float":case"decimal":t="numericfilter";break;case"boolean":case"bool":t="booleanfilter";break;case"date":case"time":case"range":t="datefilter";break;case"string":case"input":t="stringfilter"}return t},_buildfilter:function(t,i,r){var n=e(i).find(".filter1"),s=e(i).find(".filter2"),o=e(i).find(".filter3"),a=e(i).find(".filtertext1"+t.element.id),l=e(i).find(".filtertext2"+t.element.id),d=a.val(),h=l.val(),u=t._getcolumntypebydatafield(r),c=(t._getfiltersbytype(u),new e.jqx.filter),p=t._getfiltertype(u);if("default"===t.filtermode&&"list"!==r.filtertype&&"checkedlist"!==r.filtertype){var f=n.jqxDropDownList("selectedIndex"),m=s.jqxDropDownList("selectedIndex"),g=o.jqxDropDownList("selectedIndex"),v=null,w=null;if(t.updatefilterconditions){var y=t.updatefilterconditions(p,c.getoperatorsbyfiltertype(p));null!=y&&c.setoperatorsbyfiltertype(p,y)}var b=!1,x=c.getoperatorsbyfiltertype(p)[f],_=(o=c.getoperatorsbyfiltertype(p)[g],"NULL"==x||"NOT_NULL"==x),C="EMPTY"==x||"NOT_EMPTY"==x;null==x&&(x=c.getoperatorsbyfiltertype(p)[0]),null==o&&(o=c.getoperatorsbyfiltertype(p)[0]),(d.length>0||_||C)&&(v=c.createfilter(p,d,x,null,r.cellsformat,t.gridlocalization),c.addfilter(m,v),b=!0),(h.length>0||"NULL"==o||"NOT_NULL"==o||"EMPTY"==o||"NOT_EMPTY"==o)&&(w=c.createfilter(p,h,o,null,r.cellsformat,t.gridlocalization),c.addfilter(m,w),b=!0),b?this.addfilter(r.displayfield,c,!0):this._clearfilter(t,i,r)}else if("excel"===t.filtermode||"list"===r.filtertype||"checkedlist"===r.filtertype){var j=!1,q=n.data().jqxListBox.instance,k="excel"===this.filtermode||"checkedlist"===r.filtertype,T=q.getCheckedItems();if(k||(T=q.getSelectedItems()),0==T.length){for(var S=1;S<q.items.length;S++){void 0===(P=q.items[S].value)&&(P="");var I="not_equal";if(P&&P.indexOf&&(P.indexOf("|")>=0||P.indexOf(" AND ")>=0||P.indexOf(" OR ")>=0||P.indexOf(" and ")>=0||P.indexOf(" or ")>=0)&&(P=(P=(P=(P=(P=P.replace("|","")).replace("AND","")).replace("OR","")).replace("and","")).replace("or",""),I="equal"),"datefilter"==p)var D=c.createfilter(p,P,I,null,r.cellsformat,t.gridlocalization);else D=c.createfilter(p,P,I,null);c.addfilter(0,D)}j=!0}else if(T.length!=q.items.length)for(j=!0,S=0;S<T.length;S++){var P;if(t.gridlocalization.filterselectallstring!==T[S].value)void 0===(P=T[S].value)&&(P=""),I="equal",D="datefilter"==p?c.createfilter(p,P,I,null,r.cellsformat,t.gridlocalization):c.createfilter(p,P,I,null),c.addfilter(1,D)}else j=!1;j?this.addfilter(r.displayfield,c,!0):this.removefilter(r.displayfield,!0)}},_clearfilter:function(e,t,i){this.removefilter(i.displayfield,!0)},addfilter:function(e,t,i){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var r=this.getcolumn(e),n=this._getcolumn(e);null!=r&&null!=r&&(r.filter=t,n.filter=t,this.dataview.addfilter(e,t),1==i&&null!=i&&this.applyfilters("add"))},removefilter:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var i=this.getcolumn(e),r=this._getcolumn(e);null!=i&&null!=i&&null!=i.filter&&(this.dataview.removefilter(e,i.filter),i.filter=null,r.filter=null,this.showfilterrow&&this.clearfilterrow(e),1!=t&&!1===t||this.applyfilters("remove"))},applyfilters:function(t){if(this.dataview.filters.length>=0&&(this.virtualmode||!this.source.localdata)&&null!=this.source&&this.source.filter){var i=-1;this.pageable?(i=this.dataview.pagenum,this.dataview.pagenum=0):(this.vScrollInstance.setPosition(0),this.loadondemand=!0,this._renderrows(this.virtualsizeinfo)),this.pageable&&this.virtualmode&&(this.dataview.pagenum=0),this.source.filter(this.dataview.filters,this.dataview.records,this.dataview.records.length),this.pageable&&!this.virtualmode&&(this.dataview.pagenum=i)}if(this._cellscache=new Array,this.dataview.clearsortdata&&this.dataview.clearsortdata(),this.virtualmode)return this.pageable&&(this.dataview.updateview(),this.gotopage&&this.gotopage(0)),this.rendergridcontent(!1,!1),this.showfilterrow&&"string"!=typeof t&&e.isEmptyObject(t)&&this.refreshfilterrow(),this._postrender("filter"),void this._raiseEvent(13,{filters:this.dataview.filters});if(this.dataview.refresh(),this.dataview.clearsortdata&&this.sortcolumn&&this.sortdirection){var r=this.sortdirection.ascending?"asc":"desc";this._loading?this.sortby(this.sortcolumn,r,null,!1,!1):this.sortby(this.sortcolumn,r,null,!1)}this.pageable&&(this.dataview.updateview(),this.gotopage&&(this.gotopage(0),this.updatepagerdetails())),this._updaterowsproperties(),!this.groupable||this.groupable&&0==this.groups.length?(this._rowdetailscache=new Array,this.virtualsizeinfo=null,this._pagescache=new Array,this.columns&&this.columns.records&&this.columns.records.length>0&&!this.columns.records[0].filtericon&&(this.prerenderrequired=!0),this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this._postrender("filter")):(this.collapseallgroups(),this._rowdetailscache=new Array,this._render(!0,!0,!1,!1,!1),this.showfilterrow&&this._updatefocusedfilter(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this._postrender("group")),this.showfilterrow&&"string"!=typeof t&&e.isEmptyObject(t)&&this.refreshfilterrow(),this._raiseEvent(13,{filters:this.dataview.filters})},getfilterinformation:function(){for(var e=new Array,t=0;t<this.dataview.filters.length;t++){var i=this.getcolumn(this.dataview.filters[t].datafield);e[t]={filter:this.dataview.filters[t].filter,datafield:i.datafield,displayfield:i.displayfield,filtercolumn:i.datafield,filtercolumntext:i.text}}return e},clearfilters:function(t){var i=this.that;if(this.showfilterrow&&this.clearfilterrow(),this.columns.records){var r=1==t||!1!==t;e.each(this.columns.records,(function(){i.removefilter(this.displayfield,!r)}))}!1!==t&&(1!=t&&!1===t||this.applyfilters("clear"))},_destroyfilterpanel:function(){var t=e(e.find("#filterclearbutton"+this.element.id)),i=e(e.find("#filterbutton"+this.element.id)),r=e(e.find("#filter1"+this.element.id)),n=e(e.find("#filter2"+this.element.id)),s=e(e.find("#filter3"+this.element.id)),o=e(e.find(".filtertext1"+this.element.id)),a=e(e.find(".filtertext2"+this.element.id));o.length>0&&a.length>0&&(o.removeClass(),a.removeClass(),o.remove(),a.remove()),t.length>0&&(t.jqxButton("destroy"),i.jqxButton("destroy"),this.removeHandler(t,"click"),this.removeHandler(i,"click")),r.length>0&&r.jqxDropDownList("destroy"),n.length>0&&n.jqxDropDownList("destroy"),s.length>0&&s.jqxDropDownList("destroy"),r=e(e.find("#filter1"+this.element.id+"ex")),n=e(e.find("#filter2"+this.element.id+"ex")),s=e(e.find("#filter3"+this.element.id+"ex")),r.length>0&&r.jqxDropDownList("destroy"),n.length>0&&n.jqxDropDownList("destroy"),s.length>0&&s.jqxDropDownList("destroy")},_updatefilterpanel:function(t,i,r){null!=t&&null!=t||(t=this);var n=t._getcolumntypebydatafield(r),s=t._getfiltersbytype(n);if(!t.host.jqxDropDownList)throw new Error("jqxGrid: Missing reference to jqxdropdownlist.js.");t.filterpanel.detach(),t.excelfilterpanel.detach(),r.filterpanel&&r.filterpanel.detach(),e(i).children().detach();var o=e(t.menuitemsarray[6]);if(e(o).css("height","190px"),r.createfilterpanel&&!r.filterpanel){var a=e("<div class='filter' style='margin-left: 7px;'></div>");e(i).append(a),r.createfilterpanel(r.displayfield,a),r.filterpanel=a}"list"===r.filtertype||"checkedlist"===r.filtertype?e(i).append(t.excelfilterpanel):"custom"!==r.filtertype?e(i).append(t.filterpanel):r.filterpanel&&e(i).append(r.filterpanel),this._showwhere=e(i).find(".filter.showwhere");var l=e(i),d=l.find("#filterclearbutton"+t.element.id),h=l.find("#filterbutton"+t.element.id),u=l.find(".filter1"),c=l.find(".filter2"),p=l.find(".filter3"),f=l.find(".filtertext1"+t.element.id),m=l.find(".filtertext2"+t.element.id);if(this._hasdatefilter&&"list"!==r.filtertype&&"checkedlist"!==r.filtertype&&"custom"!==r.filtertype){var g=f.parent(),v=m.parent();if("date"==r.filtertype){f.jqxDateTimeInput("destroy"),m.jqxDateTimeInput("destroy"),g.children().remove(),v.children().remove(),t._showwhere.text(t.gridlocalization.filtershowrowdatestring);var w=e("<div class='filtertext1"+t.element.id+"' style=''></div>");g.append(w),(y=function(e){e.jqxDateTimeInput({disabled:t.disabled,firstDayOfWeek:t.gridlocalization.firstDay,localization:{calendar:t.gridlocalization,todayString:t.gridlocalization.todaystring,clearString:t.gridlocalization.clearstring},rtl:t.rtl,width:t._filterpanelwidth-10,height:24,value:null,formatString:r.cellsformat,theme:t.theme})})(w),w=e("<div class='filtertext2"+t.element.id+"' style=''></div>"),v.append(w),y(w)}else{var y;g.children().remove(),v.children().remove(),t._showwhere.text(t.gridlocalization.filtershowrowstring),w=e("<input autocomplete='off' class='filtertext1"+t.element.id+"' style='box-sizing: content-box; height: 16px; padding: 3px;' type='text'></input>"),g.append(w),(y=function(e){e.addClass(t.toThemeProperty("jqx-input")),e.addClass(t.toThemeProperty("jqx-filter-input jqx-widget-content")),e.addClass(t.toThemeProperty("jqx-rc-all")),e.width(t._filterpanelwidth-18)})(w),w=e("<input autocomplete='off' class='filtertext2"+t.element.id+"' style='box-sizing: content-box; height: 16px; padding: 3px;' type='text'></input>"),v.append(w),y(w)}f=l.find(".filtertext1"+t.element.id),m=l.find(".filtertext2"+t.element.id)}if("date"!=r.filtertype?(f.val(""),m.val("")):(f.val(null),m.val(null)),this.removeHandler(h,"click"),this.addHandler(h,"click",(function(){t._buildfilter(t,i,r),t._closemenu()})),this.removeHandler(d,"click"),this.addHandler(d,"click",(function(){t._clearfilter(t,i,r),t._closemenu()})),this.removeHandler(h,"keydown"),this.addHandler(h,"keydown",(function(e){13===e.keyCode&&(t._buildfilter(t,i,r),t._closemenu())})),this.removeHandler(d,"keydown"),this.addHandler(d,"keydown",(function(e){13===e.keyCode&&(t._clearfilter(t,i,r),t._closemenu())})),this.removeHandler(f,"keydown"),this.addHandler(f,"keydown",(function(e){13===e.keyCode&&h.trigger("click"),27===e.keyCode&&t._closemenu()})),this.removeHandler(m,"keydown"),this.addHandler(m,"keydown",(function(e){13===e.keyCode&&h.trigger("click"),27===e.keyCode&&t._closemenu()})),"default"===this.filtermode&&"list"!==r.filtertype&&"checkedlist"!==r.filtertype&&"custom"!==r.filtertype){if(u.jqxDropDownList("source")!=s&&(u.jqxDropDownList({enableBrowserBoundsDetection:!1,source:s}),p.jqxDropDownList({enableBrowserBoundsDetection:!1,source:s})),"boolean"==n||"bool"==n)u.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0}),p.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0});else{var b=!1;s&&s.length&&s.length<5&&(b=!0),u.jqxDropDownList({autoDropDownHeight:b,selectedIndex:2}),p.jqxDropDownList({autoDropDownHeight:b,selectedIndex:2})}c.jqxDropDownList({selectedIndex:0});var x=r.filter,_=new e.jqx.filter,C="";switch(n){case"number":case"int":case"float":case"decimal":C="numericfilter",j=_.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":C="booleanfilter",j=_.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":C="datefilter",j=_.getoperatorsbyfiltertype("datefilter");break;case"string":C="stringfilter",j=_.getoperatorsbyfiltertype("stringfilter")}if(null!=x){if(g=x.getfilterat(0),v=x.getfilterat(1),x.getoperatorat(0),t.updatefilterconditions){var j=[],q=t.updatefilterconditions(C,j);if(null!=q){for(var k=0;k<q.length;k++)q[k]=q[k].toUpperCase();x.setoperatorsbyfiltertype(C,q),j=q}}var T="default";if(null!=g){var S=j.indexOf(g.comparisonoperator);f.val(g.filtervalue),u.jqxDropDownList({selectedIndex:S,animationType:T})}if(null!=v){var I=j.indexOf(v.comparisonoperator);m.val(v.filtervalue),p.jqxDropDownList({selectedIndex:I,animationType:T})}null==x.getoperatorat(0)?c.jqxDropDownList({selectedIndex:0,animationType:T}):"and"==x.getoperatorat(0)||0==x.getoperatorat(0)?c.jqxDropDownList({selectedIndex:0}):c.jqxDropDownList({selectedIndex:1})}t.updatefilterpanel&&t.updatefilterpanel(u,p,c,f,m,h,d,x,C,j),(!this._hasdatefilter||this._hasdatefilter&&"date"!=r.filtertype)&&(this.touchdevice||(f.focus(),setTimeout((function(){f.focus()}),10)))}else if("excel"===this.filtermode||"list"===r.filtertype||"checkedlist"===r.filtertype){var D=t._getfilterdataadapter(r),P=(C=t._getfiltertype(n),"excel"===this.filtermode||"checkedlist"===r.filtertype);if(u.jqxListBox("focus"),this.removeHandler(u,"keyup"),this.addHandler(u,"keyup",(function(e){13===e.keyCode&&h.trigger("click"),27===e.keyCode&&t._closemenu()})),u.jqxListBox(r.cellsformat?{checkboxes:P,displayMember:r.displayfield,valueMember:r.displayfield+"JQValue",source:D}:{checkboxes:P,displayMember:r.displayfield,valueMember:r.displayfield,source:D}),P){if(u.jqxListBox("insertAt",{label:t.gridlocalization.filterselectallstring},0),(O=u.data().jqxListBox.instance).checkAll(!1),r.filter){O.uncheckAll(!1);for(var E=r.filter.getfilters(),M=0;M<O.items.length;M++){var A=O.items[M].value;e.each(E,(function(){if("NOT_EQUAL"==this.condition){if(A!=this.value)return O.uncheckIndex(M,!1,!1),!1;if(null!=A&&null!=this.value&&A.toString()!=this.value.toString())return O.uncheckIndex(M,!1,!1),!1}else if("EQUAL"==this.condition){if(A==this.value)return O.checkIndex(M,!1,!1),!1;if(null!=A&&null!=this.value&&A.toString()==this.value.toString())return O.checkIndex(M,!1,!1),!1}}))}O._updateCheckedItems();var H=O.getCheckedItems().length;O.items.length!=H&&H>0&&O.host.jqxListBox("indeterminateIndex",0,!0,!1),H===O.items.length-1&&O.host.jqxListBox("checkIndex",0,!0,!1)}}else if(r.filter){var O;for((O=u.data().jqxListBox.instance).clearSelection(),E=r.filter.getfilters(),M=0;M<O.items.length;M++)A=O.items[M].value,e.each(E,(function(){if("NOT_EQUAL"==this.condition){if(A!=this.value)return O.unselectIndex(M,!1,!1),!1}else if("EQUAL"==this.condition&&A==this.value)return O.selectIndex(M,!0,!1),!1}));O._renderItems()}}},_initfilterpanel:function(t,i,r,n,s){null!=t&&null!=t||(t=this),i[0].innerHTML="";var o=e("<div class='filter' style='position: absolute; bottom: 3px; margin-left: 3px;'></div>");i.append(o);var a=e("<div class='filter showwhere' style='height: 18px; margin-top: 3px; margin-bottom: 3px;'></div>");a.text(t.gridlocalization.filtershowrowstring),this._showwhere=a;var l=s?"ex":"",d=e("<div class='filter filter1' id='filter1"+t.element.id+l+"'></div>"),h=e("<div class='filter filter2' id='filter2"+t.element.id+l+"' style='margin-top: 3px; margin-bottom: 3px;'></div>"),u=e("<div class='filter filter3' id='filter3"+t.element.id+l+"'></div>"),c=t._getcolumntypebydatafield(r);if(!d.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");var p=t._getfiltersbytype(c);if(this._hasdatefilter=!1,this._filterpanelwidth=n,this.columns&&this.columns.records){for(var f=0;f<this.columns.records.length;f++)if("date"==this.columns.records[f].filtertype){this._hasdatefilter=!0;break}}else if(this.columns&&!this.columns.records)for(f=0;f<this.columns.length;f++)if("date"==this.columns[f].filtertype){this._hasdatefilter=!0;break}this._hasdatefilter=!0;var m=e("<div style='margin-top:3px;' class='filter'><input autocomplete='off' class='filtertext1"+t.element.id+"' style='padding: 3px; height: 17px; margin-top: 3px; margin-bottom: 3px;' type='text'></input></div>"),g=m.find("input");g.addClass(this.toThemeProperty("jqx-input")),g.addClass(this.toThemeProperty("jqx-filter-input jqx-widget-content")),g.addClass(this.toThemeProperty("jqx-rc-all")),g.width(n-18);var v=e("<div style='margin-top:3px;' class='filter'><input autocomplete='off' class='filtertext2"+t.element.id+"' style='padding: 3px; height: 17px; margin-top: 3px;' type='text'></input></div>"),w=v.find("input");w.addClass(this.toThemeProperty("jqx-input")),w.addClass(this.toThemeProperty("jqx-filter-input jqx-widget-content")),w.addClass(this.toThemeProperty("jqx-rc-all")),w.width(n-18),t.rtl&&(g.css("direction","rtl"),w.css("direction","rtl"));var y=e("<div class='filter' style='height: 25px; text-align:center; margin-top: 12px; margin-left:-2px;'></div>"),b=e('<span tabIndex=0 id="filterbutton'+t.element.id+'" class="filterbutton" style="padding: 4px 12px;">'+t.gridlocalization.filterstring+"</span>");y.append(b);var x=e('<span tabIndex=0 id="filterclearbutton'+t.element.id+'" class="filterclearbutton" style="position: relative; left: 2px; padding: 4px 12px; margin-left: 7px;">'+t.gridlocalization.filterclearstring+"</span>");y.append(x),b.jqxButton({height:20,theme:t.theme}),x.jqxButton({height:20,theme:t.theme});var _=function(e){if(e){if(-1!=e.text().indexOf("case sensitive")){var i=e.text();i=i.replace("case sensitive","match case"),e.text(i)}return e.css("font-family",t.host.css("font-family")),e.css("font-size",t.host.css("font-size")),e.css("top","2px"),e.css("position","relative"),e}return""};if("default"!==this.filtermode||s){if("excel"===this.filtermode||s){o.append(a),o.append(d),d.attr("tabindex",0),d.jqxListBox({rtl:t.rtl,_checkForHiddenParent:!1,checkboxes:!0,selectedIndex:2,width:n-10,height:130,theme:t.theme});var C=!0;t.addHandler(d,"checkChange",(function(e){if(C)if(e.args.label!=t.gridlocalization.filterselectallstring){C=!1,d.jqxListBox("checkIndex",0,!0,!1);var i=d.jqxListBox("getCheckedItems"),r=d.jqxListBox("getItems");1==i.length?d.jqxListBox("uncheckIndex",0,!0,!1):r.length!=i.length&&d.jqxListBox("indeterminateIndex",0,!0,!1),C=!0}else C=!1,d.jqxListBox(e.args.checked?"checkAll":"uncheckAll",!1),C=!0}))}}else{o.append(a),o.append(d),d.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:t.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:n-10,height:24,dropDownHeight:150,dropDownWidth:n-10,selectionRenderer:_,source:p,theme:t.theme}),o.append(m);var j=new Array;j[0]=t.gridlocalization.filterandconditionstring,j[1]=t.gridlocalization.filterorconditionstring,h.jqxDropDownList({_checkForHiddenParent:!1,rtl:t.rtl,enableBrowserBoundsDetection:!1,autoDropDownHeight:!0,selectedIndex:0,width:60,height:24,source:j,selectionRenderer:_,theme:t.theme}),o.append(h),u.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:t.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:n-10,height:24,dropDownHeight:150,dropDownWidth:n-10,selectionRenderer:_,source:p,theme:t.theme}),o.append(u),o.append(v)}o.append(y),t.updatefilterpanel&&t.updatefilterpanel(d,u,h,m,v,b,x,null,null,p)}})}(jqxBaseFramework)},MqFM:function(e,t){var i;(i=jqxBaseFramework).jqx.jqxWidget("jqxComboBox","",{}),i.extend(i.jqx._jqxComboBox.prototype,{defineInstance:function(){var e={disabled:!1,width:200,height:25,items:new Array,selectedIndex:-1,selectedItems:new Array,_selectedItems:new Array,source:null,autoItemsHeight:!1,scrollBarSize:i.jqx.utilities.scrollBarSize,arrowSize:17,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,hint:!0,emptyGroupText:"Group",emptyString:"",ready:null,openDelay:250,closeDelay:300,animationType:"default",dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",dropDownContainer:"default",searchMode:"startswithignorecase",autoComplete:!1,remoteAutoComplete:!1,remoteAutoCompleteDelay:500,selectionMode:"default",minLength:2,displayMember:"",valueMember:"",groupMember:"",searchMember:"",keyboardSelection:!0,renderer:null,autoOpen:!1,template:"",checkboxes:!1,promptText:"",placeHolder:"",rtl:!1,listBox:null,validateSelection:null,showCloseButtons:!0,renderSelectedItem:null,search:null,popupZIndex:2e3,searchString:null,multiSelect:!1,showArrow:!0,_disabledItems:new Array,touchMode:"auto",autoBind:!0,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete","itemAdd","itemRemove","itemUpdate"]};return this===i.jqx._jqxComboBox.prototype||i.extend(!0,this,e),e},createInstance:function(e){if(this.host.attr("role","combobox"),i.jqx.aria(this,"aria-autocomplete","both"),null==i.jqx._jqxListBox||null==i.jqx._jqxListBox)throw new Error("jqxComboBox: Missing reference to jqxlistbox.js.");i.jqx.aria(this),""!=this.promptText&&(this.placeHolder=this.promptText),this.render()},render:function(){var e=(d=this).element.nodeName.toLowerCase();if("select"==e||"ul"==e||"ol"==e){d.field=d.element,d.field.className&&(d._className=d.field.className);var t={title:d.field.title};t.id=d.field.id.length?d.field.id.replace(/[^\w]/g,"_")+"_jqxComboBox":i.jqx.utilities.createId()+"_jqxComboBox";var r=i("<div></div>",t);d.width||(d.width=i(d.field).width()),d.height||(d.height=i(d.field).outerHeight()),d.element.style.cssText=d.field.style.cssText,i(d.field).hide().after(r);var n=d.host.data();if(d.host=r,d.host.data(n),d.element=r[0],d.element.id=d.field.id,d.field.id=t.id,d._className&&(d.host.addClass(d._className),i(d.field).removeClass(d._className)),d.field.tabIndex){var s=d.field.tabIndex;d.field.tabIndex=-1,d.element.tabIndex=s}if(""!=d.field.innerHTML){var o=i.jqx.parseSourceTag(d.field);d.source=o.items,-1==d.selectedIndex&&(d.selectedIndex=o.index)}}else(d.host.find("li").length>0||d.host.find("option").length>0)&&(o=i.jqx.parseSourceTag(d.element),d.source=o.items);d.removeHandlers(),d.isanimating=!1,d.id=i.jqx.utilities.createId(),d.element.innerHTML="";var a=i("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='padding: 0; margin: 0; border: none; background-color: transparent; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' style='padding: 0; margin: 0; border-top: none; border-bottom: none; float: left; position: absolute;'/><div id='dropdownlistArrow' role='button' style='padding: 0; margin: 0; border-left-width: 1px; border-bottom-width: 0px; border-top-width: 0px; border-right-width: 0px; float: right; position: absolute;'/></div></div>");if(d.comboStructure=a,null==i.jqx._jqxListBox||null==i.jqx._jqxListBox)throw"jqxComboBox: Missing reference to jqxlistbox.js.";d.touch=i.jqx.mobile.isTouchDevice(),!0===d.touchMode&&(d.touch=!0),d.host.append(a),d.dropdownlistWrapper=d.host.find("#dropdownlistWrapper"),d.dropdownlistArrow=d.host.find("#dropdownlistArrow"),d.dropdownlistContent=d.host.find("#dropdownlistContent"),d.dropdownlistContent.addClass(d.toThemeProperty("jqx-combobox-content")),d.dropdownlistContent.addClass(d.toThemeProperty("jqx-widget-content")),d.dropdownlistWrapper[0].id="dropdownlistWrapper"+d.element.id,d.dropdownlistArrow[0].id="dropdownlistArrow"+d.element.id,d.dropdownlistContent[0].id="dropdownlistContent"+d.element.id,d.template&&d.dropdownlistArrow.addClass(d.toThemeProperty("jqx-"+d.template)),d.dropdownlistContent.append(i('<input autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" style="box-sizing: border-box; margin: 0; padding: 0; padding-left: 3px; padding-right: 3px; border: 0;" type="textarea"/>')),d.input=d.dropdownlistContent.find("input"),d.input.addClass(d.toThemeProperty("jqx-combobox-input")),d.input.addClass(d.toThemeProperty("jqx-widget-content")),d.host.attr("tabindex")&&(d.input.attr("tabindex",d.host.attr("tabindex")),d.host.removeAttr("tabindex"));var l=i("<label></label");this.hint&&(l[0].innerHTML=this.placeHolder),l.addClass(d.toThemeProperty("jqx-input-label")),d.dropdownlistWrapper.append(l),d.label=l;var d,h=i("<span></span>");d.dropdownlistWrapper.append(h),h.addClass(d.toThemeProperty("jqx-input-bar")),d.bar=h,(d=this).template&&(d.bar.addClass(d.toThemeProperty("jqx-"+d.template)),d.label.addClass(d.toThemeProperty("jqx-"+d.template))),d._addInput(),d.rtl&&(d.input.css({direction:"rtl"}),d.dropdownlistContent.addClass(d.toThemeProperty("jqx-combobox-content-rtl")));try{var u="listBox"+d.id,c=i(i.find("#"+u));c.length>0&&c.remove(),i.jqx.aria(this,"aria-owns",u),i.jqx.aria(this,"aria-haspopup",!0),i.jqx.aria(this,"aria-multiline",!1),d.listBoxContainer&&d.listBoxContainer.jqxListBox("destroy"),d.container&&d.container.remove();var p=i("<div style='overflow: hidden; border: none; background-color: transparent; position: absolute;' id='listBox"+d.id+"'><div id='innerListBox"+d.id+"'></div></div>");p.hide(),p.appendTo("element"==d.dropDownContainer?d.host:document.body),d.container=p,d.listBoxContainer=i(i.find("#innerListBox"+d.id));var f=d.width;"auto"!=d.dropDownWidth&&(f=d.dropDownWidth),null==d.dropDownHeight&&(d.dropDownHeight=200),d.container.width(parseInt(f)+25),d.container.height(parseInt(d.dropDownHeight)+25),d._ready=!1,d.addHandler(d.listBoxContainer,"bindingComplete",(function(e){d.listBox||(d.listBox=i.data(d.listBoxContainer[0],"jqxListBox").instance),d._ready||(d.ready&&d.ready(),d._ready=!0),d._raiseEvent("6")})),d.addHandler(d.listBoxContainer,"itemAdd",(function(e){d._raiseEvent("7",e.args)})),d.addHandler(d.listBoxContainer,"itemRemove",(function(e){d._raiseEvent("8",e.args)})),d.addHandler(d.listBoxContainer,"itemUpdate",(function(e){d._raiseEvent("9",e.args)})),d.listBoxContainer.jqxListBox({autoItemsHeight:d.autoItemsHeight,_checkForHiddenParent:!1,allowDrop:!1,allowDrag:!1,checkboxes:d.checkboxes,emptyString:d.emptyString,autoBind:!d.remoteAutoComplete&&d.autoBind,renderer:d.renderer,rtl:d.rtl,itemHeight:d.itemHeight,selectedIndex:d.selectedIndex,incrementalSearch:!1,width:f,scrollBarSize:d.scrollBarSize,autoHeight:d.autoDropDownHeight,height:d.dropDownHeight,groupMember:d.groupMember,searchMember:d.searchMember,displayMember:d.displayMember,valueMember:d.valueMember,source:d.source,theme:d.theme,rendered:function(){if(d.listBox=i.data(d.listBoxContainer[0],"jqxListBox").instance,d.remoteAutoComplete)if(d.autoDropDownHeight?(d.container.height(d.listBox.virtualSize.height+25),d.listBoxContainer.height(d.listBox.virtualSize.height),d.listBox._arrange()):(d.listBox._arrange(),d.listBox.ensureVisible(0),d.listBox._renderItems(),d.container.height(d.listBoxContainer.height()+25)),null!=d.searchString&&d.searchString.length>=d.minLength){var e=d.listBoxContainer.jqxListBox("items");e&&e.length>0?d.isOpened()||d.open():d.close()}else d.close();else d.renderSelection("mouse"),d.multiSelect&&d.doMultiSelect(!1);d.rendered&&d.rendered()}}),d.listBoxContainer.css("element"==d.dropDownContainer?{position:"absolute",top:0,left:0}:{position:"absolute",zIndex:d.popupZIndex,top:0,left:0}),d.listBoxContainer.css("border-top-width","1px"),d.listBoxContainer.addClass(d.toThemeProperty("jqx-popup")),i.jqx.browser.msie&&d.listBoxContainer.addClass(d.toThemeProperty("jqx-noshadow")),d.template&&d.listBoxContainer.addClass(d.toThemeProperty("jqx-"+d.template+"-item")),d.listBox=i.data(d.listBoxContainer[0],"jqxListBox").instance,d.listBox.enableSelection=d.enableSelection,d.listBox.enableHover=d.enableHover,d.listBox.equalItemsWidth=d.equalItemsWidth,d.listBox._arrange(),d.addHandler(d.listBoxContainer,"unselect",(function(e){d.multiSelect||d._raiseEvent("3",{index:e.args.index,type:e.args.type,item:e.args.item})})),d.addHandler(d.listBoxContainer,"change",(function(e){d.multiSelect||(d.selectedIndex=d.listBox.selectedIndex,d._raiseEvent("4",{index:e.args.index,type:e.args.type,item:e.args.item}))})),"none"==d.animationType?d.container.css("display","none"):d.container.hide()}catch(g){throw g}if((d=this).input.attr("disabled",d.disabled),i.jqx.browser.msie&&i.jqx.browser.version<8||(d.isMaterialized()&&d.hint?d.label[0].innerHTML=d.placeHolder:d.input.attr("placeholder",d.placeHolder)),d.propertyChangeMap.disabled=function(e,t,r,n){n?(e.host.addClass(d.toThemeProperty("jqx-combobox-state-disabled")),e.host.addClass(d.toThemeProperty("jqx-fill-state-disabled")),e.dropdownlistContent.addClass(d.toThemeProperty("jqx-combobox-content-disabled"))):(e.host.removeClass(d.toThemeProperty("jqx-combobox-state-disabled")),e.host.removeClass(d.toThemeProperty("jqx-fill-state-disabled")),e.dropdownlistContent.removeClass(d.toThemeProperty("jqx-combobox-content-disabled"))),e.input.attr("disabled",e.disabled),i.jqx.aria(e,"aria-disabled",e.disabled),e.input.attr("disabled",e.disabled)},d.disabled&&(d.host.addClass(d.toThemeProperty("jqx-combobox-state-disabled")),d.host.addClass(d.toThemeProperty("jqx-fill-state-disabled")),d.dropdownlistContent.addClass(d.toThemeProperty("jqx-combobox-content-disabled"))),d.host.addClass(d.toThemeProperty("jqx-combobox-state-normal")),d.host.addClass(d.toThemeProperty("jqx-combobox")),d.host.addClass(d.toThemeProperty("jqx-rc-all")),d.host.addClass(d.toThemeProperty("jqx-widget")),d.host.addClass(d.toThemeProperty("jqx-widget-content")),d.dropdownlistArrowIcon=i("<div></div>"),d.dropdownlistArrowIcon.addClass(d.toThemeProperty("top"==d.dropDownVerticalAlignment?"jqx-icon-arrow-up":"jqx-icon-arrow-down")),d.dropdownlistArrowIcon.addClass(d.toThemeProperty("jqx-icon")),d.dropdownlistArrow.append(d.dropdownlistArrowIcon),d.dropdownlistArrow.addClass(d.toThemeProperty("jqx-combobox-arrow-normal")),d.dropdownlistArrow.addClass(d.toThemeProperty("jqx-fill-state-normal")),d.dropdownlistArrow.addClass(d.toThemeProperty(d.rtl?"jqx-rc-l":"jqx-rc-r")),d._setSize(),d._updateHandlers(),d.addHandler(d.input,"keyup.textchange",(function(e){d._writeTimer&&clearTimeout(d._writeTimer),d._writeTimer=setTimeout((function(){d._search(e),d.cinput&&d.input&&(d.displayMember?d._updateInputSelection():d.cinput[0].value=d.input[0].value)}),50)})),i.jqx.browser.msie&&i.jqx.browser.version<8&&d.host.parents(".jqx-window").length>0){var m=d.host.parents(".jqx-window").css("z-index");p.css("z-index",m+10),d.listBoxContainer.css("z-index",m+10)}d.checkboxes?(d.input.attr("readonly",!0),i.jqx.aria(this,"aria-readonly",!0)):i.jqx.aria(this,"aria-readonly",!1),d.remoteAutoComplete||(d.searchString=""),this.bar.css("top",this.host.height())},_addInput:function(){var e=this.host.attr("name");this.cinput=i("<input type='hidden'/>"),this.host.append(this.cinput),e&&this.cinput.attr("name",e)},_updateInputSelection:function(){if(this.cinput){var e=new Array;if(-1==this.selectedIndex)this.cinput.val("");else{var t=this.getSelectedItem();null!=t?(this.cinput.val(t.value),e.push(t.value)):this.cinput.val(this.dropdownlistContent.text())}if(this.checkboxes||this.multiSelect){if(this.multiSelect)r=this.getSelectedItems();else var r=this.getCheckedItems();var n="";if(null!=r)for(var s=0;s<r.length;s++)n+=s==r.length-1?r[s].value:r[s].value+",",e.push(r[s].value);this.cinput.val(n)}this.field&&this.cinput&&("select"==this.field.nodeName.toLowerCase()?i.each(this.field,(function(t,r){i(this).removeAttr("selected"),this.selected=e.indexOf(this.value)>=0,this.selected&&i(this).attr("selected",!0)})):i.each(this.items,(function(t,r){i(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=e.indexOf(this.value)>=0,this.selected&&i(this.originalItem.originalItem).attr("data-selected",!0)})))}},_search:function(e){var t=this;if(9!=e.keyCode&&"none"!=t.searchMode&&null!=t.searchMode&&"undefined"!=t.searchMode&&16!=e.keyCode&&17!=e.keyCode&&20!=e.keyCode&&!t.checkboxes){if(t.multiSelect){var r=i("<span style='visibility: hidden; white-space: nowrap;'>"+document.createTextNode(t.input.val())+"</span>");r.addClass(t.toThemeProperty("jqx-widget")),i(document.body).append(r);var n=r.width()+15;r.remove(),n>t.host.width()&&(n=t.host.width()),n<25&&(n=25),t.input.css("width",n+"px"),0==t.selectedItems.length?(t.input.css("width","100%"),t.isMaterialized()||t.input.attr("placeholder",t.placeHolder)):t.isMaterialized()||t.input.attr("placeholder","");var s=parseInt(this._findPos(t.host[0])[1])+parseInt(t.host.outerHeight())-1+"px";t.container.css("top",s);var o=parseInt(t.host.height());t.dropdownlistArrow.height(o)}if(!t.isanimating){if(e.altKey&&38==e.keyCode)return t.hideListBox("altKey"),!1;if(e.altKey&&40==e.keyCode)return t.isOpened()||t.showListBox("altKey"),!1}if(37==e.keyCode||39==e.keyCode)return!1;if(!e.altKey&&18!=e.keyCode&&!(e.keyCode>=33&&e.keyCode<=40||(e.ctrlKey||t.ctrlKey)&&88!=e.keyCode&&86!=e.keyCode)){var a=t.input.val();if(0==a.length&&!t.autoComplete)return t.listBox.searchString=t.input.val(),t.listBox.clearSelection(),t.hideListBox("search"),void(t.searchString=t.input.val());if(t.remoteAutoComplete){var l=function(){t.listBox.vScrollInstance.value=0};a.length>=(t=this).minLength?e.ctrlKey||e.altKey||(t.searchString!=a&&(null==t.listBoxContainer.jqxListBox("source")&&t.listBoxContainer.jqxListBox({source:t.source}),t._searchTimer&&clearTimeout(t._searchTimer),13!=e.keyCode&&27!=e.keyCode&&(t._searchTimer=setTimeout((function(){if(l(),t.autoDropDownHeight&&(t.listBox.autoHeight=!0),t.searchString=t.input.val(),null==t.search)throw"'search' function is not defined";t.search(t.input.val())}),t.remoteAutoCompleteDelay))),t.searchString=a):(t._searchTimer&&clearTimeout(t._searchTimer),l(),t.searchString="",t.search(""),t.listBoxContainer.jqxListBox({source:null}))}else if(a!==(t=this).searchString){if("27"!=e.keyCode&&"13"!=e.keyCode){var d=t.input[0].value,h=t._updateItemsVisibility(a),u=h.matchItems;t.autoComplete&&t.autoItemsHeight&&(t.input[0].value=d);var c=h.index;t.autoComplete||t.remoteAutoComplete||(!t.multiSelect||t.multiSelect&&c>=0)&&(t.listBox.selectIndex(c),t.listBox.isIndexInView(c)?t.listBox._renderItems():t.listBox.ensureVisible(c)),t.autoComplete&&0===u.length&&t.hideListBox("search")}if("13"==e.keyCode){if("block"==t.container.css("display")&&!t.isanimating)return t.hideListBox("keyboard"),void(t._oldvalue=t.listBox.selectedValue)}else if("27"==e.keyCode){var p;if("block"==t.container.css("display")&&!t.isanimating)return t.multiSelect?(t.input.val(""),t.listBox.selectedValue=null):(p=t.listBox.getVisibleItem(t._oldvalue))?(t=this,setTimeout((function(){t.autoComplete&&t._updateItemsVisibility(""),t.listBox.selectIndex(p.index),t.renderSelection("api")}),t.closeDelay)):t.clearSelection(),t.hideListBox("keyboard"),t.renderSelection("api"),e.preventDefault(),!1}else t.isOpened()||t.opening||e.ctrlKey||t.listBox.visibleItems&&t.listBox.visibleItems.length>0&&t.input.val()!=t.searchString&&null!=t.searchString&&-1!=c&&t.showListBox("search"),t.searchString=t.input.val(),""==t.searchString&&(t.listBox.itemsByValue[""]||(c=-1,t.multiSelect||t.clearSelection())),null!=(p=t.listBox.getVisibleItem(c))&&t._updateInputSelection()}}}},val:function(e){if(!this.input)return"";var t,i=function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"!=typeof e&&"date"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e};return i(e)||0==arguments.length?(t=this.getSelectedItem())?t.value:this.input.val():(null!=(t=this.getItemByValue(e))?this.selectItem(t):this.input.val(e),this.input.val())},focus:function(){var e=this,t=function(){e.input.focus();var t=e.input.val();e._setSelection(0,t.length)};t(),setTimeout((function(){t()}),10)},_setSelection:function(e,t){try{if("selectionStart"in this.input[0])this.input[0].focus(),this.input[0].setSelectionRange(e,t);else{var i=this.input[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}}catch(r){}},setContent:function(e){this.input.val(e)},_updateItemsVisibility:function(e){var t=this.getItems();if(null==t)return{index:-1,matchItem:new Array};var r=this,n=-1,s=new Array,o=0;i.each(t,(function(t){var a="";if(!this.isGroup){a=(a=this.searchLabel?this.searchLabel:this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem").toString();var l=!1;switch(r.searchMode){case"containsignorecase":l=i.jqx.string.containsIgnoreCase(a,e);break;case"contains":l=i.jqx.string.contains(a,e);break;case"equals":l=i.jqx.string.equals(a,e);break;case"equalsignorecase":l=i.jqx.string.equalsIgnoreCase(a,e);break;case"startswith":l=i.jqx.string.startsWith(a,e);break;case"startswithignorecase":l=i.jqx.string.startsWithIgnoreCase(a,e);break;case"endswith":l=i.jqx.string.endsWith(a,e);break;case"endswithignorecase":l=i.jqx.string.endsWithIgnoreCase(a,e)}if(r.autoComplete&&!l&&(this.visible=!1),l&&r.autoComplete&&(s[o++]=this,this.visible=!0,n=this.visibleIndex),""==e&&r.autoComplete&&(this.visible=!0,l=!1),r.multiSelect&&(this.disabled=!1,(r.selectedItems.indexOf(this.value)>=0||r._disabledItems.indexOf(this.value)>=0)&&(this.disabled=!0,l=!1)),r.multiSelect){if(l&&!r.autoComplete)return-1===n&&(n=this.visibleIndex),!0}else if(l&&!r.autoComplete)return n=this.visibleIndex,!1}})),this.listBox.searchString=e,r=this;var a=function(){if(!r.multiSelect){for(var e=0,t=!1,i=null,n=0;n<r.listBox.items.length;n++)r.listBox.selectedIndexes[n]=-1,r.listBox.items[n].disabled||0==t&&(e=(i=r.listBox.items[n]).visibleIndex,t=!0);r.listBox.selectedIndex=-1,r.listBox.selectedIndex=e,r.listBox.selectedIndexes[e]=e,r.listBox.selectedValue=r.listBox.visibleItems.length>0&&i?i.value:null,r.listBox.ensureVisible(0)}};if(!this.autoComplete)return a(),{index:n,matchItems:s};this.listBox.renderedVisibleItems=new Array;var l=this.listBox.vScrollInstance.value;this.listBox.vScrollInstance.value=0,this.listBox.visibleItems=new Array,this.listBox._renderItems();var d=this.listBox.getItemByValue(this.listBox.selectedValue);if(this.multiSelect)a();else if(d)if(d.visible){this.listBox.selectedIndex=d.visibleIndex;for(var h=0;h<this.listBox.items.length;h++)this.listBox.selectedIndexes[h]=-1;this.listBox.selectedIndexes[d.visibleIndex]=d.visibleIndex}else{for(h=0;h<this.listBox.items.length;h++)this.listBox.selectedIndexes[h]=-1;this.listBox.selectedIndex=-1}this.listBox._renderItems();var u=this.listBox._calculateVirtualSize().height;if(u<l&&(l=0,this.listBox.vScrollInstance.refresh()),this.autoDropDownHeight)this._disableSelection=!0,this.listBox.autoHeight!=this.autoDropDownHeight&&this.listBoxContainer.jqxListBox({autoHeight:this.autoDropDownHeight}),this.container.height(u+25),this.listBox.invalidate(),this._disableSelection=!1;else if(u<parseInt(this.dropDownHeight)){var c="hidden"==this.listBox.hScrollBar[0].style.visibility?0:20;this.listBox.height=c+u,this.container.height(u+25+c),this.listBox.invalidate()}else this.listBox.height=parseInt(this.dropDownHeight),this.container.height(parseInt(this.dropDownHeight)+25),this.listBox.invalidate();return this.listBox.vScrollInstance.setPosition(l),{index:n,matchItems:s}},findItems:function(e){var t=this.getItems(),r=this,n=0,s=new Array;return i.each(t,(function(t){var o="";if(!this.isGroup){o=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var a=!1;switch(r.searchMode){case"containsignorecase":a=i.jqx.string.containsIgnoreCase(o,e);break;case"contains":a=i.jqx.string.contains(o,e);break;case"equals":a=i.jqx.string.equals(o,e);break;case"equalsignorecase":a=i.jqx.string.equalsIgnoreCase(o,e);break;case"startswith":a=i.jqx.string.startsWith(o,e);break;case"startswithignorecase":a=i.jqx.string.startsWithIgnoreCase(o,e);break;case"endswith":a=i.jqx.string.endsWith(o,e);break;case"endswithignorecase":a=i.jqx.string.endsWithIgnoreCase(o,e)}a&&(s[n++]=this)}})),s},_resetautocomplete:function(){i.each(this.listBox.items,(function(e){this.visible=!0})),this.listBox.vScrollInstance.value=0,this.listBox._addItems(),this.listBox.autoHeight=!1,this.listBox.height=this.dropDownHeight,this.container.height(parseInt(this.dropDownHeight)+25),this.listBoxContainer.height(parseInt(this.dropDownHeight)),this.listBox._arrange(),this.listBox._addItems(),this.listBox._renderItems()},getItems:function(){return this.listBox.items},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){var e=window.getComputedStyle(this.element),t=2*parseInt(e.borderLeftWidth);("border-box"===e.boxSizing||isNaN(t))&&(t=0),null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=parseInt(this.width)-t+"px":null==this.width||isNaN(this.width)||(this.element.style.width=parseInt(this.width)-t+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=parseInt(this.height)-t+"px":null==this.height||isNaN(this.height)||(this.element.style.height=parseInt(this.height)-t+"px");var r=!1;if(null!=this.width&&-1!=this.width.toString().indexOf("%")&&(r=!0,this.element.style.width=this.width,t>0&&this.host.css("box-sizing","border-box")),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(r=!0,this.element.style.height=this.height),r){var n=this,s=this.host.width();"auto"!=this.dropDownWidth&&(s=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:s}),this.container.width(parseInt(s)+25),this._arrange()}(n=this).oldWidth=n.host.width(),n.oldHeight=n.host.height(),i.jqx.utilities.resize(this.host,(function(){var e=n.host.width(),t=n.host.height();e==n.oldWidth&&t==n.oldHeight||(n.multiSelect&&n.host.height(n.height),n._arrange(),n.multiSelect&&n.host.height("auto"),n.hideListBox("api")),n.oldWidth=e,n.oldHeight=t}))},isOpened:function(){var e=i.data(document.body,"openedCombojqxListBox"+this.element.id);return"block"==this.container.css("display")&&null!=e&&e==this.listBoxContainer},_updateHandlers:function(){var e=this;this.removeHandlers(),this.multiSelect&&(this.addHandler(this.dropdownlistContent,"click",(function(t){if(t.target.href)return!1;e.input.focus(),setTimeout((function(){e.input.focus()}),10)})),this.addHandler(this.dropdownlistContent,"focus",(function(t){if(t.target.href)return!1;e.input.focus(),setTimeout((function(){e.input.focus()}),10)}))),this.touch||(this.host.parents()&&this.addHandler(this.host.parents(),"scroll.combobox"+this.element.id,(function(t){e.isOpened()&&e.close()})),this.addHandler(this.host,"mouseenter",(function(){!e.disabled&&e.enableHover&&(e.host.addClass(e.toThemeProperty("jqx-combobox-state-hover")),e.dropdownlistArrowIcon.addClass(e.toThemeProperty("top"==e.dropDownVerticalAlignment?"jqx-icon-arrow-up":"jqx-icon-arrow-down-hover")),e.dropdownlistArrow.addClass(e.toThemeProperty("jqx-combobox-arrow-hover")),e.dropdownlistArrow.addClass(e.toThemeProperty("jqx-fill-state-hover")))})),this.addHandler(this.host,"mouseleave",(function(){!e.disabled&&e.enableHover&&(e.host.removeClass(e.toThemeProperty("jqx-combobox-state-hover")),e.dropdownlistArrowIcon.removeClass(e.toThemeProperty("jqx-icon-arrow-down-hover")),e.dropdownlistArrowIcon.removeClass(e.toThemeProperty("jqx-icon-arrow-up-hover")),e.dropdownlistArrow.removeClass(e.toThemeProperty("jqx-combobox-arrow-hover")),e.dropdownlistArrow.removeClass(e.toThemeProperty("jqx-fill-state-hover")))}))),e.autoOpen&&(this.addHandler(this.host,"mouseenter",(function(){!e.isOpened()&&e.autoOpen&&(e.open(),e.host.focus())})),this.addHandler(i(document),"mousemove."+e.id,(function(t){if(e.isOpened()&&e.autoOpen){var i=e.host.coord(),r=i.top,n=i.left,s=e.container.coord(),o=s.left,a=s.top,l=!0;t.pageY>=r&&t.pageY<=r+e.host.height()+2&&t.pageX>=n&&t.pageX<n+e.host.width()&&(l=!1),t.pageY>=a&&t.pageY<=a+e.container.height()-20&&t.pageX>=o&&t.pageX<o+e.container.width()&&(l=!1),l&&e.close()}})));var t="mousedown";this.touch&&(t=i.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.dropdownlistArrow,t,(function(t){!function(t){if(!e.disabled){var r="block"==e.container.css("display");if(!e.isanimating){if(r)return e.hideListBox("api"),i.jqx.mobile.isTouchDevice()||(e.input.focus(),setTimeout((function(){e.input.focus()}),10)),!0;if(e.autoDropDownHeight&&(e.container.height(e.listBoxContainer.height()+25),e.listBoxContainer.jqxListBox("autoHeight")||(e.listBoxContainer.jqxListBox({autoHeight:e.autoDropDownHeight}),e.listBox._arrange(),e.listBox.ensureVisible(0),e.listBox._renderItems(),e.container.height(e.listBoxContainer.height()+25))),e.showListBox("api"),i.jqx.mobile.isTouchDevice())return!0;setTimeout((function(){e.input.focus()}),10)}}}()})),this.addHandler(this.dropdownlistArrowIcon,t,(function(e){})),this.addHandler(this.host,"focus",(function(){e.focus()})),this.addHandler(this.input,"focus",(function(t){e.focused=!0,e.host.addClass(e.toThemeProperty("jqx-combobox-state-focus")),e.host.addClass(e.toThemeProperty("jqx-fill-state-focus")),e.bar.addClass("focused"),e.label.addClass("focused"),e.dropdownlistContent.addClass(e.toThemeProperty("jqx-combobox-content-focus")),t.stopPropagation&&t.stopPropagation()})),this.addHandler(this.input,"blur",(function(){e.focused=!1,e.bar.removeClass("focused"),e.label.removeClass("focused"),e.isOpened()||e.opening||("dropDownList"==e.selectionMode&&e._selectOldValue(),e.host.removeClass(e.toThemeProperty("jqx-combobox-state-focus")),e.host.removeClass(e.toThemeProperty("jqx-fill-state-focus")),e.dropdownlistContent.removeClass(e.toThemeProperty("jqx-combobox-content-focus"))),e._searchTimer&&clearTimeout(e._searchTimer)})),this.addHandler(i(document),"mousedown."+this.id,e.closeOpenedListBox,{that:this,listbox:this.listBox,id:this.id}),this.touch&&this.addHandler(i(document),i.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,e.closeOpenedListBox,{that:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",(function(t){var i,r="block"==e.container.css("display");if(e.ctrlKey=t.ctrlKey,"none"==e.host.css("display"))return!0;if(("13"==t.keyCode||"9"==t.keyCode)&&r&&!e.isanimating)return-1!=e.listBox.selectedIndex&&(e.renderSelection("mouse"),(i=e.listBox.getVisibleItem(e.listBox.selectedIndex))&&(e.listBox.selectedValue=i.value),e._setSelection(e.input.val().length,e.input.val().length),e.hideListBox("keyboard")),"13"==t.keyCode&&(e._oldvalue=e.listBox.selectedValue),e.keyboardSelection||e._raiseEvent("2",{index:e.selectedIndex,type:"keyboard",item:e.getItem(e.selectedIndex)}),"9"==t.keyCode;if(115==t.keyCode)return e.isanimating||(e.isOpened()?e.isOpened()&&e.hideListBox("keyboard"):e.showListBox("keyboard")),!1;if(t.altKey&&"block"==e.host.css("display")&&(e.isanimating||(38==t.keyCode?e.isOpened()&&e.hideListBox("altKey"):40==t.keyCode&&(e.isOpened()||e.showListBox("altKey")))),("27"==t.keyCode||"9"==t.keyCode)&&e.isOpened()&&!e.isanimating)return"27"==t.keyCode&&(e.multiSelect?(e.listBox.selectedValue=null,e.input.val("")):(i=e.listBox.getItemByValue(e._oldvalue))?setTimeout((function(){e.autoComplete&&e._updateItemsVisibility(""),e.listBox.selectIndex(i.index),e.renderSelection("api")}),e.closeDelay):e.clearSelection()),e.hideListBox("keyboard"),"9"==t.keyCode||(e.renderSelection("api"),t.preventDefault(),!1);var n=t.keyCode;if(r&&!e.disabled&&8!=n)return e.listBox._handleKeyDown(t);if(!(e.disabled||r||33!=(n=t.keyCode)&&34!=n&&35!=n&&36!=n&&38!=n&&40!=n))return e.listBox._handleKeyDown(t);if(8===n&&e.multiSelect&&0===e.input.val().length){var s=e.selectedItems[e.selectedItems.length-1];return e.selectedItems.pop(),e._selectedItems.pop(),s&&(e._raiseEvent("3",{index:s.index,type:"keyboard",item:s}),e._raiseEvent("4",{index:s.index,type:"keyboard",item:s})),e.listBox.selectedValue=null,e.doMultiSelect(),!1}e.isMaterialized()&&e.hint&&setTimeout((function(){0===e.input[0].value.length?(e.element.removeAttribute("hint"),e.label[0].innerHTML=e.placeHolder):e.hint&&e.element.setAttribute("hint",!0)}))})),this.addHandler(this.listBoxContainer,"checkChange",(function(t){e.renderSelection("mouse"),e._updateInputSelection(),e._raiseEvent(5,{label:t.args.label,value:t.args.value,checked:t.args.checked,item:t.args.item})})),this.addHandler(this.listBoxContainer,"select",(function(t){if(!e.disabled&&("keyboard"!=t.args.type||e.keyboardSelection)&&(e.renderSelection(t.args.type),e.multiSelect||e._raiseEvent("2",{index:t.args.index,type:t.args.type,item:t.args.item}),"mouse"==t.args.type&&(e._oldvalue=e.listBox.selectedValue,!e.checkboxes))){if(e.hideListBox("mouse"),e.touch)return!1;e.input.focus()}})),null!=this.listBox&&null!=this.listBox.content&&this.addHandler(this.listBox.content,"click",(function(t){if(!e.disabled){if(e.listBox.itemswrapper&&t.target===e.listBox.itemswrapper[0])return!0;if(t.target&&t.target.className&&t.target.className.indexOf("jqx-fill-state-disabled")>=0)return!0;e.renderSelection("mouse"),e._oldvalue=e.listBox.selectedValue,e.touch||e.ishiding||e.checkboxes||(e.hideListBox("mouse"),e.input.focus()),!0===e.touch&&(e.checkboxes||e.hideListBox("mouse"))}}))},_selectOldValue:function(){var e=this;if(-1==e.listBox.selectedIndex)if(e.multiSelect)e.listBox.selectedValue=null,e.input.val("");else{var t=e.listBox.getItemByValue(e._oldvalue);t?setTimeout((function(){e.autoComplete&&e._updateItemsVisibility(""),e.listBox.selectIndex(t.index),e.renderSelection("api")}),e.closeDelay):(e.clearSelection(),e.listBox.selectIndex(0),e.renderSelection("api"))}else e.renderSelection("api")},removeHandlers:function(){if(null!=this.dropdownlistWrapper&&this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.dropdownlistContent&&(this.removeHandler(this.dropdownlistContent,"click"),this.removeHandler(this.dropdownlistContent,"focus")),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),null!=this.input&&(this.removeHandler(this.input,"focus"),this.removeHandler(this.input,"blur")),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(i(document),"mousemove."+this.id),this.listBoxContainer&&(this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.listBoxContainer,"select")),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.combobox"+this.element.id),this.dropdownlistArrowIcon&&this.dropdownlistArrow){var e="mousedown";this.touch&&(e=i.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistArrowIcon,e),this.removeHandler(this.dropdownlistArrow,e)}},getItem:function(e){return this.listBox.getItem(e)},getItemByValue:function(e){return this.listBox.getItemByValue(e)},getVisibleItem:function(e){return this.listBox.getVisibleItem(e)},renderSelection:function(e){if(null!=e&&"none"!=e&&!0!==this._disableSelection&&null!=this.listBox&&!this.multiSelect){var t=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.autoComplete&&!this.checkboxes&&void 0!==this.listBox.selectedValue&&(t=this.getItemByValue(this.listBox.selectedValue)),this.checkboxes){var r=this.getCheckedItems();t=null!=r&&r.length>0?r[0]:null}if(this.hint&&(this.label[0].innerHTML=this.placeHolder),null!=t?this.hint&&this.element.setAttribute("hint",!0):this.element.removeAttribute("hint"),this.bar.css("top",this.host.height()),null==t){var n=i.jqx.browser.msie&&i.jqx.browser.version<8;return this.input.val(""),this.input.attr("value",""),n||(this.isMaterialized()?(this.label[0].innerHTML=this.placeHolder,this.input.removeAttr("placeholder")):this.input.attr("placeholder",this.placeHolder)),void this._updateInputSelection()}this.selectedIndex=this.listBox.selectedIndex;var s=i("<span></span>");if(null!=t.label&&null!=t.label&&t.label.toString().length>0?i.jqx.utilities.html(s,t.label):null!=t.value&&null!=t.value&&t.value.toString().length>0?i.jqx.utilities.html(s,t.value):null!=t.title&&null!=t.title&&t.title.toString().length>0?i.jqx.utilities.html(s,t.title):i.jqx.utilities.html(s,this.emptyString),s.outerHeight(),this.checkboxes){for(var o=this.getCheckedItems(),a="",l=0;l<o.length;l++)a+=l==o.length-1?o[l].label:o[l].label+", ";this.input.val(a)}else this.input.val(s.text());if(s.remove(),this._updateInputSelection(),this.renderSelectedItem){var d=this.renderSelectedItem(this.listBox.selectedIndex,t);null!=d&&(this.input[0].value=d)}this.input.attr("value",this.input.val()),this.listBox&&this.listBox._activeElement&&i.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id)}},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(e){this.selectedIndex=-1,this.listBox.clearSelection(),this.input.val(""),this.multiSelect&&(this.listBox.selectedValue="",this.selectedItems=new Array,this._selectedItems=new Array,this.doMultiSelect(!1))},unselectIndex:function(e,t){if(!isNaN(e)&&(this.autoComplete&&this._updateItemsVisibility(""),this.listBox.unselectIndex(e,t),this.renderSelection("mouse"),this.multiSelect)){if(e>=0){var i=this.getItem(e),r=this.selectedItems.indexOf(i.value);r>=0&&(i.value===this.listBox.selectedValue&&(this.listBox.selectedValue=null),this.selectedItems.splice(r,1),this._selectedItems.splice(r,1))}this.doMultiSelect(!1)}},selectIndex:function(e,t,i,r){this.autoComplete&&this._updateItemsVisibility(""),this.listBox.selectIndex(e,t,i,r),this.renderSelection("mouse"),this.selectedIndex=e,this.multiSelect&&this.doMultiSelect()},selectItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),null!=this.listBox&&(this.listBox.selectedIndex=-1,this.listBox.selectItem(e),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"),this.multiSelect&&this.doMultiSelect(!1))},unselectItem:function(e){if(this.autoComplete&&this._updateItemsVisibility(""),null!=this.listBox&&(this.listBox.unselectItem(e),this.renderSelection("mouse"),this.multiSelect)){var t=this.getItemByValue(e);if(t){var i=this.selectedItems.indexOf(t.value);i>=0&&(t.value===this.listBox.selectedValue&&(this.listBox.selectedValue=null),this.selectedItems.splice(i,1),this._selectedItems.splice(i,1))}this.doMultiSelect(!1)}},checkItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),null!=this.listBox&&this.listBox.checkItem(e)},uncheckItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),null!=this.listBox&&this.listBox.uncheckItem(e)},indeterminateItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),null!=this.listBox&&this.listBox.indeterminateItem(e)},getSelectedValue:function(){return this.listBox.selectedValue},getSelectedIndex:function(){return this.multiSelect?this.remoteAutoComplete&&this.multiSelect&&this._selectedItems.length>0||this._selectedItems&&this._selectedItems.length>0?this.getSelectedItems()[0].index:void 0:this.listBox.selectedIndex},getSelectedItem:function(){return this.multiSelect?this.remoteAutoComplete&&this.multiSelect&&this._selectedItems.length>0||this._selectedItems&&this._selectedItems.length>0?this.getSelectedItems()[0]:null:this.getVisibleItem(this.listBox.selectedIndex)},getSelectedItems:function(){if(this.remoteAutoComplete&&this.multiSelect)return this._selectedItems;var e=new Array,t=this;return i.each(this.selectedItems,(function(){var i;((i=t.getItemByValue(this))||(i=t._selectedItems[this]))&&e.push(i)})),e},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(e){this.listBox.checkIndex(e)},uncheckIndex:function(e){this.listBox.uncheckIndex(e)},indeterminateIndex:function(e){this.listBox.indeterminateIndex(e)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},insertAt:function(e,t){return null!=e&&this.listBox.insertAt(e,t)},addItem:function(e){return this.listBox.addItem(e)},removeAt:function(e){var t=this.listBox.removeAt(e);return this.renderSelection("mouse"),t},removeItem:function(e){var t=this.listBox.removeItem(e);return this.renderSelection("mouse"),t},updateItem:function(e,t){var i=this.listBox.updateItem(e,t);return this.renderSelection("mouse"),i},updateAt:function(e,t){var i=this.listBox.updateAt(e,t);return this.renderSelection("mouse"),i},ensureVisible:function(e){return this.listBox.ensureVisible(e)},disableAt:function(e){var t=this.getVisibleItem(e);return t&&this._disabledItems.push(t.value),this.listBox.disableAt(e)},enableAt:function(e){var t=this.getVisibleItem(e);return t&&this._disabledItems.splice(this._disabledItems.indexOf(t.value),1),this.listBox.enableAt(e)},disableItem:function(e){return(e=this.getVisibleItem(e))&&this._disabledItems.push(e.value),this.listBox.disableItem(e)},enableItem:function(e){return(e=this.getVisibleItem(e))&&this._disabledItems.splice(this._disabledItems.indexOf(e.value),1),this.listBox.enableItem(e)},_findPos:function(e){for(;e&&("hidden"==e.type||1!=e.nodeType||i.expr.filters.hidden(e));)e=e.nextSibling;if(e){var t=i(e).coord(!0);return[t.left,t.top]}},testOffset:function(e,t,r){var n=e.outerWidth(),s=e.outerHeight(),o=i(window).width()+i(window).scrollLeft(),a=i(window).height()+i(window).scrollTop();if(t.left+n>o&&n>this.host.width()){var l=this.host.coord().left,d=n-this.host.width();t.left=l-d+2}return t.left<0&&(t.left=parseInt(this.host.coord().left)+"px"),t.top-=Math.min(t.top,t.top+s>a&&a>s?Math.abs(s+r+23):0),t},open:function(){this.isOpened()||this.opening||this.showListBox("api")},close:function(){this.isOpened()&&this.hideListBox("api")},_getBodyOffset:function(){var e=0,t=0;return"0px"!=i("body").css("border-top-width")&&(e=parseInt(i("body").css("border-top-width")),isNaN(e)&&(e=0)),"0px"!=i("body").css("border-left-width")&&(t=parseInt(i("body").css("border-left-width")),isNaN(t)&&(t=0)),{left:t,top:e}},showListBox:function(e){if(!this.listBox.items||0!=this.listBox.items.length){if("search"!=e||this.autoComplete||this.remoteAutoComplete||this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),this.element.setAttribute("opened",!0),(this.autoComplete||this.multiSelect&&!this.remoteAutoComplete)&&"search"!=e&&(this._updateItemsVisibility(""),this.multiSelect))for(var t=this.getVisibleItems(),r=0;r<t.length;r++)if(!t[r].disabled){this.ensureVisible(r);break}var n;this.remoteAutoComplete&&this.listBox.clearSelection(),"search"!=e&&(this._oldvalue=this.listBox.selectedValue),i.jqx.aria(this,"aria-expanded",!0),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&-1!=this.width.indexOf("%")&&this.listBox.host.width()!=this.host.width()&&(this.listBoxContainer.jqxListBox({width:n=this.element.offsetWidth}),this.listBoxContainer[0].style.width=n+"px",this.container.width(parseInt(n)+25)),"auto"==this.dropDownWidth&&"0px"===this.host.css("border-left-width")&&(this.listBoxContainer.jqxListBox({width:(n=this.element.offsetWidth)+1}),this.container.width(parseInt(n)+25));var s,o=this,a=this.listBoxContainer,l=this.listBox,d=(i(window).scrollTop(),i(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),h=parseInt(Math.round(this.host.coord(!0).left));s=h+"px","element"===this.dropDownContainer&&(d=parseInt(this.host.outerHeight())-1+"px",s=0);var u=i.jqx.mobile.isSafariMobileBrowser()||i.jqx.mobile.isWindowsPhone();this.ishiding=!1,(i.jqx.utilities.hasTransform(this.host)||null!=u&&u)&&(s=i.jqx.mobile.getLeftPos(this.element),d=i.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=i("body").css("border-top-width")&&(d=parseInt(d)-this._getBodyOffset().top+"px"),"0px"!=i("body").css("border-left-width")&&(s=parseInt(s)-this._getBodyOffset().left+"px")),this.host.addClass(this.toThemeProperty("jqx-combobox-state-selected")),this.dropdownlistArrowIcon.addClass(this.toThemeProperty("top"==this.dropDownVerticalAlignment?"jqx-icon-arrow-up-selected":"jqx-icon-arrow-down-selected")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-combobox-arrow-selected")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.host.addClass(this.toThemeProperty("jqx-combobox-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content-focus")),this.container.css("left",s),this.container.css("top",d),l._arrange();var c=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var p=this.container.outerWidth(),f=Math.abs(p-this.host.width());p>this.host.width()?this.container.css("left",25+parseInt(Math.round(h))-f+"px"):this.container.css("left",25+parseInt(Math.round(h))+f+"px")}if("top"==this.dropDownVerticalAlignment){var m=a.height();c=!0,a.css("top",23),a.addClass(this.toThemeProperty("jqx-popup-up"));var g=parseInt(this.host.outerHeight()),v=parseInt(d)-Math.abs(m+g+23);this.container.css("top",v)}if(this.enableBrowserBoundsDetection){var w=this.testOffset(a,{left:parseInt(this.container.css("left")),top:parseInt(d)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=w.top?(c=!0,a.css("top",23),a.addClass(this.toThemeProperty("jqx-popup-up"))):a.css("top",0),this.container.css("top",w.top),this.container.css("top",w.top),parseInt(this.container.css("left"))!=w.left&&this.container.css("left",w.left)}if("none"==this.animationType)this.container.css("display","block"),i.data(document.body,"openedCombojqxListBoxParent",o),i.data(document.body,"openedCombojqxListBox"+o.element.id,a),a.css("margin-top",0),a.css("opacity",1);else{this.container.css("display","block");var y=a.outerHeight();a.stop(),"fade"==this.animationType?(a.css("margin-top",0),a.css("opacity",0),a.animate({opacity:1},this.openDelay,(function(){o.isanimating=!1,o.opening=!1,i.data(document.body,"openedCombojqxListBoxParent",o),i.data(document.body,"openedCombojqxListBox"+o.element.id,a)}))):(a.css("opacity",1),a.css("margin-top",c?y:-y),this.isanimating=!0,this.opening=!0,a.animate({"margin-top":0},this.openDelay,(function(){o.isanimating=!1,o.opening=!1,i.data(document.body,"openedCombojqxListBoxParent",o),i.data(document.body,"openedCombojqxListBox"+o.element.id,a)})))}l._renderItems(),c?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),a.addClass(this.toThemeProperty("jqx-rc-b-expanded")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-t-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),a.addClass(this.toThemeProperty("jqx-rc-t-expanded")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-b-expanded"))),a.addClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("0",l)}},doMultiSelect:function(e){this.checkboxes&&(this.multiSelect=!1);var t=this;if(!this.multiSelect){var r=t.dropdownlistContent.find(".jqx-button"),n="mousedown";if(this.touch&&(n=i.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(r,n),this.removeHandler(r.find(".jqx-icon-close"),n),r.remove(),!(a=this.listBox.items))return;for(var s=0;s<a.length;s++)a[s].disabled=!1;return this.listBox._renderItems(),this.selectedItems=new Array,void(this._selectedItems=new Array)}if(!this.validateSelection||this.validateSelection(this.listBox.selectedValue)){if(this.listBox.selectedValue){if(-1===this.selectedItems.indexOf(this.listBox.selectedValue)){var o=this.getItemByValue(this.listBox.selectedValue);o&&o.visible&&(this.selectedItems.push(this.listBox.selectedValue),this._selectedItems.push(o),this._raiseEvent("2",{index:o.index,item:o}),this._raiseEvent("4",{index:o.index,item:o}))}this.listBox.selectedIndex=0}if(a=this.listBox.items){for(s=0;s<a.length;s++)a[s].disabled=!1,(this.selectedItems.indexOf(a[s].value)>=0||this._disabledItems.indexOf(this.value)>=0)&&(a[s].disabled=!0);this.listBox._renderItems(),this.searchString="",this.input.val("");var a="";n="mousedown",r=t.dropdownlistContent.find(".jqx-button"),this.touch&&(n=i.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(r,n),this.removeHandler(r.find(".jqx-icon-close"),n),r.remove(),t.input.detach(),this.selectedItems.length>0?(t.input.css("width","25px"),this.isMaterialized()&&t.hint?t.label[0].innerHTML=this.placeHolder:t.input.attr("placeholder","")):(t.input.css("width","100%"),t.isMaterialized()&&t.hint?t.label[0].innerHTML=this.placeHolder:t.input.attr("placeholder",this.placeHolder)),t.isMaterialized()&&t.hint&&setTimeout((function(){0===t.selectedItems.length?(t.element.removeAttribute("hint"),t.label[0].innerHTML=t.placeHolder):t.hint&&t.element.setAttribute("hint",!0)})),i.each(this.selectedItems,(function(e){var r=t.getItemByValue(this);r&&!t.remoteAutoComplete||(r=t._selectedItems[e]);var n=i('<div style="overflow: hidden; float: left;"></div>');if(n.addClass(t.toThemeProperty("jqx-button")),n.addClass(t.toThemeProperty("jqx-combobox-multi-item")),n.addClass(t.toThemeProperty("jqx-fill-state-normal")),n.addClass(t.toThemeProperty("jqx-rc-all")),r){var s=r.label;if(t.renderSelectedItem){var o=t.renderSelectedItem(e,r);o&&(s=o)}""==n[0].innerHTML&&(n[0].innerHTML='<a data-value="'+r.value+'" style="float: left;" href="#">'+s+"</a>"),t.rtl&&(n[0].innerHTML='<a data-value="'+r.value+'" style="float: right;" href="#">'+s+"</a>");var a=t.rtl?"left":"right";if(t.showCloseButtons){var l='<div style="position: relative; overflow: hidden; float: '+a+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+t.toThemeProperty("jqx-icon-close")+'"></div></div>';i.jqx.browser.msie&&i.jqx.browser.version<8&&(l='<div style="position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+t.toThemeProperty("jqx-icon-close")+'"></div></div>'),t.rtl&&(l='<div style="position: relative; overflow: hidden; float: '+a+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+t.toThemeProperty("jqx-icon-close")+'"></div></div>',i.jqx.browser.msie&&i.jqx.browser.version<8&&(l='<div style="position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+t.toThemeProperty("jqx-icon-close")+'"></div></div>')),n[0].innerHTML+=l}}else""==n[0].innerHTML&&(n[0].innerHTML='<a href="#"></a>');t.dropdownlistContent.append(n)})),t.dropdownlistContent.append(t.input),t.input.val(""),!1!==e&&(t.input.focus(),setTimeout((function(){t.input.focus()}),10)),r=t.dropdownlistContent.find(".jqx-button"),!0===this.touchMode&&(n="mousedown"),this.addHandler(r,n,(function(e){if(e.target.className.indexOf("jqx-icon-close")>=0)return!0;if(t.disabled)return!0;var r=i(e.target).attr("data-value");return t.getItemByValue(r)&&(t.listBox.selectedValue=null,t.listBox.clearSelection()),t.listBox.scrollTo(0,0),t.open(),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1})),this.addHandler(r.find(".jqx-icon-close"),n,(function(e){if(!t.disabled){var r=i(e.target).parent().parent().find("a").attr("data-value"),n=t.getItemByValue(r);if(n||t.remoteAutoComplete&&!n&&t.selectedItems.indexOf(r)>=0){t.listBox.selectedValue=null;var s=t.selectedItems.indexOf(r),o=n&&n.index>=0?n.index:s;if(s>=0)t.selectedItems.splice(s,1),(l=t._selectedItems[s])||(l=n),t._selectedItems.splice(s,1),t._raiseEvent("3",{index:o,type:"mouse",item:l}),t._raiseEvent("4",{index:o,type:"mouse",item:l}),t.doMultiSelect();else for(var a=0;a<t.selectedItems.length;a++){var l;if((l=t.selectedItems[a])==r){t.selectedItems.splice(a,1),t._selectedItems.splice(a,1),t._raiseEvent("3",{index:o,type:"mouse",item:n}),t._raiseEvent("4",{index:o,type:"mouse",item:n}),t.doMultiSelect();break}}}}})),this.isMaterialized()&&this.host.height(this.dropdownlistContent.height()),this.bar.css("top",this.host.height()),t.dropdownlistArrow.height(this.host.height()),t._updateInputSelection()}}},hideListBox:function(e){var t=this.listBoxContainer,r=this.listBox,n=this.container;if("none"!=this.container[0].style.display){this.element.setAttribute("opened",!1),i.jqx.aria(this,"aria-expanded",!1),"keyboard"!=e&&"mouse"!=e||(this.listBox.searchString=""),("keyboard"==e||"mouse"==e&&this.multiSelect)&&this.doMultiSelect();var s=this;if(i.data(document.body,"openedCombojqxListBox"+this.element.id,null),"none"==this.animationType)this.opening=!1,this.container.css("display","none");else if(!this.ishiding){var o=t.outerHeight();t.css("margin-top",0),t.stop(),this.opening=!1,this.isanimating=!0;var a=-o;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(a=o),"fade"==this.animationType?(t.css({opacity:1}),t.animate({opacity:0},this.closeDelay,(function(){s.isanimating=!1,n.css("display","none"),s.ishiding=!1}))):t.animate({"margin-top":a},this.closeDelay,(function(){s.isanimating=!1,n.css("display","none"),s.ishiding=!1}))}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-combobox-state-selected")),this.dropdownlistArrowIcon.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.dropdownlistArrowIcon.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-combobox-arrow-selected")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.focused||(this.host.removeClass(this.toThemeProperty("jqx-combobox-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistContent.removeClass(this.toThemeProperty("jqx-combobox-content-focus"))),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),this._raiseEvent("1",r)}},closeOpenedListBox:function(e){var t=e.data.that,r=i(e.target),n=e.data.listbox;if(null==n)return!0;if(!i(e.target).ischildof(t.host)){var s=!1;return i.each(r.parents(),(function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return s=!0,!1;if(-1!=this.className.indexOf("jqx-combobox"))return t.element.id==this.id&&(s=!0),!1}})),null==n||s||t.isOpened()&&(t.hideListBox("api"),t.input.blur()),!0}},loadFromSelect:function(e){this.listBox.loadFromSelect(e),this.clearSelection()},refresh:function(e){this._setSize(),this._arrange(),this.listBox&&this.renderSelection()},resize:function(){this._setSize(),this._arrange()},_arrange:function(){var e=parseInt(this.host.width()),t=parseInt(this.host.height()),r=this.arrowSize,n=1;this.showArrow?"none"===this.dropdownlistArrow[0].style.display&&this.dropdownlistArrow.show():(r=0,this.dropdownlistArrow.hide(),n=0,this.host.css("cursor","arrow"));var s=e-r-1*n;s>0&&(this.dropdownlistContent[0].style.width=s+"px"),this.rtl&&(this.dropdownlistContent[0].style.width=-1+s+"px"),this.dropdownlistContent[0].style.height=t+"px",this.dropdownlistContent[0].style.left="0px",this.dropdownlistContent[0].style.top="0px",this.dropdownlistArrow[0].style.width=r+"px",this.dropdownlistArrow[0].style.height=t+"px",this.dropdownlistArrow[0].style.left=1+s+"px",this.input[0].style.width="100%",this.multiSelect||this.input.height(t);var o=this.input.height();0==o&&(o=parseInt(this.input.css("font-size"))+3),-1==this.input[0].className.indexOf("jqx-rc-all")&&this.input.addClass(this.toThemeProperty("jqx-rc-all"));var a=parseInt(t)/2-parseInt(o)/2;if(this.rtl&&(this.dropdownlistArrow.css("left","0px"),this.dropdownlistContent.css("left",this.dropdownlistArrow.width()),i.jqx.browser.msie&&i.jqx.browser.version<=8&&this.dropdownlistContent.css("left",1+this.dropdownlistArrow.width())),this.multiSelect){this.input.css("float","left"),this.input.width(25),this.dropdownlistWrapper.parent().css("height","auto"),this.dropdownlistContent.css("height","auto"),this.dropdownlistWrapper.css("height","auto"),this.dropdownlistContent.css("position","relative"),this.dropdownlistContent.css("cursor","text"),this.host.css("height","auto"),this.host.css("min-height",this.height),this.dropdownlistContent.css("min-height",this.height),t=parseInt(this.host.height()),this.dropdownlistArrow.height(t);var l=parseInt(this.host.css("min-height"));(a=parseInt(l)/2-parseInt(o)/2)>0&&this.input.css("margin-top",a),this.isMaterialized()&&this.host.height(this.dropdownlistContent.height()),this.bar.css("top",this.host.height()),this.dropdownlistArrow.height(this.host.height())}},destroy:function(){this.source&&this.source.unbindBindingUpdate&&(this.source.unbindBindingUpdate(this.element.id),this.source.unbindBindingUpdate(this.listBoxContainer[0].id),this.source.unbindDownloadComplete(this.element.id),this.source.unbindDownloadComplete(this.listBoxContainer[0].id)),i.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandlers(),this.removeHandler(this.input,"keyup.textchange"),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(i(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(i(document),i.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.cinput.remove(),delete this.cinput,this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,this.dropdownlistArrowIcon.remove(),delete this.dropdownlistArrowIcon,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.dropdownlistContent,delete this.comboStructure,this.container.remove(),delete this.listBox,delete this.container;var e=i.data(this.element,"jqxComboBox");e&&delete e.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_raiseEvent:function(e,t){null==t&&(t={owner:null});var r=this.events[e];t.owner=this;var n=new i.Event(r);return n.owner=this,2!=e&&3!=e&&4!=e&&5!=e&&6!=e&&7!=e&&8!=e&&9!=e||(n.args=t),this.host.trigger(n)},propertiesChangedHandler:function(e,t,i){if(i.width&&i.height&&2==Object.keys(i).length){if(e._setSize(),"width"==t&&"auto"==e.dropDownWidth){var r=e.host.width();e.listBoxContainer.jqxListBox({width:r}),e.container.width(parseInt(r)+25)}e._arrange(),e.close()}},propertyChangedHandler:function(e,t,r,n){if(null!=e.isInitialized&&0!=e.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)){if("template"==t){e.listBoxContainer.removeClass(e.toThemeProperty("jqx-"+r+"-item")),e.listBoxContainer.addClass(e.toThemeProperty("jqx-"+e.template+"-item")),e.dropDownListArrow.removeClass(e.toThemeProperty("jqx-"+r)),e.dropDownListArrow.addClass(e.toThemeProperty("jqx-"+e.template));var s=this;s.bar.removeClass(s.toThemeProperty("jqx-"+r)),s.label.removeClass(s.toThemeProperty("jqx-"+r)),s.bar.addClass(s.toThemeProperty("jqx-"+s.template)),s.label.addClass(s.toThemeProperty("jqx-"+s.template))}if("dropDownVerticalAlignment"==t&&(e.close(),e.dropdownlistArrowIcon.removeClass(e.toThemeProperty("jqx-icon-arrow-up")),e.dropdownlistArrowIcon.removeClass(e.toThemeProperty("jqx-icon-arrow-down")),e.dropdownlistArrowIcon.addClass(e.toThemeProperty("top"==e.dropDownVerticalAlignment?"jqx-icon-arrow-up":"jqx-icon-arrow-down")),e.listBoxContainer.css("top",0),e.listBoxContainer.removeClass(this.toThemeProperty("jqx-popup-up"))),"autoItemsHeight"==t&&e.listBoxContainer.jqxListBox({autoItemsHeight:n}),"itemHeight"==t&&e.listBoxContainer.jqxListBox({itemHeight:n}),"renderSelectedItem"==t&&e.renderSelection("mouse"),"renderer"==t&&e.listBoxContainer.jqxListBox({renderer:n}),"enableSelection"==t&&e.listBoxContainer.jqxListBox({enableSelection:n}),"enableHover"==t&&e.listBoxContainer.jqxListBox({enableHover:n}),"touchMode"===t&&(e.listBoxContainer.jqxListBox({touchMode:n}),e.touch=i.jqx.mobile.isTouchDevice(),!0===e.touchMode&&(e.touch=!0),e._updateHandlers()),"multiSelect"==t)if(n)e.doMultiSelect(!1);else{for(var o=e.listBox.items,a=-1,l=0;l<o.length;l++)o[l].disabled=!1,(e.selectedItems.indexOf(o[l].value)>=0||e._disabledItems.indexOf(e.value)>=0)&&(o[l].disabled=!0,a=o[l].index);if(e.doMultiSelect(!1),e.listBox._renderItems(),!o)return;e.listBox.selectedIndex=a,e.renderSelection("mouse"),e.dropdownlistWrapper.parent().css("height","100%"),e.dropdownlistContent.css("height","100"),e.dropdownlistWrapper.css("height","100"),e.dropdownlistContent.css("position","relative"),e.host.css("min-height",null),e._setSize(),e._arrange()}if("showArrow"==t&&(e._arrange(),e.multiSelect&&e.doMultiSelect(!1)),"placeHolder"==t&&(e.isMaterialized()?e.label.innerHTML=e.placeHolder:e.input.attr("placeholder",e.placeHolder)),"popupZIndex"==t&&e.listBoxContainer.css({zIndex:e.popupZIndex}),"promptText"==t&&(e.placeHolder=n),"autoOpen"==t&&e._updateHandlers(),"renderer"==t&&(e.listBox.renderer=e.renderer),"itemHeight"==t&&(e.listBox.itemHeight=n),"source"==t&&(e.input.val(""),e.listBoxContainer.jqxListBox({source:e.source}),e.renderSelection("mouse"),null==e.source&&e.clearSelection(),e.multiSelect&&(e.selectedItems=new Array,e._selectedItems=new Array,e.doMultiSelect(!1))),"rtl"==t&&(n?(e.dropdownlistArrow.css("float","left"),e.dropdownlistContent.css("float","right")):(e.dropdownlistArrow.css("float","right"),e.dropdownlistContent.css("float","left")),e.listBoxContainer.jqxListBox({rtl:e.rtl})),"displayMember"!=t&&"valueMember"!=t||(e.listBoxContainer.jqxListBox({displayMember:e.displayMember,valueMember:e.valueMember}),e.renderSelection("mouse")),"autoDropDownHeight"==t&&(e.listBoxContainer.jqxListBox({autoHeight:e.autoDropDownHeight}),e.autoDropDownHeight?e.container.height(e.listBoxContainer.height()+25):(e.listBoxContainer.jqxListBox({height:e.dropDownHeight}),e.container.height(parseInt(e.dropDownHeight)+25)),e.listBox._arrange(),e.listBox._updatescrollbars()),"dropDownHeight"==t&&(e.autoDropDownHeight||(e.listBoxContainer.jqxListBox({height:e.dropDownHeight}),e.container.height(parseInt(e.dropDownHeight)+25))),"dropDownWidth"==t||"scrollBarSize"==t){var d=e.width;"auto"!=e.dropDownWidth&&(d=e.dropDownWidth),e.listBoxContainer.jqxListBox({width:d,scrollBarSize:e.scrollBarSize}),e.container.width(parseInt(d)+25)}"autoComplete"==t&&e._resetautocomplete(),"checkboxes"==t&&(e.listBoxContainer.jqxListBox({checkboxes:e.checkboxes}),e.checkboxes?(e.input.attr("readonly",!0),i.jqx.aria(e,"aria-readonly",!0)):i.jqx.aria(e,"aria-readonly",!1)),"theme"==t&&null!=n&&(e.listBoxContainer.jqxListBox({theme:n}),e.listBoxContainer.addClass(e.toThemeProperty("jqx-popup")),i.jqx.browser.msie&&e.listBoxContainer.addClass(e.toThemeProperty("jqx-noshadow")),i.jqx.utilities.setTheme(r,n,e.host)),"rtl"==t&&(e.render(),e.refresh()),("width"==t||"height"==t)&&(e._setSize(),"width"==t&&"auto"==e.dropDownWidth&&(d=e.host.width(),e.listBoxContainer.jqxListBox({width:d}),e.container.width(parseInt(d)+25)),e._arrange(),e.close()),"selectedIndex"==t&&(e.listBox.selectIndex(n),e.renderSelection("mouse"))}}})},OO9A:function(e,t){var i;(i=jqxBaseFramework).jqx.jqxWidget("jqxCheckBox","",{}),i.extend(i.jqx._jqxCheckBox.prototype,{defineInstance:function(){var e={animationShowDelay:300,animationHideDelay:300,width:null,height:null,boxSize:"16px",checked:!1,hasThreeStates:!1,disabled:!1,enableContainerClick:!0,locked:!1,groupName:"",keyboardCheck:!0,enableHover:!0,hasInput:!0,rtl:!1,updated:null,disabledContainer:!1,changeType:null,_canFocus:!0,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["checked","unchecked","indeterminate","change"]};return this===i.jqx._jqxCheckBox.prototype||i.extend(!0,this,e),e},createInstance:function(e){this._createFromInput("CheckBox"),this.render()},_createFromInput:function(e){var t=this;if("input"==t.element.nodeName.toLowerCase()){t.field=t.element,t.field.className&&(t._className=t.field.className);var r={title:t.field.title};t.field.value&&(r.value=t.field.value),t.field.checked&&(r.checked=!0),r.id=t.field.id.length?t.field.id.replace(/[^\w]/g,"_")+"_"+e:i.jqx.utilities.createId()+"_"+e;var n=t.element.nextSibling,s=!1;!n||"#text"!=n.nodeName&&"span"!=n.nodeName||(s=!0);var o=0,a=i("<div></div>",r);if(s){a.append(n);var l=i("<span>"+i(n).text()+"</span>");l.appendTo(i(document.body)),o+=l.width(),l.remove()}a[0].style.cssText=t.field.style.cssText,t.width||(t.width=i(t.field).width()+o+10),t.height||(t.height=i(t.field).outerHeight()+10),i(t.field).hide().after(a);var d=t.host.data();if(t.host=a,t.host.data(d),t.element=a[0],t.element.id=t.field.id,t.field.id=r.id,t._className&&(t.host.addClass(t._className),i(t.field).removeClass(t._className)),t.field.tabIndex){var h=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=h}}},_addInput:function(){if(this.hasInput){this.input&&this.input.remove();var e=this.host.attr("name");this.input=i("<input type='hidden'/>"),this.host.append(this.input),e&&this.input.attr("name",e),this.input.val(this.checked),this.host.attr("role","checkbox"),i.jqx.aria(this)}},render:function(){this.init=!0;var e=this;this.setSize(),this.propertyChangeMap.width=function(t,i,r,n){e.setSize()},this.propertyChangeMap.height=function(t,i,r,n){e.setSize()},this._removeHandlers(),this.width||this.host.css("overflow-x","visible"),this.height||this.host.css("overflow-y","visible"),this.checkbox&&(this.checkbox.remove(),this.checkbox=null),this.checkMark&&(this.checkMark.remove(),this.checkMark=null),this.box&&(this.box.remove(),this.box=null),this.clear&&(this.clear.remove(),this.clear=null),null==this.boxSize&&(this.boxSize=16);var t=parseInt(this.boxSize)+"px",r="16px",n=Math.floor((parseInt(this.boxSize)-16)/2),s=n;n+="px",s+="px",this.checkbox=16!=parseInt(this.boxSize)?i('<div><div style="width: '+t+"; height: "+t+';"><span style="position: relative; left: '+n+"; top: "+s+"; width: "+r+"; height: "+r+';"></span></div></div>'):i('<div><div style="width: '+t+"; height: "+t+';"><span style="width: '+t+"; height: "+t+';"></span></div></div>'),this.host.prepend(this.checkbox),this.disabledContainer||(this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.clear=i('<div style="clear: both;"></div>'),this.host.append(this.clear)),this.checkMark=i(this.checkbox[0].firstChild.firstChild),this.box=this.checkbox,this.box.addClass(this.toThemeProperty("jqx-checkbox-default")+" "+this.toThemeProperty("jqx-fill-state-normal")+" "+this.toThemeProperty("jqx-rc-all")),this.disabled&&this.disable(),this.disabledContainer||(this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-checkbox"))),this.locked&&!this.disabledContainer&&this.host.css("cursor","auto");var o=this.element.getAttribute("checked");"checked"!=o&&"true"!=o&&1!=o||(this.checked=!0),this._addInput(),this._render(),this._addHandlers(),this.init=!1,this._centerBox(),this.isMaterialized()&&(i(this.checkbox).addClass("ripple"),i.jqx.ripple(i(this.checkbox),this.host,"checkbox"))},_centerBox:function(){if(this.height&&-1==this.height.toString().indexOf("%")&&this.box){var e=parseInt(this.height);this.host.css("line-height",e+"px");var t=e-parseInt(this.boxSize)-1;this.box.css("margin-top",parseInt(t/=2))}},refresh:function(e){e||(this.setSize(),this._render())},resize:function(e,t){this.width=e,this.height=t,this.refresh()},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.element.style.width=this.width):this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.element.style.height=this.height):this.host.height(this.height),this._centerBox()},_addHandlers:function(){var e=this,t="mousedown";i.jqx.mobile.isTouchDevice()&&(t=i.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.box,t,(function(t){if(!e.disabled&&!e.enableContainerClick&&!e.locked)return e.changeType="mouse",e.toggle(),e.updated&&(t.owner=e,e.updated(t,e.checked,e.oldChecked)),t.preventDefault&&t.preventDefault(),!1})),this.disabledContainer||(this.addHandler(this.host,"keydown",(function(t){if(!e.disabled&&!e.locked&&e.keyboardCheck&&32==t.keyCode)return!e._canFocus||(e.changeType="keyboard",e.toggle(),e.updated&&(t.owner=e,e.updated(t,e.checked,e.oldChecked)),t.preventDefault&&t.preventDefault(),!1)})),this.addHandler(this.host,t,(function(t){if(!e.disabled&&e.enableContainerClick&&!e.locked)return e.clickTime=new Date,e.changeType="mouse",e.toggle(),t.preventDefault&&t.preventDefault(),e._canFocus&&e.focus(),!1})),this.addHandler(this.host,"selectstart",(function(t){if(!e.disabled&&e.enableContainerClick)return t.preventDefault&&t.preventDefault(),!1})),this.addHandler(this.host,"mouseup",(function(t){!e.disabled&&e.enableContainerClick&&t.preventDefault&&t.preventDefault()})),this.addHandler(this.host,"focus",(function(t){if(!e.disabled&&!e.locked)return!e._canFocus||(e.enableHover&&e.box.addClass(e.toThemeProperty("jqx-checkbox-hover")),e.box.addClass(e.toThemeProperty("jqx-fill-state-focus")),t.preventDefault&&t.preventDefault(),i(e.checkbox).removeClass("active"),(!e.clickTime||e.clickTime&&new Date-e.clickTime>300)&&i(e.checkbox).addClass("active"),e.hovered=!0,!1)})),this.addHandler(this.host,"blur",(function(t){if(i(e.checkbox).removeClass("active"),!e.disabled&&!e.locked)return!e._canFocus||(e.enableHover&&e.box.removeClass(e.toThemeProperty("jqx-checkbox-hover")),e.box.removeClass(e.toThemeProperty("jqx-fill-state-focus")),t.preventDefault&&t.preventDefault(),e.hovered=!1,!1)})),this.addHandler(this.host,"mouseenter",(function(t){if(e.locked&&e.host.css("cursor","arrow"),e.enableHover&&!e.disabled&&e.enableContainerClick&&!e.locked)return e.box.addClass(e.toThemeProperty("jqx-checkbox-hover")),e.box.addClass(e.toThemeProperty("jqx-fill-state-hover")),t.preventDefault&&t.preventDefault(),e.hovered=!0,!1})),this.addHandler(this.host,"mouseleave",(function(t){if(e.enableHover&&!e.disabled&&e.enableContainerClick&&!e.locked)return e.box.removeClass(e.toThemeProperty("jqx-checkbox-hover")),e.box.removeClass(e.toThemeProperty("jqx-fill-state-hover")),t.preventDefault&&t.preventDefault(),e.hovered=!1,!1})),this.addHandler(this.box,"mouseenter",(function(){e.locked||e.disabled||e.enableContainerClick||(e.box.addClass(e.toThemeProperty("jqx-checkbox-hover")),e.box.addClass(e.toThemeProperty("jqx-fill-state-hover")))})),this.addHandler(this.box,"mouseleave",(function(){e.disabled||e.enableContainerClick||(e.box.removeClass(e.toThemeProperty("jqx-checkbox-hover")),e.box.removeClass(e.toThemeProperty("jqx-fill-state-hover")))})))},focus:function(){try{this.host.focus()}catch(e){}},_removeHandlers:function(){var e="mousedown";i.jqx.mobile.isTouchDevice()&&(e="touchend"),this.box&&(this.removeHandler(this.box,e),this.removeHandler(this.box,"mouseenter"),this.removeHandler(this.box,"mouseleave")),this.removeHandler(this.host,e),this.removeHandler(this.host,"mouseup"),this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus")},_render:function(){this.disabled?this.disable():this.enableContainerClick?this.host.css("cursor","pointer"):this.init||this.host.css("cursor","auto"),this.rtl&&(this.box.addClass(this.toThemeProperty("jqx-checkbox-rtl")),this.host.addClass(this.toThemeProperty("jqx-rtl"))),this.updateStates(),this.host.attr("checked",this.checked)},_setState:function(e,t){this.checked!=e&&(this.checked=e,this.checkMark[0].className=this.checked?this.toThemeProperty("jqx-checkbox-check-checked"):null==this.checked?this.toThemeProperty("jqx-checkbox-check-indeterminate"):""),!1!==t&&!0!==t||(this.locked=t),e?this.element.setAttribute("checked",!0):this.element.removeAttribute("checked")},val:function(e){return 0==arguments.length||null!=e&&"object"==typeof e||("string"==typeof e?("true"==e&&this.check(),"false"==e&&this.uncheck(),""==e&&this.indeterminate()):(1==e&&this.check(),0==e&&this.uncheck(),null==e&&this.indeterminate())),this.checked},check:function(){this.checked=!0;var e=this;if(this.checkMark.removeClass(),this.element.setAttribute("checked",!0),i.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,(function(){}))),null!=this.groupName&&this.groupName.length>0){var t=i.find(this.toThemeProperty(".jqx-checkbox",!0));i.each(t,(function(){i(this).jqxCheckBox("groupName")==e.groupName&&this!=e.element&&i(this).jqxCheckBox("uncheck")}))}var r=this.changeType;this._raiseEvent("0",{checked:!0}),this.changeType=r,this._raiseEvent("3",{checked:!0}),null!=this.input&&(this.input.val(this.checked),i.jqx.aria(this,"aria-checked",this.checked),this.host.attr("checked",this.checked))},uncheck:function(){this.checked=!1;var e=this;this.element.removeAttribute("checked"),i.jqx.browser.msie||0==this.animationHideDelay?""!=e.checkMark[0].className&&(e.checkMark[0].className=""):(this.checkMark.css("opacity",1),this.checkMark.stop().animate({opacity:0},this.animationHideDelay,(function(){""!=e.checkMark[0].className&&(e.checkMark[0].className="")})));var t=this.changeType;this._raiseEvent("1"),this.changeType=t,this._raiseEvent("3",{checked:!1}),null!=this.input&&(this.input.val(this.checked),i.jqx.aria(this,"aria-checked",this.checked),this.host.attr("checked",this.checked))},indeterminate:function(){this.checked=null,this.checkMark.removeClass(),i.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,(function(){}))),this._raiseEvent("2"),this._raiseEvent("3",{checked:null}),null!=this.input&&(this.input.val(this.checked),i.jqx.aria(this,"aria-checked","undefined"),this.host.attr("checked","undefined"))},toggle:function(){this.disabled||this.locked||(null!=this.groupName&&this.groupName.length>0?1!=this.checked&&(this.checked=!0,this.updateStates()):(this.oldChecked=this.checked,this.checked=1==this.checked?!!this.hasThreeStates&&null:null!=this.checked,this.updateStates(),null!=this.input&&this.input.val(this.checked)))},updateStates:function(){this.checked?this.check():0==this.checked?this.uncheck():null==this.checked&&this.indeterminate()},disable:function(){this.disabled=!0,1==this.checked?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.addClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled")),i.jqx.aria(this,"aria-disabled",this.disabled)},enable:function(){1==this.checked?this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.disabled=!1,i.jqx.aria(this,"aria-disabled",this.disabled)},destroy:function(){this.host.remove()},_raiseEvent:function(e,t){if(!this.init){var r=new i.Event(this.events[e]);r.owner=this,t||(t={}),t.type=this.changeType,this.changeType=null,r.args=t;try{var n=this.host.trigger(r)}catch(s){}return n}},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.setSize()},propertyChangedHandler:function(e,t,r,n){if(null!=this.isInitialized&&0!=this.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)){if("enableContainerClick"!=t||e.disabled||e.locked||e.host.css("cursor",n?"pointer":"auto"),"rtl"==t&&(n?(e.box.addClass(e.toThemeProperty("jqx-checkbox-rtl")),e.host.addClass(e.toThemeProperty("jqx-rtl"))):(e.box.removeClass(e.toThemeProperty("jqx-checkbox-rtl")),e.host.removeClass(e.toThemeProperty("jqx-rtl")))),"boxSize"==t&&e.render(),"theme"==t&&i.jqx.utilities.setTheme(r,n,e.host),"checked"==t&&n!=r)switch(n){case!0:e.check();break;case!1:e.uncheck();break;case null:e.indeterminate()}"disabled"==t&&n!=r&&(n?e.disable():e.enable())}}})},PDX0:function(e,t){(function(t){e.exports=t}).call(this,{})},QvPE:function(e,t){var i,r;(r=jqxBaseFramework).jqx.jqxWidget("jqxNumberInput","",{}),r.extend(r.jqx._jqxNumberInput.prototype,(_defineProperty(i={defineInstance:function(){var e={value:0,decimal:0,min:-99999999,max:99999999,width:200,validationMessage:"Invalid value",height:25,textAlign:"right",readOnly:!1,promptChar:"_",decimalDigits:2,decimalSeparator:".",groupSeparator:",",groupSize:3,symbol:"",symbolPosition:"left",digits:8,negative:!1,negativeSymbol:"-",disabled:!1,inputMode:"advanced",spinButtons:!1,spinButtonsWidth:18,spinButtonsStep:1,autoValidate:!0,spinMode:"advanced",enableMouseWheel:!0,touchMode:"auto",allowNull:!0,placeHolder:"",changeType:null,template:"",rtl:!1,hint:!0,events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","change"],aria:{"aria-valuenow":{name:"decimal",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},invalidArgumentExceptions:["invalid argument exception"]};return this===r.jqx._jqxNumberInput.prototype||r.extend(!0,this,e),e},createInstance:function(e){""===this.promptChar&&(this.promptChar=" ");var t=this.host.attr("value");null!=t&&(this.decimal=t),0===this.decimal&&(null!=this.value?this.decimal=this.value:null===this.value&&0!==this.decimal&&(this.value=this.decimal)),this._createFromInput("jqxNumberInput"),this.render()},_updateHint:function(){var e=this;e.hint&&e.isMaterialized()&&setTimeout((function(){0===e.numberInput[0].value.length?(e.element.removeAttribute("hint"),e.label&&e.label[0]&&(e.label[0].innerHTML=e.placeHolder)):e.element.setAttribute("hint",!0)}))},_createFromInput:function(e){var t=this;if("input"==t.element.nodeName.toLowerCase()){t.field=t.element,t.field.className&&(t._className=t.field.className);var i={title:t.field.title};if(t.field.value&&(t.decimal=parseFloat(t.field.value)),t.field.getAttribute("min")){var n=t.field.getAttribute("min");t.min=parseFloat(n)}if(t.field.getAttribute("step")){var s=t.field.getAttribute("step");t.spinButtonsStep=parseFloat(s)}if(t.field.getAttribute("max")){var o=t.field.getAttribute("max");t.max=parseFloat(o)}i.id=t.field.id.length?t.field.id.replace(/[^\w]/g,"_")+"_"+e:r.jqx.utilities.createId()+"_"+e;var a=r("<div></div>",i);a[0].style.cssText=t.field.style.cssText,t.width||(t.width=r(t.field).width()),t.height||(t.height=r(t.field).outerHeight()),r(t.field).hide().after(a);var l=t.host.data();if(t.host=a,t.host.data(l),t.element=a[0],t.element.id=t.field.id,t.field.id=i.id,t._className&&(t.host.addClass(t._className),r(t.field).removeClass(t._className)),t.field.tabIndex){var d=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=d}}},_doTouchHandling:function(){var e=this,t=e.savedValue;if(e.parsing||(e.parsing=!0),e.parsing){e.numberInput.val()&&0==e.numberInput.val().indexOf("-")?e.setvalue("negative",!0):e.setvalue("negative",!1);for(var i=e.numberInput.val(),r=0;r<i.length-1;r++){var n=i.substring(r,r+1);if(isNaN(parseFloat(n))&&-1===e.symbol.toString().indexOf(n)&&"%"!=n&&"$"!=n&&"."!=n&&","!=n&&"-"!=n)return e.numberInput[0].value=t,void(e.parsing=!1)}e.ValueString=e.GetValueString(e.numberInput.val(),e.decimalSeparator,""!=e.decimalSeparator),e._parseDecimalInSimpleMode(),e.decimal=e.ValueString,e.getvalue("negative")&&(e.decimal="-"+e.ValueString),e.parsing=!1}},render:function(){this.host.attr({role:"spinbutton"}),this.host.attr("data-role","input"),r.jqx.aria(this),r.jqx.aria(this,"aria-multiline",!1);var e=this;(this.officeMode||this.theme&&-1!=this.theme.indexOf("office"))&&18==this.spinButtonsWidth&&(this.spinButtonsWidth=15),(r.jqx.mobile.isTouchDevice()||!0===this.touchMode)&&(this.inputMode="textbox",this.spinMode="simple"),""==this.decimalSeparator&&(this.decimalSeparator=" "),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-numberinput")),this.spinButtons?this._spinButtons():(this.numberInput=r("<input style='border:none;' autocomplete='off' type='textarea'/>").appendTo(this.host),this.numberInput.addClass(this.toThemeProperty("jqx-input-content")),this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))),this.isMaterialized()||this.numberInput.attr("placeholder",this.placeHolder);var t=this.host.attr("name");t&&this.numberInput.attr("name",t),this.host.attr("tabindex")&&(this.numberInput.attr("tabindex",this.host.attr("tabindex")),this.host.removeAttr("tabindex")),(r.jqx.mobile.isTouchDevice()||!0===this.touchMode||"textbox"==this.inputMode)&&((e=this).savedValue="",this.addHandler(this.numberInput,"focus",(function(){e.savedValue=e.numberInput[0].value})),this.addHandler(this.numberInput,"change",(function(){e._doTouchHandling()}))),r.data(this.host[0],"jqxNumberInput").jqxNumberInput=this,e=this,this.host.parents("form").length>0&&this.addHandler(this.host.parents("form"),"reset",(function(){setTimeout((function(){e.setDecimal(0)}),10)})),this.propertyChangeMap.disabled=function(e,t,r,n){n?(e.numberInput.addClass(i.toThemeProperty("jqx-input-disabled")),e.numberInput.attr("disabled",!0)):(e.host.removeClass(i.toThemeProperty("jqx-input-disabled")),e.numberInput.attr("disabled",!1)),e.spinButtons&&e.host.jqxRepeatButton&&(e.upbutton.jqxRepeatButton({disabled:n}),e.downbutton.jqxRepeatButton({disabled:n}))},this.disabled&&(this.numberInput.addClass(this.toThemeProperty("jqx-input-disabled")),this.numberInput.attr("disabled",!0),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),this.selectedText="",this.decimalSeparatorPosition=-1;var i=this;this.oldValue=this._value(),this.items=new Array;var n=this.value,s=this.decimal;this._initializeLiterals(),this._render(),this.setDecimal(null!==n?s:null),e=this,setTimeout((function(){}),100),this._addHandlers(),r.jqx.utilities.resize(this.host,(function(){e._render()}))},refresh:function(e){e||this._render()},wheel:function(e,t){if(t.enableMouseWheel){t.changeType="mouse";var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var r=t._handleDelta(i);return e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation(),!!r&&(e.returnValue=r=!1,r)}e.preventDefault&&e.preventDefault(),e.returnValue=!1}},_handleDelta:function(e){return e<0?this.spinDown():this.spinUp(),!0},_addHandlers:function(){var e=this;this.addHandler(this.numberInput,"paste",(function(t){var i=e._selection();if(t.preventDefault(),t.originalEvent.clipboardData)var n=(t.originalEvent||t).clipboardData.getData("text/plain");else window.clipboardData&&(n=window.clipboardData.getData("Text"));this.selectedText=n,r.data(document.body,"jqxSelection",this.selectedText),"simple"!=e.inputMode?e._pasteSelectedText():e.val(n),setTimeout((function(){e._setSelectionStart(i.start)}))})),this.addHandler(this.numberInput,"mousedown",(function(t){return e._raiseEvent(2,t)})),this._mousewheelfunc=this._mousewheelfunc||function(t){if(!e.editcell)return e.wheel(t,e),!1},this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var t="";this.addHandler(this.numberInput,"focus",(function(i){r.data(e.numberInput,"selectionstart",e._selection().start),e.host.addClass(e.toThemeProperty("jqx-fill-state-focus")),e.spincontainer&&e.spincontainer.addClass(e.toThemeProperty("jqx-numberinput-focus")),t=e.numberInput.val(),e._savedValue=e.decimal})),this.addHandler(this.numberInput,"blur",(function(i){if("simple"==e.inputMode&&e._exitSimpleInputMode(i,e,!1,t),e.autoValidate){var n=parseFloat(e.decimal);e.getvalue("negative")&&e.decimal>0&&(n=-parseFloat(e.decimal)),n>e.max&&(e._disableSetSelection=!0,e.setDecimal(e.max),e._disableSetSelection=!1),n<e.min&&(e._disableSetSelection=!0,e.setDecimal(e.min),e._disableSetSelection=!1)}return e.host.removeClass(e.toThemeProperty("jqx-fill-state-focus")),e.spincontainer&&e.spincontainer.removeClass(e.toThemeProperty("jqx-numberinput-focus")),e.numberInput.val()!=t&&(e._raiseEvent(7,i),r.jqx.aria(e,"aria-valuenow",e.decimal),e.element.value=e.decimal),!0})),this.addHandler(this.numberInput,"mouseup",(function(t){return e._raiseEvent(3,t)})),this.addHandler(this.numberInput,"keydown",(function(t){return e.changeType="keyboard",e._raiseEvent(4,t)})),this.addHandler(this.numberInput,"keyup",(function(t){return e._raiseEvent(5,t)})),this.addHandler(this.numberInput,"keypress",(function(t){return e._raiseEvent(6,t)}))},focus:function(){try{this.numberInput.focus()}catch(e){}},_removeHandlers:function(){this.removeHandler(this.numberInput,"mousedown"),r.jqx.mobile.isOperaMiniMobileBrowser()&&this.removeHandler(r(document),"click."+this.element.id,this._exitSimpleInputMode,this),this.removeHandler(this.numberInput,"paste"),this.removeHandler(this.numberInput,"focus"),this.removeHandler(this.numberInput,"blur"),this.removeHandler(this.numberInput,"mouseup"),this.removeHandler(this.numberInput,"keydown"),this.removeHandler(this.numberInput,"keyup"),this.removeHandler(this.numberInput,"keypress")},_spinButtons:function(){if(!this.host.jqxRepeatButton)throw new Error("jqxNumberInput: Missing reference to jqxbuttons.js.");this.numberInput?this.numberInput.css("float","left"):(this.numberInput=r("<input autocomplete='off' style='border: none; position: relative; float: left;' type='textarea'/>"),this.numberInput.appendTo(this.host),this.numberInput.addClass(this.toThemeProperty("jqx-input-content")),this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))),this.spincontainer&&(this.upbutton&&this.upbutton.jqxRepeatButton("destroy"),this.downbutton&&this.downbutton.jqxRepeatButton("destroy"),this.spincontainer.remove()),this.spincontainer=r('<div style="float: right; height: 100%; overflow: hidden; position: relative;"></div>'),this.rtl&&(this.spincontainer.css("float","right"),this.numberInput.css("float","right"),this.spincontainer.css("left","-1px")),this.host.append(this.spincontainer),this.upbutton=r('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>'),this.spincontainer.append(this.upbutton),this.upbutton.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled,roundedCorners:"top-right"}),this.downbutton=r('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>'),this.spincontainer.append(this.downbutton),this.downbutton.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled,roundedCorners:"bottom-right"}),this.template&&(this.upbutton.addClass(this.toThemeProperty("jqx-"+this.template)),this.downbutton.addClass(this.toThemeProperty("jqx-"+this.template)));var e=this;this.downbutton.addClass(this.toThemeProperty("jqx-fill-state-normal jqx-action-button")),this.upbutton.addClass(this.toThemeProperty("jqx-fill-state-normal jqx-action-button")),this.upbutton.addClass(this.toThemeProperty("jqx-rc-tr")),this.downbutton.addClass(this.toThemeProperty("jqx-rc-br")),this.addHandler(this.downbutton,"mouseup",(function(t){e.disabled||(e.downbutton.removeClass(e.toThemeProperty("jqx-fill-state-pressed")),e._downArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-down-selected")))})),this.addHandler(this.upbutton,"mouseup",(function(t){e.disabled||(e.upbutton.removeClass(e.toThemeProperty("jqx-fill-state-pressed")),e._upArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up-selected")))})),this.removeHandler(r(document),"mouseup."+this.element.id),this.addHandler(r(document),"mouseup."+this.element.id,(function(t){e.upbutton.removeClass(e.toThemeProperty("jqx-fill-state-pressed")),e._upArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up-selected")),e.downbutton.removeClass(e.toThemeProperty("jqx-fill-state-pressed")),e._downArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-down-selected"))})),this.addHandler(this.downbutton,"mousedown",(function(t){if(!e.disabled)return r.jqx.browser.msie&&r.jqx.browser.version<9&&(e._inputSelection=e._selection()),e.downbutton.addClass(e.toThemeProperty("jqx-fill-state-pressed")),e._downArrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-selected")),t.preventDefault(),t.stopPropagation(),!1})),this.addHandler(this.upbutton,"mousedown",(function(t){if(!e.disabled)return r.jqx.browser.msie&&r.jqx.browser.version<9&&(e._inputSelection=e._selection()),e.upbutton.addClass(e.toThemeProperty("jqx-fill-state-pressed")),e._upArrow.addClass(e.toThemeProperty("jqx-icon-arrow-up-selected")),t.preventDefault(),t.stopPropagation(),!1})),this.addHandler(this.upbutton,"mouseenter",(function(t){e.upbutton.addClass(e.toThemeProperty("jqx-fill-state-hover")),e._upArrow.addClass(e.toThemeProperty("jqx-icon-arrow-up-hover"))})),this.addHandler(this.upbutton,"mouseleave",(function(t){e.upbutton.removeClass(e.toThemeProperty("jqx-fill-state-hover")),e._upArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up-hover"))})),this.addHandler(this.downbutton,"mouseenter",(function(t){e.downbutton.addClass(e.toThemeProperty("jqx-fill-state-hover")),e._downArrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover"))})),this.addHandler(this.downbutton,"mouseleave",(function(t){e.downbutton.removeClass(e.toThemeProperty("jqx-fill-state-hover")),e._downArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-down-hover"))})),this.upbutton.css("border-width","0px"),this.downbutton.css("border-width","0px"),this.disabled?(this.upbutton[0].disabled=!0,this.downbutton[0].disabled=!0):(this.upbutton[0].disabled=!1,this.downbutton[0].disabled=!1),this.spincontainer.addClass(this.toThemeProperty("jqx-input")),this.spincontainer.addClass(this.toThemeProperty("jqx-rc-r")),this.spincontainer.css("border-width","0px"),this.spincontainer.css(this.rtl?"border-right-width":"border-left-width","1px"),this._upArrow=this.upbutton.find("div"),this._downArrow=this.downbutton.find("div"),this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this._upArrow.addClass(this.toThemeProperty("jqx-input-icon")),this._downArrow.addClass(this.toThemeProperty("jqx-input-icon")),e=this,this._upArrow.hover((function(){e.disabled||e._upArrow.addClass(e.toThemeProperty("jqx-icon-arrow-up-hover"))}),(function(){e._upArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up-hover"))})),this._downArrow.hover((function(){e.disabled||e._downArrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover"))}),(function(){e._downArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-down-hover"))}));var t=r.jqx.mobile.isTouchDevice(),i="click";t&&(i=r.jqx.mobile.getTouchEventName("touchstart")),t&&(this.addHandler(this.downbutton,"click",(function(t){e.spinDown()})),this.addHandler(this.upbutton,"click",(function(t){e.spinUp()}))),this.addHandler(this.downbutton,i,(function(i){return t?(i.preventDefault(),i.stopPropagation()):(0==e._selection().start&&e._setSelectionStart(e.numberInput.val().length),r.jqx.browser.msie&&r.jqx.browser.version<9&&e._setSelectionStart(e._inputSelection.start)),e.spinDown(),!1})),this.addHandler(this.upbutton,i,(function(i){return t?(i.preventDefault(),i.stopPropagation()):(0==e._selection().start&&e._setSelectionStart(e.numberInput.val().length),r.jqx.browser.msie&&r.jqx.browser.version<9&&e._setSelectionStart(e._inputSelection.start)),e.spinUp(),!1}))},spinDown:function(){var e=this,t=this.decimal;if("none"!=e.spinMode)if(null!=this.decimal){var i=(m=this.getvalue("negative"))?-1:0;if((r.jqx.mobile.isTouchDevice()||"textbox"==this.inputMode)&&e._doTouchHandling(),!e.disabled){var n=this._selection(),s=this.decimal;if((h=this.getDecimal())<this.min)return h=this.min,this.setDecimal(this.min),this._setSelectionStart(n.start),void this.spinDown();if(h>this.max)return h=this.max,this.setDecimal(this.max),this._setSelectionStart(n.start),void this.spinDown();e.spinButtonsStep<0&&(e.spinButtonsStep=1);var o=i+(parseInt(e.decimal)-e.spinButtonsStep).toString().length<=e.digits;if("advanced"!=e.spinMode){if(h-e.spinButtonsStep>=e.min&&o){var a=1;for(c=0;c<e.decimalDigits;c++)a*=10;var l=a*h-a*e.spinButtonsStep;l=this._parseDecimalValueToEditorValue(l/=a),e.setDecimal(l)}}else{var d=this._getspindecimal(),h=(this._getSeparatorPosition(),parseFloat(d.decimal));if(e.spinButtonsStep<0&&(e.spinButtonsStep=1),o=i+(parseInt(h)-e.spinButtonsStep).toString().length<=e.digits,a=1,-1!=(p=d.decimal.indexOf("."))){for(var u=d.decimal.length-p-1,c=(a=1,0);c<u;c++)a*=10;var p;-1==(p=(h=(h-=new Number(e.spinButtonsStep/a)).toFixed(u)).toString().indexOf("."))&&(h=h.toString()+".");var f=h.toString()+d.afterdecimal;(f=(f=new Number(f)).toFixed(e.decimalDigits))>=e.min&&(f=this._parseDecimalValueToEditorValue(f),e.setDecimal(f))}else h-e.spinButtonsStep>=e.min&&o&&(l=a*h-a*e.spinButtonsStep,(f=(l/=a).toString()+d.afterdecimal)>=e.min&&(f=this._parseDecimalValueToEditorValue(f),e.setDecimal(f)))}if(null==f||"simple"!=this.inputMode)return this._setSelectionStart(n.start),e.savedValue=e.numberInput[0].value,t!=this.decimal&&(r.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),void r.jqx.aria(this,"aria-valuenow",this.decimal);f=this.decimal.toString();var m=this.getvalue("negative");0==i&&m?this._setSelectionStart(n.start+1):null==f||null!=s&&s.toString().length!=f.length?this._setSelectionStart(m?n.start+1:n.start-1):this._setSelectionStart(n.start),t!=this.decimal&&(r.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),r.jqx.aria(this,"aria-valuenow",this.decimal)}}else this.setDecimal(0)},_getspindecimal:function(){var e=this._selection(),t="",i=(this._getSeparatorPosition(),this._getVisibleItems()),r=this._getHiddenPrefixCount(),n=this.numberInput.val();this.numberInput.val().length==e.start&&0==e.length&&(this._setSelection(e.start,e.start+1),e=this._selection());var s="advanced"!=this.inputMode,o=e.start;0===o&&o++,1===o&&"left"===this.symbolPosition&&""!==this.symbol&&(o+=this.symbol.length);for(var a=0;a<o;a++)if(s){var l=n.substring(a,a+1);!isNaN(parseInt(l))&&(t+=l),l==this.decimalSeparator&&(t+=l)}else i[a].canEdit&&i[a].character!=this.promptChar?t+=i[a].character:i[a].canEdit||-1==this.decimalSeparatorPosition||i[a]!=i[this.decimalSeparatorPosition-r]||(0==t.length&&(t="0"),t+=i[a].character);var d="";for(a=o;a<i.length;a++)s?(l=n.substring(a,a+1),!isNaN(parseInt(l))&&(d+=l),l==this.decimalSeparator&&(d+=l)):i[a].canEdit&&i[a].character!=this.promptChar?d+=i[a].character:i[a].canEdit||-1==this.decimalSeparatorPosition||i[a]!=i[this.decimalSeparatorPosition-r]||(d+=i[a].character);return{decimal:this.getvalue("negative")?"-"+this._parseDecimalValue(t).toString():this._parseDecimalValue(t).toString(),afterdecimal:this._parseDecimalValue(d)}},_parseDecimalValue:function(e){if("."!=this.decimalSeparator){var t=e.toString().indexOf(this.decimalSeparator);if(t>=0)return e.toString().substring(0,t)+"."+e.toString().substring(t+1)}return e},_parseDecimalValueToEditorValue:function(e){if("."!=this.decimalSeparator){var t=e.toString().indexOf(".");if(t>=0)return e.toString().substring(0,t)+this.decimalSeparator+e.toString().substring(t+1)}return e},spinUp:function(){var e=this,t=this.decimal;if("none"!=e.spinMode)if(null!=this.decimal){(r.jqx.mobile.isTouchDevice()||"textbox"==this.inputMode)&&e._doTouchHandling();var i=(m=this.getvalue("negative"))?-1:0;if(!e.disabled){var n=this._selection(),s=e.decimal;if((u=e.getDecimal())<this.min)return u=this.min,this.setDecimal(this.min),this._setSelectionStart(n.start),void this.spinUp();if(u>this.max)return u=this.max,this.setDecimal(this.max),this._setSelectionStart(n.start),void this.spinUp();e.spinButtonsStep<0&&(e.spinButtonsStep=1);var o=i+(parseInt(e.decimal)+e.spinButtonsStep).toString().length<=e.digits;if("advanced"!=e.spinMode){if(u+e.spinButtonsStep<=e.max&&o){for(var a=1,l=0;l<e.decimalDigits;l++)a*=10;var d=a*u+a*e.spinButtonsStep;d=this._parseDecimalValueToEditorValue(d/=a),e.setDecimal(d)}}else{var h=this._getspindecimal(),u=(this._getSeparatorPosition(),parseFloat(h.decimal));if(e.spinButtonsStep<0&&(e.spinButtonsStep=1),o=i+(parseInt(u)+e.spinButtonsStep).toString().length<=e.digits,a=1,-1!=(c=h.decimal.indexOf("."))){var c,p=h.decimal.length-c-1;for(a=1,l=0;l<p;l++)a*=10;-1==(c=(u=(u+=new Number(e.spinButtonsStep/a)).toFixed(p)).toString().indexOf("."))&&(u=u.toString()+".");var f=u.toString()+h.afterdecimal;f=(f=new Number(f)).toFixed(e.decimalDigits),new Number(f).toFixed(e.decimalDigits)<=e.max?(f=this._parseDecimalValueToEditorValue(f),e.setDecimal(f)):f=void 0}else u+e.spinButtonsStep<=e.max&&o&&(d=a*u+a*e.spinButtonsStep,f=(d/=a).toString()+h.afterdecimal,new Number(f).toFixed(e.decimalDigits)<=e.max?(f=this._parseDecimalValueToEditorValue(f),m&&-1==f.indexOf("-")&&"-0"!=h.decimal&&(f="-"+f),e.setDecimal(f)):f=void 0)}if(null==f||"simple"!=this.inputMode)return this._setSelectionStart(n.start),e.savedValue=e.numberInput[0].value,t!=this.decimal&&(r.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),void r.jqx.aria(this,"aria-valuenow",this.decimal);f=this.decimal.toString();var m=this.getvalue("negative");-1!=i||m?null==f||null!=s&&s.toString().length!=f.length?this._setSelectionStart(m?n.start:1+n.start):this._setSelectionStart(n.start):this._setSelectionStart(-1+n.start),t!=this.decimal&&(r.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),r.jqx.aria(this,"aria-valuenow",this.decimal)}}else this.setDecimal(0)},_exitSimpleInputMode:function(e,t,i,n){if(null==t&&(t=e.data),null!=t){if(null==i){if(null!=e.target&&null!=t.element&&(null!=e.target.id&&e.target.id.toString().length>0&&t.host.find("#"+e.target.id).length>0||e.target==t.element))return;var s=t.host.offset(),o=s.left,a=s.top,l=t.host.width(),d=t.host.height(),h=r(e.target).offset();if(h.left>=o&&h.left<=o+l&&h.top>=a&&h.top<=a+d)return}if(r.jqx.mobile.isOperaMiniBrowser()&&t.numberInput.attr("readonly",!0),!t.disabled&&!t.readOnly&&null!=r.data(t.numberInput,"simpleInputMode"))return r.data(t.numberInput,"simpleInputMode",null),this._parseDecimalInSimpleMode(),!1}},_getDecimalInSimpleMode:function(){var e=this.decimal;if("."!=this.decimalSeparator){var t=e.toString().indexOf(this.decimalSeparator);t>0&&(e=e.toString().substring(0,t)+"."+e.toString().substring(t+1))}return e},_parseDecimalInSimpleMode:function(e){var t=this.getvalue("negative"),i=this.ValueString;if(null==i&&(i=this.GetValueString(this.numberInput.val(),this.decimalSeparator,""!=this.decimalSeparator)),"."!=this.decimalSeparator){var r=i.toString().indexOf(".");if(r>0){var n=i.toString().substring(0,r)+this.decimalSeparator+i.toString().substring(r+1);i=n}}var s=t?"-":"";"left"==this.symbolPosition&&(s+=this.symbol);var o=this.digits%this.groupSize;0==o&&(o=this.groupSize);var a=i.toString();a.indexOf("-")>=0&&(a=a.substring(a.indexOf("-")+1)),s+=a,"right"==this.symbolPosition&&(s+=this.symbol),0!=e&&this.numberInput.val(s)},_enterSimpleInputMode:function(e,t){null==t&&(t=e.data);var i=this._selection();if(null!=t){var n=t.getvalue("negative"),s=t.decimal;n&&s>0&&(s=-s),t.numberInput.val(s),r.data(t.numberInput,"simpleInputMode",!0),r.jqx.mobile.isOperaMiniBrowser()&&t.numberInput.attr("readonly",!1),this._parseDecimalInSimpleMode(),this._setSelectionStart(i.start)}},setvalue:function(e,t){void 0!==this[e]&&("decimal"==e?this._setDecimal(t):(this[e]=t,this.propertyChangedHandler(this,e,t,t)))},getvalue:function(e){return"decimal"==e&&null!=this.negative&&1==this.negative?this.decimal.toString().indexOf(",")?-Math.abs(this.decimal.toString().replace(/,/,".")):-Math.abs(this[e]):e in this?this[e]:null},_getString:function(){for(var e="",t=0;t<this.items.length;t++)e+=this.items[t].character;return e},_literal:function(e,t,i,r){return{character:e,regex:t,canEdit:i,isSeparator:r}},_initializeLiterals:function(){if("textbox"!=this.inputMode){for(var e=0,t=this.negativeSymbol.length,i=0;i<t;i++){var r=this.negativeSymbol.substring(i,i+1),n=null;n=this._literal(this.negative?r:"","",!1,!1),this.items[e]=n,e++}var s=this.symbol.length;if("left"==this.symbolPosition)for(i=0;i<s;i++)r=this.symbol.substring(i,i+1),n=this._literal(r,"",!1,!1),this.items[e]=n,e++;var o=this.digits%this.groupSize;for(0==o&&(o=this.groupSize),i=0;i<this.digits;i++)if(n=this._literal(r=this.promptChar,"\\d",!0,!1),this.items[e]=n,e++,i<this.digits-1&&null!=this.groupSeparator&&this.groupSeparator.length>0){if(0==--o){o=this.groupSize;var a=this._literal(this.groupSeparator,"",!1,!1);this.items[e]=a,e++}}else i==this.digits-1&&(n.character=0);if(this.decimalSeparatorPosition=-1,null!=this.decimalDigits&&this.decimalDigits>0)for(0==(r=this.decimalSeparator).length&&(r="."),n=this._literal(r,"",!1,!0),this.items[e]=n,this.decimalSeparatorPosition=e,e++,i=0;i<this.decimalDigits;i++){var l=this._literal(0,"\\d",!0,!1);this.items[e]=l,e++}if("right"==this.symbolPosition)for(i=0;i<s;i++)r=this.symbol.substring(i,i+1),n=this._literal(r,"",!1),this.items[e]=n,e++}},_match:function(e,t){return new RegExp(t,"i").test(e)},_raiseEvent:function(e,t){var i=this.events[e],n={};if(n.owner=this,"none"==this.host.css("display"))return!0;var s=t.charCode?t.charCode:t.keyCode?t.keyCode:0,o=!0,a=this.readOnly;if((3==e||2==e)&&!this.disabled){if("simple"==this.inputMode||"textbox"==this.inputMode)return!0;this._handleMouse(t)}if(0==e){var l=this.getvalue("decimal");this.max<l||this.min>l?this.host.addClass(this.toThemeProperty("jqx-input-invalid")):(this.host.removeClass(this.toThemeProperty("jqx-input-invalid")),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")))}var d=new r.Event(i);d.owner=this,n.value=this.getvalue("decimal"),n.text=this.numberInput.val(),d.args=n,7==e&&(n.type=this.changeType,this.changeType=null),null!=i&&4!=e&&5!=e&&6!=e&&(o=this.host.trigger(d));var h=this;if("textbox"==this.inputMode)return o;if("simple"!=this.inputMode){if(4==e){if(a||this.disabled)return!1;o=h._handleKeyDown(t,s)}else if(5==e)(a||this.disabled)&&(o=!1);else if(6==e){if(a||this.disabled)return!1;o=h._handleKeyPress(t,s)}}else if(4==e||5==e||6==e){if(r.jqx.mobile.isTouchDevice()||!0===this.touchMode)return!0;if(a||this.disabled)return!1;var u=String.fromCharCode(s),c=(parseInt(u),!0);if(t.ctrlKey||t.shiftKey||t.metaKey||s>=65&&s<=90&&(c=!1),6==e&&null!=r.jqx.browser.opera&&8==s)return!1;if(c){if(4==e&&(c=h._handleSimpleKeyDown(t,s)),107==s&&(f=h.getvalue("negative"))&&(h.setvalue("negative",!1),h.decimal=h.ValueString,h._parseDecimalInSimpleMode(),h._setSelectionStart(p.start+1),h._raiseEvent(0,h.value),h._raiseEvent(1,h.numberInput.val())),189==s||45==s||109==s||173==s){var p=h._selection();if(4==e){var f=h.getvalue("negative");h.setvalue("negative",0==f),h.decimal=h.ValueString,h._parseDecimalInSimpleMode(),h._setSelectionStart(f?p.start-1:p.start+1),c=!1,h._raiseEvent(0,h.value),h._raiseEvent(1,h.numberInput.val())}}var m=n.ctrlKey||n.metaKey;if(!r.jqx.browser.msie&&(m&&99==s||m&&67==s||m&&122==s||m&&90==s||m&&118==s||m&&86==s||t.shiftKey&&45==s))return(r.jqx.browser.webkit||r.jqx.browser.chrome)&&h._handleSimpleKeyDown(t,s),67==s;if(m&&97==s||m&&65==s)return!0;if(6==e&&c)return this._isSpecialKey(s)}return c}return o},GetSelectionInValue:function(e,t,i,r){for(var n=0,s=0;s<t.length&&!(s>=e);s++){var o=t.substring(s,s+1);(!isNaN(parseInt(o))||r&&t.substring(s,s+1)==i)&&n++}return n},GetSelectionLengthInValue:function(e,t,i,r){for(var n=0,s=0;s<i.length&&!(s>=e+t);s++){var o=i.substring(s,s+1),a=!isNaN(parseInt(o));(t>0&&s>=e&&a||s>=e&&i[s].toString()==r)&&n++}return n},GetInsertTypeByPositionInValue:function(e,t,i,r){var n="before",s=this.GetValueString(i,t,r);return e>this.GetDigitsToSeparator(0,s,t)&&(n="after"),n},RemoveRange:function(e,t,i,r,n,s){var o=this.digits,a=e,l=t,d=0,h=(this._selection(),""!=(r=this.decimalSeparator));if(0==l&&this.ValueString.length<this.decimalPossibleChars-1)return d;var u=this.GetSeparatorPositionInText(r,i);n||(u=this.GetSeparatorPositionInText(r,i)),u<0&&!h&&i.length>1&&(u=i.length),-1==u&&(u=i.length),t<2&&1==s&&this.ValueString.length-this.decimalDigits-(h?1:0)==o&&e+t<u&&l++;for(var c="",p=0;p<i.length;p++)if(p<a||p>=a+l)c+=i.substring(p,p+1);else if((f=i.substring(p,p+1))!=r){var f=i.substring(p,p+1);this.symbol&&""!=this.symbol&&this.symbol.indexOf(f)>=0||(p>u?c+="0":(f=i.substring(p,p+1),!isNaN(parseInt(f))&&d++))}else c+=r;0==c.length&&(c="0"),n?this.numberInput.val(c):this.ValueString=c;var m=c.substring(0,1);return m==r&&isNaN(parseInt(m))&&(c="0"+c),this.ValueString=this.GetValueString(c,r,h),this.decimal=this.ValueString,this._parseDecimalInSimpleMode(),this._setSelectionStart(a),d},InsertDigit:function(e,t){"number"!=typeof this.digits&&(this.digits=parseInt(this.digits)),"number"!=typeof this.decimalDigits&&(this.decimalDigits=parseInt(this.decimalDigits));var i=1+this.digits,r=this._selection(),n=this.getvalue("negative"),s=!1;0==r.start&&""!=this.symbol&&"left"==this.symbolPosition&&(this._setSelectionStart(r.start+1),r=this._selection(),s=!0),(n&&s||n&&!s&&0==r.start)&&(this._setSelectionStart(r.start+1),r=this._selection());var o=this.numberInput.val().substring(r.start,r.start+1),a=this.numberInput.val(),l=this.decimalSeparator,d=""!=l&&this.decimalDigits>0;if(o==this.symbol&&"right"==this.symbolPosition){if(0!=this.decimalDigits)return;if(this.ValueString=this.GetValueString(a,l,d),this.ValueString.length>=i)return}this.ValueString=this.GetValueString(a,l,d),""==this.ValueString&&(this.ValueString=new Number(0).toFixed(this.decimalDigits));var h=this.ValueString;this.decimalDigits>0&&t>=h.length&&(t=h.length-1);var u="";t<h.length&&(u=h.substring(t,t+1));var c=!1;"after"==this.GetInsertTypeByPositionInValue(t,l,a,d)&&(c=!0),u!=l&&this.ValueString.length-this.decimalDigits-(d?1:0)>=i-1&&(c=!0),"0"===u&&1===this.ValueString.length&&0===this.decimalDigits&&(c=!0);var p=d?1:0;if(!(!c&&this.ValueString&&this.ValueString.length>=this.digits+this.decimalDigits+p)){if(c&&u!=l){if((g=h.substring(0,t)).length==h.length&&this.ValueString.length>=this.digits+this.decimalDigits+p)return;var f=e,m="";t+1<h.length&&(m=h.substring(t+1)),this.ValueString=v=g+f+m}else{var g,v=(g=h.substring(0,t))+(f=e)+(m=h.substring(t));"0"==h.substring(0,1)&&h.substring(1,2)==l&&(v=f+h.substring(1),u==l&&(this._setSelectionStart(r.start-1),r=this._selection())),this.ValueString=v}this.decimal=n?-this.ValueString:this.ValueString,this._parseDecimalInSimpleMode();var w=r.start;this._setSelectionStart(w+=1),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())}},GetStringToSeparator:function(e,t,i){var r=this.GetSeparatorPositionInText(t,e),n=e.subString(0,r);return this.GetValueString(n,t,i)},GetSeparatorPositionInText:function(e,t){for(var i=-1,r=0;r<t.length;r++)if(t.substring(r,r+1)==e){i=r;break}return i},GetValueString:function(e,t,i){for(var r="",n=0;n<e.length;n++){var s=e.substring(n,n+1);!isNaN(parseInt(s))&&(r+=s),s==t&&(r+=t)}return r},Backspace:function(){var e=this._selection(),t=this._selection(),i=this.numberInput.val();0==e.start&&0==e.length||(this.isBackSpace=!0,isNaN(parseInt(i.substring[e.start+1])),e.start>0&&0==e.length&&(this._setSelectionStart(e.start-1),e=this._selection()),this.Delete(),this._setSelectionStart(t.start-1),this.isBackSpace=!1)},Delete:function(e){var t=this._selection(),i=this.numberInput.val();0===t.start&&"-"==i.substring(0,1)&&(this.setvalue("negative",!1),t=this._selection(),i=this.numberInput.val());var r=t.start,n=t.length;n=Math.max(n,1),this.ValueString=this.GetValueString(i,this.decimalSeparator,""!=this.decimalSeparator),r>this.ValueString.indexOf(this.decimalSeparator)&&this.decimalDigits>0&&r++;var s=0;this.symbol&&("left"==this.symbolPosition&&s--,this.negative&&s--),this.RemoveRange(t.start+s,n,this.ValueString,".",!1);var o=this.ValueString.substring(0,1);!isNaN(parseInt(o))||(this.ValueString="0"+this.ValueString),this.decimal=this.ValueString,this._parseDecimalInSimpleMode(),this._setSelectionStart(r),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())},insertsimple:function(e){var t=this._selection(),i=this.numberInput.val();if(!(t.start==i.length&&null!=this.decimal&&this.decimalDigits>0)){var r=this.decimalSeparator;this.ValueString=this.GetValueString(i,r,""!=r);var n=this.GetSelectionInValue(t.start,i,r,""!=r),s=this.GetSelectionLengthInValue(t.start,t.length,i,r);if(this.GetDigitsToSeparator(0,this.ValueString,r),this.decimalDigits>0&&n>=this.ValueString.length&&n--,""==this.ValueString)return this.ValueString=new Number(0).toFixed(this.decimalDigits),this.ValueString=this.ValueString.replace(".",r),this.RemoveRange(t.start,s,this.ValueString,r,!1,!0),void this.InsertDigit(e,0,t);this.RemoveRange(t.start,s,this.ValueString,r,!1,!0),this.InsertDigit(e,n,t)}},GetDigitsToSeparator:function(e,t,i){if(null==i&&(i="."),t.indexOf(i)<0)return t.length;for(var r=0;r<t.length;r++)if(t.substring(r,r+1)==i){e=r;break}return e},_handleSimpleKeyDown:function(e,t){var i,n=this._selection(),s=e.ctrlKey||e.metaKey;if((8==t||46==t)&&s)return this.setDecimal(null),!1;if(n.start>=0&&n.start<this.items.length)var o=String.fromCharCode(t);if(27===t&&(this.setDecimal(this._savedValue),-1!=(i=this.GetSeparatorPositionInText(this.decimalSeparator,this.numberInput.val()))&&this._setSelectionStart(i),e.preventDefault()),this.rtl&&37==t)return this._setSelection(n.start+1-(l=(a=e.shiftKey)?1:0),a?n.start+n.length+1:n.start+1),!1;if(this.rtl&&39==t){var a,l=(a=e.shiftKey)?1:0;return this._setSelection(n.start-1,a?n.length+l+n.start-1:n.start-1),!1}if(8==t)return this.Backspace(),!1;if(190==t||110==t)return-1!=(i=this.GetSeparatorPositionInText(this.decimalSeparator,this.numberInput.val()))&&this._setSelectionStart(i+1),!1;if(188==t){var d=this.numberInput.val();for(c=n.start;c<d.length;c++)if(d[c]==this.groupSeparator){this._setSelectionStart(1+c);break}return!1}if((s=e.ctrlKey||e.metaKey)&&99==t||s&&67==t){n=this._selection();var h="",u=this.numberInput.val();if(n.start>0||n.length>0)for(var c=n.start;c<n.end;c++)h+=u.substring(c,c+1);if(r.data(document.body,"jqxSelection",h),r.jqx.browser.msie)window.clipboardData.setData("Text",h);else{var p=this,f=r('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');f.val(h),r("body").append(f),f.select(),setTimeout((function(){document.designMode="off",f.select(),f.remove(),p.focus()}),100)}return this.savedText=h,!0}if(s&&122==t||s&&90==t)return!1;if(s&&118==t||s&&86==t||e.shiftKey&&45==t)return r.jqx.browser.msie&&!this.savedText&&(this.savedText=window.clipboardData.getData("Text")),this.val(null!=this.savedText&&this.savedText.length>0?this.savedText:r.data(document.body,"jqxSelection")),!1;o=String.fromCharCode(t);var m=parseInt(o);if(t>=96&&t<=105&&(m=t-96,t-=48),!isNaN(m))return p=this,this.insertsimple(m),!1;if(46==t)return this.Delete(),!1;if(38==t)return this.spinUp(),!1;if(40==t)return this.spinDown(),!1;var g=this._isSpecialKey(t);return!r.jqx.browser.mozilla||g},_getEditRange:function(){for(var e=0,t=0,i=0;i<this.items.length;i++)if(this.items[i].canEdit){e=i;break}for(i=this.items.length-1;i>=0;i--)if(this.items[i].canEdit){t=i;break}return{start:e,end:t}},_getVisibleItems:function(){for(var e=new Array,t=0,i=0;i<this.items.length;i++)this.items[i].character.toString().length>0&&(e[t]=this.items[i],t++);return e},_hasEmptyVisibleItems:function(){for(var e=this._getVisibleItems(),t=0;t<e.length;t++)if(e[t].canEdit&&e[t].character==this.promptChar)return!0;return!1},_getFirstVisibleNonEmptyIndex:function(){for(var e=this._getVisibleItems(),t=0;t<e.length;t++)if(e[t].canEdit&&e[t].character!=this.promptChar)return t},_handleMouse:function(e,t){var i=this._selection();if(i.length<=1){var r=this._getFirstVisibleNonEmptyIndex();i.start<r&&this._setSelectionStart(r)}},_insertKey:function(e){this.numberInput[0].focus();var t=String.fromCharCode(e),i=parseInt(t);if(!isNaN(i)){for(var n=0,s=0;s<this.items.length;s++)0==this.items[s].character.length&&n++;var o=this._selection(),a=this;if(o.start>=0&&o.start<=this.items.length){var l=!1,d=this._getFirstVisibleNonEmptyIndex();o.start<d&&0==o.length&&(isNaN(t)&&" "!=t||(this._setSelectionStart(d),o=this._selection())),this._getFirstEditableItemIndex();var h=this._getLastEditableItemIndex();null===this.value&&(h=0);var u=this._getVisibleItems();r.each(u,(function(e,i){if(!(o.start>e&&e!=u.length-1)){var r=u[e];if(e>h&&(r=u[h]),!isNaN(t)&&" "!=t&&""!=t&&r&&r.canEdit){var s=a._getSeparatorPosition();if(a._match(t,r.regex)){if(!l&&o.length>0){for(var d=o.start+n;d<o.end+n;d++)a.items[d].canEdit&&(a.items[d].character=d>s?"0":a.promptChar);var c=a._getString();l=!0}s=a._getSeparatorPosition();var p=a._hasEmptyVisibleItems();if(null==a.decimal&&(o.start=s-1,o.start<0&&(o.start=0),o.end=o.start),o.start<=s&&p){var f=e;-1==a.decimalSeparatorPosition&&o.start==s&&(f=e+1),null==a.decimal&&(f=o.start);for(var m="",g=0;g<f;g++)u[g].canEdit&&u[g].character!=a.promptChar&&(m+=u[g].character);m+=t;var v=a.decimal<1?1:0;for(o.start==s&&-1!=a.decimalSeparatorPosition&&(m+=a.decimalSeparator,v=0),g=f+v;g<u.length;g++)(u[g].character==a.decimalSeparator&&u[g].isSeparator||u[g].canEdit&&u[g].character!=a.promptChar)&&(m+=u[g].character);if("."!=a.decimalSeparator&&(m=a._parseDecimalValue(m)),m=parseFloat(m).toString(),m=(m=new Number(m)).toFixed(a.decimalDigits),"."!=a.decimalSeparator&&(m=a._parseDecimalValueToEditorValue(m)),a.setvalue("decimal",m),c=a._getString(),a._setSelectionStart(o.end<s?o.end+v:o.end),o.length>=1&&a._setSelectionStart(o.end),o.length==a.numberInput.val().length){var w=a._moveCaretToDecimalSeparator();a._setSelectionStart(w-(a.decimalSeparatorPosition>=0?1:0))}}else if(o.start<s||o.start>s){if(a.numberInput.val().length==o.start&&-1!=a.decimalSeparatorPosition)return!1;if(a.numberInput.val().length==o.start&&-1==a.decimalSeparatorPosition&&!p)return!1;m="";var y=!1;for(g=0;g<e;g++)u[g].canEdit&&u[g].character!=a.promptChar&&(m+=u[g].character),u[g].character==a.decimalSeparator&&u[g].isSeparator&&(m+=u[g].character,y=!0);for(m+=t,v=a.decimal<1?1:0,y||o.start!=s-1||(m+=a.decimalSeparator,y=!0),g=e+1;g<u.length;g++)(!y&&u[g].character==a.decimalSeparator&&u[g].isSeparator||u[g].canEdit&&u[g].character!=a.promptChar)&&(m+=u[g].character);if(a.setvalue("decimal",m),c=a._getString(),a.decimalSeparatorPosition<0&&r==u[h])return a._setSelectionStart(e),!1;var b=c.indexOf(a.symbol);b<=(a.getvalue("negative")?1:0)&&(b=c.length),a._setSelectionStart(o.start<b?e+1:e),o.length==a.numberInput.val().length&&(w=a._moveCaretToDecimalSeparator(),a._setSelectionStart(w-1))}return!1}}}}))}}},_handleKeyPress:function(e,t){var i=this._selection(),n=e.ctrlKey||e.metaKey;if(n&&97==t||n&&65==t)return!0;if(8==t)return i.start>0&&this._setSelectionStart(i.start),!1;if(46==t)return i.start<this.items.length&&this._setSelectionStart(i.start),!1;if(!r.jqx.browser.mozilla&&(45==t||173==t||109==t||189==t)){var s=this.getvalue("negative");this.setvalue("negative",0==s)}return r.jqx.browser.msie&&this._insertKey(t),this._isSpecialKey(t)},_deleteSelectedText:function(){var e=this._selection(),t="",i=this._getSeparatorPosition(),r=this._getVisibleItems(),n=this._getHiddenPrefixCount();this.numberInput.val().length==e.start&&0==e.length&&(this._setSelection(e.start,e.start+1),e=this._selection());for(var s=0;s<e.start;s++)r[s].canEdit&&r[s].character!=this.promptChar?t+=r[s].character:r[s].canEdit||-1==this.decimalSeparatorPosition||r[s]!=r[this.decimalSeparatorPosition-n]||(0==t.length&&(t="0"),t+=r[s].character);for(s=e.start;s<e.end;s++)s>i&&-1!=this.decimalSeparatorPosition?r[s].canEdit&&r[s].character!=this.promptChar&&(t+="0"):r[s].canEdit||-1==this.decimalSeparatorPosition||r[s]!=r[this.decimalSeparatorPosition-n]||(0==t.length&&(t="0"),t+=r[s].character);for(s=e.end;s<r.length;s++)r[s].canEdit&&r[s].character!=this.promptChar?t+=r[s].character:r[s].canEdit||-1==this.decimalSeparatorPosition||r[s]!=r[this.decimalSeparatorPosition-n]||(0==t.length&&(t="0"),t+=r[s].character);return this.setvalue("decimal",t),e.length>0},_restoreInitialState:function(){var e=parseInt(this.decimalDigits);e>0&&(e+=2);for(var t=this.items.length-1;t>this.items.length-1-e&&this.items[t];t--)this.items[t].canEdit&&this.items[t].character==this.promptChar&&(this.items[t].character=0)},clear:function(){this.setDecimal(0)},clearDecimal:function(){if("textbox"!=this.inputMode){for(var e=0;e<this.items.length;e++)this.items[e].canEdit&&(this.items[e].character=this.promptChar);this._restoreInitialState()}else this.numberInput.val()},_saveSelectedText:function(){var e=this._selection(),t="",i=this._getVisibleItems();if(e.start>0||e.length>0)for(var n=e.start;n<e.end;n++)(i[n].canEdit&&i[n].character!=this.promptChar||i[n].isSeparator)&&(t+=i[n].character);return r.jqx.browser.msie&&window.clipboardData.setData("Text",t),t},_pasteSelectedText:function(){if(this._selection(),this.selectedText=r.data(document.body,"jqxSelection"),window.clipboardData){var e=window.clipboardData.getData("Text");if(e!=this.selectedText&&e.length>0&&(this.selectedText=window.clipboardData.getData("Text"),null==this.selectedText||null==this.selectedText))return}if(this._getVisibleItems(),null!=this.selectedText)for(var t=0;t<this.selectedText.length;t++){var i=parseInt(this.selectedText[t]);isNaN(i)||this._insertKey(48+i)}},_getHiddenPrefixCount:function(){var e=0;if(this.negative||e++,"left"==this.symbolPosition)for(var t=0;t<this.symbol.length;t++)""==this.symbol.substring(t,t+1)&&e++;return e},_getEditableItem:function(){for(var e=this._selection(),t=0;t<this.items.length;t++)if(t<e.start&&this.items[t].canEdit&&this.items[t].character!=this.promptChar)return this.items[t];return null},_getEditableItems:function(){for(var e=new Array,t=0,i=0;i<this.items.length;i++)this.items[i].canEdit&&(e[t]=this.items[i],t++);return e},_getValidSelectionStart:function(e){for(var t=this.items.length-1;t>=0;t--)if(this.items[t].canEdit&&this.items[t].character!=this.promptChar)return t;return-1},_getEditableItemIndex:function(e){for(var t=this._selection(),i=this._getHiddenPrefixCount(),r=this._getVisibleItems(),n=t.start,s=-1,o=0;o<n;o++)o<r.length&&r[o].canEdit&&(s=o+i);if(-1==s&&t.length>0)for(n=t.end,o=0;o<n;o++)if(o<r.length&&r[o].canEdit){s=o+i;break}return s},_getEditableItemByIndex:function(e){for(var t=0;t<this.items.length;t++)if(t>e&&this.items[t].canEdit&&this.items[t].character!=this.promptChar)return t;return-1},_getFirstEditableItemIndex:function(){for(var e=this._getVisibleItems(),t=0;t<e.length;t++)if(e[t].character!=this.promptChar&&e[t].canEdit&&"0"!=e[t].character)return t;return-1},_getLastEditableItemIndex:function(){for(var e=this._getVisibleItems(),t=e.length-1;t>=0;t--)if(e[t].character!=this.promptChar&&e[t].canEdit)return t;return-1},_moveCaretToDecimalSeparator:function(){for(var e=this.items.length-1;e>=0;e--)if(this.items[e].character==this.decimalSeparator&&this.items[e].isSeparator)return this.negative?(this._setSelectionStart(e+1),e):(this._setSelectionStart(e),e);return this.numberInput.val().length},_handleBackspace:function(){var e=this._selection(),t=this._getHiddenPrefixCount(),i=this._getEditableItemIndex()-t,r=this._getFirstVisibleNonEmptyIndex(),n=!1;if(this.negative&&(n=!0,(r>=i+1||0==e.start)&&(this.setvalue("negative",!1),0==e.length))&&(this._setSelectionStart(e.start-1),e=this._selection()),i>=0){0==e.length&&-1!=i&&this._setSelection(i,i+1);var s=e.start>this._getSeparatorPosition()+1&&this.decimalSeparatorPosition>0;if(s&&(e=this._selection()),this._deleteSelectedText(),e.length<1||s?this._setSelectionStart(e.start):e.length>=1&&this._setSelectionStart(e.end),e.length==this.numberInput.val().length||n){var o=this._moveCaretToDecimalSeparator();this._setSelectionStart(o-1)}}else this._setSelectionStart(e.start)},_handleKeyDown:function(e,t){var i=this._selection(),n=e.ctrlKey||e.metaKey;if((8==t||46==t)&&n)return this.setDecimal(null),!1;if(this.rtl&&37==t)return this._setSelection(i.start+1-(o=(s=e.shiftKey)?1:0),s?i.start+i.length+1:i.start+1),!1;if(this.rtl&&39==t){var s,o=(s=e.shiftKey)?1:0;return this._setSelection(i.start-1,s?i.length+o+i.start-1:i.start-1),!1}if(n&&97==t||n&&65==t)return!0;if(n&&120==t||n&&88==t)return this.selectedText=this._saveSelectedText(e),r.data(document.body,"jqxSelection",this.selectedText),this._handleBackspace(),!1;if(n&&99==t||n&&67==t)return this.selectedText=this._saveSelectedText(e),r.data(document.body,"jqxSelection",this.selectedText),!1;if(n&&122==t||n&&90==t)return!1;if(n&&118==t||n&&86==t||e.shiftKey&&45==t)return this._pasteSelectedText(),!1;if(i.start>=0&&i.start<this.items.length)var a=String.fromCharCode(t);if(8==t)return this._handleBackspace(),!1;if(190==t||110==t)return this._moveCaretToDecimalSeparator(),!1;if(188==t){for(var l=this.numberInput.val(),d=i.start;d<l.length;d++)if(l[d]==this.groupSeparator){this._setSelectionStart(1+d);break}return!1}if(null==r.jqx.browser.msie){a=String.fromCharCode(t);var h=parseInt(a);if(t>=96&&t<=105&&(h=t-96,t-=48),!isNaN(h))return this._insertKey(t),!1}if(46==t){var u=this._getVisibleItems();if(i.start<u.length){if(o=0==u[i.start].canEdit?2:1,0==i.start&&this.negative&&(this.setvalue("negative",!1),0==i.length&&this._setSelectionStart(0),0==(i=this._selection()).length))return!1;0==i.length&&this._setSelection(i.start+o,i.start+o+i.length),this._handleBackspace(),(new Number(this.decimal)<1||i.start>this._getSeparatorPosition()||i.start+1<this.decimalSeparatorPosition)&&this._setSelectionStart(i.end+o)}return!1}if(38==t)return this.spinUp(),!1;if(40==t)return this.spinDown(),!1;27===t&&(this.setDecimal(this._savedValue),this._setSelectionStart(i.end),e.preventDefault());var c=this._isSpecialKey(t);if(r.jqx.browser.mozilla&&(45==t||173==t||109==t||189==t)){var p=this.getvalue("negative");this.setvalue("negative",0==p)}return!r.jqx.browser.mozilla||c},_isSpecialKey:function(e){return 8==e||9==e||13==e||35==e||36==e||37==e||39==e||27==e||46==e},_selection:function(){try{if("selectionStart"in this.numberInput[0]){var e=this.numberInput[0];return{start:e.selectionStart,end:e.selectionEnd,length:e.selectionEnd-e.selectionStart,text:e.value}}var t=document.selection.createRange();if(null==t)return{start:0,end:e.value.length,length:0};var i=this.numberInput[0].createTextRange(),r=i.duplicate();return i.moveToBookmark(t.getBookmark()),r.setEndPoint("EndToStart",i),{start:r.text.length,end:r.text.length+t.text.length,length:t.text.length,text:t.text}}catch(n){return{start:0,end:0,length:0}}},selectAll:function(){var e=this.numberInput;setTimeout((function(){if("selectionStart"in e[0])e[0].focus(),e[0].setSelectionRange(0,e[0].value.length);else{var t=e[0].createTextRange();t.collapse(!0),t.moveEnd("character",e[0].value.length),t.moveStart("character",0),t.select()}}),10)},_setSelection:function(e,t){if(1!=this._disableSetSelection&&!r.jqx.mobile.isTouchDevice()&&1!=this.touchMode)try{if("selectionStart"in this.numberInput[0])this.numberInput[0].focus(),this.numberInput[0].setSelectionRange(e,t);else{var i=this.numberInput[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}}catch(n){}},_setSelectionStart:function(e){this._setSelection(e,e),r.data(this.numberInput,"selectionstart",e)},resize:function(e,t){this.width=e,this.height=t,this._render(!1)},_render:function(e){var t=parseInt(this.host.css("border-left-width")),i=parseInt(this.host.css("border-left-width")),n=parseInt(this.host.css("border-left-width")),s=parseInt(this.host.css("border-left-width"));this.numberInput.css("padding-top","0px"),this.numberInput.css("padding-bottom","0px");var o=window.getComputedStyle(this.element),a=2*parseInt(o.borderLeftWidth);("border-box"===o.boxSizing||isNaN(a))&&(a=0),null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=parseInt(this.width)-a+"px":null==this.width||isNaN(this.width)||(this.element.style.width=parseInt(this.width)-a+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=parseInt(this.height)-a+"px":null==this.height||isNaN(this.height)||(this.element.style.height=parseInt(this.height)-a+"px");var l=this.host.width(),d=this.host.height();this.numberInput.css({"border-left-width":0,"border-right-width":0,"border-bottom-width":0,"border-top-width":0}),isNaN(n)&&(n=1),isNaN(i)&&(i=1),isNaN(s)&&(s=1),isNaN(t)&&(t=1),this.numberInput.css("text-align",this.textAlign);var h=this.numberInput.css("font-size");""==h&&(h=13),this.numberInput.css("height",parseInt(h)+4+"px"),this.numberInput.css("width",l-2);var u=d-2*n-parseInt(h)-2;isNaN(u)&&(u=0),u<0&&(u=0),this.spinButtons&&this.spincontainer&&(l-=parseInt(this.spinButtonsWidth-2),r.jqx.mobile.isTouchDevice()||!0===this.touchMode?(this.spincontainer.width(2*this.spinButtonsWidth),l-=this.spinButtonsWidth,this.upbutton.height("100%"),this.downbutton.height("100%"),this.downbutton.css("float","left"),this.upbutton.css("float","right"),this.upbutton.width(this.spinButtonsWidth),this.downbutton.width(1+this.spinButtonsWidth)):(this.spincontainer.width(this.spinButtonsWidth),this.upbutton.width(this.spinButtonsWidth+2),this.downbutton.width(this.spinButtonsWidth+2),this.upbutton.height("50%"),this.downbutton.height("50%"),this.spincontainer.width(this.spinButtonsWidth)),this._upArrow.height("100%"),this._downArrow.height("100%"),this.numberInput.css("width",l-6),this.numberInput.css("margin-right","2px"));var c=u/2;r.jqx.browser.msie&&r.jqx.browser.version<8&&(c=u/4),this.numberInput.css("padding-left","0px"),this.numberInput.css("padding-right","0px"),this.numberInput.css("padding-top",Math.round(c)+"px"),this.numberInput.css("padding-bottom",Math.round(c)+"px"),null!=e&&1!=e||(this.numberInput.val(this._getString()),"advanced"!=this.inputMode&&this._parseDecimalInSimpleMode()),this._addBarAndLabel(this.numberInput),this._updateHint()},_addBarAndLabel:function(e){var t=this;if(null===t.bar&&null===t.label){var i=r("<label></label");this.hint&&(i[0].innerHTML=this.placeHolder),i.addClass(t.toThemeProperty("jqx-input-label")),e.after(i),t.label=i;var n=r("<span></span>");e.after(n),n.addClass(t.toThemeProperty("jqx-input-bar")),n.css("top",t.spinButtons?t.host.height():"0px"),t.bar=n,t.template&&(t.bar.addClass(t.toThemeProperty("jqx-"+t.template)),t.label.addClass(t.toThemeProperty("jqx-"+t.template)))}},destroy:function(){this._removeHandlers(),this.host.remove()},inputValue:function(e){return void 0===e?this._value():(this.propertyChangedHandler(this,"value",this._value,e),this._refreshValue(),this)},_value:function(){return this.numberInput.val()},val:function(e){if((void 0===e||"object"==typeof e)&&null!==e)return this.getDecimal();if(null!==e){var t=e;(t=t.toString()).indexOf(this.symbol)>-1&&(t=t.replace(this.symbol,"")),t=function(e,t,i){var r=e;if(""==t)return e;for(var n=r.indexOf(t);-1!=n;)n=(r=r.replace(t,"")).indexOf(t);return r}(t=t.replace(this.decimalSeparator,"."),this.groupSeparator);for(var i="",r=0;r<t.length;r++){var n=t.substring(r,r+1);"-"===n&&(i+="-"),"."===n&&(i+="."),null!=n.match(/^[0-9]+$/)&&(i+=n)}t=(t=i).replace(/ /g,""),t=new Number(t),this.setDecimal(t)}else this.setDecimal(null)},getDecimal:function(){return null==this.decimal?null:("simple"==this.inputMode&&(this._parseDecimalInSimpleMode(!1),this.decimal=this._getDecimalInSimpleMode(this.decimal)),""==this.decimal?0:this.getvalue("negative")&&this.decimal>0?-parseFloat(this.decimal):parseFloat(this.decimal))},setDecimal:function(e){var t=e;if("."!=this.decimalSeparator)if(null===e)this._setDecimal(e);else{var i,r,n,s=e;"number"!=typeof e&&(-1!=(i=(e=e.toString()).indexOf("."))||-1!=(i=e.indexOf(this.decimalSeparator)))&&(s=(r=e.substring(0,i))+"."+(n=e.substring(i+1)),-1!=r.indexOf("-")&&(r=r.substring(1)),e="advanced"!=this.inputMode?r+"."+n:r+this.decimalSeparator+n),this.setvalue("negative",s<0),this._setDecimal(null===e?e:Math.abs(e))}else this.setvalue("negative",e<0),this._setDecimal(null===e?e:Math.abs(e));null==t&&this.numberInput.val(""),this._updateHint()},_setDecimal:function(e){if(this.allowNull||null!=e||(this.decimal=0,e=0),null==e)return this.decimal=null,this.value=null,this.clearDecimal(),this._refreshValue(),this.decimal=null,this.value=null,void(this.ValueString="");-1!=e.toString().indexOf("e")&&(e=new Number(e).toFixed(this.decimalDigits).toString()),this.clearDecimal();var t=e.toString(),i="",r="",n=!0;0==t.length&&(t="0");for(var s=0;s<t.length;s++){if("number"==typeof e){if("."==t.substring(s,s+1)){n=!1;continue}}else if(t.substring(s,s+1)==this.decimalSeparator){n=!1;continue}n?i+=t.substring(s,s+1):r+=t.substring(s,s+1)}i.length>0&&(i=parseFloat(i).toString());var o=this.digits;o<i.length&&(i=i.substr(0,o));var a=0,l=this._getSeparatorPosition();for(s=l+=this._getHiddenPrefixCount();s>=0;s--)s<this.items.length&&this.items[s].canEdit&&a<i.length&&(this.items[s].character=i.substring(i.length-a-1,i.length-a),a++);for(a=0,s=l;s<this.items.length;s++)this.items[s].canEdit&&a<r.length&&(this.items[s].character=r.substring(a,a+1),a++);if(this._refreshValue(),"."==this.decimalSeparator)this.ValueString=new Number(e).toFixed(this.decimalDigits);else{var d=e.toString().indexOf(this.decimalSeparator);if(d>0){var h=e.toString().substring(0,d)+"."+e.toString().substring(d+1);this.ValueString=new Number(h).toFixed(this.decimalDigits)}else this.ValueString=new Number(e).toFixed(this.decimalDigits)}"advanced"!=this.inputMode&&(this._parseDecimalInSimpleMode(),this._raiseEvent(1,this.ValueString)),"textbox"==this.inputMode&&(this.decimal=this.ValueString,this.getvalue("negative")&&(this.decimal="-"+this.ValueString)),(e=this.val())<this.min||e>this.max?this.host.addClass("jqx-input-invalid"):this.host.removeClass("jqx-input-invalid"),this._updateHint()},_getSeparatorPosition:function(){var e=this._getHiddenPrefixCount();return this.decimalSeparatorPosition>0?this.decimalSeparatorPosition-e:this.items.length-e},_setTheme:function(){this.host.removeClass(),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-numberinput")),this.spinButtons&&(this.downbutton.removeClass(),this.upbutton.removeClass(),this.downbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal")),this.upbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal")),this._upArrow.removeClass(),this._downArrow.removeClass(),this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down"))),this.numberInput.removeClass(),this.numberInput.addClass(this.toThemeProperty("jqx-input-content"))},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&e._render()},propertyChangedHandler:function(e,t,i,n){if(!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)){if("template"==t&&(e.upbutton.removeClass(e.toThemeProperty("jqx-"+e.template)),e.downbutton.removeClass(e.toThemeProperty("jqx-"+e.template)),e.upbutton.addClass(e.toThemeProperty("jqx-"+e.template)),e.downbutton.addClass(e.toThemeProperty("jqx-"+e.template))),("digits"==t||"groupSize"==t||"decimalDigits"==t)&&n<0)throw new Exception(this.invalidArgumentExceptions[0]);if("placeHolder"==t&&(e.isMaterialized()?e.hint&&(e.label[0].innerHTML=e.placeHolder):e.numberInput.attr("placeholder",e.placeHolder)),"theme"===t&&r.jqx.utilities.setTheme(i,n,e.host),"digits"==t&&n!=i&&(e.digits=parseInt(n)),"min"!=t&&"max"!=t||(r.jqx.aria(e,"aria-value"+t,n.toString()),e._refreshValue()),"decimalDigits"==t&&n!=i&&(e.decimalDigits=parseInt(n)),"decimalSeparator"==t||"digits"==t||"symbol"==t||"symbolPosition"==t||"groupSize"==t||"groupSeparator"==t||"decimalDigits"==t||"negativeSymbol"==t){var s=e.decimal;if("decimalSeparator"==t&&""==n&&(n=" "),i!=n){var o=e._selection();e.items=new Array,e._initializeLiterals(),e.value=e._getString(),e._refreshValue(),e._setDecimal(s)}}if("rtl"==t&&(e.rtl?(e.spincontainer&&(e.spincontainer.css("float","right"),e.spincontainer.css("border-right-width","1px")),e.numberInput.css("float","right")):(e.spincontainer&&(e.spincontainer.css("float","right"),e.spincontainer.css("border-right-width","1px")),e.numberInput.css("float","left"))),"spinButtons"==t&&(e.spincontainer?(e.spincontainer.css("display",n?"block":"none"),e._render()):e._spinButtons()),"touchMode"===t&&(e.inputMode="textbox",e.spinMode="simple",e.render()),"negative"==t&&"advanced"==e.inputMode){o=e._selection();var a=0;n?(e.items[0].character=e.negativeSymbol[0],a=1):(e.items[0].character="",a=-1),e._refreshValue(),e.isInitialized&&e._setSelection(o.start+a,o.end+a)}if("decimal"==t&&(e.value=n,e.setDecimal(n)),"value"===t&&(e.value=n,e.setDecimal(n),e._raiseEvent(1,n)),"textAlign"==t&&(e.textAlign=n,e._render()),"disabled"==t&&(e.numberInput.attr("disabled",n),e.disabled?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),r.jqx.aria(e,"aria-disabled",n.toString())),"readOnly"==t&&(e.readOnly=n),"promptChar"==t){for(var l=0;l<e.items.length;l++)e.items[l].character==e.promptChar&&(e.items[l].character=n);e.promptChar=n}"width"==t?(e.width=n,e._render()):"height"==t&&(e.height=n,e._render())}}},"_value",(function(){return this.value})),_defineProperty(i,"_refreshValue",(function(){var e;if("textbox"!==this.inputMode){this.value=this._getString(),e=this.value;for(var t="",i=0;i<this.items.length;i++){var r=this.items[i];r.canEdit&&r.character!=this.promptChar&&(t+=r.character),i==this.decimalSeparatorPosition&&(t+=".")}this.decimal=t;var n=!1;this.oldValue!==e&&(this.oldValue=e,this._raiseEvent(0,e),n=!0),"simple"!=this.inputMode&&(this.numberInput.val(e),n&&this._raiseEvent(1,e)),null==e&&this.numberInput.val("")}})),i))},SkuG:function(e,t){var i;(i=jqxBaseFramework).jqx.dataview.sort=function(){this.sortby=function(e,t,r){var n=Object.prototype.toString;if(null!=t||(this.sortdata=null,"many"!==this.grid.sortmode?this.sortcache={}:this.sortcache[e]&&delete this.sortcache[e],this.grid._pagescache=new Array,this.grid._cellscache=new Array,"many"===this.grid.sortmode)){"many"===this.grid.sortmode&&(this.grid._pagescache=new Array,this.grid._cellscache=new Array),null!=t&&(t="a"==t||"asc"==t||"ascending"==t||1==t);var s=e;this.sortfield=e,this.sortfielddirection=t?"asc":"desc",null==t&&(this.sortfielddirection=null),null==this.sortcache&&(this.sortcache={}),this.sortdata=[];var o=[],a=!1;"constructor"==s&&(s=""),this.virtualmode||null==this.sortcache[s]||"many"===this.grid.sortmode||(o=(_=this.sortcache[s])._sortdata,_.direction==t?o.reverse():(!_.direction&&t&&o.reverse(),a=!0),o.length<this.totalrecords&&(this.sortcache={},a=!1,o=[])),Object.prototype.toString="function"==typeof e?e:function(){return this[e]};var l=this.records,d="";if(this.source.datafields&&i.each(this.source.datafields,(function(){if(this.name==e)return this.type&&(d=this.type),!1})),0==o.length)if(l.length){for(var h=l.length,u=0;u<h;u++)if(null!=(m=l[u])){var c=(g=m).toString();o.push({sortkey:c,value:g,index:u})}}else{var p=!1;for(var f in l){var m,g;if(null==(m=l[f])){p=!0;break}o.push({sortkey:(g=m).toString(),value:g,index:f})}p&&i.each(l,(function(e,t){o.push({sortkey:t.toString(),value:t,index:e})}))}if(!a)if(null==r){this._sortcolumntype=d;var v=this;o.sort((function(e,t){return v._compare(e,t,d)}))}else o.sort(r);if(t||o.reverse(),Object.prototype.toString=n,this.sortdata=o,null!==t&&(this.sortcache[s]={_sortdata:o,direction:t,dataType:this._sortcolumntype,dataField:s}),"many"===this.grid.sortmode){var w=[],y=[],b=[];for(var x in this.sortcache){var _;"data"!==x&&(w.push((_=this.sortcache[x]).dataField),y.push(_.direction?"asc":"desc"),b.push(_.dataType))}if(!(w.length>0))return this.sortcache={},this.sortdata=null,void this.refresh();var C=this.multiSort(l,w,y,b);o=[],i.each(C,(function(e,t){o.push({sortkey:s,value:t,index:t.boundindex})})),this.sortdata=o}this.reload(this.records,this.rows,this.filters,this.updated,!0)}else this.refresh()},this.multiSort=function(e,t,r,n,s){if(0!==e.length){for(var o=[],a=0;a<e.length;a++){var l=i.extend({},e[a]);o.push(l)}var d=!1;if(o&&o.constructor&&"ObservableArray"===o.constructor.name&&(d=!0),!(o&&o instanceof Array&&0!==o.length&&t&&!(t instanceof Array&&0===t.length)||d))throw new Error("sort: Missing or Invalid arguments!");"string"==typeof t&&(t=[t]);var h=[],u=[];void 0===r&&(r=[]);var c=function(e,t){var i;switch(t||typeof e){case"string":default:i=(new Intl.Collator).compare;break;case"date":case"time":case"datetime":case"number":case"int":case"float":i=function(e,t){return e-t};break;case"boolean":i=function(e,t){return e===t?0:!1===e?-1:1};break;case"object":e instanceof Date&&(i=function(e,t){return e.getTime()-t.getTime()})}return i};for(a=0;a<t.length;a++)h[a]=void 0===r[a]||"asc"===r[a]||"ascending"===r[a]?1:-1,u[a]=c(o[0][t[a]],n[a]);if(!s)return o.sort((function(e,i){for(var r=0;r<t.length;r++){var n=u[r](e[t[r]],i[t[r]]);if(0===n){if(t[r+1])continue;return void 0!==e._index?(e._index-i._index)*h[r]:0}return n*h[r]}if(0===t.length)return e.boundIndex<i.boundIndex?-1:e.boundIndex>i.boundIndex?1:0})),o;s(o,t,r,u)}},this.clearsortdata=function(){this.sortcache={},this.sortdata=null},this._compare=function(e,t,r){if(void 0===(e=e.sortkey)&&(e=null),void 0===(t=t.sortkey)&&(t=null),null===e&&null===t)return 0;if(null===e&&null!==t)return-1;if(null!==e&&null===t)return 1;if(i.jqx.dataFormat)if(r&&""!=r)switch(r){case"number":case"int":case"float":return e<t?-1:e>t?1:0;case"date":case"time":return e<t?-1:e>t?1:0;case"string":case"text":e=String(e).toLowerCase(),t=String(t).toLowerCase()}else{if(i.jqx.dataFormat.isNumber(e)&&i.jqx.dataFormat.isNumber(t))return e<t?-1:e>t?1:0;if(i.jqx.dataFormat.isDate(e)&&i.jqx.dataFormat.isDate(t))return e<t?-1:e>t?1:0;i.jqx.dataFormat.isNumber(e)||i.jqx.dataFormat.isNumber(t)||(e=String(e).toLowerCase(),t=String(t).toLowerCase())}try{if(e<t)return-1;if(e>t)return 1}catch(n){}return 0},this._equals=function(e,t){return 0===this._compare(e,t)}},i.extend(i.jqx._jqxGrid.prototype,{_rendersortcolumn:function(){var e=this.that,t=this.getsortcolumn();if("many"!==this.sortmode){if(this.sortdirection){var r=function(t,r){var n=e.getcolumn(t);n&&i.jqx.aria(n.element,"aria-sort",r.ascending?"ascending":r.descending?"descending":"none")};this._oldsortinfo&&this._oldsortinfo.column&&r(this._oldsortinfo.column,{ascending:!1,descending:!1}),r(t,this.sortdirection)}this._oldsortinfo={column:t,direction:this.sortdirection},this.sortdirection&&i.each(this.columns.records,(function(r,n){var s=i.data(document.body,"groupsortelements"+this.displayfield);null==t||this.displayfield!=t?(i(this.sortasc).hide(),i(this.sortdesc).hide(),i(this.sorticon).css("visibility","hidden"),i(this.sorticon).removeClass("ascending"),i(this.sorticon).removeClass("descending"),this.element.removeAttribute("sort"),null!=s&&(s.sortasc.hide(),s.sortdesc.hide())):(e.isMaterialized()||e.isModern()?(i(this.sortasc).hide(),i(this.sortdesc).hide(),i(this.sorticon).show(),i(this.sorticon).css("visibility","inherit"),null!=s&&(s.sortasc.hide(),s.sortdesc.show()),i(this.sorticon).removeClass("ascending"),i(this.sorticon).removeClass("descending"),e.sortdirection.ascending?i(this.sorticon).addClass("ascending"):i(this.sorticon).addClass("descending")):e.sortdirection.ascending?(i(this.sortasc).show(),i(this.sortdesc).hide(),null!=s&&(s.sortasc.show(),s.sortdesc.hide())):(i(this.sortasc).hide(),i(this.sortdesc).show(),null!=s&&(s.sortasc.hide(),s.sortdesc.show())),this.element.setAttribute("sort",!0))}))}else{this.__columnsbydatafield=new Array;var n=this.getsortcolumns();if(i.each(this.columns.records,(function(e,t){i(this.sortasc).hide(),i(this.sortdesc).hide(),i(this.sorticon).css("visibility","hidden"),this.element.removeAttribute("sort")})),n.length>0)for(var s=0;s<n.length;s++){var o=n[s],a=this._getcolumnbydatafield(o.dataField);a.element.setAttribute("sort",!0),e.isMaterialized()||e.isModern()?(i(a.sorticon).show(),i(a.sorticon).css("visibility","inherit"),i(a.sorticon).removeClass("ascending"),i(a.sorticon).removeClass("descending"),o.ascending?i(a.sorticon).addClass("ascending"):i(a.sorticon).addClass("descending")):o.ascending?(i(a.sortasc).show(),i(a.sortdesc).hide()):!1===o.ascending&&(i(a.sortasc).hide(),i(a.sortdesc).show())}}},getsortcolumns:function(){var e=this,t=[];for(var i in e.dataview.sortcache)"data"!==i&&t.push({dataField:i,ascending:e.dataview.sortcache[i].direction});if(0===t.length)for(var r in e.sortcolumns){var n=e.sortcolumns[r];null!==n&&t.push({dataField:r,ascending:n})}return t},getsortcolumn:function(){return null!=this.sortcolumn?this.sortcolumn:null},removesort:function(){if(this.sortby(null),"many"===this.sortmode)for(var e in this.sortcolumns)this.sortby(e,null)},sortby:function(e,t,i,r,n){if(this._loading&&!1!==n)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==e&&(t=null,e=this.sortcolumn),null!=e){var s=this.that;if(null==i&&s.source&&null!=s.source.sortcomparer&&(i=s.source.sortcomparer),void 0===t&&(t=!0),"a"==t||"asc"==t||"ascending"==t||1==t)var o=!0;else o=!1;if(s.sortdirection=null!=t?{ascending:o,descending:!o}:{ascending:!1,descending:!1},s.sortcolumn=null!=t?e:null,s.sortcolumns||(s.sortcolumns=[]),s.sortcolumns[e]=t,s.source&&(s.source.sort||s.virtualmode)){if(s.dataview.sortfield=e,s.dataview.sortfielddirection=null==t?"":o?"asc":"desc",s.source.sort&&!this._loading)return s.source.sort(e,t,s.sortcolumns),void s._raiseEvent(6,{sortinformation:s.getsortinformation()})}else s.dataview.sortby(e,t,i);if(!1===r)return;s.groupable&&s.groups.length>0?(s._render(!0,!1,!1),s._updategroupheadersbounds&&s.showgroupsheader&&s._updategroupheadersbounds(),s._postrender("sort")):(s.pageable&&s.dataview.updateview(),s._updaterowsproperties(),s.rendergridcontent(!0),s._postrender("sort")),s._raiseEvent(6,{sortinformation:s.getsortinformation()})}},_togglesort:function(e){var t=this.that;if(!this.disabled)if("many"!==this.sortmode){if(e.sortable&&t.sortable){var i=t.getsortinformation();n=null,null!=i.sortcolumn&&i.sortcolumn==e.displayfield?(n=i.sortdirection.ascending,n=t.sorttogglestates>1?1!=n&&null:!n):n=!0,t.sortby(e.displayfield,n,null)}}else if(e.sortable&&t.sortable){for(var r=t.getsortcolumns(),n=null,s=0;s<r.length;s++){var o=r[s];if(e.displayfield===o.dataField)return n=o.ascending,void t.sortby(e.displayfield,n=t.sorttogglestates>1?1!=n&&null:!n,null)}t.sortby(e.displayfield,!0,null)}}})},"V/5F":function(e,t){var i;(i=jqxBaseFramework).extend(i.jqx._jqxGrid.prototype,{selectallrows:function(){this._trigger=!1;var e=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array;for(var t=this.dataview.loadedrecords,i=0;i<e;i++){var r=t[i];if(r){var n=this.getboundindex(r);null!=n&&(this.selectedrowindexes[i]=n)}else this.selectedrowindexes[i]=i}"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},unselectallrows:function(){this._trigger=!1,this.selectedrowindexes=new Array,"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},selectrow:function(e,t){"none"!==this.selectionmode&&(this._applyrowselection(e,!0,t),!1!==t&&this._updatecheckboxselection())},_updatecheckboxselection:function(){if("checkbox"==this.selectionmode){var e=this.getrows();if(e&&this._checkboxcolumn){if(0===e.length)return void this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1});var t=e.length;this.groupable&&(t=this.dataview.loadedrecords.length),this.virtualmode&&(t=this.source._source.totalrecords);var i=this.selectedrowindexes.length;this._checkboxcolumn.checkboxelement.jqxCheckBox(i===t?{checked:!0}:0===i?{checked:!1}:{checked:null})}}},unselectrow:function(e,t){this._applyrowselection(e,!1,t),!1!==t&&this._updatecheckboxselection()},selectcell:function(e,t){this._applycellselection(e,t,!0)},unselectcell:function(e,t){this._applycellselection(e,t,!1)},clearselection:function(e,t){if(this._trigger=!1,this.selectedrowindex=-1,this._oldselectedcell=null,!1!==t)for(var i=0;i<this.selectedrowindexes.length;i++)this._raiseEvent(3,{rowindex:this.selectedrowindexes[i]});for(this.selectedrowindexes=new Array,this.selectedcells=new Array,this.selectedcell=null,"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),i=0;i<this.columns.records.length;i++)this.columns.records[i].selected=!1,this.columns.records[i]._applyStyle();!1!==e?(this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(3,{rowindex:this.selectedrowindexes})):this._trigger=!0},getselectedrowindex:function(){if(-1==this.selectedrowindex||null==this.selectedrowindex)for(var e=0;e<this.selectedrowindexes.length;e++)return this.selectedrowindexes[e];return this.selectedrowindex},getselectedrowindexes:function(){return this.selectedrowindexes},getselectedcell:function(){if(!this.selectedcell)return null;var e=this.selectedcell;return e.row=this.selectedcell.rowindex,e.column=this.selectedcell.datafield,e.value=this.getcellvalue(e.row,e.column),e},getselectedcells:function(){var e=new Array;for(var t in this.selectedcells)e[e.length]=this.selectedcells[t];return e},getselection:function(){return{cells:this.getselectedcells(),rows:this.getselectedrowindexes()}},_getcellsforcopypaste:function(){var e=new Array;if(-1==this.selectionmode.indexOf("cell"))for(var t=this.selectedrowindexes,i=0;i<t.length;i++)for(var r=t[i],n=0;n<this.columns.records.length;n++)"_checkboxcolumn"!==this.columns.records[n].datafield&&e.push({rowindex:r,datafield:this.columns.records[n].datafield});return e},deleteselection:function(){var e=this,t=e.getselectedcells();if(-1==this.selectionmode.indexOf("cell")&&(t=this._getcellsforcopypaste()),null!=t&&t.length>0){for(var i=0;i<t.length;i++){var r=t[i],n=e.getcolumn(r.datafield),s=e.getcellvalue(r.rowindex,r.datafield);if(n&&""!==s){var o=null;"checkbox"==n.columntype&&(n.threestatecheckbox||(o=!1)),e._raiseEvent(17,{rowindex:r.rowindex,datafield:r.datafield,value:s}),i==t.length-1?(e.setcellvalue(r.rowindex,r.datafield,o,!0),n.displayfield!=n.datafield&&e.setcellvalue(r.rowindex,n.displayfield,o,!0)):(e.setcellvalue(r.rowindex,r.datafield,o,!1),n.displayfield!=n.datafield&&e.setcellvalue(r.rowindex,n.displayfield,o,!0)),e._raiseEvent(18,{rowindex:r.rowindex,datafield:r.datafield,oldvalue:s,value:o})}}this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}},copyselection:function(){var e="",t=this;this.clipboardselection={},this.logicalclipboardselection={},this._clipboardselection=[];var r=t.getselectedcells();-1==this.selectionmode.indexOf("cell")&&(r=this._getcellsforcopypaste());var n=new Array;if(null!=r&&r.length>0){for(var s=999999999999999,o=-1,a=0;a<r.length;a++){var l=r[a],d=t.getcolumn(l.datafield);if(null!=d&&d.clipboard&&(!d.hidden||this.copytoclipboardhiddencolumns)){-1==n.indexOf(d.text)&&n.push(d.text);var h=t.getcelltext(l.rowindex,d.displayfield),u=this.getrowdisplayindex(l.rowindex);this.clipboardselection[u]||(this.clipboardselection[u]={}),this.clipboardselection[u][d.displayfield]=h,this.logicalclipboardselection[u]||(this.logicalclipboardselection[u]={}),this.logicalclipboardselection[u][d.displayfield]=h,d.displayfield!=d.datafield&&(this.logicalclipboardselection[u][d.datafield]=t.getcellvalue(l.rowindex,d.datafield)),s=Math.min(s,u),o=Math.max(o,u)}}for(var c=new Array,p=s;p<=o;p++)if(this.logicalclipboardselection[p]){var f=i.extend({},this.logicalclipboardselection[p]);c.push(f)}if(this.logicalclipboardselection=c,this.copytoclipboardwithheaders){for(var m=0;m<n.length;m++)m>0&&(e+="\t"),e+=n[m];e+="\r\n"}for(p=s;p<=o;p++){var g=0;this._clipboardselection[this._clipboardselection.length]=new Array,null!=this.clipboardselection[p]&&(i.each(this.clipboardselection[p],(function(i,r){g>0&&(e+="\t");var n=r;null==r&&(n=""),t._clipboardselection[t._clipboardselection.length-1][g]=n,g++,e+=n})),p<o&&(e+="\r\n"))}}return this.clipboardselectedtext=e,e},pasteselection:function(){var e=this.getselectedcells();if(this._oldselectedcell=null,-1==this.selectionmode.indexOf("cell")&&(e=this._getcellsforcopypaste()),null!=e&&e.length>0){var t=this.getrowdisplayindex(e[0].rowindex),i=this._getcolumnindex(e[0].datafield);this.selectedrowindexes=new Array,this.selectedcells=new Array;var r=0,n=new Array;this.copytoclipboardwithheaders&&this._clipboardselection.splice(0,1);for(var s=0;s<this._clipboardselection.length;s++){r+=this._clipboardselection[s].length,n[s]=new Array;for(var o=0;o<this._clipboardselection[s].length;o++)n[s].push(u=this._clipboardselection[s][o])}if(r<e.length){var a=new Array;for(s=0;s<e.length;s++)a[(v=e[s]).rowindex]||(a[v.rowindex]=new Array),a[v.rowindex].push(v);var l=0,d=0;for(s=0;s<a.length;s++)if(a[s]){for(o=0;o<a[s].length;o++){var h=(v=a[s][o]).rowindex;if("_checkboxcolumn"!==(g=this.getcolumn(v.datafield)).datafield&&!g.hidden){var u="";if(null==n[l][d]&&(d=0),u=n[l][d],d++,g.cellsformat&&(-1!=g.cellsformat.indexOf("p")||-1!=g.cellsformat.indexOf("c")||-1!=g.cellsformat.indexOf("n")||-1!=g.cellsformat.indexOf("f"))){u.indexOf(this.gridlocalization.currencysymbol)>-1&&(u=u.replace(this.gridlocalization.currencysymbol,"")),(u=(u=function(e,t,i){var r=e;if(""==t)return e;for(var n=r.indexOf(t);-1!=n;)n=(r=r.replace(t,"")).indexOf(t);return r}(u,this.gridlocalization.thousandsseparator)).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)>-1&&(u=u.replace(this.gridlocalization.percentsymbol,""));for(var c="",p=0;p<u.length;p++)"-"===(w=u.substring(p,p+1))&&(c+="-"),"."===w&&(c+="."),null!=w.match(/^[0-9]+$/)&&(c+=w);u=(u=c).replace(/ /g,""),u=new Number(u),isNaN(u)&&(u="")}this._raiseEvent(17,{rowindex:h,datafield:v.datafield,value:u}),this.setcellvalue(h,g.displayfield,u,!1),g.displayfield!=g.datafield&&this.logicalclipboardselection&&this.logicalclipboardselection[h]&&null!=(y=this.logicalclipboardselection[h][g.datafield])&&this.setcellvalue(h,g.datafield,y,!1),this._raiseEvent(18,{rowindex:h,datafield:v.datafield,oldvalue:this.getcellvalue(v.rowindex,v.datafield),value:u}),this._applycellselection(h,v.datafield,!0,!1)}}d=0,n[++l]||(l=0)}}else{if(!this._clipboardselection)return;for(var f=0;f<this._clipboardselection.length;f++)for(var m=0;m<this._clipboardselection[f].length;m++){var g;if((g=this.getcolumnat(i+m))&&"_checkboxcolumn"!==g.datafield&&!g.hidden){h=this.getrowboundindex(t+f);var v=this.getcell(h,g.datafield);if(u=null,null!=(u=this._clipboardselection[f][m])){if(g.cellsformat&&(-1!=g.cellsformat.indexOf("p")||-1!=g.cellsformat.indexOf("c")||-1!=g.cellsformat.indexOf("n")||-1!=g.cellsformat.indexOf("f"))){for(u.indexOf(this.gridlocalization.currencysymbol)>-1&&(u=u.replace(this.gridlocalization.currencysymbol,"")),(u=(u=function(e,t,i){var r=e;if(""==t)return e;for(var n=r.indexOf(t);-1!=n;)n=(r=r.replace(t,"")).indexOf(t);return r}(u,this.gridlocalization.thousandsseparator)).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)>-1&&(u=u.replace(this.gridlocalization.percentsymbol,"")),c="",p=0;p<u.length;p++){var w;"-"===(w=u.substring(p,p+1))&&(c+="-"),"."===w&&(c+="."),null!=w.match(/^[0-9]+$/)&&(c+=w)}u=(u=c).replace(/ /g,""),u=new Number(u),isNaN(u)&&(u="")}var y;this._raiseEvent(17,{rowindex:h,datafield:v.datafield,value:u}),this.setcellvalue(h,g.displayfield,u,!1),g.displayfield!=g.datafield&&this.logicalclipboardselection&&null!=(y=this.logicalclipboardselection[f][g.datafield])&&this.setcellvalue(h,g.datafield,y,!1),this._raiseEvent(18,{rowindex:h,datafield:v.datafield,oldvalue:this.getcellvalue(v.rowindex,v.datafield),value:u}),this._applycellselection(h,v.datafield,!0,!1)}}}}"checkbox"==this.selectionmode&&this._updatecheckboxselection(),this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}this.clipboardend&&this.clipboardend("paste")},_applyrowselection:function(e,t,i,r,n){if(null==e)return!1;var s=this.selectedrowindex;if("singlerow"==this.selectionmode&&(this._raiseEvent(t?2:3,{rowindex:e,row:this.getrowdata(e)}),this._raiseEvent(3,{rowindex:s}),this.selectedrowindexes=new Array,this.selectedcells=new Array),1==r&&(this.selectedrowindexes=new Array),this.dataview.filters.length>0){var o=this.getrowdata(e);o&&void 0!==o.dataindex?e=o.dataindex:o&&void 0===o.dataindex&&null!=o.uid&&(e=this.getrowboundindexbyid(o.uid))}var a=this.selectedrowindexes.indexOf(e);if(t)this.selectedrowindex=e,-1==a?(this.selectedrowindexes.push(e),"singlerow"!=this.selectionmode&&this._raiseEvent(2,{rowindex:e,row:this.getrowdata(e)})):"multiplerows"==this.selectionmode&&(this.selectedrowindexes.splice(a,1),this._raiseEvent(3,{rowindex:this.selectedrowindex,row:this.getrowdata(e)}),this.selectedrowindex=this.selectedrowindexes.length>0?this.selectedrowindexes[this.selectedrowindexes.length-1]:-1);else if(a>=0||"singlerow"==this.selectionmode||"multiplerowsextended"==this.selectionmode||"multiplerowsadvanced"==this.selectionmode){var l=this.selectedrowindexes[a];this.selectedrowindexes.splice(a,1),this._raiseEvent(3,{rowindex:l,row:this.getrowdata(e)}),this.selectedrowindex=-1}return(null==i||i)&&this._rendervisualrows(),!0},_applycellselection:function(e,t,i,r){if(null==e)return!1;if(null==t)return!1;var n;"singlecell"==this.selectionmode&&(null!=(n=this.selectedcell)&&this._raiseEvent(16,{rowindex:n.rowindex,datafield:n.datafield}),this.selectedcells=new Array),"multiplecellsextended"!=this.selectionmode&&"multiplecellsadvanced"!=this.selectionmode||null!=(n=this.selectedcell)&&this._raiseEvent(16,{rowindex:n.rowindex,datafield:n.datafield});var s=e+"_"+t;if(this.dataview.filters.length>0){var o=this.getrowdata(e);o&&void 0!==o.dataindex?s=(e=o.dataindex)+"_"+t:o&&void 0===o.dataindex&&o.uid&&(s=(e=this.getrowboundindexbyid(o.uid))+"_"+t)}var a={rowindex:e,datafield:t};return i?(this.selectedcell=a,this.selectedcells[s]?"multiplecells"!=this.selectionmode&&"multiplecellsextended"!=this.selectionmode&&"multiplecellsadvanced"!=this.selectionmode||(delete this.selectedcells[s],this.selectedcells.length>0&&this.selectedcells.length--,this._raiseEvent(16,a)):(this.selectedcells[s]=a,this.selectedcells.length++,this._raiseEvent(15,a))):(delete this.selectedcells[s],this.selectedcells.length>0&&this.selectedcells.length--,this._raiseEvent(16,a)),(null==r||r)&&this._rendervisualrows(),!0},_getcellindex:function(e){var t=-1;return i.each(this.selectedcells,(function(){if(t++,this[e])return!1})),t},_clearhoverstyle:function(){if(null!=this.hoveredrow&&-1!=this.hoveredrow&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var e=this.table.find(".jqx-grid-cell-hover");e.length>0&&(e.removeClass(this.toTP("jqx-grid-cell-hover")),e.removeClass(this.toTP("jqx-fill-state-hover")));for(var t=0;t<e.length;t++){var i=e[t].getAttribute("columnindex");if(i){var r=this.columns.records[parseInt(i)];r&&r._applyCellStyle(e[t])}}this.hoveredrow=-1}},_clearselectstyle:function(){for(var e=this.table[0].rows.length,t=this.table[0].rows,r=this.toTP("jqx-grid-cell-selected"),n=this.toTP("jqx-fill-state-pressed"),s=this.toTP("jqx-grid-cell-hover"),o=this.toTP("jqx-fill-state-hover"),a=0;a<e;a++)for(var l=t[a],d=l.cells.length,h=l.cells,u=0;u<d;u++){var c=h[u],p=i(c);-1!=c.className.indexOf("jqx-grid-cell-selected")&&(p.removeClass(r),p.removeClass(n)),-1!=c.className.indexOf("jqx-grid-cell-hover")&&(p.removeClass(s),p.removeClass(o));var f=c.getAttribute("columnindex");if(f){var m=this.columns.records[parseInt(f)];m&&m._applyCellStyle(c)}}},_selectpath:function(e,t){var i=this._lastClickedCell?Math.min(this._lastClickedCell.row,e):0,r=this._lastClickedCell?Math.max(this._lastClickedCell.row,e):0;if(i<=r){var n=this._getcolumnindex(this._lastClickedCell.column),s=this._getcolumnindex(t),o=Math.min(n,s),a=Math.max(n,s);this.selectedcells=new Array;for(var l=this.dataview.loadedrecords,d=i;d<=r;d++)for(var h=o;h<=a;h++)this._applycellselection(this.getboundindex(e=l[d]),this._getcolumnat(h).datafield,!0,!1);this._rendervisualrows()}},_selectrowpath:function(e){if("multiplerowsextended"==this.selectionmode){var t=this._lastClickedCell?Math.min(this._lastClickedCell.row,e):0,i=this._lastClickedCell?Math.max(this._lastClickedCell.row,e):0,r=this.dataview.loadedrecords;if(t<=i){this.selectedrowindexes=new Array;for(var n=t;n<=i;n++){e=r[n];var s=this.getrowboundindex(n);this._applyrowselection(s,!0,!1)}this._rendervisualrows()}}},_selectrowwithmouse:function(e,t,i,r,n,s){if(null!=(b=t.row)){var o=t.index;if(null!=this.hittestinfo[o]){for(var a=0;a<this.columns.records.length;a++){var l=this.columns.records[a];l.selected=!1,l.element&&l.element.removeAttribute("selected"),l._applyStyle()}var d=this.hittestinfo[o].visualrow;if(!this.hittestinfo[o].details&&!b.group){if("multiplerows"==this.selectionmode||"multiplecells"==this.selectionmode||"checkbox"==this.selectionmode||-1!=this.selectionmode.indexOf("multiple")&&(1==s||1==n)){var h=this.getboundindex(b);if(this.dataview.filters.length>0){var u=this.getrowdata(h);u&&null==(h=u.dataindex)&&(h=this.getboundindex(b))}var c=-1!=i.indexOf(h),p=this.getboundindex(b)+"_"+r;if(-1!=this.selectionmode.indexOf("cell")){if(this._selectcellwithstyle(e,null==this.selectedcells[p]||!(null!=this.selectedcells[p]),o,r,d),s&&null==this._lastClickedCell){var f=this.getselectedcells();f&&f.length>0&&(this._lastClickedCell={row:f[0].rowindex,column:f[0].datafield})}s&&this._lastClickedCell&&(this._selectpath(b.visibleindex,r),this.mousecaptured=!1,"visible"==this.selectionarea.css("visibility")&&this.selectionarea.css("visibility","hidden"))}else{if(c?n?this._applyrowselection(this.getboundindex(b),!1):this._selectrowwithstyle(e,d,!1,r):this._selectrowwithstyle(e,d,!0,r),s&&null==this._lastClickedCell){var m=this.getselectedrowindexes();m&&m.length>0&&(this._lastClickedCell={row:m[0],column:r})}if(s&&this._lastClickedCell){this.selectedrowindexes=new Array;for(var g=this._lastClickedCell?Math.min(this._lastClickedCell.row,b.visibleindex):0,v=this._lastClickedCell?Math.max(this._lastClickedCell.row,b.visibleindex):0,w=this.dataview.loadedrecords,y=g;y<=v;y++){var b;(b=w[y])&&this._applyrowselection(this.getboundindex(b),!0,!1,!1)}this._rendervisualrows()}}}else this._clearselectstyle(),this._selectrowwithstyle(e,d,!0,r),-1!=this.selectionmode.indexOf("cell")&&this._selectcellwithstyle(e,!0,o,r,d);s||(this._lastClickedCell={row:b.visibleindex,column:r})}}}},_selectcellwithstyle:function(e,t,r,n,s){var o=i(s.cells[e._getcolumnindex(n)]);o.removeClass(this.toTP("jqx-grid-cell-hover")),o.removeClass(this.toTP("jqx-fill-state-hover")),t?(o.addClass(this.toTP("jqx-grid-cell-selected")),o.addClass(this.toTP("jqx-fill-state-pressed"))):(o.removeClass(this.toTP("jqx-grid-cell-selected")),o.removeClass(this.toTP("jqx-fill-state-pressed"))),this.getcolumn(n)._applyCellStyle(o)},_selectrowwithstyle:function(e,t,r,n){var s=t.cells.length,o=0;e.rowdetails&&e.showrowdetailscolumn?this.rtl?(s-=1,s-=this.groups.length):o=1+this.groups.length:this.groupable&&(this.rtl?s-=this.groups.length:o=this.groups.length);for(var a=o;a<s;a++){var l=t.cells[a];if(r?(i(l).removeClass(this.toTP("jqx-grid-cell-hover")),i(l).removeClass(this.toTP("jqx-fill-state-hover")),-1==e.selectionmode.indexOf("cell")&&(i(l).addClass(this.toTP("jqx-grid-cell-selected")),i(l).addClass(this.toTP("jqx-fill-state-pressed")))):(i(l).removeClass(this.toTP("jqx-grid-cell-hover")),i(l).removeClass(this.toTP("jqx-grid-cell-selected")),i(l).removeClass(this.toTP("jqx-fill-state-hover")),i(l).removeClass(this.toTP("jqx-fill-state-pressed"))),n=l.getAttribute("columnindex")){var d=this.columns.records[parseInt(n)];d&&d._applyCellStyle(l)}}},_handlemousemoveselection:function(e,t){if(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling())return!1;if(("multiplerowsextended"==t.selectionmode||"multiplecellsextended"==t.selectionmode||"multiplecellsadvanced"==t.selectionmode)&&t.mousecaptured){if(t.multipleselectionbegins&&!1===t.multipleselectionbegins(e))return!0;var r=this.showheader?this.columnsheader.height()+2:0,n=this._groupsheader()?this.groupsheader.height():0;n+=this.showtoolbar?this.toolbar.height():0;var s=this.host.coord();if(this.hasTransform){s=i.jqx.utilities.getOffset(this.host);var o=this._getBodyOffset();s.left-=o.left,s.top-=o.top}"0px"===this.host.css("border-top-width")&&(n-=2);var a=e.pageX,l=e.pageY-n;if(Math.abs(this.mousecaptureposition.left-a)>3||Math.abs(this.mousecaptureposition.top-l)>3){parseInt(this.columnsheader.coord().top),this.hasTransform&&i.jqx.utilities.getOffset(this.columnsheader),a<s.left&&(a=s.left),a>s.left+this.host.width()&&(a=s.left+this.host.width());var d=s.top+r;l<d&&(l=d+5);var h=parseInt(Math.min(t.mousecaptureposition.left,a)),u=-5+parseInt(Math.min(t.mousecaptureposition.top,l)),c=parseFloat(Math.abs(t.mousecaptureposition.left-a)),p=parseInt(Math.abs(t.mousecaptureposition.top-l));if(h-=s.left,u-=s.top,this.selectionarea.css("visibility","visible"),"multiplecellsadvanced"==t.selectionmode){var f=(a=h)+c,m=t.hScrollInstance,g=m.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(g=m.max-m.value);var v=t.table[0].rows[0],w=0,y=t.mousecaptureposition.clickedcell,b=y,x=!1,_=0,C=v.cells.length;t.mousecaptureposition.left<=e.pageX&&(_=y);for(var j=!1,q=_;q<C;q++){var k=parseFloat(i(this.columnsrow[0].cells[q]).css("left")),T=k-g;if(!t.columns.records[q].pinned||t.columns.records[q].hidden){if(j){x=!0,b--;break}var S=this._getcolumnat(q);if(!(null!=S&&S.hidden||t.groupable&&t.groups.length>0&&q<t.groups.length))if(I=T+i(this.columnsrow[0].cells[q]).width(),t.mousecaptureposition.left>e.pageX){if(I>=a&&a>=T){b=q,x=!0;break}}else if(I>=f&&f>=T){b=q,x=!0;break}}else{q==y&&(j=!0);var I=k+i(this.columnsrow[0].cells[q]).width();if(t.mousecaptureposition.left>e.pageX){if(I>=a&&a>=T){b=q,x=!0;break}}else if(I>=f&&f>=T){b=q,x=!0;break}}}x||(t.mousecaptureposition.left>e.pageX?i.each(this.columns.records,(function(e,i){return!!(t.groupable&&t.groups.length>0&&e<t.groups.length)||(this.pinned||this.hidden?void 0:(b=e,!1))})):(!t.groupable||t.groupable&&!t.groups.length>0)&&(b=v.cells.length-1));var D=y;y=Math.min(y,b),b=Math.max(D,b),u+=5,u+=n,t.table[0].rows.indexOf(t.mousecaptureposition.clickedrow);var P=0,E=-1,M=-1,A=0;for(q=0;q<t.table[0].rows.length;q++){var H=i(t.table[0].rows[q]);0==q&&(A=H.coord().top);var O=H.height(),B=A-s.top;if(-1==E&&B+O>=u){for(var z=!1,N=0;N<t.groups.length;N++)if(-1!=(L=H[0].cells[N].className).indexOf("jqx-grid-group-collapse")||-1!=L.indexOf("jqx-grid-group-expand")){z=!0;break}if(z)continue;E=q}if(A+=O,t.groupable&&t.groups.length>0){for(z=!1,N=0;N<t.groups.length;N++){var L;if(-1!=(L=H[0].cells[N].className).indexOf("jqx-grid-group-collapse")||-1!=L.indexOf("jqx-grid-group-expand")){z=!0;break}}if(z)continue;w=0;for(var F=t.groups.length;F<H[0].cells.length;F++)""==i(H[0].cells[F]).html()&&w++;if(w==H[0].cells.length-t.groups.length)continue}if(-1!=E&&(P+=O),B+O>u+p){M=q;break}}if(-1!=E){u=i(t.table[0].rows[E]).coord().top-s.top-n-2;var R=0;this.filterable&&this.showfilterrow&&(R=this.filterrowheight),parseFloat(t.table[0].style.top)<0&&u<this.rowsheight+R&&(u-=parseFloat(t.table[0].style.top),P+=parseFloat(t.table[0].style.top)),p=P;var V=i(this.columnsrow[0].cells[y]),W=i(this.columnsrow[0].cells[b]);if(h=parseFloat(V.css("left")),c=parseFloat(W.css("left"))-parseFloat(h)+W.width()-2,h-=g,j&&(h+=g),t.editcell&&t.editable&&t.endcelledit&&(y!=b||E!=M)){if(0==t.editcell.validated)return;t.endcelledit(t.editcell.row,t.editcell.column,!0,!0)}}}this.selectionarea.width(c),this.selectionarea.height(p),this.selectionarea.css("left",h),this.selectionarea.css("top",u)}}},_handlemouseupselection:function(e,t){if(this.selectionarea){if("visible"!=this.selectionarea[0].style.visibility)return t.mousecaptured=!1,!0;if(t.mousecaptured&&("multiplerowsextended"==t.selectionmode||"multiplerowsadvanced"==t.selectionmode||"multiplecellsextended"==t.selectionmode||"multiplecellsadvanced"==t.selectionmode)&&(t.mousecaptured=!1,"visible"==this.selectionarea.css("visibility"))){this.selectionarea.css("visibility","hidden");var r=this.showheader?this.columnsheader.height()+2:0,n=this._groupsheader()?this.groupsheader.height():0;"0px"===this.host.css("border-top-width")&&(n-=2),n+=this.showtoolbar?this.toolbar.height():0;var s=this.selectionarea.coord(),o=this.host.coord();this.hasTransform&&(o=i.jqx.utilities.getOffset(this.host),s=i.jqx.utilities.getOffset(this.selectionarea)),"0px"===this.host.css("border-top-width")&&(n-=2);var a=s.left-o.left,l=s.top-r-o.top-n,d=l,h=a+this.selectionarea.width(),u=a,c=new Array,p=new Array;if("multiplerowsextended"==t.selectionmode){for(;l<d+this.selectionarea.height();){var f=(b=this._hittestrow(a,l)).row;-1!=(x=b.index)&&(p[x]||(p[x]=!0,c[c.length]=b)),l+=20}d=0,i.each(c,(function(){"none"!=t.selectionmode&&t._selectrowwithmouse&&(t._applyrowselection(t.getboundindex(this.row),!0,!1,!e.ctrlKey&&!e.metaKey&&0==d),d++)}))}else{"multiplecellsadvanced"==t.selectionmode&&(l+=2);var m=t.hScrollInstance,g=m.value;this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(g=m.max-m.value),"hidden"!=this.vScrollBar[0].style.visibility&&(g-=this.scrollbarsize+4));var v=t.table[0].rows[0],w=t.selectionarea.height();!e.ctrlKey&&!e.metaKey&&w>0&&(t.selectedcells=new Array);for(var y=w;l<d+y;){var b;if(b=t._hittestrow(a,l)){var x;if(f=b.row,-1!=(x=b.index)&&!p[x]){p[x]=!0;for(var _=0;_<v.cells.length;_++){var C=parseFloat(i(t.columnsrow[0].cells[_]).css("left"))-g,j=C+i(t.columnsrow[0].cells[_]).width();(u>=C&&u<=j||h>=C&&h<=j||C>=u&&C<=h)&&t._applycellselection(t.getboundindex(f),t._getcolumnat(_).datafield,!0,!1)}}l+=5}else l+=5}}t.autosavestate&&t.savestate&&t.savestate(),t._renderrows(t.virtualsizeinfo)}}},selectprevcell:function(e,t){var i=this._getcolumnindex(t),r=this._getprevvisiblecolumn(i);null!=r&&(this.clearselection(),this.selectcell(e,r.datafield))},selectnextcell:function(e,t){var i=this._getcolumnindex(t),r=this._getnextvisiblecolumn(i);null!=r&&(this.clearselection(),this.selectcell(e,r.datafield))},_getfirstvisiblecolumn:function(){for(var e=this.columns.records.length,t=0;t<e;t++){var i=this.columns.records[t];if(!i.hidden&&null!=i.datafield)return i}return null},_getlastvisiblecolumn:function(){for(var e=this.columns.records.length-1;e>=0;e--){var t=this.columns.records[e];if(!t.hidden&&null!=t.datafield)return t}return null},_handlekeydown:function(e,t){if(t.disabled)return!1;var r=e.charCode?e.charCode:e.keyCode?e.keyCode:0;if(t.editcell&&"multiplecellsadvanced"!=t.selectionmode)return!0;if(t.editcell&&"multiplecellsadvanced"==t.selectionmode){if(!(r>=33&&r<=40))return!0;if(e.altKey)return t._cancelkeydown=!1,!0;if(null!=t._cancelkeydown&&0!=t._cancelkeydown)return t._cancelkeydown=!1,!0;if("selectedrow"===t.editmode)return!0;if(t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),t._cancelkeydown=!1,t.editcell&&!t.editcell.validated)return t._rendervisualrows(),t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),!1}if("none"==t.selectionmode)return!0;if(t.showfilterrow&&t.filterable&&this.filterrow&&i(e.target).ischildof(t.filterrow))return!0;if(t.showeverpresentrow){if(t.addnewrowtop&&i(e.target).ischildof(t.addnewrowtop))return!0;if(t.addnewrowbottom&&i(e.target).ischildof(t.addnewrowbottom))return!0}if(e.target.className&&e.target.className.indexOf("jqx-grid-widget")>=0)return!0;if(t.pageable&&i(e.target).ischildof(this.pager))return!0;if(this.showtoolbar&&i(e.target).ischildof(this.toolbar))return!0;if(this.showstatusbar&&i(e.target).ischildof(this.statusbar))return!0;var n=!1;if(e.altKey)return!0;if((e.ctrlKey||e.metaKey)&&this.clipboard){var s=String.fromCharCode(r).toLowerCase();if(this.clipboardbegin){var o=null;if("c"==s?o=this.clipboardbegin("copy",this.copyselection()):"x"==s?o=this.clipboardbegin("cut",this.copyselection()):"v"==s&&(o=this.clipboardbegin("paste")),!1===o)return!1}if("c"==s||"x"==s){var a=this.copyselection();if("c"==s&&this.clipboardend&&this.clipboardend("copy"),"x"==s&&this.clipboardend&&this.clipboardend("cut"),window.clipboardData)window.clipboardData.setData("Text",a);else{var l=i('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');l.val(a),i("body").append(l),l.select(),setTimeout((function(){document.designMode="off",l.select(),l.remove(),t.focus()}),100)}if("c"==s&&i.jqx.browser.msie)return!1;if("c"==s)return!0}else if("v"==s){var d=i('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');i("body").append(d),d.select();var h=this;return setTimeout((function(){if(h._clipboardselection=new Array,0==(e=d.val()).length&&window.clipboardData){d.val(window.clipboardData.getData("Text"));var e=d.val()}for(var t=e.split("\n"),i=0;i<t.length;i++)if(t[i].split("\t").length>0){var r=t[i].split("\t");if(1==r.length&&i==t.length-1&&""==r[0])continue;r.length>0&&h._clipboardselection.push(r)}h.pasteselection(),d.remove(),h.focus()}),100),!0}if("x"==s)return this.deleteselection(),this.host.focus(),!1}var u=Math.round(t._gettableheight()),c=Math.round(u/t.rowsheight),p=t.getdatainformation();switch(t.selectionmode){case"singlecell":case"multiplecells":case"multiplecellsextended":case"multiplecellsadvanced":var f=t.getselectedcell();if(null===f&&t.selectcell(0,t.columns.records[0].displayfield),null!=f){var m=this.getrowvisibleindex(f.rowindex),g=f.datafield,v=t._getcolumnindex(g),w=function(i,r,s,o){var a=function(i,r){var a,l=t.dataview.loadedrecords[i];if(t.groupable&&t.groups.length>0){var d=i;"up"==o&&d++,"down"==o&&d--,l=t.getdisplayrows()[d];for(var h=1,u=!0;u&&h<300&&(u=!1,"down"==o?l=t.getdisplayrows()[d+h]:"up"==o&&(l=t.getdisplayrows()[d-h]),l);){l&&l.group&&(u=!0),l&&l.totalsrow&&(u=!0);for(var c=l.parentItem;c;)!c||(a=c).group&&(t.expandedgroups[a.uniqueid]?t.expandedgroups[a.uniqueid].expanded:void 0)||(u=!0),c=c.parentItem;if(!u)break;h++}if(300==h&&(l=null),t.pageable){var p=!1;if(l){for(var f=0;f<t.dataview.rows.length;f++)t.dataview.rows[f].boundindex==l.boundindex&&(p=!0);p||(l=null)}}}else if(t.pageable&&(p=!1,l)){for(f=0;f<t.dataview.rows.length;f++)t.dataview.rows[f].boundindex==l.boundindex&&(p=!0);p||(t.pagerpageinput&&9===e.keyCode&&l.boundindex>t.dataview.rows[t.dataview.rows.length-1].boundindex&&(t.pagerpageinput.focus(),e.preventDefault()),t.ensurerowvisible(l))}if(null!=l&&null!=r&&!l.totalsrow){(s||null==s)&&t.clearselection();var m=t.getboundindex(l);return t.selectcell(m,r),t._oldselectedcell=t.selectedcell,n=!0,t.ensurecellvisible(t.groupable?m:i,r),!0}return!1};if(a(i,r)||t.groupable||(t.ensurecellvisible(i,r),a(i,r),t.virtualmode&&t.host.focus()),!(t.groupable&&t.groups.length>0))if(e.shiftKey&&9!=e.keyCode){if(("multiplecellsextended"==t.selectionmode||"multiplecellsadvanced"==t.selectionmode)&&t._lastClickedCell){t._selectpath(i,r);var l=t.getboundindex(t.dataview.loadedrecords[i]);return void(t.selectedcell={rowindex:l,datafield:r})}}else e.shiftKey||(t._lastClickedCell={row:i,column:r})},y=e.shiftKey&&"singlecell"!=t.selectionmode&&"multiplecells"!=t.selectionmode,b=function(){w(t.pageable?t.dataview.pagenum*t.dataview.pagesize:0,g,!y)},x=function(){var e=p.rowscount-1;t.pageable&&(e=t.dataview.pagenum*t.dataview.pagesize+t.dataview.rows.length-1),w(e,g,!y)},_=9==r&&!e.shiftKey,C=9==r&&e.shiftKey;if(t.rtl){var j=_;_=C,C=j}if((_||C)&&(y=!1),(_||C)&&document.activeElement&&document.activeElement.className&&document.activeElement.className.indexOf("jqx-grid-cell-add-new-row")>=0)return!0;if((E=e.ctrlKey||e.metaKey)&&37==r)null!=(S=t._getfirstvisiblecolumn(v))&&w(m,S.datafield);else if(E&&39==r){var q=t._getlastvisiblecolumn(v);null!=q&&w(m,q.datafield)}else if(39==r||_){var k=t._getnextvisiblecolumn(v);if(null!=k)w(m,k.datafield,!y);else if(_){var T=t._getfirstvisiblecolumn();r=40,g=T.displayfield}else n=!0}else{var S;if(37==r||C)if(null!=(S=t._getprevvisiblecolumn(v)))w(m,S.datafield,!y);else if(C){var I=t._getlastvisiblecolumn();r=38,g=I.displayfield}else n=!0;else 36==r?b():35==r?x():33==r?m-c>=0?(w(D=m-c,g,!y),t.pageable&&t.virtualmode&&(t.gotoprevpage(),setTimeout((function(){w(D,g,!y)}),25))):b():34==r&&(p.rowscount>m+c?(w(D=m+c,g,!y),t.pageable&&t.virtualmode&&(t.gotonextpage(),setTimeout((function(){w(D,g,!y)}),25))):x())}38==r&&(E?b():m>0?w(m-1,g,!y,"up"):n=!1),40==r&&(E?x():p.rowscount>m+1||t.groupable&&t.groups.length>0?w(m+1,g,!y,"down"):n=!0)}break;case"singlerow":case"multiplerows":case"multiplerowsextended":case"multiplerowsadvanced":if(null==(m=t.getselectedrowindex())||-1==m)return!0;m=this.getrowvisibleindex(m);var D,P=function(i,s,o){var a=function(e){var i,r=t.dataview.loadedrecords[e];if(t.groupable&&t.groups.length>0){"up"==o&&e++,"down"==o&&e--,r=t.getdisplayrows()[e];for(var a=1,l=!0;l&&a<300&&(l=!1,"down"==o?r=t.getdisplayrows()[e+a]:"up"==o&&(r=t.getdisplayrows()[e-a]),r);){r&&r.group&&(l=!0),r&&r.totalsrow&&(l=!0);for(var d=r.parentItem;d;)!d||(i=d).group&&(t.expandedgroups[i.uniqueid]?t.expandedgroups[i.uniqueid].expanded:void 0)||(l=!0),d=d.parentItem;if(!l)break;a++}if(300==a&&(r=null),t.pageable){var h=!1;if(r){for(var u=0;u<t.dataview.rows.length;u++)t.dataview.rows[u].boundindex==r.boundindex&&(h=!0);h||(r=null)}}}if(null!=r){var c=t.getboundindex(r),p=t.selectedrowindex;if((s||null==s)&&t.clearselection(),t.selectedrowindex=p,t.selectrow(c,!1),t.groupable)var f=t.ensurerowvisible(c);else f=t.ensurerowvisible(e);return(!f||t.autoheight||t.groupable)&&t._rendervisualrows(),n=!0,!0}return!1};if(a(i)||t.groupable||(t.ensurerowvisible(i),a(i),t.virtualmode&&setTimeout((function(){a(i)}),25),t.virtualmode&&t.host.focus()),!(t.groupable&&t.groups.length>0))if(e.shiftKey&&9!=r){if("multiplerowsextended"==t.selectionmode&&t._lastClickedCell)return t._selectrowpath(i),void(t.selectedrowindex=t.getrowboundindex(i))}else e.shiftKey||(t._lastClickedCell={row:i},t.selectedrowindex=t.getrowboundindex(i))},E=(y=e.shiftKey&&"singlerow"!=t.selectionmode&&"multiplerows"!=t.selectionmode,b=function(){P(t.pageable?t.dataview.pagenum*t.dataview.pagesize:0,!y)},x=function(){var e=p.rowscount-1;t.pageable&&(e=t.dataview.pagenum*t.dataview.pagesize+t.dataview.rows.length-1),P(e,!y)},e.ctrlKey||e.metaKey);36==r||E&&38==r?b():35==r||E&&40==r?x():33==r?m-c>=0?(P(D=m-c,!y,"up"),t.pageable&&t.virtualmode&&(t.gotoprevpage(),setTimeout((function(){P(D,!y)}),25))):b():34==r?p.rowscount>m+c?(P(D=m+c,!y,"down"),t.pageable&&t.virtualmode&&(t.gotonextpage(),setTimeout((function(){P(D,!y)}),25))):x():38==r?m>0?P(m-1,!y,"up"):n=!0:40==r&&(p.rowscount>m+1||t.groupable&&t.groups.length>0?P(m+1,!y,"down"):n=!0)}return!n||(t.autosavestate&&t.savestate&&t.savestate(),!1)},_handlemousemove:function(e,t){if(!t.vScrollInstance.isScrolling()&&!t.hScrollInstance.isScrolling()){var r,n,s,o,a;if(t.enablehover||"multiplerows"==t.selectionmode){if(r=this.showheader?this.columnsheader.height()+2:0,n=this._groupsheader()?this.groupsheader.height():0,n+=this.showtoolbar?this.toolbarheight:0,s=this.host.coord(),this.hasTransform){s=i.jqx.utilities.getOffset(this.host);var l=this._getBodyOffset();s.left-=l.left,s.top-=l.top}o=e.pageX-s.left,a=e.pageY-r-s.top-n}if("multiplerowsextended"!=t.selectionmode&&"multiplecellsextended"!=t.selectionmode&&"multiplecellsadvanced"!=t.selectionmode||1!=t.mousecaptured){if(!t.enablehover)return!0;if(!t.disabled&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var d=this._hittestrow(o,a);if(d){var h=d.row,u=d.index;if((-1==this.hoveredrow||-1==u||this.hoveredrow!=u||-1!=this.selectionmode.indexOf("cell")||"checkbox"==this.selectionmode)&&(this._clearhoverstyle(),-1!=u&&null!=h)){var c=this.hittestinfo[u].visualrow;if(null!=c&&!(this.hittestinfo[u].details||e.clientX>i(c).width()+i(c).coord().left)){var p=0,f=c.cells.length;if(t.rowdetails&&t.showrowdetailscolumn?this.rtl?(f-=1,f-=this.groups.length):p=1+this.groups.length:this.groupable&&(this.rtl?f-=this.groups.length:p=this.groups.length),0!=c.cells.length){var m=c.cells[p].className;if(!(h.group||this.selectionmode.indexOf("row")>=0&&-1!=m.indexOf("jqx-grid-cell-selected")))if(this.hoveredrow=u,-1==this.selectionmode.indexOf("cell")&&"checkbox"!=this.selectionmode)for(y=p;y<f;y++)i(_=c.cells[y]).addClass(this.toTP("jqx-grid-cell-hover")),i(_).addClass(this.toTP("jqx-fill-state-hover")),this.cellhover&&this.cellhover(_,e.pageX,e.pageY),(x=this._getcolumnat(y))._applyCellStyle(_);else{var g=-1,v=this.hScrollInstance,w=v.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(w=v.max-v.value);for(var y=p;y<f;y++){var b=parseInt(i(this.columnsrow[0].cells[y]).css("left"))-w;if(this.columns.records[y].pinned&&!this.rtl&&(b=parseInt(i(this.columnsrow[0].cells[y]).css("left"))),b+i(this.columnsrow[0].cells[y]).width()>=o&&o>=b){g=y;break}}if(-1!=g){var x,_=c.cells[g];if(this.cellhover&&this.cellhover(_,e.pageX,e.pageY),-1==_.className.indexOf("jqx-grid-cell-selected")&&this.editcell&&(x=this._getcolumnat(g))&&this.editcell.row==u&&this.editcell.column==x.datafield)return;i(_).addClass(this.toTP("jqx-grid-cell-hover")),i(_).addClass(this.toTP("jqx-fill-state-hover")),(x=this._getcolumnat(g))._applyCellStyle(_)}}}}}}}}}}})},XVdp:function(e,t){var i;(i=jqxBaseFramework).jqx.jqxWidget("jqxButtonGroup","",{}),i.extend(i.jqx._jqxButtonGroup.prototype,{defineInstance:function(){var e={mode:"default",roundedCorners:!0,disabled:!1,enableHover:!1,orientation:"horizontal",width:null,height:null,_eventsMap:{mousedown:i.jqx.mobile.getTouchEventName("touchstart"),mouseup:i.jqx.mobile.getTouchEventName("touchend")},_events:["selected","unselected","buttonclick"],_buttonId:{},_selected:null,_pressed:null,rtl:!1,template:"",_baseId:"group_button",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return this===i.jqx._jqxButtonGroup.prototype||i.extend(!0,this,e),e},createInstance:function(e){var t=this;t._isTouchDevice=i.jqx.mobile.isTouchDevice(),i.jqx.aria(t),t._baseId=t._baseId+t.element.id,t.addHandler(t.host,"selectstart",(function(e){t.disabled||e.preventDefault()}))},refresh:function(){var e=this;e.width&&(e.width.toString()&&e.width.toString().indexOf("%")>=0?e.element.style.width=e.width:e.host.width(e.width)),e.height&&e.host.height(e.height),e._refreshButtons()},render:function(){this.refresh()},resize:function(){this.refresh()},_getEvent:function(e){var t=this;return t._isTouchDevice?(t._eventsMap[e]||e)+"."+t.element.id:e+"."+t.element.id},_refreshButtons:function(){var e=this;e.lastElement&&e.lastElement.remove(),e.lastElement=i("<div style='clear: both;'></div>");var t,r=e.host.children(),n=r.length;switch(e.mode){case"radio":e.host.attr("role","radiogroup");break;case"checkbox":case"default":e.host.attr("role","group")}for(var s=new Number(100/n).toFixed(2),o=0;o<n;o+=1)t=i(r[o]),e.width&&("horizontal"===e.orientation?(t.css("width",s+"%"),t.css("box-sizing","border-box"),t.css("-moz-box-sizing","border-box"),t.css("white-space","nowrap"),t.css("text-overflow","ellipsis"),t.css("overflow","hidden")):(t.css("box-sizing","border-box"),t.css("-moz-box-sizing","border-box"),t.css("width","100%"))),e._refreshButton(t,o,n);e.lastElement.appendTo(e.host)},_refreshButton:function(e,t,i){(function(e){var r=this;e=r._render(e),r._removeStyles(e),r._addStyles(e,t,i),r._performLayout(e),r._removeButtonListeners(e),r._addButtonListeners(e),r._handleButtonId(e,t),e.attr("role","radio"===r.mode?"radio":"button"),e.attr("disabled",r.disabled),r.disabled?e.addClass(r.toThemeProperty("jqx-fill-state-disabled")):e.removeClass(r.toThemeProperty("jqx-fill-state-disabled"))}).apply(this,[e])},destroy:function(e){for(var t,r=this,n=r.host.children(),s=n.length,o=0;o<s;o+=1)t=i(n[o]),r._removeStyles(t),r._removeButtonListeners(t);!1!==e&&r.host.remove()},_render:function(e){return"button"===e[0].tagName.toLowerCase()?this._renderFromButton(e):this._renderButton(e)},_renderButton:function(e){return e.wrapInner("<div/>"),e},_removeStyles:function(e){var t=this,i=t.toThemeProperty;t.host.removeClass("jqx-widget"),t.host.removeClass("jqx-rc-all"),e.removeClass(i.call(this,"jqx-fill-state-normal")),e.removeClass(i.call(this,"jqx-group-button-normal")),e.removeClass(i.call(this,"jqx-rc-tl")),e.removeClass(i.call(this,"jqx-rc-bl")),e.removeClass(i.call(this,"jqx-rc-tr")),e.removeClass(i.call(this,"jqx-rc-br")),e.css("margin-left",0)},_addStyles:function(e,t,i){var r=this,n=this.toThemeProperty;r.host.addClass(n.call(this,"jqx-widget")),r.host.addClass(n.call(this,"jqx-rc-all")),r.host.addClass(n.call(this,"jqx-buttongroup")),e.addClass(n.call(this,"jqx-button")),e.addClass(n.call(this,"jqx-group-button-normal")),e.addClass(n.call(this,"jqx-fill-state-normal")),r.template&&e.addClass(n.call(this,"jqx-"+r.template)),r.roundedCorners&&(0===t?r._addRoundedCorners(e,!0):t===i-1&&r._addRoundedCorners(e,!1)),e.css("horizontal"===r.orientation?"margin-left":"margin-top",-parseInt(e.css("border-left-width"),10))},_addRoundedCorners:function(e,t){var i=this.toThemeProperty;"horizontal"===this.orientation?t?(e.addClass(i.call(this,"jqx-rc-tl")),e.addClass(i.call(this,"jqx-rc-bl"))):(e.addClass(i.call(this,"jqx-rc-tr")),e.addClass(i.call(this,"jqx-rc-br"))):t?(e.addClass(i.call(this,"jqx-rc-tl")),e.addClass(i.call(this,"jqx-rc-tr"))):(e.addClass(i.call(this,"jqx-rc-bl")),e.addClass(i.call(this,"jqx-rc-br")))},_centerContent:function(e,t){return e.css({"margin-top":(t.height()-e.height())/2,"margin-left":(t.width()-e.width())/2}),e},_renderFromButton:function(e){var t,r=e.val();""===r&&(r=e.html());var n=e[0].id;return e.wrap("<div/>"),(t=e.parent()).attr("style",e.attr("style")),e.remove(),i.jqx.utilities.html(t,r),t[0].id=n,t},_performLayout:function(e){e.css("float","horizontal"===this.orientation?this.rtl?"right":"left":"none"),this._centerContent(i(e.children()),e)},_mouseEnterHandler:function(e){var t=e.data.self,r=i(e.currentTarget);if(!t._isDisabled(r)&&t.enableHover){var n=t.toThemeProperty;r.addClass(n.call(t,"jqx-group-button-hover")),r.addClass(n.call(t,"jqx-fill-state-hover"))}},_mouseLeaveHandler:function(e){var t=e.data.self,r=i(e.currentTarget);if(!t._isDisabled(r)&&t.enableHover){var n=t.toThemeProperty;r.removeClass(n.call(t,"jqx-group-button-hover")),r.removeClass(n.call(t,"jqx-fill-state-hover"))}},_mouseDownHandler:function(e){var t=e.data.self,r=i(e.currentTarget);if(!t._isDisabled(r)){t._pressed=r;var n=t.toThemeProperty;r.addClass(n.call(t,"jqx-group-button-pressed")),r.addClass(n.call(t,"jqx-fill-state-pressed"))}},_mouseUpHandler:function(e){var t=e.data.self,r=i(e.currentTarget);t._isDisabled(r)||(t._handleSelection(r),t._pressed=null,t._raiseEvent(2,{index:(r=t._buttonId[r[0].id]).num,button:r.btn}))},_isDisabled:function(e){return!(!e||!e[0])&&this._buttonId[e[0].id].disabled},_documentUpHandler:function(e){var t=e.data.self,i=t._pressed;i&&!t._buttonId[i[0].id].selected&&(i.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._pressed=null)},_addButtonListeners:function(e){var t=this,r=t.addHandler,n=t._getEvent;r(e,n.call(t,"mouseenter"),t._mouseEnterHandler,{self:t}),r(e,n.call(t,"mouseleave"),t._mouseLeaveHandler,{self:t}),r(e,n.call(t,"mousedown"),t._mouseDownHandler,{self:t}),r(e,n.call(t,"mouseup"),t._mouseUpHandler,{self:t}),r(i(document),n.call(t,"mouseup"),t._documentUpHandler,{self:t})},_removeButtonListeners:function(e){var t=this,r=t.removeHandler,n=t._getEvent;r(e,n.call(t,"mouseenter"),t._mouseEnterHandler),r(e,n.call(t,"mouseleave"),t._mouseLeaveHandler),r(e,n.call(t,"mousedown"),t._mouseDownHandler),r(e,n.call(t,"mouseup"),t._mouseUpHandler),r(i(document),n.call(t,"mouseup"),t._documentUpHandler)},_handleSelection:function(e){var t=this;"radio"===t.mode?t._handleRadio(e):"checkbox"===t.mode?t._handleCheckbox(e):t._handleDefault(e)},_handleRadio:function(e){var t=this,i=t._getSelectedButton();for(var r in i&&i.btn[0].id!==e[0].id&&t._unselectButton(i.btn,!0),t._buttonId)t._buttonId[r].selected=!0,t._unselectButton(t._buttonId[r].btn,!1);t._selectButton(e,!0)},_handleCheckbox:function(e){var t=this,i=t._buttonId[e[0].id];i.selected?t._unselectButton(i.btn,!0):t._selectButton(e,!0)},_handleDefault:function(e){var t=this;for(var i in t._selectButton(e,!1),t._buttonId)t._buttonId[i].selected=!0,t._unselectButton(t._buttonId[i].btn,!1)},_getSelectedButton:function(){var e=this;for(var t in e._buttonId)if(e._buttonId[t].selected)return e._buttonId[t];return null},_getSelectedButtons:function(){var e=this,t=[];for(var i in e._buttonId)e._buttonId[i].selected&&t.push(e._buttonId[i].num);return t},_getButtonByIndex:function(e){var t=this;for(var i in t._buttonId)if(t._buttonId[i].num===e)return t._buttonId[i];return null},_selectButton:function(e,t){var r=this,n=r._buttonId[e[0].id];if(!n.selected){var s=r.toThemeProperty;n.btn.addClass(s.call(this,"jqx-group-button-pressed")),n.btn.addClass(s.call(this,"jqx-fill-state-pressed")),n.selected=!0,t&&r._raiseEvent(0,{index:n.num,button:n.btn}),i.jqx.aria(n.btn,"aria-checked",!0)}},_unselectButton:function(e,t){var r=this,n=r._buttonId[e[0].id];if(n.selected){var s=r.toThemeProperty;n.btn.removeClass(s.call(this,"jqx-group-button-pressed")),n.btn.removeClass(s.call(this,"jqx-fill-state-pressed")),n.selected=!1,t&&r._raiseEvent(1,{index:n.num,button:n.btn}),i.jqx.aria(n.btn,"aria-checked",!1)}},setSelection:function(e){var t=this;if(-1!==e)if("checkbox"===t.mode)if("number"==typeof e)t._setSelection(e);else for(var i=0;i<e.length;i+=1)t._setSelection(e[i]);else"number"==typeof e&&"radio"===t.mode&&t._setSelection(e);else t.clearSelection()},_setSelection:function(e){var t=this._getButtonByIndex(e);t&&this._handleSelection(t.btn)},getSelection:function(){var e=this;if("radio"===e.mode){if(e._getSelectedButton())return e._getSelectedButton().num}else if("checkbox"===e.mode)return e._getSelectedButtons()},disable:function(){var e=this;for(var t in e.disabled=!0,e._buttonId)e.disableAt(e._buttonId[t].num);i.jqx.aria(e,"aria-disabled",!0)},enable:function(){var e=this;for(var t in e.disabled=!1,e._buttonId)e.enableAt(e._buttonId[t].num);i.jqx.aria(e,"aria-disabled",!1)},disableAt:function(e){var t=this._getButtonByIndex(e);t.disabled||(t.disabled=!0,t.btn.addClass(this.toThemeProperty("jqx-fill-state-disabled")))},enableAt:function(e){var t=this._getButtonByIndex(e);t.disabled&&(t.disabled=!1,t.btn.removeClass(this.toThemeProperty("jqx-fill-state-disabled")))},_handleButtonId:function(e,t){var i=e[0].id,r={btn:e,num:t,selected:!1};return i||(i=this._baseId+e.index()),e[0].id=i,this._buttonId[i]=r,i},_raiseEvent:function(e,t){var r=i.Event(this._events[e]);return r.args=t,this.host.trigger(r)},_unselectAll:function(){for(var e in this._buttonId)this._unselectButton(this._buttonId[e].btn,!1)},clearSelection:function(){this._unselectAll()},propertyChangedHandler:function(e,t,r,n){if("theme"===t&&null!==n&&i.jqx.utilities.setTheme(r,n,e.host),"rtl"===t&&e.refresh(),"template"===t&&e.refresh(),"mode"===t)return e._unselectAll(),void e.refresh();"disabled"===t?n?e.disable():e.enable():e.refresh()}})},YIBi:function(e,t){var i;(i=jqxBaseFramework).extend(i.jqx._jqxGrid.prototype,{savestate:function(e){var t=this.getstate();return void 0===e||i.isEmptyObject(e)||(-1==e.indexOf("sort")&&(delete t.sortcolumn,delete t.sortdirection),-1==e.indexOf("pager")&&(delete t.pagenum,delete t.pagesizeoptions,delete t.pagesize),-1==e.indexOf("selection")&&(delete t.selectedcells,delete t.selectedrowindexes,delete t.selectedrowindex),-1==e.indexOf("grouping")&&delete t.groups,-1==e.indexOf("filter")&&delete t.filters,i.each(this.columns.records,(function(i){var r=t.columns[this.datafield];-1==e.indexOf("hidden_columns")&&delete r.hidden,-1==e.indexOf("reorder")&&delete r.index,-1==e.indexOf("columns_width")&&delete r.width,-1==e.indexOf("columns_text")&&delete r.text,-1==e.indexOf("alignment")&&(delete r.align,delete r.cellsalign)}))),window.localStorage&&(window.localStorage["jqxGrid"+this.element.id]=this._stringify(t)),this._savedstate=t,t},loadstate:function(e,t){var r="";if(null!=e&&null!=e.width?r=e:window.localStorage?window.localStorage["jqxGrid"+this.element.id]&&(r=i.parseJSON(window.localStorage["jqxGrid"+this.element.id])):this._savedstate&&(r=this._savedstate),null!=r&&""!==r){(this.virtualmode||this.source._source.url&&""!=this.source._source.url)&&this.source.beginUpdate();var n=r;if(void 0!==n.width&&(this.width=n.width),void 0!==n.height&&(this.height=n.height),this.pageable&&(null!=n.pagesize&&(this.pagesize=n.pagesize,this.dataview.pagesize=n.pagesize),null!=n.pagenum&&(this.dataview.pagenum=n.pagenum),null!=n.pagesizeoptions&&(this.pagesizeoptions=n.pagesizeoptions),this.pagesizeoptions)){for(var s=0,o=0;o<this.pagesizeoptions.length;o++)this.pagesize>=this.pagesizeoptions[o]&&(s=o);this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList({selectedIndex:s})}if(this.sortable)if(this._loading&&(this._loading=!1),n.sortdirection){if(n.sortdirection.ascending||n.sortdirection.descending){this.dataview.sortfield=n.sortcolumn;var a=n.sortdirection.ascending?"asc":"desc";this.dataview.sortfielddirection=a,this.source.sortcolumn=n.sortcolumn,this.source.sortdirection=a,this.sortby(n.sortcolumn,a)}}else null==this.dataview.sortfield||"asc"!=this.dataview.sortfielddirection&&"desc"!=this.dataview.sortfielddirection||this.sortby(this.dataview.sortfield,null);this.groupable&&n.groups&&(this.dataview.groups=n.groups,this.groups=n.groups),this.loadingstate=!0,this.virtualsizeinfo&&this._loadselectionandcolumnwidths(n),this.loadingstate=!1,(this.virtualmode||this.source._source.url&&""!=this.source._source.url)&&(1==t?this.source.endUpdate(!1):(this.source.endUpdate(!1),(this.virtualmode||this.source._source.filter||this.source._source.sort)&&this.updatebounddata("state")))}},_loadselectionandcolumnwidths:function(e){this.loadingstate=!0;var t="";if(null!=e&&null!=e.width?t=e:window.localStorage?window.localStorage["jqxGrid"+this.element.id]&&(t=i.parseJSON(window.localStorage["jqxGrid"+this.element.id])):this._savedstate&&(t=this._savedstate),null!=t&&""!=t){var r=this._loading;this._loading=!1;var n=t,s=this,o=!1,a=[];if(a.length=0,i.each(this.columns.records,(function(e){var t=n.columns[this.datafield];if(null!=t){if(this.text!=t.text&&(o=!0),this.hidden!=t.hidden&&(o=!0),void 0!==t.width&&(this.width=t.width,this._width&&(this._width=null),this._percentagewidth&&(this._percentagewidth=null)),void 0!==t.hidden&&(this.hidden=t.hidden),void 0!==t.pinned&&(this.pinned=t.pinned),void 0!==t.groupable&&(this.groupable=t.groupable),void 0!==t.resizable&&(this.resizable=t.resizable),this.draggable=t.draggable,void 0!==t.text&&(this.text=t.text),void 0!==t.align&&(this.align=t.align),void 0!==t.cellsalign&&(this.cellsalign=t.cellsalign),s._columns)for(var i=0;i<s._columns.length;i++)s._columns[i].datafield==this.datafield&&(void 0!==t.hidden&&(s._columns[i].hidden=t.hidden),void 0!==t.width&&(s._columns[i].width=t.width));void 0!==t.index&&(a[this.datafield]=t.index,a.length++)}})),a.length>0){if(this.setcolumnindex){for(var l=new Array,d=0;d<this.columns.records.length;d++)l.push(this.columns.records[d]);var h=0,u=new Array;for(d=0;d<l.length;d++){var c=a[(v=l[d]).datafield];this.groupable&&v.grouped||0==d&&this.rowdetails?h++:(d!==c||this.groupable||this.rowdetails)&&u.push({column:v,key:h+c})}u.sort((function(e,t){return e.key<t.key?-1:e.key>t.key?1:0})),u.reverse(),i.each(u,(function(e,t){s.setcolumnindex(this.column.datafield,this.key,!1)}))}this.prerenderrequired=!0,this.groupable&&this._refreshdataview(),this.rendergridcontent(!0),this._updatefilterrowui&&this.filterable&&this.showfilterrow&&this._updatefilterrowui(),this._renderrows(this.virtualsizeinfo)}if(this.filterable&&void 0!==n.filters){this.clearfilters&&(this._loading=!1,this.clearfilters(!1));var p="",f=new i.jqx.filter;for(d=0;d<n.filters.filterscount;d++){var m=n.filters["filtercondition"+d],g=n.filters["filterdatafield"+d],v=this.getcolumn(g);if(g!=p&&(f=new i.jqx.filter),p=g,v&&v.filterable){var w=n.filters["filtervalue"+d],y=n.filters["filteroperator"+d];if("datefilter"==(j=n.filters["filtertype"+d]))var b=f.createfilter(j,w,m,null,v.cellsformat,this.gridlocalization);else b=f.createfilter(j,w,m);if(f.addfilter(y,b),this.showfilterrow){var x=v._filterwidget,_=v._filterwidget.parent();if(null!=x)switch(v.filtertype){case"number":if(_.find("input").val(w),this.host.jqxDropDownList){var C=f.getoperatorsbyfiltertype("numericfilter");x.find(".filter").jqxDropDownList("selectIndex",C.indexOf(m))}break;case"date":this.host.jqxDateTimeInput?i(_.children()[0]).jqxDateTimeInput("setDate",w):x.val(w);break;case"range":if(this.host.jqxDateTimeInput){var j,q=n.filters["filtervalue"+(d+1)];b=f.createfilter(j=n.filters["filtertype"+d],q,"LESS_THAN_OR_EQUAL"),f.addfilter(y,b);var k=new Date(w),T=new Date(q);isNaN(k)&&(k=i.jqx.dataFormat.tryparsedate(w)),isNaN(T)&&(T=i.jqx.dataFormat.tryparsedate(w)),i(_.children()[0]).jqxDateTimeInput("setRange",k,T),d++}else x.val(w);break;case"textbox":case"default":x.val(w),s["_oldWriteText"+x[0].id]=w;break;case"list":if(this.host.jqxDropDownList){var S=i(_.children()[0]).jqxDropDownList("getItems");c=-1,i.each(S,(function(e){if(this.value==w)return c=e,!1})),i(_.children()[0]).jqxDropDownList("selectIndex",c)}else x.val(w);break;case"checkedlist":this.host.jqxDropDownList||x.val(w);break;case"bool":case"boolean":this.host.jqxCheckBox?i(_.children()[0]).jqxCheckBox({checked:w}):x.val(w)}}this.addfilter(g,f)}}n.filters&&n.filters.filterscount>0&&(this.applyfilters(),this.showfilterrow&&i.each(this.columns.records,(function(){if("checkedlist"==this.filtertype&&this.filterable&&s.host.jqxDropDownList){var e=this,t=e._filterwidget,r=(t.jqxDropDownList("getItems"),t.jqxDropDownList("listBox"));if(r.checkAll(!1),e.filter){r.uncheckAll(!1);for(var n=e.filter.getfilters(),o=0;o<r.items.length;o++){var a=r.items[o].label;i.each(n,(function(){if("NOT_EQUAL"==this.condition)return!0;a==this.value&&r.checkIndex(o,!1,!1)}))}r._updateCheckedItems();var l=r.getCheckedItems().length;r.items.length!=l&&l>0&&r.host.jqxListBox("indeterminateIndex",0,!0,!1)}}}))),this.pageable&&void 0!==n.pagenum&&(this.gotopage&&!this.virtualmode?(this.dataview.pagenum=-1,this.gotopage(n.pagenum)):this.gotopage&&this.virtualmode&&this.gotopage(n.pagenum))}if(n.selectedrowindexes&&n.selectedrowindexes&&n.selectedrowindexes.length>0&&(this.selectedrowindexes=n.selectedrowindexes,this.selectedrowindex=n.selectedrowindex,"checkbox"===this.selectionmode&&this._updatecheckboxselection()),n.selectedcells&&this._applycellselection&&i.each(n.selectedcells,(function(){s._applycellselection(this.rowindex,this.datafield,!0,!1)})),this.groupable&&void 0!==n.groups)return this._refreshdataview(),this.render(),this._loading=r,void(this.loadingstate=!1);if(o){if(this.prerenderrequired=!0,this.rendergridcontent(!0),this._loading=r,this.loadingstate=!1,this.updating())return!1}else this._loading=r,this._updatecolumnwidths(),this._updatecellwidths(),this.loadingstate=!1;this.loadingstate=!1,this._loading=r,this._renderrows(this.virtualsizeinfo)}this.loadingstate=!1},getstate:function(){var e=this.getdatainformation(),t={};if(t.width=this.width,t.height=this.height,t.pagenum=e.paginginformation.pagenum,t.pagesize=e.paginginformation.pagesize,t.pagesizeoptions=this.pagesizeoptions,t.sortcolumn=e.sortinformation.sortcolumn,t.sortdirection=e.sortinformation.sortdirection,null!=this.selectionmode&&this.getselectedcells)if(-1!=this.selectionmode.toString().indexOf("cell")){var r=this.getselectedcells(),n=new Array;i.each(r,(function(){n.push({datafield:this.datafield,rowindex:this.rowindex})})),t.selectedcells=n}else{var s=this.getselectedrowindexes();t.selectedrowindexes=s,t.selectedrowindex=this.selectedrowindex}var o={},a=0;if(this.dataview.filters)for(var l=0;l<this.dataview.filters.length;l++){var d=this.dataview.filters[l].datafield,h=this.dataview.filters[l].filter,u=h.getfilters();o[d+"operator"]=h.operator;for(var c=0;c<u.length;c++){if(u[c].datafield=d,"datefilter"==u[c].type)if(u[c].value&&u[c].value.toLocaleString){var p=this.getcolumn(u[c].datafield);if(p.cellsformat){var f=this.source.formatDate(u[c].value,p.cellsformat,this.gridlocalization);o["filtervalue"+a]=f||u[c].value.toLocaleString()}else o["filtervalue"+a]=u[c].value.toLocaleString()}else o["filtervalue"+a]=u[c].value;else o["filtervalue"+a]=u[c].value;o["filtercondition"+a]=u[c].condition,o["filteroperator"+a]=u[c].operator,o["filterdatafield"+a]=d,o["filtertype"+a]=u[c].type,a++}}o.filterscount=a,t.filters=o,t.groups=this.groups,t.columns={};var m=0;return this.columns.records&&i.each(this.columns.records,(function(e,i){if(!this.datafield)return!0;var r={};r.width=this.width,r.hidden=this.hidden,r.pinned=this.pinned,r.groupable=this.groupable,r.resizable=this.resizable,r.draggable=this.draggable,r.text=this.text,r.align=this.align,r.cellsalign=this.cellsalign,r.index=m++,t.columns[this.datafield]=r})),t},_stringify:function(e){if(window.JSON&&"function"==typeof window.JSON.stringify){var t="";try{t=window.JSON.stringify(e)}catch(i){return this._str("",{"":e})}return t}return this._str("",{"":e})},_quote:function(e){var t={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return'"'+e.replace(/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,(function(e){var i=t[e];return"string"==typeof i?i:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"'},_stringifyArray:function(e){for(var t=e.length,i=[],r=0;r<t;r++)i.push(this._str(r,e)||"null");return"["+i.join(",")+"]"},_stringifyObject:function(e){var t,i,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i=this._str(t,e))&&r.push(this._quote(t)+":"+i);return"{"+r.join(",")+"}"},_stringifyReference:function(e){switch(Object.prototype.toString.call(e)){case"[object Array]":return this._stringifyArray(e)}return this._stringifyObject(e)},_stringifyPrimitive:function(e,t){switch(t){case"string":return this._quote(e);case"number":return isFinite(e)?e:"null";case"boolean":return e}return"null"},_str:function(e,t){var i=t[e],r=typeof i;return i&&"object"==typeof i&&"function"==typeof i.toJSON&&(r=typeof(i=i.toJSON(e))),/(number|string|boolean)/.test(r)||!i&&"object"===r?this._stringifyPrimitive(i,r):this._stringifyReference(i)}})},aif6:function(e,t,i){var r,n;document.all&&!document.addEventListener||function(n,s){var o,a,l=n.document,d=n.navigator,h=n.JQXLite,u=n.$,c=Array.prototype.push,p=Array.prototype.slice,f=Array.prototype.indexOf,m=Object.prototype.toString,g=Object.prototype.hasOwnProperty,v=String.prototype.trim,w=function e(t,i){return new e.fn.init(t,i,o)},y=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,b=/\S/,x=/\s+/,_=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,C=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,j=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,q=/^[\],:{}\s]*$/,k=/(?:^|:|,)(?:\s*\[)+/g,T=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,S=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,I=/^-ms-/,D=/-([\da-z])/gi,P=function(e,t){return(t+"").toUpperCase()},E=function e(){l.addEventListener?(l.removeEventListener("DOMContentLoaded",e,!1),w.ready()):"complete"===l.readyState&&(l.detachEvent("onreadystatechange",e),w.ready())},M={};(w.fn=w.prototype={constructor:w,init:function(e,t,i){var r,n;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(!(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:C.exec(e))||!r[1]&&t)return!t||t.jqx?(t||i).find(e):this.constructor(t).find(e);if(r[1])return e=w.parseHTML(r[1],(t=t instanceof w?t[0]:t)&&t.nodeType?t.ownerDocument||t:l,!0),j.test(r[1])&&w.isPlainObject(t)&&this.attr.call(e,t,!0),w.merge(this,e);if((n=l.getElementById(r[2]))&&n.parentNode){if(n.id!==r[2])return i.find(e);this.length=1,this[0]=n}return this.context=l,this.selector=e,this}return w.isFunction(e)?i.ready(e):(e.selector!==s&&(this.selector=e.selector,this.context=e.context),w.makeArray(e,this))},selector:"",jqx:"4.5.0",length:0,size:function(){return this.length},toArray:function(){return p.call(this)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,i){var r=w.merge(this.constructor(),e);return r.prevObject=this,r.context=this.context,"find"===t?r.selector=this.selector+(this.selector?" ":"")+i:t&&(r.selector=this.selector+"."+t+"("+i+")"),r},each:function(e,t){return w.each(this,e,t)},ready:function(e){return w.ready.promise().done(e),this},eq:function(e){return-1==(e=+e)?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(p.apply(this,arguments),"slice",p.call(arguments).join(","))},map:function(e){return this.pushStack(w.map(this,(function(t,i){return e.call(t,i,t)})))},end:function(){return this.prevObject||this.constructor(null)},push:c,sort:[].sort,splice:[].splice}).init.prototype=w.fn,w.extend=w.fn.extend=function(){var e,t,i,r,n,o,a=arguments[0]||{},l=1,d=arguments.length,h=!1;for("boolean"==typeof a&&(h=a,a=arguments[1]||{},l=2),"object"==typeof a||w.isFunction(a)||(a={}),d===l&&(a=this,--l);l<d;l++)if(null!=(e=arguments[l]))for(t in e)i=a[t],a!==(r=e[t])&&(h&&r&&(w.isPlainObject(r)||(n=w.isArray(r)))?(n?(n=!1,o=i&&w.isArray(i)?i:[]):o=i&&w.isPlainObject(i)?i:{},a[t]=w.extend(h,o,r)):r!==s&&(a[t]=r));return a},w.extend({noConflict:function(e){return n.$===w&&(n.$=u),e&&n.JQXLite===w&&(n.JQXLite=h),w},isReady:!1,readyWait:1,holdReady:function(e){e?w.readyWait++:w.ready(!0)},ready:function(e){if(!(!0===e?--w.readyWait:w.isReady)){if(!l.body)return setTimeout(w.ready,1);w.isReady=!0,!0!==e&&--w.readyWait>0||(a.resolveWith(l,[w]),w.fn.trigger&&w(l).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===w.type(e)},isArray:Array.isArray||function(e){return"array"===w.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):M[m.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==w.type(e)||e.nodeType||w.isWindow(e))return!1;try{if(e.constructor&&!g.call(e,"constructor")&&!g.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(ue){return!1}var t;for(t in e);return t===s||g.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,i){var r;return e&&"string"==typeof e?("boolean"==typeof t&&(i=t,t=0),t=t||l,(r=j.exec(e))?[t.createElement(r[1])]:(r=w.buildFragment([e],t,i?null:[]),w.merge([],(r.cacheable?w.clone(r.fragment):r.fragment).childNodes))):null},parseJSON:function(e){return e&&"string"==typeof e?(e=w.trim(e),n.JSON&&n.JSON.parse?n.JSON.parse(e):q.test(e.replace(T,"@").replace(S,"]").replace(k,""))?new Function("return "+e)():void w.error("Invalid JSON: "+e)):null},parseXML:function(e){var t;if(!e||"string"!=typeof e)return null;try{n.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(i){t=s}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+e),t},noop:function(){},globalEval:function(e){e&&b.test(e)&&(n.execScript||function(e){n.eval.call(n,e)})(e)},camelCase:function(e){return e.replace(I,"ms-").replace(D,P)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,n=0,o=e.length,a=o===s||w.isFunction(e);if(i)if(a){for(r in e)if(!1===t.apply(e[r],i))break}else for(;n<o&&!1!==t.apply(e[n++],i););else if(a){for(r in e)if(!1===t.call(e[r],r,e[r]))break}else for(;n<o&&!1!==t.call(e[n],n,e[n++]););return e},trim:v&&!v.call("\ufeff\xa0")?function(e){return null==e?"":v.call(e)}:function(e){return null==e?"":(e+"").replace(_,"")},makeArray:function(e,t){var i,r=t||[];return null!=e&&(i=w.type(e),null==e.length||"string"===i||"function"===i||"regexp"===i||w.isWindow(e)?c.call(r,e):w.merge(r,e)),r},inArray:function(e,t,i){var r;if(t){if(f)return f.call(t,e,i);for(r=t.length,i=i?i<0?Math.max(0,r+i):i:0;i<r;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){var i=t.length,r=e.length,n=0;if("number"==typeof i)for(;n<i;n++)e[r++]=t[n];else for(;t[n]!==s;)e[r++]=t[n++];return e.length=r,e},grep:function(e,t,i){var r=[],n=0,s=e.length;for(i=!!i;n<s;n++)i!==!!t(e[n],n)&&r.push(e[n]);return r},map:function(e,t,i){var r,n,o=[],a=0,l=e.length;if(e instanceof w||l!==s&&"number"==typeof l&&(l>0&&e[0]&&e[l-1]||0===l||w.isArray(e)))for(;a<l;a++)null!=(r=t(e[a],a,i))&&(o[o.length]=r);else for(n in e)null!=(r=t(e[n],n,i))&&(o[o.length]=r);return o.concat.apply([],o)},guid:1,proxy:function(e,t){var i,r,n;return"string"==typeof t&&(i=e[t],t=e,e=i),w.isFunction(e)?(r=p.call(arguments,2),(n=function(){return e.apply(t,r.concat(p.call(arguments)))}).guid=e.guid=e.guid||w.guid++,n):s},access:function(e,t,i,r,n,o,a){var l,d=null==i,h=0,u=e.length;if(i&&"object"==typeof i){for(h in i)w.access(e,t,h,i[h],1,o,r);n=1}else if(r!==s){if(l=a===s&&w.isFunction(r),d&&(l?(l=t,t=function(e,t,i){return l.call(w(e),i)}):(t.call(e,r),t=null)),t)for(;h<u;h++)t(e[h],i,l?r.call(e[h],h,t(e[h],i)):r,a);n=1}return n?e:d?t.call(e):u?t(e[0],i):o},now:function(){return(new Date).getTime()}}),w.ready.promise=function(e){if(!a)if(a=w.Deferred(),"complete"===l.readyState)setTimeout(w.ready,1);else if(l.addEventListener)l.addEventListener("DOMContentLoaded",E,!1),n.addEventListener("load",w.ready,!1);else{l.attachEvent("onreadystatechange",E),n.attachEvent("onload",w.ready);var t=!1;try{t=null==n.frameElement&&l.documentElement}catch(ue){}t&&t.doScroll&&function e(){if(!w.isReady){try{t.doScroll("left")}catch(i){return setTimeout(e,50)}w.ready()}}()}return a.promise(e)},w.each("Boolean Number String Function Array Date RegExp Object".split(" "),(function(e,t){M["[object "+t+"]"]=t.toLowerCase()})),o=w(l);var A={};w.Callbacks=function(e){e="string"==typeof e?A[e]||function(e){var t=A[e]={};return w.each(e.split(x),(function(e,i){t[i]=!0})),t}(e):w.extend({},e);var t,i,r,n,o,a,l=[],d=!e.once&&[],h=function s(h){for(t=e.memory&&h,i=!0,a=n||0,n=0,o=l.length,r=!0;l&&a<o;a++)if(!1===l[a].apply(h[0],h[1])&&e.stopOnFalse){t=!1;break}r=!1,l&&(d?d.length&&s(d.shift()):t?l=[]:u.disable())},u={add:function(){if(l){var i=l.length;!function t(i){w.each(i,(function(i,r){var n=w.type(r);"function"===n?e.unique&&u.has(r)||l.push(r):r&&r.length&&"string"!==n&&t(r)}))}(arguments),r?o=l.length:t&&(n=i,h(t))}return this},remove:function(){return l&&w.each(arguments,(function(e,t){for(var i;(i=w.inArray(t,l,i))>-1;)l.splice(i,1),r&&(i<=o&&o--,i<=a&&a--)})),this},has:function(e){return w.inArray(e,l)>-1},empty:function(){return l=[],this},disable:function(){return l=d=t=s,this},disabled:function(){return!l},lock:function(){return d=s,t||u.disable(),this},locked:function(){return!d},fireWith:function(e,t){return t=[e,(t=t||[]).slice?t.slice():t],!l||i&&!d||(r?d.push(t):h(t)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},w.extend({Deferred:function(e){var t=[["resolve","done",w.Callbacks("once memory"),"resolved"],["reject","fail",w.Callbacks("once memory"),"rejected"],["notify","progress",w.Callbacks("memory")]],i="pending",r={state:function(){return i},always:function(){return n.done(arguments).fail(arguments),this},then:function(){var e=arguments;return w.Deferred((function(i){w.each(t,(function(t,r){var s=r[0],o=e[t];n[r[1]](w.isFunction(o)?function(){var e=o.apply(this,arguments);e&&w.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[s+"With"](this===n?i:this,[e])}:i[s])})),e=null})).promise()},promise:function(e){return null!=e?w.extend(e,r):r}},n={};return r.pipe=r.then,w.each(t,(function(e,s){var o=s[2],a=s[3];r[s[1]]=o.add,a&&o.add((function(){i=a}),t[1^e][2].disable,t[2][2].lock),n[s[0]]=o.fire,n[s[0]+"With"]=o.fireWith})),r.promise(n),e&&e.call(n,n),n},when:function(e){var t,i,r,n=0,s=p.call(arguments),o=s.length,a=1!==o||e&&w.isFunction(e.promise)?o:0,l=1===a?e:w.Deferred(),d=function(e,i,r){return function(n){i[e]=this,r[e]=arguments.length>1?p.call(arguments):n,r===t?l.notifyWith(i,r):--a||l.resolveWith(i,r)}};if(o>1)for(t=new Array(o),i=new Array(o),r=new Array(o);n<o;n++)s[n]&&w.isFunction(s[n].promise)?s[n].promise().done(d(n,r,s)).fail(l.reject).progress(d(n,i,t)):--a;return a||l.resolveWith(r,s),l.promise()}}),w.support=function(){var e,t,i,r,s,o,a,d,h,u,c,p=l.createElement("div");if(p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=p.getElementsByTagName("*"),i=p.getElementsByTagName("a")[0],!t||!i||!t.length)return{};s=(r=l.createElement("select")).appendChild(l.createElement("option")),o=p.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",e={leadingWhitespace:3===p.firstChild.nodeType,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.5/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:"on"===o.value,optSelected:s.selected,getSetAttribute:"t"!==p.className,enctype:!!l.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==l.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===l.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},o.checked=!0,e.noCloneChecked=o.cloneNode(!0).checked,r.disabled=!0,e.optDisabled=!s.disabled;try{delete p.test}catch(f){e.deleteExpando=!1}if(!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",c=function(){e.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick"),p.detachEvent("onclick",c)),(o=l.createElement("input")).value="t",o.setAttribute("type","radio"),e.radioValue="t"===o.value,o.setAttribute("checked","checked"),o.setAttribute("name","t"),p.appendChild(o),(a=l.createDocumentFragment()).appendChild(p.lastChild),e.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,e.appendChecked=o.checked,a.removeChild(o),a.appendChild(p),p.attachEvent)for(h in{submit:!0,change:!0,focusin:!0})(u=(d="on"+h)in p)||(p.setAttribute(d,"return;"),u="function"==typeof p[d]),e[h+"Bubbles"]=u;return w((function(){var t,i,r,s,o="padding:0;margin:0;border:0;display:block;overflow:hidden;",a=l.getElementsByTagName("body")[0];a&&((t=l.createElement("div")).style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",a.insertBefore(t,a.firstChild),i=l.createElement("div"),t.appendChild(i),i.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(r=i.getElementsByTagName("td"))[0].style.cssText="padding:0;margin:0;border:0;display:none",u=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",e.reliableHiddenOffsets=u&&0===r[0].offsetHeight,i.innerHTML="",i.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",e.boxSizing=4===i.offsetWidth,e.doesNotIncludeMarginInBodyOffset=1!==a.offsetTop,n.getComputedStyle&&(e.pixelPosition="1%"!==(n.getComputedStyle(i,null)||{}).top,e.boxSizingReliable="4px"===(n.getComputedStyle(i,null)||{width:"4px"}).width,(s=l.createElement("div")).style.cssText=i.style.cssText=o,s.style.marginRight=s.style.width="0",i.style.width="1px",i.appendChild(s),e.reliableMarginRight=!parseFloat((n.getComputedStyle(s,null)||{}).marginRight)),void 0!==i.style.zoom&&(i.innerHTML="",i.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===i.offsetWidth,i.style.display="block",i.style.overflow="visible",i.innerHTML="<div></div>",i.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==i.offsetWidth,t.style.zoom=1),a.removeChild(t),t=i=r=s=null)})),a.removeChild(p),t=i=r=s=o=a=p=null,e}();var H=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,O=/([A-Z])/g;function B(e,t,i){if(i===s&&1===e.nodeType){var r="data-"+t.replace(O,"-$1").toLowerCase();if("string"==typeof(i=e.getAttribute(r))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:H.test(i)?w.parseJSON(i):i)}catch(n){}w.data(e,t,i)}else i=s}return i}function z(e){var t;for(t in e)if(("data"!==t||!w.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}w.extend({cache:{},deletedIds:[],uuid:0,expando:"JQXLite"+(w.fn.jqx+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return!!(e=e.nodeType?w.cache[e[w.expando]]:e[w.expando])&&!z(e)},data:function(e,t,i,r){if(w.acceptData(e)){var n,o,a=w.expando,l="string"==typeof t,d=e.nodeType,h=d?w.cache:e,u=d?e[a]:e[a]&&a;if(u&&h[u]&&(r||h[u].data)||!l||i!==s)return u||(d?e[a]=u=w.deletedIds.pop()||w.guid++:u=a),h[u]||(h[u]={},d||(h[u].toJSON=w.noop)),"object"!=typeof t&&"function"!=typeof t||(r?h[u]=w.extend(h[u],t):h[u].data=w.extend(h[u].data,t)),n=h[u],r||(n.data||(n.data={}),n=n.data),i!==s&&(n[w.camelCase(t)]=i),l?null==(o=n[t])&&(o=n[w.camelCase(t)]):o=n,o}},removeData:function(e,t,i){if(w.acceptData(e)){var r,n,s,o=e.nodeType,a=o?w.cache:e,l=o?e[w.expando]:w.expando;if(a[l]){if(t&&(r=i?a[l]:a[l].data)){w.isArray(t)||(t=t in r||(t=w.camelCase(t))in r?[t]:t.split(" "));for(n=0,s=t.length;n<s;n++)delete r[t[n]];if(!(i?z:w.isEmptyObject)(r))return}(i||(delete a[l].data,z(a[l])))&&(o?w.cleanData([e],!0):w.support.deleteExpando||a!=a.window?delete a[l]:a[l]=null)}}},_data:function(e,t,i){return w.data(e,t,i,!0)},acceptData:function(e){var t=e.nodeName&&w.noData[e.nodeName.toLowerCase()];return!t||!0!==t&&e.getAttribute("classid")===t}}),w.fn.extend({data:function(e,t){var i,r,n,o,a,l=this[0],d=0,h=null;if(e===s){if(this.length&&(h=w.data(l),1===l.nodeType&&!w._data(l,"parsedAttrs"))){for(a=(n=l.attributes).length;d<a;d++)(o=n[d].name).indexOf("data-")||(o=w.camelCase(o.substring(5)),B(l,o,h[o]));w._data(l,"parsedAttrs",!0)}return h}return"object"==typeof e?this.each((function(){w.data(this,e)})):((i=e.split(".",2))[1]=i[1]?"."+i[1]:"",r=i[1]+"!",w.access(this,(function(t){if(t===s)return(h=this.triggerHandler("getData"+r,[i[0]]))===s&&l&&(h=w.data(l,e),h=B(l,e,h)),h===s&&i[1]?this.data(i[0]):h;i[1]=t,this.each((function(){var n=w(this);n.triggerHandler("setData"+r,i),w.data(this,e,t),n.triggerHandler("changeData"+r,i)}))}),null,t,arguments.length>1,null,!1))},removeData:function(e){return this.each((function(){w.removeData(this,e)}))}}),w.extend({queue:function(e,t,i){var r;if(e)return r=w._data(e,t=(t||"fx")+"queue"),i&&(!r||w.isArray(i)?r=w._data(e,t,w.makeArray(i)):r.push(i)),r||[]},dequeue:function(e,t){var i=w.queue(e,t=t||"fx"),r=i.length,n=i.shift(),s=w._queueHooks(e,t);"inprogress"===n&&(n=i.shift(),r--),n&&("fx"===t&&i.unshift("inprogress"),delete s.stop,n.call(e,(function(){w.dequeue(e,t)}),s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return w._data(e,i)||w._data(e,i,{empty:w.Callbacks("once memory").add((function(){w.removeData(e,t+"queue",!0),w.removeData(e,i,!0)}))})}}),w.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?w.queue(this[0],e):t===s?this:this.each((function(){var i=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&w.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){w.dequeue(this,e)}))},delay:function(e,t){return e=w.fx&&w.fx.speeds[e]||e,this.queue(t=t||"fx",(function(t,i){var r=setTimeout(t,e);i.stop=function(){clearTimeout(r)}}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,r=1,n=w.Deferred(),o=this,a=this.length,l=function(){--r||n.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=s),e=e||"fx";a--;)(i=w._data(o[a],e+"queueHooks"))&&i.empty&&(r++,i.empty.add(l));return l(),n.promise(t)}});var N,L=/[\t\r\n]/g,F=/\r/g,R=/^(?:button|input)$/i,V=/^(?:button|input|object|select|textarea)$/i,W=/^a(?:rea|)$/i,G=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,U=w.support.getSetAttribute;w.fn.extend({attr:function(e,t){return w.access(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){w.removeAttr(this,e)}))},prop:function(e,t){return w.access(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return e=w.propFix[e]||e,this.each((function(){try{this[e]=s,delete this[e]}catch(ue){}}))},addClass:function(e){var t,i,r,n,s,o,a;if(w.isFunction(e))return this.each((function(t){w(this).addClass(e.call(this,t,this.className))}));if(e&&"string"==typeof e)for(t=e.split(x),i=0,r=this.length;i<r;i++)if(1===(n=this[i]).nodeType)if(n.className||1!==t.length){for(s=" "+n.className+" ",o=0,a=t.length;o<a;o++)s.indexOf(" "+t[o]+" ")<0&&(s+=t[o]+" ");n.className=w.trim(s)}else n.className=e;return this},removeClass:function(e){var t,i,r,n,o,a,l;if(w.isFunction(e))return this.each((function(t){w(this).removeClass(e.call(this,t,this.className))}));if(e&&"string"==typeof e||e===s)for(t=(e||"").split(x),a=0,l=this.length;a<l;a++)if(1===(r=this[a]).nodeType&&r.className){for(i=(" "+r.className+" ").replace(L," "),n=0,o=t.length;n<o;n++)for(;i.indexOf(" "+t[n]+" ")>=0;)i=i.replace(" "+t[n]+" "," ");r.className=e?w.trim(i):""}return this},toggleClass:function(e,t){var i=typeof e,r="boolean"==typeof t;return w.isFunction(e)?this.each((function(i){w(this).toggleClass(e.call(this,i,this.className,t),t)})):this.each((function(){if("string"===i)for(var n,s=0,o=w(this),a=t,l=e.split(x);n=l[s++];)a=r?a:!o.hasClass(n),o[a?"addClass":"removeClass"](n);else"undefined"!==i&&"boolean"!==i||(this.className&&w._data(this,"__className__",this.className),this.className=this.className||!1===e?"":w._data(this,"__className__")||"")}))},hasClass:function(e){for(var t=" "+e+" ",i=0,r=this.length;i<r;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(L," ").indexOf(t)>=0)return!0;return!1},val:function(e){var t,i,r,n=this[0];return arguments.length?(r=w.isFunction(e),this.each((function(i){var n,o=w(this);1===this.nodeType&&(null==(n=r?e.call(this,i,o.val()):e)?n="":"number"==typeof n?n+="":w.isArray(n)&&(n=w.map(n,(function(e){return null==e?"":e+""}))),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&t.set(this,n,"value")!==s||(this.value=n))}))):n?(t=w.valHooks[n.type]||w.valHooks[n.nodeName.toLowerCase()])&&"get"in t&&(i=t.get(n,"value"))!==s?i:"string"==typeof(i=n.value)?i.replace(F,""):null==i?"":i:void 0}}),w.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,i,r=e.options,n=e.selectedIndex,s="select-one"===e.type||n<0,o=s?null:[],a=s?n+1:r.length,l=n<0?a:s?n:0;l<a;l++)if(((i=r[l]).selected||l===n)&&(w.support.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!w.nodeName(i.parentNode,"optgroup"))){if(t=w(i).val(),s)return t;o.push(t)}return o},set:function(e,t){var i=w.makeArray(t);return w(e).find("option").each((function(){this.selected=w.inArray(w(this).val(),i)>=0})),i.length||(e.selectedIndex=-1),i}}},attrFn:{},attr:function(e,t,i,r){var n,o,a,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return r&&w.isFunction(w.fn[t])?w(e)[t](i):void 0===e.getAttribute?w.prop(e,t,i):((a=1!==l||!w.isXMLDoc(e))&&(t=t.toLowerCase(),o=w.attrHooks[t]||(G.test(t)?N:void 0)),i!==s?null===i?void w.removeAttr(e,t):o&&"set"in o&&a&&(n=o.set(e,i,t))!==s?n:(e.setAttribute(t,i+""),i):o&&"get"in o&&a&&null!==(n=o.get(e,t))?n:null===(n=e.getAttribute(t))?s:n)},removeAttr:function(e,t){var i,r,n,s,o=0;if(t&&1===e.nodeType)for(r=t.split(x);o<r.length;o++)(n=r[o])&&(i=w.propFix[n]||n,(s=G.test(n))||w.attr(e,n,""),e.removeAttribute(U?n:i),s&&i in e&&(e[i]=!1))},attrHooks:{type:{set:function(e,t){if(R.test(e.nodeName)&&e.parentNode)w.error("type property can't be changed");else if(!w.support.radioValue&&"radio"===t&&w.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}},value:{get:function(e,t){return t in e?e.value:null},set:function(e,t,i){e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,t,i){var r,n,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return(1!==o||!w.isXMLDoc(e))&&(n=w.propHooks[t=w.propFix[t]||t]),i!==s?n&&"set"in n&&(r=n.set(e,i,t))!==s?r:e[t]=i:n&&"get"in n&&null!==(r=n.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=e.getAttributeNode("tabindex");return t&&t.specified?parseInt(t.value,10):V.test(e.nodeName)||W.test(e.nodeName)&&e.href?0:s}}}}),N={get:function(e,t){var i,r=w.prop(e,t);return!0===r||"boolean"!=typeof r&&(i=e.getAttributeNode(t))&&!1!==i.nodeValue?t.toLowerCase():s},set:function(e,t,i){var r;return!1===t?w.removeAttr(e,i):((r=w.propFix[i]||i)in e&&(e[r]=!0),e.setAttribute(i,i.toLowerCase())),i}},w.support.enctype||(w.propFix.enctype="encoding");var Y=/^([^\.]*|)(?:\.(.+)|)$/,Z=/(?:^|\s)hover(\.\S+|)\b/,K=/^key/,X=/^(?:mouse|contextmenu)|click/,Q=/^(?:focusinfocus|focusoutblur)$/,J=function(e){return w.event.special.hover?e:e.replace(Z,"mouseenter$1 mouseleave$1")};function $(){return!1}function ee(){return!0}(w.event={add:function(e,t,i,r,n){var o,a,l,d,h,u,c,p,f,m,g;if(3!==e.nodeType&&8!==e.nodeType&&t&&i&&(o=w._data(e))){for(i.handler&&(i=(f=i).handler,n=f.selector),i.guid||(i.guid=w.guid++),(l=o.events)||(o.events=l={}),(a=o.handle)||(o.handle=a=function(e){return void 0===w||e&&w.event.triggered===e.type?s:w.event.dispatch.apply(a.elem,arguments)},a.elem=e),t=w.trim(J(t)).split(" "),d=0;d<t.length;d++)u=(h=Y.exec(t[d])||[])[1],c=(h[2]||"").split(".").sort(),g=w.event.special[u]||{},g=w.event.special[u=(n?g.delegateType:g.bindType)||u]||{},p=w.extend({type:u,origType:h[1],data:r,handler:i,guid:i.guid,selector:n,needsContext:n&&w.expr.match.needsContext.test(n),namespace:c.join(".")},f),(m=l[u])||((m=l[u]=[]).delegateCount=0,g.setup&&!1!==g.setup.call(e,r,c,a)||(e.addEventListener?e.addEventListener(u,a,!(!r||r.passive===s)&&r):e.attachEvent&&e.attachEvent("on"+u,a))),g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=i.guid)),n?m.splice(m.delegateCount++,0,p):m.push(p),w.event.global[u]=!0;e=null}},global:{},remove:function(e,t,i,r,n){var s,o,a,l,d,h,u,c,p,f,m,g=w.hasData(e)&&w._data(e);if(g&&(c=g.events)){for(t=w.trim(J(t||"")).split(" "),s=0;s<t.length;s++)if(a=l=(o=Y.exec(t[s])||[])[1],d=o[2],a){for(p=w.event.special[a]||{},h=(f=c[a=(r?p.delegateType:p.bindType)||a]||[]).length,d=d?new RegExp("(^|\\.)"+d.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,u=0;u<f.length;u++)m=f[u],!n&&l!==m.origType||i&&i.guid!==m.guid||d&&!d.test(m.namespace)||r&&r!==m.selector&&("**"!==r||!m.selector)||(f.splice(u--,1),m.selector&&f.delegateCount--,p.remove&&p.remove.call(e,m));0===f.length&&h!==f.length&&(p.teardown&&!1!==p.teardown.call(e,d,g.handle)||w.removeEvent(e,a,g.handle),delete c[a])}else for(a in c)w.event.remove(e,a+t[s],i,r,!0);w.isEmptyObject(c)&&(delete g.handle,w.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(e,t,i,r){if(!i||3!==i.nodeType&&8!==i.nodeType){var o,a,d,h,u,c,p,f,m,g,v=e.type||e,y=[];if(!Q.test(v+w.event.triggered)&&(v.indexOf("!")>=0&&(v=v.slice(0,-1),a=!0),v.indexOf(".")>=0&&(y=v.split("."),v=y.shift(),y.sort()),i&&!w.event.customEvent[v]||w.event.global[v]))if((e="object"==typeof e?e[w.expando]?e:new w.Event(v,e):new w.Event(v)).type=v,e.isTrigger=!0,e.exclusive=a,e.namespace=y.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c=v.indexOf(":")<0?"on"+v:"",i){if(e.result=s,e.target||(e.target=i),(t=null!=t?w.makeArray(t):[]).unshift(e),!(p=w.event.special[v]||{}).trigger||!1!==p.trigger.apply(i,t)){if(m=[[i,p.bindType||v]],!r&&!p.noBubble&&!w.isWindow(i)){for(h=Q.test((g=p.delegateType||v)+v)?i:i.parentNode,u=i;h;h=h.parentNode)m.push([h,g]),u=h;u===(i.ownerDocument||l)&&m.push([u.defaultView||u.parentWindow||n,g])}for(d=0;d<m.length&&!e.isPropagationStopped();d++)h=m[d][0],e.type=m[d][1],(f=(w._data(h,"events")||{})[e.type]&&w._data(h,"handle"))&&f.apply(h,t),(f=c&&h[c])&&w.acceptData(h)&&f.apply&&!1===f.apply(h,t)&&e.preventDefault();return e.type=v,r||e.isDefaultPrevented()||p._default&&!1!==p._default.apply(i.ownerDocument,t)||"click"===v&&w.nodeName(i,"a")||!w.acceptData(i)||c&&i[v]&&("focus"!==v&&"blur"!==v||0!==e.target.offsetWidth)&&!w.isWindow(i)&&((u=i[c])&&(i[c]=null),w.event.triggered=v,i[v](),w.event.triggered=s,u&&(i[c]=u)),e.result}}else for(d in o=w.cache)o[d].events&&o[d].events[v]&&w.event.trigger(e,t,o[d].handle.elem,!0)}},dispatch:function(e){e=w.event.fix(e||n.event);var t,i,r,o,a,l,d,h,u,c=(w._data(this,"events")||{})[e.type]||[],f=c.delegateCount,m=p.call(arguments),g=!e.exclusive&&!e.namespace,v=w.event.special[e.type]||{},y=[];if(m[0]=e,e.delegateTarget=this,!v.preDispatch||!1!==v.preDispatch.call(this,e)){if(f&&(!e.button||"click"!==e.type))for(r=e.target;r!=this;r=r.parentNode||this)if(!0!==r.disabled||"click"!==e.type){for(a={},d=[],t=0;t<f;t++)a[u=(h=c[t]).selector]===s&&(a[u]=h.needsContext?w(u,this).index(r)>=0:w.find(u,this,null,[r]).length),a[u]&&d.push(h);d.length&&y.push({elem:r,matches:d})}for(c.length>f&&y.push({elem:this,matches:c.slice(f)}),t=0;t<y.length&&!e.isPropagationStopped();t++)for(e.currentTarget=(l=y[t]).elem,i=0;i<l.matches.length&&!e.isImmediatePropagationStopped();i++)h=l.matches[i],(g||!e.namespace&&!h.namespace||e.namespace_re&&e.namespace_re.test(h.namespace))&&(e.data=h.data,e.handleObj=h,(o=((w.event.special[h.origType]||{}).handle||h.handler).apply(l.elem,m))!==s&&(e.result=o,!1===o&&(e.preventDefault(),e.stopPropagation())));return v.postDispatch&&v.postDispatch.call(this,e),e.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,r,n,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(n=(i=e.target.ownerDocument||l).body,e.pageX=t.clientX+((r=i.documentElement)&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||o===s||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[w.expando])return e;var t,i,r=e,n=w.event.fixHooks[e.type]||{},s=n.props?this.props.concat(n.props):this.props;for(e=w.Event(r),t=s.length;t;)e[i=s[--t]]=r[i];return e.target||(e.target=r.srcElement||l),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,n.filter?n.filter(e,r):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,i){w.isWindow(this)&&(this.onbeforeunload=i)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,i,r){var n=w.extend(new w.Event,i,{type:e,isSimulated:!0,originalEvent:{}});r?w.event.trigger(n,null,t):w.event.dispatch.call(t,n),n.isDefaultPrevented()&&i.preventDefault()}}).handle=w.event.dispatch,w.removeEvent=l.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var r="on"+t;e.detachEvent&&(void 0===e[r]&&(e[r]=null),e.detachEvent(r,i))},(w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?ee:$):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||w.now(),this[w.expando]=!0}).prototype={preventDefault:function(){this.isDefaultPrevented=ee;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=ee;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ee,this.stopPropagation()},isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$},w.each({mouseenter:"mouseover",mouseleave:"mouseout"},(function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,r=this,n=e.relatedTarget,s=e.handleObj;return n&&(n===r||w.contains(r,n))||(e.type=s.origType,i=s.handler.apply(this,arguments),e.type=t),i}}})),w.fn.extend({on:function(e,t,i,r,n){var o,a;if("object"==typeof e){for(a in"string"!=typeof t&&(i=i||t,t=s),e)this.on(a,t,i,e[a],n);return this}if(null==i&&null==r?(r=t,i=t=s):null==r&&("string"==typeof t?(r=i,i=s):(r=i,i=t,t=s)),!1===r)r=$;else if(!r)return this;return 1===n&&(o=r,(r=function(e){return w().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=w.guid++)),this.each((function(){w.event.add(this,e,r,i,t)}))},off:function(e,t,i){var r,n;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,w(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(n in e)this.off(n,t,e[n]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=s),!1===i&&(i=$),this.each((function(){w.event.remove(this,e,i,t)}))},delegate:function(e,t,i,r){return this.on(t,e,i,r)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},trigger:function(e,t){return this.each((function(){w.event.trigger(e,t,this)}))},triggerHandler:function(e,t){if(this[0])return w.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,i=e.guid||w.guid++,r=0,n=function(i){var n=(w._data(this,"lastToggle"+e.guid)||0)%r;return w._data(this,"lastToggle"+e.guid,n+1),i.preventDefault(),t[n].apply(this,arguments)||!1};for(n.guid=i;r<t.length;)t[r++].guid=i;return this.click(n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(e,t){w.fn[t]=function(e,i){return null==i&&(i=e,e=null),arguments.length>0?this.on(t,null,e,i):this.trigger(t)},K.test(t)&&(w.event.fixHooks[t]=w.event.keyHooks),X.test(t)&&(w.event.fixHooks[t]=w.event.mouseHooks)})),function(e,t){var i,r,n,s,o,a,l,d,h,u,c,p,f,m,g,v,y,b,x="undefined",_=("sizcache"+Math.random()).replace(".",""),C=String,j=e.document,q=j.documentElement,k=0,T=0,S=[].pop,I=[].push,D=[].slice,P=[].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(this[t]===e)return t;return-1},E=function(e,t){return e[_]=null==t||t,e},M=function(){var e={},t=[];return E((function(i,r){return t.push(i)>n.cacheLength&&delete e[t.shift()],e[i+" "]=r}),e)},A=M(),H=M(),O=M(),B="[\\x20\\t\\r\\n\\f]",z="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",N=z.replace("w","w#"),L="\\["+B+"*("+z+")"+B+"*(?:([*^$|!~]?=)"+B+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+N+")|)|)"+B+"*\\]",F=":("+z+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+L+")|[^:]|\\\\.)*|.*))\\)|)",R=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)",V=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),W=new RegExp("^"+B+"*,"+B+"*"),G=new RegExp("^"+B+"*([\\x20\\t\\r\\n\\f>+~])"+B+"*"),U=new RegExp(F),Y=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,Z=/[\x20\t\r\n\f]*[+~]/,K=/h\d/i,X=/input|select|textarea|button/i,Q=/\\(?!\\)/g,J={ID:new RegExp("^#("+z+")"),CLASS:new RegExp("^\\.("+z+")"),NAME:new RegExp("^\\[name=['\"]?("+z+")['\"]?\\]"),TAG:new RegExp("^("+z.replace("w","w*")+")"),ATTR:new RegExp("^"+L),PSEUDO:new RegExp("^"+F),POS:new RegExp(R,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),needsContext:new RegExp("^"+B+"*[>+~]|"+R,"i")},$=function(e){var t=j.createElement("div");try{return e(t)}catch(v){return!1}finally{t=null}},ee=$((function(e){return e.appendChild(j.createComment("")),!e.getElementsByTagName("*").length})),te=$((function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==x&&"#"===e.firstChild.getAttribute("href")})),ie=$((function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t})),re=$((function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!e.getElementsByClassName||!e.getElementsByClassName("e").length)&&(e.lastChild.className="e",2===e.getElementsByClassName("e").length)})),ne=$((function(e){e.id=_+0,e.innerHTML="<a name='"+_+"'></a><div name='"+_+"'></div>",q.insertBefore(e,q.firstChild);var t=j.getElementsByName&&j.getElementsByName(_).length===2+j.getElementsByName(_+0).length;return r=!j.getElementById(_),q.removeChild(e),t}));try{D.call(q.childNodes,0)}catch(we){D=function(e){for(var t,i=[];t=this[e];e++)i.push(t);return i}}function se(e,t,i,r){i=i||[];var n,s,l,d,h=(t=t||j).nodeType;if(!e||"string"!=typeof e)return i;if(1!==h&&9!==h)return[];if(!(l=o(t))&&!r&&(n=Y.exec(e)))if(d=n[1]){if(9===h){if(!(s=t.getElementById(d))||!s.parentNode)return i;if(s.id===d)return i.push(s),i}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(d))&&a(t,s)&&s.id===d)return i.push(s),i}else{if(n[2])return I.apply(i,D.call(t.getElementsByTagName(e),0)),i;if((d=n[3])&&re&&t.getElementsByClassName)return I.apply(i,D.call(t.getElementsByClassName(d),0)),i}return ge(e.replace(V,"$1"),t,i,r,l)}function oe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ae(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function le(e){return E((function(t){return t=+t,E((function(i,r){for(var n,s=e([],i.length,t),o=s.length;o--;)i[n=s[o]]&&(i[n]=!(r[n]=i[n]))}))}))}function de(e,t,i){if(e===t)return i;for(var r=e.nextSibling;r;){if(r===t)return-1;r=r.nextSibling}return 1}function he(e,t){var i,r,s,o,a,l,d,h=H[_][e+" "];if(h)return t?0:h.slice(0);for(a=e,l=[],d=n.preFilter;a;){for(o in i&&!(r=W.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(s=[])),i=!1,(r=G.exec(a))&&(s.push(i=new C(r.shift())),a=a.slice(i.length),i.type=r[0].replace(V," ")),n.filter)!(r=J[o].exec(a))||d[o]&&!(r=d[o](r))||(s.push(i=new C(r.shift())),a=a.slice(i.length),i.type=o,i.matches=r);if(!i)break}return t?a.length:a?se.error(e):H(e,l).slice(0)}function ue(e,t,r){var n=t.dir,s=r&&"parentNode"===t.dir,o=T++;return t.first?function(t,i,r){for(;t=t[n];)if(s||1===t.nodeType)return e(t,i,r)}:function(t,r,a){if(a){for(;t=t[n];)if((s||1===t.nodeType)&&e(t,r,a))return t}else for(var l,d=k+" "+o+" ",h=d+i;t=t[n];)if(s||1===t.nodeType){if((l=t[_])===h)return t.sizset;if("string"==typeof l&&0===l.indexOf(d)){if(t.sizset)return t}else{if(t[_]=h,e(t,r,a))return t.sizset=!0,t;t.sizset=!1}}}}function ce(e){return e.length>1?function(t,i,r){for(var n=e.length;n--;)if(!e[n](t,i,r))return!1;return!0}:e[0]}function pe(e,t,i,r,n){for(var s,o=[],a=0,l=e.length,d=null!=t;a<l;a++)(s=e[a])&&(i&&!i(s,r,n)||(o.push(s),d&&t.push(a)));return o}function fe(e,t,i,r,n,s){return r&&!r[_]&&(r=fe(r)),n&&!n[_]&&(n=fe(n,s)),E((function(s,o,a,l){var d,h,u,c=[],p=[],f=o.length,m=s||function(e,t,i){for(var r=0,n=t.length;r<n;r++)se(e,t[r],i);return i}(t||"*",a.nodeType?[a]:a,[]),g=!e||!s&&t?m:pe(m,c,e,a,l),v=i?n||(s?e:f||r)?[]:o:g;if(i&&i(g,v,a,l),r)for(d=pe(v,p),r(d,[],a,l),h=d.length;h--;)(u=d[h])&&(v[p[h]]=!(g[p[h]]=u));if(s){if(n||e){if(n){for(d=[],h=v.length;h--;)(u=v[h])&&d.push(g[h]=u);n(null,v=[],d,l)}for(h=v.length;h--;)(u=v[h])&&(d=n?P.call(s,u):c[h])>-1&&(s[d]=!(o[d]=u))}}else v=pe(v===o?v.splice(f,v.length):v),n?n(null,o,v,l):I.apply(o,v)}))}function me(e){for(var t,i,r,s=e.length,o=n.relative[e[0].type],a=o||n.relative[" "],l=o?1:0,d=ue((function(e){return e===t}),a,!0),h=ue((function(e){return P.call(t,e)>-1}),a,!0),c=[function(e,i,r){return!o&&(r||i!==u)||((t=i).nodeType?d(e,i,r):h(e,i,r))}];l<s;l++)if(i=n.relative[e[l].type])c=[ue(ce(c),i)];else{if((i=n.filter[e[l].type].apply(null,e[l].matches))[_]){for(r=++l;r<s&&!n.relative[e[r].type];r++);return fe(l>1&&ce(c),l>1&&e.slice(0,l-1).join("").replace(V,"$1"),i,l<r&&me(e.slice(l,r)),r<s&&me(e=e.slice(r)),r<s&&e.join(""))}c.push(i)}return ce(c)}function ge(e,t,i,r,s){var o,a,d,h,u,c=he(e);if(!r&&1===c.length){if((a=c[0]=c[0].slice(0)).length>2&&"ID"===(d=a[0]).type&&9===t.nodeType&&!s&&n.relative[a[1].type]){if(!(t=n.find.ID(d.matches[0].replace(Q,""),t,s)[0]))return i;e=e.slice(a.shift().length)}for(o=J.POS.test(e)?-1:a.length-1;o>=0&&!n.relative[h=(d=a[o]).type];o--)if((u=n.find[h])&&(r=u(d.matches[0].replace(Q,""),Z.test(a[0].type)&&t.parentNode||t,s))){if(a.splice(o,1),!(e=r.length&&a.join("")))return I.apply(i,D.call(r,0)),i;break}}return l(e,c)(r,t,s,i,Z.test(e)),i}function ve(){}se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){return se(t,null,null,[e]).length>0},s=se.getText=function(e){var t,i="",r=0,n=e.nodeType;if(n){if(1===n||9===n||11===n){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=s(e)}else if(3===n||4===n)return e.nodeValue}else for(;t=e[r];r++)i+=s(t);return i},o=se.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},a=se.contains=q.contains?function(e,t){var i=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&1===r.nodeType&&i.contains&&i.contains(r))}:q.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},se.attr=function(e,t){var i,r=o(e);return r||(t=t.toLowerCase()),(i=n.attrHandle[t])?i(e):r||ie?e.getAttribute(t):(i=e.getAttributeNode(t))?"boolean"==typeof e[t]?e[t]?t:null:i.specified?i.value:null:null},n=se.selectors={cacheLength:50,createPseudo:E,match:J,attrHandle:te?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:r?function(e,t,i){if(typeof t.getElementById!==x&&!i){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}}:function(e,t,i){if(typeof t.getElementById!==x&&!i){var r=t.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==x&&r.getAttributeNode("id").value===e?[r]:void 0:[]}},TAG:ee?function(e,t){if(typeof t.getElementsByTagName!==x)return t.getElementsByTagName(e)}:function(e,t){var i=t.getElementsByTagName(e);if("*"===e){for(var r,n=[],s=0;r=i[s];s++)1===r.nodeType&&n.push(r);return n}return i},NAME:ne&&function(e,t){if(typeof t.getElementsByName!==x)return t.getElementsByName(name)},CLASS:re&&function(e,t,i){if(typeof t.getElementsByClassName!==x&&!i)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Q,""),e[3]=(e[4]||e[5]||"").replace(Q,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||se.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&se.error(e[0]),e},PSEUDO:function(e){var t,i;return J.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(t=e[4])&&(U.test(t)&&(i=he(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(t=t.slice(0,i),e[0]=e[0].slice(0,i)),e[2]=t),e.slice(0,3))}},filter:{ID:r?function(e){return e=e.replace(Q,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(Q,""),function(t){var i=typeof t.getAttributeNode!==x&&t.getAttributeNode("id");return i&&i.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(Q,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=A[_][e+" "];return t||(t=new RegExp("(^|"+B+")"+e+"("+B+"|$)"))&&A(e,(function(e){return t.test(e.className||typeof e.getAttribute!==x&&e.getAttribute("class")||"")}))},ATTR:function(e,t,i){return function(r,n){var s=se.attr(r,e);return null==s?"!="===t:!t||(s+="","="===t?s===i:"!="===t?s!==i:"^="===t?i&&0===s.indexOf(i):"*="===t?i&&s.indexOf(i)>-1:"$="===t?i&&s.substr(s.length-i.length)===i:"~="===t?(" "+s+" ").indexOf(i)>-1:"|="===t&&(s===i||s.substr(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,r){return"nth"===e?function(e){var t,n,s=e.parentNode;if(1===i&&0===r)return!0;if(s)for(n=0,t=s.firstChild;t&&(1!==t.nodeType||(n++,e!==t));t=t.nextSibling);return(n-=r)===i||n%i==0&&n/i>=0}:function(t){var i=t;switch(e){case"only":case"first":for(;i=i.previousSibling;)if(1===i.nodeType)return!1;if("first"===e)return!0;i=t;case"last":for(;i=i.nextSibling;)if(1===i.nodeType)return!1;return!0}}},PSEUDO:function(e,t){var i,r=n.pseudos[e]||n.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return r[_]?r(t):r.length>1?(i=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?E((function(e,i){for(var n,s=r(e,t),o=s.length;o--;)e[n=P.call(e,s[o])]=!(i[n]=s[o])})):function(e){return r(e,0,i)}):r}},pseudos:{not:E((function(e){var t=[],i=[],r=l(e.replace(V,"$1"));return r[_]?E((function(e,t,i,n){for(var s,o=r(e,null,n,[]),a=e.length;a--;)(s=o[a])&&(e[a]=!(t[a]=s))})):function(e,n,s){return t[0]=e,r(t,null,s,i),!i.pop()}})),has:E((function(e){return function(t){return se(e,t).length>0}})),contains:E((function(e){return function(t){return(t.textContent||t.innerText||s(t)).indexOf(e)>-1}})),enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return!0===e.selected},parent:function(e){return!n.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},header:function(e){return K.test(e.nodeName)},text:function(e){var t,i;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(i=e.getAttribute("type"))||i.toLowerCase()===t)},radio:oe("radio"),checkbox:oe("checkbox"),file:oe("file"),password:oe("password"),image:oe("image"),submit:ae("submit"),reset:ae("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return X.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:le((function(){return[0]})),last:le((function(e,t){return[t-1]})),eq:le((function(e,t,i){return[i<0?i+t:i]})),even:le((function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e})),odd:le((function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e})),lt:le((function(e,t,i){for(var r=i<0?i+t:i;--r>=0;)e.push(r);return e})),gt:le((function(e,t,i){for(var r=i<0?i+t:i;++r<t;)e.push(r);return e}))}},[0,0].sort(d=q.compareDocumentPosition?function(e,t){return e===t?(h=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return h=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var i,r,n=[],s=[],o=e.parentNode,a=t.parentNode,l=o;if(o===a)return de(e,t);if(!o)return-1;if(!a)return 1;for(;l;)n.unshift(l),l=l.parentNode;for(l=a;l;)s.unshift(l),l=l.parentNode;i=n.length,r=s.length;for(var d=0;d<i&&d<r;d++)if(n[d]!==s[d])return de(n[d],s[d]);return d===i?de(e,s[d],-1):de(n[d],t,1)}),c=!h,se.uniqueSort=function(e){var t,i=[],r=1,n=0;if(h=c,e.sort(d),h){for(;t=e[r];r++)t===e[r-1]&&(n=i.push(r));for(;n--;)e.splice(i[n],1)}return e},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},l=se.compile=function(e,t){var r,s=[],o=[],a=O[_][e+" "];if(!a){for(t||(t=he(e)),r=t.length;r--;)(a=me(t[r]))[_]?s.push(a):o.push(a);a=O(e,function(e,t){var r=t.length>0,s=e.length>0,o=function o(a,l,d,h,c){var p,f,m,g=[],v=0,w="0",y=a&&[],b=null!=c,x=u,_=a||s&&n.find.TAG("*",c&&l.parentNode||l),C=k+=null==x?1:Math.E;for(b&&(u=l!==j&&l,i=o.el);null!=(p=_[w]);w++){if(s&&p){for(f=0;m=e[f];f++)if(m(p,l,d)){h.push(p);break}b&&(k=C,i=++o.el)}r&&((p=!m&&p)&&v--,a&&y.push(p))}if(v+=w,r&&w!==v){for(f=0;m=t[f];f++)m(y,g,l,d);if(a){if(v>0)for(;w--;)y[w]||g[w]||(g[w]=S.call(h));g=pe(g)}I.apply(h,g),b&&!a&&g.length>0&&v+t.length>1&&se.uniqueSort(h)}return b&&(k=C,u=x),y};return o.el=0,r?E(o):o}(o,s))}return a},j.querySelectorAll&&(f=ge,m=/'|\\/g,g=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,v=[":focus"],y=[":active"],b=q.matchesSelector||q.mozMatchesSelector||q.webkitMatchesSelector||q.oMatchesSelector||q.msMatchesSelector,$((function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||v.push("\\["+B+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||v.push(":checked")})),$((function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&v.push("[*^$]="+B+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||v.push(":enabled",":disabled")})),v=new RegExp(v.join("|")),ge=function(e,t,i,r,n){if(!r&&!n&&!v.test(e)){var s,o,a=!0,l=_,d=t,h=9===t.nodeType&&e;if(1===t.nodeType&&"object"!==t.nodeName.toLowerCase()){for(s=he(e),(a=t.getAttribute("id"))?l=a.replace(m,"\\$&"):t.setAttribute("id",l),l="[id='"+l+"'] ",o=s.length;o--;)s[o]=l+s[o].join("");d=Z.test(e)&&t.parentNode||t,h=s.join(",")}if(h)try{return I.apply(i,D.call(d.querySelectorAll(h),0)),i}catch(u){}finally{a||t.removeAttribute("id")}}return f(e,t,i,r,n)},b&&($((function(e){p=b.call(e,"div");try{b.call(e,"[test!='']:sizzle"),y.push("!=",F)}catch(t){}})),y=new RegExp(y.join("|")),se.matchesSelector=function(e,t){if(t=t.replace(g,"='$1']"),!o(e)&&!y.test(t)&&!v.test(t))try{var i=b.call(e,t);if(i||p||e.document&&11!==e.document.nodeType)return i}catch(r){}return se(t,null,null,[e]).length>0})),n.pseudos.nth=n.pseudos.eq,n.filters=ve.prototype=n.pseudos,n.setFilters=new ve,se.attr=w.attr,w.find=se,(w.expr=se.selectors)[":"]=w.expr.pseudos,w.unique=se.uniqueSort,w.text=se.getText,w.isXMLDoc=se.isXML,w.contains=se.contains}(n);var te=/Until$/,ie=/^(?:parents|prev(?:Until|All))/,re=/^.[^:#\[\.,]*$/,ne=w.expr.match.needsContext,se={children:!0,contents:!0,next:!0,prev:!0};function oe(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function ae(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function le(e,t,i){if(w.isFunction(t=t||0))return w.grep(e,(function(e,r){return!!t.call(e,r,e)===i}));if(t.nodeType)return w.grep(e,(function(e,r){return e===t===i}));if("string"==typeof t){var r=w.grep(e,(function(e){return 1===e.nodeType}));if(re.test(t))return w.filter(t,r,!i);t=w.filter(t,r)}return w.grep(e,(function(e,r){return w.inArray(e,t)>=0===i}))}function de(e){var t=ce.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}w.fn.extend({find:function(e){var t,i,r,n,s,o,a=this;if("string"!=typeof e)return w(e).filter((function(){for(t=0,i=a.length;t<i;t++)if(w.contains(a[t],this))return!0}));for(o=this.pushStack("","find",e),t=0,i=this.length;t<i;t++)if(r=o.length,w.find(e,this[t],o),t>0)for(n=r;n<o.length;n++)for(s=0;s<r;s++)if(o[s]===o[n]){o.splice(n--,1);break}return o},has:function(e){var t,i=w(e,this),r=i.length;return this.filter((function(){for(t=0;t<r;t++)if(w.contains(this,i[t]))return!0}))},not:function(e){return this.pushStack(le(this,e,!1),"not",e)},filter:function(e){return this.pushStack(le(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?ne.test(e)?w(e,this.context).index(this[0])>=0:w.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var i,r=0,n=this.length,s=[],o=ne.test(e)||"string"!=typeof e?w(e,t||this.context):0;r<n;r++)for(i=this[r];i&&i.ownerDocument&&i!==t&&11!==i.nodeType;){if(o?o.index(i)>-1:w.find.matchesSelector(i,e)){s.push(i);break}i=i.parentNode}return s=s.length>1?w.unique(s):s,this.pushStack(s,"closest",e)},index:function(e){return e?"string"==typeof e?w.inArray(this[0],w(e)):w.inArray(e.jqx?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var i="string"==typeof e?w(e,t):w.makeArray(e&&e.nodeType?[e]:e),r=w.merge(this.get(),i);return this.pushStack(oe(i[0])||oe(r[0])?r:w.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.fn.andSelf=w.fn.addBack,w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return w.dir(e,"parentNode")},parentsUntil:function(e,t,i){return w.dir(e,"parentNode",i)},next:function(e){return ae(e,"nextSibling")},prev:function(e){return ae(e,"previousSibling")},nextAll:function(e){return w.dir(e,"nextSibling")},prevAll:function(e){return w.dir(e,"previousSibling")},nextUntil:function(e,t,i){return w.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return w.dir(e,"previousSibling",i)},siblings:function(e){return w.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return w.sibling(e.firstChild)},contents:function(e){return w.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:w.merge([],e.childNodes)}},(function(e,t){w.fn[e]=function(i,r){var n=w.map(this,t,i);return te.test(e)||(r=i),r&&"string"==typeof r&&(n=w.filter(r,n)),n=this.length>1&&!se[e]?w.unique(n):n,this.length>1&&ie.test(e)&&(n=n.reverse()),this.pushStack(n,e,p.call(arguments).join(","))}})),w.extend({filter:function(e,t,i){return i&&(e=":not("+e+")"),1===t.length?w.find.matchesSelector(t[0],e)?[t[0]]:[]:w.find.matches(e,t)},dir:function(e,t,i){for(var r=[],n=e[t];n&&9!==n.nodeType&&(i===s||1!==n.nodeType||!w(n).is(i));)1===n.nodeType&&r.push(n),n=n[t];return r},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var he,ue,ce="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",pe=/ JQXLite\d+="(?:null|\d+)"/g,fe=/^\s+/,me=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ge=/<([\w:]+)/,ve=/<tbody/i,we=/<|&#?\w+;/,ye=/<(?:script|style|link)/i,be=/<(?:script|object|embed|option|style)/i,xe=new RegExp("<(?:"+ce+")[\\s/>]","i"),_e=/^(?:checkbox|radio)$/,Ce=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/\/(java|ecma)script/i,qe=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,ke={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Te=de(l),Se=Te.appendChild(l.createElement("div"));function Ie(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function De(e,t){if(1===t.nodeType&&w.hasData(e)){var i,r,n,s=w._data(e),o=w._data(t,s),a=s.events;if(a)for(i in delete o.handle,o.events={},a)for(r=0,n=a[i].length;r<n;r++)w.event.add(t,i,a[i][r]);o.data&&(o.data=w.extend({},o.data))}}function Pe(e,t){var i;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),"object"===(i=t.nodeName.toLowerCase())?(t.parentNode&&(t.outerHTML=e.outerHTML),w.support.html5Clone&&e.innerHTML&&!w.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&_e.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.selected=e.defaultSelected:"input"===i||"textarea"===i?t.defaultValue=e.defaultValue:"script"===i&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(w.expando))}function Ee(e){return void 0!==e.getElementsByTagName?e.getElementsByTagName("*"):void 0!==e.querySelectorAll?e.querySelectorAll("*"):[]}function Me(e){_e.test(e.type)&&(e.defaultChecked=e.checked)}ke.optgroup=ke.option,ke.tbody=ke.tfoot=ke.colgroup=ke.caption=ke.thead,ke.th=ke.td,w.support.htmlSerialize||(ke._default=[1,"X<div>","</div>"]),w.fn.extend({text:function(e){return w.access(this,(function(e){return e===s?w.text(this):this.empty().append((this[0]&&this[0].ownerDocument||l).createTextNode(e))}),null,e,arguments.length)},wrapAll:function(e){if(w.isFunction(e))return this.each((function(t){w(this).wrapAll(e.call(this,t))}));if(this[0]){var t=w(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e})).append(this)}return this},wrapInner:function(e){return w.isFunction(e)?this.each((function(t){w(this).wrapInner(e.call(this,t))})):this.each((function(){var t=w(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)}))},wrap:function(e){var t=w.isFunction(e);return this.each((function(i){w(this).wrapAll(t?e.call(this,i):e)}))},unwrap:function(){return this.parent().each((function(){w.nodeName(this,"body")||w(this).replaceWith(this.childNodes)})).end()},append:function(){return this.domManip(arguments,!0,(function(e){1!==this.nodeType&&11!==this.nodeType||this.appendChild(e)}))},prepend:function(){return this.domManip(arguments,!0,(function(e){1!==this.nodeType&&11!==this.nodeType||this.insertBefore(e,this.firstChild)}))},before:function(){if(!oe(this[0]))return this.domManip(arguments,!1,(function(e){this.parentNode.insertBefore(e,this)}));if(arguments.length){var e=w.clean(arguments);return this.pushStack(w.merge(e,this),"before",this.selector)}},after:function(){if(!oe(this[0]))return this.domManip(arguments,!1,(function(e){this.parentNode.insertBefore(e,this.nextSibling)}));if(arguments.length){var e=w.clean(arguments);return this.pushStack(w.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var i,r=0;null!=(i=this[r]);r++)e&&!w.filter(e,[i]).length||(t||1!==i.nodeType||(w.cleanData(i.getElementsByTagName("*")),w.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&w.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return w.clone(this,e,t)}))},html:function(e){return w.access(this,(function(e){var t=this[0]||{},i=0,r=this.length;if(e===s)return 1===t.nodeType?t.innerHTML.replace(pe,""):s;if("string"==typeof e&&!ye.test(e)&&(w.support.htmlSerialize||!xe.test(e))&&(w.support.leadingWhitespace||!fe.test(e))&&!ke[(ge.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(me,"<$1></$2>");try{for(;i<r;i++)1===(t=this[i]||{}).nodeType&&(w.cleanData(t.getElementsByTagName("*")),t.innerHTML=e);t=0}catch(n){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(e){return oe(this[0])?this.length?this.pushStack(w(w.isFunction(e)?e():e),"replaceWith",e):this:w.isFunction(e)?this.each((function(t){var i=w(this),r=i.html();i.replaceWith(e.call(this,t,r))})):("string"!=typeof e&&(e=w(e).detach()),this.each((function(){var t=this.nextSibling,i=this.parentNode;w(this).remove(),t?w(t).before(e):w(i).append(e)})))},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,i){var r,n,o,a,l=0,d=(e=[].concat.apply([],e))[0],h=[],u=this.length;if(!w.support.checkClone&&u>1&&"string"==typeof d&&Ce.test(d))return this.each((function(){w(this).domManip(e,t,i)}));if(w.isFunction(d))return this.each((function(r){var n=w(this);e[0]=d.call(this,r,t?n.html():s),n.domManip(e,t,i)}));if(this[0]){if(n=(o=(r=w.buildFragment(e,this,h)).fragment).firstChild,1===o.childNodes.length&&(o=n),n)for(t=t&&w.nodeName(n,"tr"),a=r.cacheable||u-1;l<u;l++)i.call(t&&w.nodeName(this[l],"table")?Ie(this[l],"tbody"):this[l],l===a?o:w.clone(o,!0,!0));o=n=null,h.length&&w.each(h,(function(e,t){t.src?w.ajax?w.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,throws:!0}):w.error("no ajax"):w.globalEval((t.text||t.textContent||t.innerHTML||"").replace(qe,"")),t.parentNode&&t.parentNode.removeChild(t)}))}return this}}),w.buildFragment=function(e,t,i){var r,n,o,a=e[0];return t=(t=!(t=t||l).nodeType&&t[0]||t).ownerDocument||t,!(1===e.length&&"string"==typeof a&&a.length<512&&t===l&&"<"===a.charAt(0))||be.test(a)||!w.support.checkClone&&Ce.test(a)||!w.support.html5Clone&&xe.test(a)||(n=!0,o=(r=w.fragments[a])!==s),r||(r=t.createDocumentFragment(),w.clean(e,t,r,i),n&&(w.fragments[a]=o&&r)),{fragment:r,cacheable:n}},w.fragments={},w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){w.fn[e]=function(i){var r,n=0,s=[],o=w(i),a=o.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===a)return o[t](this[0]),this;for(;n<a;n++)r=(n>0?this.clone(!0):this).get(),w(o[n])[t](r),s=s.concat(r);return this.pushStack(s,e,o.selector)}})),w.extend({clone:function(e,t,i){var r,n,s,o;if(w.support.html5Clone||w.isXMLDoc(e)||!xe.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Se.innerHTML=e.outerHTML,Se.removeChild(o=Se.firstChild)),!(w.support.noCloneEvent&&w.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(Pe(e,o),r=Ee(e),n=Ee(o),s=0;r[s];++s)n[s]&&Pe(r[s],n[s]);if(t&&(De(e,o),i))for(r=Ee(e),n=Ee(o),s=0;r[s];++s)De(r[s],n[s]);return r=n=null,o},clean:function(e,t,i,r){var n,s,o,a,d,h,u,c,p,f,m,g=t===l&&Te,v=[];for(t&&void 0!==t.createDocumentFragment||(t=l),n=0;null!=(o=e[n]);n++)if("number"==typeof o&&(o+=""),o){if("string"==typeof o)if(we.test(o)){for(g=g||de(t),u=t.createElement("div"),g.appendChild(u),o=o.replace(me,"<$1></$2>"),a=(ge.exec(o)||["",""])[1].toLowerCase(),h=(d=ke[a]||ke._default)[0],u.innerHTML=d[1]+o+d[2];h--;)u=u.lastChild;if(!w.support.tbody)for(c=ve.test(o),s=(p="table"!==a||c?"<table>"!==d[1]||c?[]:u.childNodes:u.firstChild&&u.firstChild.childNodes).length-1;s>=0;--s)w.nodeName(p[s],"tbody")&&!p[s].childNodes.length&&p[s].parentNode.removeChild(p[s]);!w.support.leadingWhitespace&&fe.test(o)&&u.insertBefore(t.createTextNode(fe.exec(o)[0]),u.firstChild),o=u.childNodes,u.parentNode.removeChild(u)}else o=t.createTextNode(o);o.nodeType?v.push(o):w.merge(v,o)}if(u&&(o=u=g=null),!w.support.appendChecked)for(n=0;null!=(o=v[n]);n++)w.nodeName(o,"input")?Me(o):void 0!==o.getElementsByTagName&&w.grep(o.getElementsByTagName("input"),Me);if(i)for(f=function(e){if(!e.type||je.test(e.type))return r?r.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e)},n=0;null!=(o=v[n]);n++)w.nodeName(o,"script")&&f(o)||(i.appendChild(o),void 0!==o.getElementsByTagName&&(m=w.grep(w.merge([],o.getElementsByTagName("script")),f),v.splice.apply(v,[n+1,0].concat(m)),n+=m.length));return v},cleanData:function(e,t){for(var i,r,n,s,o=0,a=w.expando,l=w.cache,d=w.support.deleteExpando,h=w.event.special;null!=(n=e[o]);o++)if((t||w.acceptData(n))&&(i=(r=n[a])&&l[r])){if(i.events)for(s in i.events)h[s]?w.event.remove(n,s):w.removeEvent(n,s,i.handle);l[r]&&(delete l[r],d?delete n[a]:n.removeAttribute?n.removeAttribute(a):n[a]=null,w.deletedIds.push(r))}}}),w.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},ue={},(he=w.uaMatch(d.userAgent)).browser&&(ue[he.browser]=!0,ue.version=he.version),ue.chrome?ue.webkit=!0:ue.webkit&&(ue.safari=!0),w.browser=ue,w.sub=function(){function e(t,i){return new e.fn.init(t,i)}w.extend(!0,e,this),e.superclass=this,(e.fn=e.prototype=this()).constructor=e,e.sub=this.sub,(e.fn.init=function(i,r){return r&&r instanceof w&&!(r instanceof e)&&(r=e(r)),w.fn.init.call(this,i,r,t)}).prototype=e.fn;var t=e(l);return e};var Ae,He,Oe,Be=/alpha\([^)]*\)/i,ze=/opacity=([^)]*)/,Ne=/^(top|right|bottom|left)$/,Le=/^(none|table(?!-c[ea]).+)/,Fe=/^margin/,Re=new RegExp("^("+y+")(.*)$","i"),Ve=new RegExp("^("+y+")(?!px)[a-z%]+$","i"),We=new RegExp("^([-+])=("+y+")","i"),Ge={BODY:"block"},Ue={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:0,fontWeight:400},Ze=["Top","Right","Bottom","Left"],Ke=["Webkit","O","Moz","ms"],Xe=w.fn.toggle;function Qe(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=t,n=Ke.length;n--;)if((t=Ke[n]+i)in e)return t;return r}function Je(e,t){return"none"===w.css(e=t||e,"display")||!w.contains(e.ownerDocument,e)}function $e(e,t){for(var i,r,n=[],s=0,o=e.length;s<o;s++)(i=e[s]).style&&(n[s]=w._data(i,"olddisplay"),t?(n[s]||"none"!==i.style.display||(i.style.display=""),""===i.style.display&&Je(i)&&(n[s]=w._data(i,"olddisplay",rt(i.nodeName)))):(r=Ae(i,"display"),n[s]||"none"===r||w._data(i,"olddisplay",r)));for(s=0;s<o;s++)(i=e[s]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?n[s]||"":"none"));return e}function et(e,t,i){var r=Re.exec(t);return r?Math.max(0,r[1]-(i||0))+(r[2]||"px"):t}function tt(e,t,i,r){for(var n=i===(r?"border":"content")?4:"width"===t?1:0,s=0;n<4;n+=2)"margin"===i&&(s+=w.css(e,i+Ze[n],!0)),r?("content"===i&&(s-=parseFloat(Ae(e,"padding"+Ze[n]))||0),"margin"!==i&&(s-=parseFloat(Ae(e,"border"+Ze[n]+"Width"))||0)):(s+=parseFloat(Ae(e,"padding"+Ze[n]))||0,"padding"!==i&&(s+=parseFloat(Ae(e,"border"+Ze[n]+"Width"))||0));return s}function it(e,t,i){var r="width"===t?e.offsetWidth:e.offsetHeight,n=!0,s=w.support.boxSizing&&"border-box"===w.css(e,"boxSizing");if(r<=0||null==r){if(((r=Ae(e,t))<0||null==r)&&(r=e.style[t]),Ve.test(r))return r;n=s&&(w.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+tt(e,t,i||(s?"border":"content"),n)+"px"}function rt(e){if(Ge[e])return Ge[e];var t=w("<"+e+">").appendTo(l.body),i=t.css("display");return t.remove(),"none"!==i&&""!==i||(He=l.body.appendChild(He||w.extend(l.createElement("iframe"),{frameBorder:0,width:0,height:0})),Oe&&He.createElement||((Oe=(He.contentWindow||He.contentDocument).document).write("<!doctype html><html><body>"),Oe.close()),t=Oe.body.appendChild(Oe.createElement(e)),i=Ae(t,"display"),l.body.removeChild(He)),Ge[e]=i,i}w.fn.extend({css:function(e,t){return w.access(this,(function(e,t,i){return i!==s?w.style(e,t,i):w.css(e,t)}),e,t,arguments.length>1)},show:function(){return $e(this,!0)},hide:function(){return $e(this)},toggle:function(e,t){var i="boolean"==typeof e;return w.isFunction(e)&&w.isFunction(t)?Xe.apply(this,arguments):this.each((function(){(i?e:Je(this))?w(this).show():w(this).hide()}))}}),w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Ae(e,"opacity");return""===i?"1":i}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:w.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var n,o,a,l=w.camelCase(t),d=e.style;if(t=w.cssProps[l]||(w.cssProps[l]=Qe(d,l)),a=w.cssHooks[t]||w.cssHooks[l],i===s)return a&&"get"in a&&(n=a.get(e,!1,r))!==s?n:d[t];if("string"==(o=typeof i)&&(n=We.exec(i))&&(i=(n[1]+1)*n[2]+parseFloat(w.css(e,t)),o="number"),!(null==i||"number"===o&&isNaN(i)||("number"!==o||w.cssNumber[l]||(i+="px"),a&&"set"in a&&(i=a.set(e,i,r))===s)))try{d[t]=i}catch(h){}}},css:function(e,t,i,r){var n,o,a,l=w.camelCase(t);return t=w.cssProps[l]||(w.cssProps[l]=Qe(e.style,l)),(a=w.cssHooks[t]||w.cssHooks[l])&&"get"in a&&(n=a.get(e,!0,r)),n===s&&(n=Ae(e,t)),"normal"===n&&t in Ye&&(n=Ye[t]),i||r!==s?(o=parseFloat(n),i||w.isNumeric(o)?o||0:n):n},swap:function(e,t,i){var r,n,s={};for(n in t)s[n]=e.style[n],e.style[n]=t[n];for(n in r=i.call(e),t)e.style[n]=s[n];return r}}),n.getComputedStyle?Ae=function(e,t){var i,r,s,o,a=n.getComputedStyle(e,null),l=e.style;return a&&(""!==(i=a.getPropertyValue(t)||a[t])||w.contains(e.ownerDocument,e)||(i=w.style(e,t)),Ve.test(i)&&Fe.test(t)&&(r=l.width,s=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=i,i=a.width,l.width=r,l.minWidth=s,l.maxWidth=o)),i}:l.documentElement.currentStyle&&(Ae=function(e,t){var i,r,n=e.currentStyle&&e.currentStyle[t],s=e.style;return null==n&&s&&s[t]&&(n=s[t]),Ve.test(n)&&!Ne.test(t)&&(i=s.left,(r=e.runtimeStyle&&e.runtimeStyle.left)&&(e.runtimeStyle.left=e.currentStyle.left),s.left="fontSize"===t?"1em":n,n=s.pixelLeft+"px",s.left=i,r&&(e.runtimeStyle.left=r)),""===n?"auto":n}),w.each(["height","width"],(function(e,t){w.cssHooks[t]={get:function(e,i,r){if(i)return 0===e.offsetWidth&&Le.test(Ae(e,"display"))?w.swap(e,Ue,(function(){return it(e,t,r)})):it(e,t,r)},set:function(e,i,r){return et(0,i,r?tt(e,t,r,w.support.boxSizing&&"border-box"===w.css(e,"boxSizing")):0)}}})),w.support.opacity||(w.cssHooks.opacity={get:function(e,t){return ze.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,r=e.currentStyle,n=w.isNumeric(t)?"alpha(opacity="+100*t+")":"",s=r&&r.filter||i.filter||"";i.zoom=1,t>=1&&""===w.trim(s.replace(Be,""))&&i.removeAttribute&&(i.removeAttribute("filter"),r&&!r.filter)||(i.filter=Be.test(s)?s.replace(Be,n):s+" "+n)}}),w((function(){w.support.reliableMarginRight||(w.cssHooks.marginRight={get:function(e,t){return w.swap(e,{display:"inline-block"},(function(){if(t)return Ae(e,"marginRight")}))}}),!w.support.pixelPosition&&w.fn.position&&w.each(["top","left"],(function(e,t){w.cssHooks[t]={get:function(e,i){if(i){var r=Ae(e,t);return Ve.test(r)?w(e).position()[t]+"px":r}}}}))})),w.expr&&w.expr.filters&&(w.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!w.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||Ae(e,"display"))},w.expr.filters.visible=function(e){return!w.expr.filters.hidden(e)}),w.each({margin:"",padding:"",border:"Width"},(function(e,t){w.cssHooks[e+t]={expand:function(i){var r,n="string"==typeof i?i.split(" "):[i],s={};for(r=0;r<4;r++)s[e+Ze[r]+t]=n[r]||n[r-2]||n[0];return s}},Fe.test(e)||(w.cssHooks[e+t].set=et)}));var nt=/%20/g,st=/\[\]$/,ot=/\r?\n/g,at=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,lt=/^(?:select|textarea)/i;function dt(e,t,i,r){var n;if(w.isArray(t))w.each(t,(function(t,n){i||st.test(e)?r(e,n):dt(e+"["+("object"==typeof n?t:"")+"]",n,i,r)}));else if(i||"object"!==w.type(t))r(e,t);else for(n in t)dt(e+"["+n+"]",t[n],i,r)}w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map((function(){return this.elements?w.makeArray(this.elements):this})).filter((function(){return this.name&&!this.disabled&&(this.checked||lt.test(this.nodeName)||at.test(this.type))})).map((function(e,t){var i=w(this).val();return null==i?null:w.isArray(i)?w.map(i,(function(e,i){return{name:t.name,value:e.replace(ot,"\r\n")}})):{name:t.name,value:i.replace(ot,"\r\n")}})).get()}}),w.param=function(e,t){var i,r=[],n=function(e,t){t=w.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===s&&(t=w.ajaxSettings&&w.ajaxSettings.traditional),w.isArray(e)||e.jqx&&!w.isPlainObject(e))w.each(e,(function(){n(this.name,this.value)}));else for(i in e)dt(i,e[i],t,n);return r.join("&").replace(nt,"+")},w.support.ajax&&w.ajaxTransport((function(e){var t;if(!e.crossDomain||w.support.cors)return{send:function(i,r){var o,a,l=e.xhr();if(e.username?l.open(e.type,e.url,e.async,e.username,e.password):l.open(e.type,e.url,e.async),e.xhrFields)for(a in e.xhrFields)l[a]=e.xhrFields[a];e.mimeType&&l.overrideMimeType&&l.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(a in i)l.setRequestHeader(a,i[a])}catch(d){}l.send(e.hasContent&&e.data||null),t=function(i,n){var a,d,h,u,c;try{if(t&&(n||4===l.readyState))if(t=s,o&&(l.onreadystatechange=w.noop,xhrOnUnloadAbort&&delete xhrCallbacks[o]),n)4!==l.readyState&&l.abort();else{a=l.status,h=l.getAllResponseHeaders(),u={},(c=l.responseXML)&&c.documentElement&&(u.xml=c);try{u.text=l.responseText}catch(p){}try{d=l.statusText}catch(p){d=""}a||!e.isLocal||e.crossDomain?1223===a&&(a=204):a=u.text?200:404}}catch(f){n||r(-1,f)}u&&r(a,d,u,h)},e.async?4===l.readyState?setTimeout(t,0):(o=++xhrId,xhrOnUnloadAbort&&(xhrCallbacks||(xhrCallbacks={},w(n).unload(xhrOnUnloadAbort)),xhrCallbacks[o]=t),l.onreadystatechange=t):t()},abort:function(){t&&t(0,1)}}}));var ht,ut,ct=/^(?:toggle|show|hide)$/,pt=new RegExp("^(?:([-+])=|)("+y+")([a-z%]*)$","i"),ft=/queueHooks$/,mt=[function(e,t,i){var r,n,s,o,a,l,d,h,u,c=this,p=e.style,f={},m=[],g=e.nodeType&&Je(e);for(r in i.queue||(null==(h=w._queueHooks(e,"fx")).unqueued&&(h.unqueued=0,u=h.empty.fire,h.empty.fire=function(){h.unqueued||u()}),h.unqueued++,c.always((function(){c.always((function(){h.unqueued--,w.queue(e,"fx").length||h.empty.fire()}))}))),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===w.css(e,"display")&&"none"===w.css(e,"float")&&(w.support.inlineBlockNeedsLayout&&"inline"!==rt(e.nodeName)?p.zoom=1:p.display="inline-block")),i.overflow&&(p.overflow="hidden",w.support.shrinkWrapBlocks||c.done((function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}))),t)if(ct.exec(s=t[r])){if(delete t[r],l=l||"toggle"===s,s===(g?"hide":"show"))continue;m.push(r)}if(o=m.length){"hidden"in(a=w._data(e,"fxshow")||w._data(e,"fxshow",{}))&&(g=a.hidden),l&&(a.hidden=!g),g?w(e).show():c.done((function(){w(e).hide()})),c.done((function(){var t;for(t in w.removeData(e,"fxshow",!0),f)w.style(e,t,f[t])}));for(r=0;r<o;r++)d=c.createTween(n=m[r],g?a[n]:0),f[n]=a[n]||w.style(e,n),n in a||(a[n]=d.start,g&&(d.end=d.start,d.start="width"===n||"height"===n?1:0))}}],gt={"*":[function(e,t){var i,r,n=this.createTween(e,t),s=pt.exec(t),o=n.cur(),a=+o||0,l=1,d=20;if(s){if(i=+s[2],"px"!==(r=s[3]||(w.cssNumber[e]?"":"px"))&&a){a=w.css(n.elem,e,!0)||i||1;do{w.style(n.elem,e,(a/=l=l||".5")+r)}while(l!==(l=n.cur()/o)&&1!==l&&--d)}n.unit=r,n.start=a,n.end=s[1]?a+(s[1]+1)*i:i}return n}]};function vt(){return setTimeout((function(){ht=s}),0),ht=w.now()}function wt(e,t,i){var r,n=0,s=mt.length,o=w.Deferred().always((function(){delete a.elem})),a=function(){for(var t=ht||vt(),i=Math.max(0,l.startTime+l.duration-t),r=1-(i/l.duration||0),n=0,s=l.tweens.length;n<s;n++)l.tweens[n].run(r);return o.notifyWith(e,[l,r,i]),r<1&&s?i:(o.resolveWith(e,[l]),!1)},l=o.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:ht||vt(),duration:i.duration,tweens:[],createTween:function(t,i,r){var n=w.Tween(e,l.opts,t,i,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(n),n},stop:function(t){for(var i=0,r=t?l.tweens.length:0;i<r;i++)l.tweens[i].run(1);return t?o.resolveWith(e,[l,t]):o.rejectWith(e,[l,t]),this}}),d=l.props;for(function(e,t){var i,r,n,s,o;for(i in e)if(n=t[r=w.camelCase(i)],w.isArray(s=e[i])&&(n=s[1],s=e[i]=s[0]),i!==r&&(e[r]=s,delete e[i]),(o=w.cssHooks[r])&&"expand"in o)for(i in s=o.expand(s),delete e[r],s)i in e||(e[i]=s[i],t[i]=n);else t[r]=n}(d,l.opts.specialEasing);n<s;n++)if(r=mt[n].call(l,e,d,l.opts))return r;return function(e,t){w.each(t,(function(t,i){for(var r=(gt[t]||[]).concat(gt["*"]),n=0,s=r.length;n<s;n++)if(r[n].call(e,t,i))return}))}(l,d),w.isFunction(l.opts.start)&&l.opts.start.call(e,l),w.fx.timer(w.extend(a,{anim:l,queue:l.opts.queue,elem:e})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function yt(e,t,i,r,n){return new yt.prototype.init(e,t,i,r,n)}function bt(e,t){var i,r={height:e},n=0;for(t=t?1:0;n<4;n+=2-t)r["margin"+(i=Ze[n])]=r["padding"+i]=e;return t&&(r.opacity=r.width=e),r}w.Animation=w.extend(wt,{tweener:function(e,t){w.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,r=0,n=e.length;r<n;r++)gt[i=e[r]]=gt[i]||[],gt[i].unshift(t)},prefilter:function(e,t){t?mt.unshift(e):mt.push(e)}}),w.Tween=yt,(yt.prototype={constructor:yt,init:function(e,t,i,r,n,s){this.elem=e,this.prop=i,this.easing=n||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(w.cssNumber[i]?"":"px")},cur:function(){var e=yt.propHooks[this.prop];return e&&e.get?e.get(this):yt.propHooks._default.get(this)},run:function(e){var t,i=yt.propHooks[this.prop];return this.pos=t=this.options.duration?w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):yt.propHooks._default.set(this),this}}).init.prototype=yt.prototype,(yt.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=w.css(e.elem,e.prop,!1,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[w.cssProps[e.prop]]||w.cssHooks[e.prop])?w.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}}).scrollTop=yt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.each(["toggle","show","hide"],(function(e,t){var i=w.fn[t];w.fn[t]=function(r,n,s){return null==r||"boolean"==typeof r||!e&&w.isFunction(r)&&w.isFunction(n)?i.apply(this,arguments):this.animate(bt(t,!0),r,n,s)}})),w.fn.extend({fadeTo:function(e,t,i,r){return this.filter(Je).css("opacity",0).show().end().animate({opacity:t},e,i,r)},animate:function(e,t,i,r){var n=w.isEmptyObject(e),s=w.speed(t,i,r),o=function(){var t=wt(this,w.extend({},e),s);n&&t.stop(!0)};return n||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(e,t,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=s),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,n=null!=e&&e+"queueHooks",s=w.timers,o=w._data(this);if(n)o[n]&&o[n].stop&&r(o[n]);else for(n in o)o[n]&&o[n].stop&&ft.test(n)&&r(o[n]);for(n=s.length;n--;)s[n].elem!==this||null!=e&&s[n].queue!==e||(s[n].anim.stop(i),t=!1,s.splice(n,1));!t&&i||w.dequeue(this,e)}))}}),w.each({slideDown:bt("show"),slideUp:bt("hide"),slideToggle:bt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){w.fn[e]=function(e,i,r){return this.animate(t,e,i,r)}})),w.speed=function(e,t,i){var r=e&&"object"==typeof e?w.extend({},e):{complete:i||!i&&t||w.isFunction(e)&&e,duration:e,easing:i&&t||t&&!w.isFunction(t)&&t};return r.duration=w.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in w.fx.speeds?w.fx.speeds[r.duration]:w.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){w.isFunction(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},w.timers=[],(w.fx=yt.prototype.init).tick=function(){var e,t=w.timers,i=0;for(ht=w.now();i<t.length;i++)(e=t[i])()||t[i]!==e||t.splice(i--,1);t.length||w.fx.stop(),ht=s},w.fx.timer=function(e){e()&&w.timers.push(e)&&!ut&&(ut=setInterval(w.fx.tick,w.fx.interval))},w.fx.interval=13,w.fx.stop=function(){clearInterval(ut),ut=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fx.step={},w.expr&&w.expr.filters&&(w.expr.filters.animated=function(e){return w.grep(w.timers,(function(t){return e===t.elem})).length});var xt=/^(?:body|html)$/i;function _t(e){return w.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}w.fn.offset=function(e){if(arguments.length)return e===s?this:this.each((function(t){w.offset.setOffset(this,e,t)}));var t,i,r,n={top:0,left:0},o=this[0],a=o&&o.ownerDocument;return a?(i=a.body)===o?w.offset.bodyOffset(o):w.contains(t=a.documentElement,o)?(void 0!==o.getBoundingClientRect&&(n=o.getBoundingClientRect()),r=_t(a),{top:n.top+(r.pageYOffset||t.scrollTop)-(t.clientTop||i.clientTop||0),left:n.left+(r.pageXOffset||t.scrollLeft)-(t.clientLeft||i.clientLeft||0)}):n:void 0},w.offset={bodyOffset:function(e){var t=e.offsetTop,i=e.offsetLeft;return w.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(w.css(e,"marginTop"))||0,i+=parseFloat(w.css(e,"marginLeft"))||0),{top:t,left:i}},setOffset:function(e,t,i){var r=w.css(e,"position");"static"===r&&(e.style.position="relative");var n,s,o=w(e),a=o.offset(),l=w.css(e,"top"),d=w.css(e,"left"),h={},u={};("absolute"===r||"fixed"===r)&&w.inArray("auto",[l,d])>-1?(n=(u=o.position()).top,s=u.left):(n=parseFloat(l)||0,s=parseFloat(d)||0),w.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(h.top=t.top-a.top+n),null!=t.left&&(h.left=t.left-a.left+s),"using"in t?t.using.call(e,h):o.css(h)}},w.fn.extend({isRendered:function(){var e=this[0];return null!=e.parentNode&&0!==e.offsetWidth&&0!==e.offsetHeight},getSizeFromStyle:function(){var e,t=null,i=null,r=this[0];return r.style.width&&(t=r.style.width),r.style.height&&(i=r.style.height),(e=n.getComputedStyle?getComputedStyle(r,null):r.currentStyle)&&(e.width&&(t=e.width),e.height&&(i=e.height)),"0px"===t&&(t=0),"0px"===i&&(i=0),null===t&&(t=0),null===i&&(i=0),{width:t,height:i}},initAnimate:function(){},sizeStyleChanged:function(e){var t,i=this;t={element:i[0],offsetWidth:i[0].offsetWidth,offsetHeight:i[0].offsetHeight,callback:e};try{i.elementStyleObserver||(i.elementStyleObserver=new MutationObserver((function(e){var r=t;e&&e[0]&&"style"===e[0].attributeName&&"attributes"===e[0].type&&(r.element.offsetWidth===r.offsetWidth&&r.element.offsetHeight===r.offsetHeight||(r.offsetWidth=r.element.offsetWidth,r.offsetHeight=r.element.offsetHeight,i.isRendered()&&r.callback()))})),i.elementStyleObserver.observe(i[0],{attributes:!0,childList:!1,characterData:!1}))}catch(ue){}},position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),i=this.offset(),r=xt.test(t[0].nodeName)?{top:0,left:0}:t.offset();return i.top-=parseFloat(w.css(e,"marginTop"))||0,i.left-=parseFloat(w.css(e,"marginLeft"))||0,r.top+=parseFloat(w.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(w.css(t[0],"borderLeftWidth"))||0,{top:i.top-r.top,left:i.left-r.left}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||l.body;e&&!xt.test(e.nodeName)&&"static"===w.css(e,"position");)e=e.offsetParent;return e||l.body}))}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var i=/Y/.test(t);w.fn[e]=function(r){return w.access(this,(function(e,r,n){var o=_t(e);if(n===s)return o?t in o?o[t]:o.document.documentElement[r]:e[r];o?o.scrollTo(i?w(o).scrollLeft():n,i?n:w(o).scrollTop()):e[r]=n}),e,r,arguments.length,null)}})),w.each({Height:"height",Width:"width"},(function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},(function(i,r){w.fn[r]=function(r,n){var o=arguments.length&&(i||"boolean"!=typeof r),a=i||(!0===r||!0===n?"margin":"border");return w.access(this,(function(t,i,r){var n;return w.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(n=t.documentElement,Math.max(t.body["scroll"+e],n["scroll"+e],t.body["offset"+e],n["offset"+e],n["client"+e])):r===s?w.css(t,i,r,a):w.style(t,i,r,a)}),t,o?r:s,o,null)}}))})),n.JQXLite=n.jqxHelper=w,i("PDX0").JQXLite&&(void 0===(r=(function(){return w}).apply(t,[]))||(e.exports=r))}(window),(n=window).jQuery?n.minQuery=n.JQXLite=n.jQuery:n.$?n.minQuery=n.JQXLite=n.$:n.$=n.minQuery=n.JQXLite,JQXLite.generateID=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},t="";do{t="jqx"+e()+e()+e()}while($("#"+t).length>0);return t};var s=window.jqxBaseFramework=window.minQuery||window.jQuery;!function(e){e.jqx=e.jqx||{},window.jqx=e.jqx;var t,i,r,n,s={createInstance:function(t,i,r){return"jqxDataAdapter"==i?new e.jqx.dataAdapter(r[0],r[1]||{}):(e(t)[i](r||{}),e(t)[i]("getInstance"))}};window.jqwidgets=s,e.jqx.define=function(e,t,i){e[t]=function(){this.baseType&&(this.base=new e[this.baseType],this.base.defineInstance()),this.defineInstance(),this.metaInfo()},e[t].prototype.defineInstance=function(){},e[t].prototype.metaInfo=function(){},e[t].prototype.base=null,e[t].prototype.baseType=void 0,i&&e[i]&&(e[t].prototype.baseType=i)},e.jqx.invoke=function(t,i){if(0!=i.length){for(var r=typeof i==Array||i.length>0?i[0]:i,n=typeof i==Array||i.length>1?Array.prototype.slice.call(i,1):e({}).toArray();null==t[r]&&null!=t.base;){if(null!=t[r]&&e.isFunction(t[r]))return t[r].apply(t,n);var s;if("string"==typeof r&&null!=t[s=r.toLowerCase()]&&e.isFunction(t[s]))return t[s].apply(t,n);t=t.base}if(null!=t[r]&&e.isFunction(t[r]))return t[r].apply(t,n);if("string"==typeof r&&null!=t[s=r.toLowerCase()]&&e.isFunction(t[s]))return t[s].apply(t,n)}},e.jqx.getByPriority=function(e){for(var t=void 0,i=0;i<e.length&&null==t;i++)null==t&&null!=e[i]&&(t=e[i]);return t},e.jqx.hasProperty=function(e,t){if("object"==typeof t)for(var i in t){for(var r=e;r;){if(r.hasOwnProperty(i))return!0;if(r.hasOwnProperty(i.toLowerCase()))return!0;r=r.base}return!1}else for(;e;){if(e.hasOwnProperty(t))return!0;if(e.hasOwnProperty(t.toLowerCase()))return!0;e=e.base}return!1},e.jqx.hasFunction=function(t,i){if(0==i.length)return!1;if(null==t)return!1;var r=typeof i==Array||i.length>0?i[0]:i;for((typeof i==Array||i.length>1)&&Array.prototype.slice.call(i,1);null==t[r]&&null!=t.base;){if(t[r]&&e.isFunction(t[r]))return!0;var n;if("string"==typeof r&&t[n=r.toLowerCase()]&&e.isFunction(t[n]))return!0;t=t.base}return!(!t[r]||!e.isFunction(t[r]))||!("string"!=typeof r||!t[n=r.toLowerCase()]||!e.isFunction(t[n]))},e.jqx.isPropertySetter=function(t,i){return 1==i.length&&"object"==typeof i[0]||2==i.length&&"string"==typeof i[0]&&!e.jqx.hasFunction(t,i)},e.jqx.validatePropertySetter=function(t,i,r){if(!e.jqx.propertySetterValidation)return!0;if(1==i.length&&"object"==typeof i[0]){for(var n in i[0]){for(var s=t;!s.hasOwnProperty(n)&&s.base;)s=s.base;if(!s||!s.hasOwnProperty(n)){if(!r){if(s.hasOwnProperty(n.toString().toLowerCase()))return!0;throw"Invalid property: "+n}return!1}}return!0}if(2!=i.length){if(!r)throw"Invalid property: "+i.length>=0?i[0]:"";return!1}for(;!t.hasOwnProperty(i[0])&&t.base;)t=t.base;if(!t||!t.hasOwnProperty(i[0])){if(!r)throw"Invalid property: "+i[0];return!1}return!0},Object.keys||(Object.keys=(t=Object.prototype.hasOwnProperty,i=!{toString:null}.propertyIsEnumerable("toString"),n=(r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var s,o,a=[];for(s in e)t.call(e,s)&&a.push(s);if(i)for(o=0;o<n;o++)t.call(e,r[o])&&a.push(r[o]);return a})),e.jqx.set=function(i,r){var n=0;if(1==r.length&&"object"==typeof r[0]){if(i.isInitialized&&Object.keys&&Object.keys(r[0]).length>1){var s=e.data(i.base?i.base.element:i.element,i.widgetName).initArgs;if(s&&JSON&&JSON.stringify&&r[0]&&s[0])try{if(JSON.stringify(r[0])==JSON.stringify(s[0])){var o=!0;if(e.each(r[0],(function(e,t){if(i[e]!=t)return o=!1,!1})),o)return}}catch(t){}i.batchUpdate=r[0];var a={},l={};e.each(r[0],(function(e,t){for(var r=i;!r.hasOwnProperty(e)&&null!=r.base;)r=r.base;r.hasOwnProperty(e)?i[e]!=t&&(a[e]=i[e],l[e]=t,n++):r.hasOwnProperty(e.toLowerCase())&&i[e.toLowerCase()]!=t&&(a[e.toLowerCase()]=i[e.toLowerCase()],l[e.toLowerCase()]=t,n++)})),n<2&&(i.batchUpdate=null)}e.each(r[0],(function(t,r){for(var n=i;!n.hasOwnProperty(t)&&null!=n.base;)n=n.base;if(n.hasOwnProperty(t))e.jqx.setvalueraiseevent(n,t,r);else if(n.hasOwnProperty(t.toLowerCase()))e.jqx.setvalueraiseevent(n,t.toLowerCase(),r);else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+t+"'"})),null!=i.batchUpdate&&(i.batchUpdate=null,i.propertiesChangedHandler&&n>1&&i.propertiesChangedHandler(i,a,l))}else if(2==r.length){for(;!i.hasOwnProperty(r[0])&&i.base;)i=i.base;if(i.hasOwnProperty(r[0]))e.jqx.setvalueraiseevent(i,r[0],r[1]);else if(i.hasOwnProperty(r[0].toLowerCase()))e.jqx.setvalueraiseevent(i,r[0].toLowerCase(),r[1]);else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+r[0]+"'"}},e.jqx.setvalueraiseevent=function(e,t,i){var r=e[t];e[t]=i,e.isInitialized&&(null!=e.propertyChangedHandler&&e.propertyChangedHandler(e,t,r,i),null!=e.propertyChangeMap&&null!=e.propertyChangeMap[t]&&e.propertyChangeMap[t](e,t,r,i))},e.jqx.get=function(e,t){if(null!=t&&null!=t){if(e.propertyMap){var i=e.propertyMap(t);if(null!=i)return i}if(e.hasOwnProperty(t))return e[t];if(e.hasOwnProperty(t.toLowerCase()))return e[t.toLowerCase()];var r=void 0;if(typeof t==Array){if(1!=t.length)return;r=t[0]}else"string"==typeof t&&(r=t);for(;!e.hasOwnProperty(r)&&e.base;)e=e.base;return e?e[r]:void 0}},e.jqx.serialize=function(t){var i="";if(e.isArray(t)){i="[";for(var r=0;r<t.length;r++)r>0&&(i+=", "),i+=e.jqx.serialize(t[r]);i+="]"}else if("object"==typeof t){i="{";var n=0;for(var r in t)n++>0&&(i+=", "),i+=r+": "+e.jqx.serialize(t[r]);i+="}"}else i=t.toString();return i},e.jqx.propertySetterValidation=!0,e.jqx.jqxWidgetProxy=function(t,i,r){e(i);var n=e.data(i,t);if(null!=n){var s=n.instance;if(e.jqx.hasFunction(s,r))return e.jqx.invoke(s,r);if(e.jqx.isPropertySetter(s,r)){if(e.jqx.validatePropertySetter(s,r))return void e.jqx.set(s,r)}else{if("object"==typeof r&&0==r.length)return;if("object"==typeof r&&1==r.length&&e.jqx.hasProperty(s,r[0]))return e.jqx.get(s,r[0]);if("string"==typeof r&&e.jqx.hasProperty(s,r[0]))return e.jqx.get(s,r)}throw"jqxCore: Invalid parameter '"+e.jqx.serialize(r)+"' does not exist."}},e.jqx.applyWidget=function(t,i,r,n){var s=!1;try{s=null!=window.MSApp}catch(h){}var o=e(t);n?(n.host=o,n.element=t):n=new e.jqx["_"+i],""==t.id&&(t.id=e.jqx.utilities.createId());var a={host:o,element:t,instance:n,initArgs:r};n.widgetName=i,e.data(t,i,a),e.data(t,"jqxWidget",a.instance);var l=new Array;for(n=a.instance;n;)n.isInitialized=!1,l.push(n),n=n.base;for(var d in l.reverse(),l[0].theme=e.jqx.theme||"",e.jqx.jqxWidgetProxy(i,t,r),l)n=l[d],0==d&&(n.host=o,n.element=t,n.WinJS=s),null!=n&&(n.definedInstance&&n.definedInstance(),null!=n.createInstance&&(s?MSApp.execUnsafeLocalFunction((function(){n.createInstance(r)})):n.createInstance(r)));for(var d in l)null!=l[d]&&(l[d].isInitialized=!0);s?MSApp.execUnsafeLocalFunction((function(){a.instance.refresh(!0)})):a.instance.refresh(!0)},e.jqx.jqxWidget=function(t,i,r){try{Array.prototype.slice.call(r,0)}catch(d){}try{window}catch(d){}var n=t,o="";i&&(o="_"+i),e.jqx.define(e.jqx,"_"+n,o);var a=new Array;if(!window[n]){var l=function(t){if(null==t)return"";switch(e.type(t)){case"string":case"number":case"date":case"boolean":case"bool":return null===t?"":t.toString()}var i="";return e.each(t,(function(t,r){var n=r;t>0&&(i+=", "),i+="[";var s=0;if("object"==e.type(n))for(var o in n)s>0&&(i+=", "),i+="{"+o+":"+n[o]+"}",s++;else s>0&&(i+=", "),i+="{"+t+":"+n+"}",s++;i+="]"})),i};s[n]=window[n]=function(t,i){var r=[];i||(i={}),r.push(i);var s=t;if("object"===e.type(s)&&t[0]?""===(s=t[0].id)&&(s=t[0].id=e.jqx.utilities.createId()):"object"===e.type(t)&&t&&t.nodeName&&""===(s=t.id)&&(s=t.id=e.jqx.utilities.createId()),window.jqxWidgets&&window.jqxWidgets[s]){var o;if(i&&e.each(window.jqxWidgets[s],(function(t){var r=e(this.element).data();r&&r.jqxWidget&&e(this.element)[n](i)})),1==window.jqxWidgets[s].length&&(o=e(window.jqxWidgets[s][0].widgetInstance.element).data())&&o.jqxWidget)return window.jqxWidgets[s][0];if((o=e(window.jqxWidgets[s][0].widgetInstance.element).data())&&o.jqxWidget)return window.jqxWidgets[s]}var d=e(t);0===d.length&&(d=e("<div></div>"),"jqxInput"!==n&&"jqxPasswordInput"!==n&&"jqxMaskedInput"!==n||(d=e("<input/>")),"jqxTextArea"===n&&(d=e("<textarea></textarea>")),"jqxButton"!==n&&"jqxRepeatButton"!==n&&"jqxToggleButton"!==n||(d=e("<button/>")),"jqxSplitter"===n&&(d=e("<div><div>Panel 1</div><div>Panel 2</div></div>")),"jqxTabs"===n&&(d=e("<div><ul><li>Tab 1</li><li>Tab 2</li></ul><div>Content 1</div><div>Content 2</div></div>")),"jqxRibbon"===n&&(d=e("<div><ul><li>Tab 1</li><li>Tab 2</li></ul><div><div>Content 1</div><div>Content 2</div></div></div>")),"jqxDocking"===n&&(d=e("<div><div><div><div>Title 1</div><div>Content 1</div></div></div></div>")),"jqxWindow"===n&&(d=e("<div><div>Title 1</div><div>Content 1</div></div>")));var h=[];return e.each(d,(function(t){var i=d[t];if(e.jqx.applyWidget(i,n,r,void 0),!a[n]){var o=e.data(i,"jqxWidget"),u=e.jqx["_"+n].prototype.defineInstance();e.jqx["_"+n].prototype.metaInfo&&e.jqx["_"+n].prototype.metaInfo(),"jqxDockingLayout"==n&&(u=e.extend(u,e.jqx._jqxLayout.prototype.defineInstance())),"jqxToggleButton"!=n&&"jqxRepeatButton"!=n||(u=e.extend(u,e.jqx._jqxButton.prototype.defineInstance())),"jqxTreeGrid"==n&&(u=e.extend(u,e.jqx._jqxDataTable.prototype.defineInstance()));var c=function(t){var i=e.data(t,"jqxWidget");this.widgetInstance=i;var r=e.extend(this,i);for(var n in r.on=r.addEventListener=function(e,t){r.addHandler(r.base?r.base.host:r.host,e,t)},r.off=r.removeEventListener=function(e){r.removeHandler(r.base?r.base.host:r.host,e)},i)"function"==e.type(i[n])&&(r[n]=e.proxy(i[n],i));return r};a[n]=c,e.each(u,(function(t,i){Object.defineProperty(c.prototype,t,{get:function(){return this.widgetInstance?this.widgetInstance[t]:i},set:function(i){if(this.widgetInstance&&(this.widgetInstance[t]!=i||"width"===t||"height"===t)){var r=this.widgetInstance[t],s=i,o=!1;if(e.type(r)==e.type(s)&&"source"!==t&&"width"!==t&&"height"!==t||(o=!0),o||l(r)!=l(s)){var a={};a[t]=i,this.widgetInstance.host?this.widgetInstance.host[n](a):this.widgetInstance.base.host[n](a),this.widgetInstance[t]=i,this.widgetInstance.propertyUpdated&&this.widgetInstance.propertyUpdated(t,r,i)}}}})}))}o=new a[n](i),h.push(o),window.jqxWidgets||(window.jqxWidgets=new Array),window.jqxWidgets[s]||(window.jqxWidgets[s]=new Array),window.jqxWidgets[s].push(o)})),1===h.length?h[0]:h}}e.fn[n]=function(){var t=Array.prototype.slice.call(arguments,0);if(0==t.length||1==t.length&&"object"==typeof t[0]){if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");return this.each((function(){e(this),null==e.data(this,n)?e.jqx.applyWidget(this,n,t,void 0):e.jqx.jqxWidgetProxy(n,this,t)}))}if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");var i=null,r=0;return this.each((function(){var s=e.jqx.jqxWidgetProxy(n,this,t);if(0==r)i=s,r++;else{if(1==r){var o=[];o.push(i),i=o}i.push(s)}})),i};try{e.extend(e.jqx["_"+n].prototype,Array.prototype.slice.call(r,0)[0])}catch(d){}e.extend(e.jqx["_"+n].prototype,{toThemeProperty:function(t,i){return e.jqx.toThemeProperty(this,t,i)},isMaterialized:function(){return!!this.theme&&(this.theme.indexOf("material")>=0||void 0)},isModern:function(){return!!this.theme&&(this.theme.indexOf("light")>=0||"dark"===this.theme||void 0)},_addBarAndLabel:function(t){var i=this,r=e("<label></label");r[0].innerHTML=this.placeHolder,r.addClass(i.toThemeProperty("jqx-input-label")),t.after(r),i.label=r;var n=e("<span></span>");t.after(n),n.addClass(i.toThemeProperty("jqx-input-bar")),i.bar=n,i.bar.css("top",this.host.height())}}),e.jqx["_"+n].prototype.refresh=function(){this.base&&this.base.refresh(!0)},e.jqx["_"+n].prototype.createInstance=function(){},e.jqx["_"+n].prototype.addEventHandler=function(e,t){this.base?this.base.host.on(e,t):this.host.on(e,t)},e.jqx["_"+n].prototype.removeEventHandler=function(e,t){this.base?this.base.host.off(e):this.host.off(e)},e.jqx["_"+n].prototype.applyTo=function(t,i){if(!(i instanceof Array)){var r=[];r.push(i),i=r}e.jqx.applyWidget(t,n,i,this)},e.jqx["_"+n].prototype.getInstance=function(){return this},e.jqx["_"+n].prototype.propertyChangeMap={},e.jqx["_"+n].prototype.addHandler=function(t,i,r,n){e.jqx.addHandler(e(t),i,r,n)},e.jqx["_"+n].prototype.removeHandler=function(t,i,r){e.jqx.removeHandler(e(t),i,r)},e.jqx["_"+n].prototype.setOptions=function(){if(this.host&&this.host.length&&1==this.host.length)return e.jqx.jqxWidgetProxy(n,this.host[0],arguments)}},e.jqx.toThemeProperty=function(e,t,i){if(""==e.theme)return t;for(var r=t.split(" "),n="",s=0;s<r.length;s++){s>0&&(n+=" ");var o=r[s];n+=null!=i&&i?o+"-"+e.theme:o+" "+o+"-"+e.theme}return n},e.jqx.addHandler=function(t,i,r,n){for(var s=i.split(" "),o=0;o<s.length;o++){var a=s[o];if(window.addEventListener)switch(a){case"mousewheel":t[0].addEventListener(e.jqx.browser.mozilla?"DOMMouseScroll":"mousewheel",r,!1);continue;case"mousemove":if(!n){t[0].addEventListener("mousemove",r,!1);continue}break;case"touchmove":if(!n){t[0].addEventListener("touchmove",r,!1);continue}if(n&&n.passive){t[0].addEventListener("touchmove",r,n);continue}}null==n||null==n?t.on?t.on(a,r):t.bind(a,r):t.on?t.on(a,n,r):t.bind(a,n,r)}},e.jqx.removeHandler=function(t,i,r){if(i)for(var n=i.split(" "),s=0;s<n.length;s++){var o=n[s];if(window.removeEventListener)switch(o){case"mousewheel":t[0].removeEventListener(e.jqx.browser.mozilla?"DOMMouseScroll":"mousewheel",r,!1);continue;case"mousemove":if(r){t[0].removeEventListener("mousemove",r,!1);continue}break;case"touchmove":if(r){t[0].removeEventListener("touchmove",r,!1);continue}}null!=o?null==r?t.off?t.off(o):t.unbind(o):t.off?t.off(o,r):t.unbind(o,r):t.off?t.off():t.unbind()}else t.off?t.off():t.unbind()},e.jqx.credits=e.jqx.credits||"",e.jqx.theme=e.jqx.theme||"",e.jqx.scrollAnimation=e.jqx.scrollAnimation||!1,e.jqx.resizeDelay=e.jqx.resizeDelay||10,e.jqx.ready=function(){e(window).trigger("jqxReady")},e.jqx.init=function(){e.each(arguments[0],(function(t,i){"theme"==t&&(e.jqx.theme=i),"scrollBarSize"==t&&(e.jqx.utilities.scrollBarSize=i),"touchScrollBarSize"==t&&(e.jqx.utilities.touchScrollBarSize=i),"scrollBarButtonsVisibility"==t&&(e.jqx.utilities.scrollBarButtonsVisibility=i)}))},e.jqx.utilities=e.jqx.utilities||{},e.extend(e.jqx.utilities,{scrollBarSize:13,touchScrollBarSize:8,scrollBarButtonsVisibility:"visible",createId:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return"jqxWidget"+e()+e()+e()},setTheme:function(t,i,r){if(void 0!==r&&r[0].className.split){void 0===t&&(t=""),void 0===i&&(i="");for(var n=r[0].className.split(" "),s=[],o=[],a=r.children(),l=0;l<n.length;l+=1)n[l].indexOf(t)>=0&&(t.length>0?(s.push(n[l]),o.push(n[l].replace(t,i))):o.push(n[l].replace("-"+i,"")+"-"+i));for(this._removeOldClasses(s,r),this._addNewClasses(o,r),l=0;l<a.length;l+=1)this.setTheme(t,i,e(a[l]))}},_removeOldClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.removeClass(e[i])},_addNewClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.addClass(e[i])},getOffset:function(t){var i=e.jqx.mobile.getLeftPos(t[0]);return{top:e.jqx.mobile.getTopPos(t[0]),left:i}},resize:function(t,i,r,n){void 0===n&&(n=!0);var s=-1,o=this,a=function(e){if(!o.hiddenWidgets)return-1;for(var t=-1,i=0;i<o.hiddenWidgets.length;i++)if(e.id){if(o.hiddenWidgets[i].id==e.id){t=i;break}}else if(o.hiddenWidgets[i].id==e[0].id){t=i;break}return t};if(this.resizeHandlers){for(var l=0;l<this.resizeHandlers.length;l++)if(t.id){if(this.resizeHandlers[l].id==t.id){s=l;break}}else if(this.resizeHandlers[l].id==t[0].id){s=l;break}if(!0===r)return-1!=s&&(this.resizeHandlers.splice(s,1),this.watchedElementData&&this.watchedElementData.length>0&&this.watchedElementData.splice(s,1)),0==this.resizeHandlers.length&&((h=e(window)).off?(h.off("resize.jqx"),h.off("orientationchange.jqx"),h.off("orientationchanged.jqx")):(h.unbind("resize.jqx"),h.unbind("orientationchange.jqx"),h.unbind("orientationchanged.jqx")),this.resizeHandlers=null),void(-1!=(d=a(t))&&this.hiddenWidgets&&this.hiddenWidgets.splice(d,1))}else{var d;if(!0===r)return void(-1!=(d=a(t))&&this.hiddenWidgets&&this.hiddenWidgets.splice(d,1))}o=this;var h,u=function(t,i){if(o.resizeHandlers){var r=function(e){for(var t=-1,i=e.parentNode;i;)t++,i=i.parentNode;return t},n=function(e,t){if(!e.widget||!t.widget)return 0;var i=r(e.widget[0]),n=r(t.widget[0]);try{if(i<n)return-1;if(i>n)return 1}catch(s){}return 0},s=function(t){if(o.hiddenWidgets.length>0){o.hiddenWidgets.sort(n);var r=function(){for(var t=!1,r=new Array,n=0;n<o.hiddenWidgets.length;n++){var s=o.hiddenWidgets[n];e.jqx.isHidden(s.widget)?(t=!0,r.push(s)):s.callback&&s.callback(i)}o.hiddenWidgets=r,t||clearInterval(o.__resizeInterval)};if(0==t)return r(),void(o.__resizeInterval&&clearInterval(o.__resizeInterval));o.__resizeInterval&&clearInterval(o.__resizeInterval),o.__resizeInterval=setInterval((function(){r()}),100)}};o.hiddenWidgets&&o.hiddenWidgets.length>0&&s(!1),o.hiddenWidgets=new Array,o.resizeHandlers.sort(n);for(var l=0;l<o.resizeHandlers.length;l++){var d=o.resizeHandlers[l],h=d.widget,u=d.data;if(u&&u.jqxWidget){var c=u.jqxWidget.width,p=u.jqxWidget.height;u.jqxWidget.base&&(null==c&&(c=u.jqxWidget.base.width),null==p&&(p=u.jqxWidget.base.height)),void 0===c&&void 0===p&&(c=u.jqxWidget.element.style.width,p=u.jqxWidget.element.style.height);var f=!1;if(null!=c&&-1!=c.toString().indexOf("%")&&(f=!0),null!=p&&-1!=p.toString().indexOf("%")&&(f=!0),e.jqx.isHidden(h))-1===a(h)&&(f||!0===t)&&!0!==d.data.nestedWidget&&o.hiddenWidgets.push(d);else if(void 0===t||!0!==t){if(f){if(d.callback(i),o.watchedElementData)for(var m=0;m<o.watchedElementData.length;m++)if(o.watchedElementData[m].element==u.jqxWidget.element){o.watchedElementData[m].offsetWidth=u.jqxWidget.element.offsetWidth,o.watchedElementData[m].offsetHeight=u.jqxWidget.element.offsetHeight;break}o.hiddenWidgets.indexOf(d)>=0&&o.hiddenWidgets.splice(o.hiddenWidgets.indexOf(d),1)}if(u.jqxWidget.element){var g=u.jqxWidget.element.className;if((g.indexOf("dropdownlist")>=0||g.indexOf("datetimeinput")>=0||g.indexOf("combobox")>=0||g.indexOf("menu")>=0)&&u.jqxWidget.isOpened&&u.jqxWidget.isOpened()){if(i&&"resize"==i&&e.jqx.mobile.isTouchDevice())continue;u.jqxWidget.close()}}}}}s()}};this.resizeHandlers||(this.resizeHandlers=new Array,(h=e(window)).on?(this._resizeTimer=null,this._initResize=null,h.on("resize.jqx",(function(t){null!=o._resizeTimer&&clearTimeout(o._resizeTimer),o._initResize?o._resizeTimer=setTimeout((function(){u(null,"resize")}),e.jqx.resizeDelay):(o._initResize=!0,u(null,"resize"))})),h.on("orientationchange.jqx",(function(e){u(null,"orientationchange")})),h.on("orientationchanged.jqx",(function(e){u(null,"orientationchange")}))):(h.bind("resize.jqx",(function(e){u(null,"orientationchange")})),h.bind("orientationchange.jqx",(function(e){u(null,"orientationchange")})),h.bind("orientationchanged.jqx",(function(e){u(null,"orientationchange")}))));var c=t.data();n&&-1===s&&this.resizeHandlers.push({id:t[0].id,widget:t,callback:i,data:c});try{var p=c.jqxWidget.width,f=c.jqxWidget.height;c.jqxWidget.base&&(null==p&&(p=c.jqxWidget.base.width),null==f&&(f=c.jqxWidget.base.height)),void 0===p&&void 0===f&&(p=c.jqxWidget.element.style.width,f=c.jqxWidget.element.style.height);var m=!1;null!=p&&-1!=p.toString().indexOf("%")&&(m=!0),null!=f&&-1!=f.toString().indexOf("%")&&(m=!0),m&&(this.watchedElementData||(this.watchedElementData=[]),(o=this).watchedElementData.push({element:t[0],offsetWidth:t[0].offsetWidth,offsetHeight:t[0].offsetHeight,callback:i}),o.observer||(o.observer=new MutationObserver((function(t){o.watchedElementData.forEach&&o.watchedElementData.forEach((function(t){t.element.offsetWidth===t.offsetWidth&&t.element.offsetHeight===t.offsetHeight||(t.offsetWidth=t.element.offsetWidth,t.offsetHeight=t.element.offsetHeight,t.timer&&clearTimeout(t.timer),t.timer=setTimeout((function(){e.jqx.isHidden(e(t.element))?t.timer=setInterval((function(){e.jqx.isHidden(e(t.element))||(clearInterval(t.timer),t.callback())}),100):t.callback()})))}))})),o.observer.observe(document.body,{attributes:!0,childList:!0,characterData:!0})))}catch(g){}e.jqx.isHidden(t)&&!0===n&&u(!0),e.jqx.resize=function(){u(null,"resize")}},parseJSON:function(t){if(!t||"string"!=typeof t)return null;if(t=e.trim(t),window.JSON&&window.JSON.parse)return window.JSON.parse(t);if(/^[\],:{}\s]*$/.test(t.replace(/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,"@").replace(/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return new Function("return "+t)();throw new Error("Invalid JSON: "+t)},html:function(t,i){if(!e(t).on)return e(t).html(i);try{return e.access(t,(function(i){var r=t[0]||{},n=0,s=t.length;if(void 0===i)return 1===r.nodeType?r.innerHTML.replace(rinlinejQuery,""):void 0;var o=new RegExp("<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)[\\s/>]","i");if("string"==typeof i&&!/<(?:script|style|link)/i.test(i)&&(e.support.htmlSerialize||!o.test(i))&&(e.support.leadingWhitespace||!/^\s+/.test(i))&&!{option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]}[(/<([\w:]+)/.exec(i)||["",""])[1].toLowerCase()]){i=i.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,"<$1></$2>");try{for(;n<s;n++)1===(r=this[n]||{}).nodeType&&(e.cleanData(r.getElementsByTagName("*")),r.innerHTML=i);r=0}catch(a){}}r&&t.empty().append(i)}),null,i,arguments.length)}catch(n){return e(t).html(i)}},hasTransform:function(t){var i="";if(""==(i=t.css("transform"))||"none"==i){if(""!=(i=t.parents().css("transform"))&&"none"!=i)return""!=i&&"none"!=i;var r=e.jqx.utilities.getBrowser();"msie"==r.browser?""!=(i=t.css("-ms-transform"))&&"none"!=i||(i=t.parents().css("-ms-transform")):"chrome"==r.browser?""!=(i=t.css("-webkit-transform"))&&"none"!=i||(i=t.parents().css("-webkit-transform")):"opera"==r.browser?""!=(i=t.css("-o-transform"))&&"none"!=i||(i=t.parents().css("-o-transform")):"mozilla"==r.browser&&(""!=(i=t.css("-moz-transform"))&&"none"!=i||(i=t.parents().css("-moz-transform")))}return""!=i&&"none"!=i||(i=e(document.body).css("transform")),""!=i&&"none"!=i&&null!=i},getBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],i={browser:t[1]||"",version:t[2]||"0"};return e.indexOf("rv:11.0")>=0&&e.indexOf(".net4.0c")>=0&&(i.browser="msie",i.version="11",t[1]="msie"),e.indexOf("edge")>=0&&(i.browser="msie",i.version="12",t[1]="msie"),i[t[1]]=t[1],i}}),e.jqx.browser=e.jqx.utilities.getBrowser(),e.jqx.isHidden=function(e){return!(!e||!e[0]||0!==e[0].offsetWidth&&0!==e[0].offsetHeight)},e.jqx.ariaEnabled=!0,e.jqx.aria=function(t,i,r){if(e.jqx.ariaEnabled)if(null==i)e.each(t.aria,(function(i,r){if(null==(n=t.base?t.base.host.attr(i):t.host.attr(i))||e.isFunction(n)){var n;e.isFunction(n=t[r.name])&&(n=t[r.name]()),null==n&&(n="");try{t.base?t.base.host.attr(i,n.toString()):t.host.attr(i,n.toString())}catch(o){}}else{var s=n;switch(r.type){case"number":s=new Number(n),isNaN(s)&&(s=n);break;case"boolean":s="true"==n;break;case"date":("Invalid Date"==(s=new Date(n))||isNaN(s))&&(s=n)}t[r.name]=s}}));else try{t.host?t.base?t.base.host?t.base.host.attr(i,r.toString()):t.attr(i,r.toString()):t.host?t.element.setAttribute?t.element.setAttribute(i,r.toString()):t.host.attr(i,r.toString()):t.attr(i,r.toString()):t.setAttribute&&t.setAttribute(i,r.toString())}catch(n){}},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,i=Number(arguments[1])||0;for((i=i<0?Math.ceil(i):Math.floor(i))<0&&(i+=t);i<t;i++)if(i in this&&this[i]===e)return i;return-1}),e.jqx.mobile=e.jqx.mobile||{},e.jqx.position=function(t){var i=parseInt(t.pageX),r=parseInt(t.pageY);if(e.jqx.mobile.isTouchDevice()){var n=e.jqx.mobile.getTouches(t)[0];i=parseInt(n.pageX),r=parseInt(n.pageY)}return{left:i,top:r}},e.extend(e.jqx.mobile,{_touchListener:function(e,t){var i,r,n,s={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},o=(i=s[e.type],r=e,(n=document.createEvent("MouseEvents")).initMouseEvent(i,r.bubbles,r.cancelable,r.view,r.detail,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,r.relatedTarget),n._pageX=r.pageX,n._pageY=r.pageY,n);e.target.dispatchEvent(o);var a=e.target["on"+s[e.type]];"function"==typeof a&&a(e)},setMobileSimulator:function(e,t){if(!this.isTouchDevice()){this.simulatetouches=!0,0==t&&(this.simulatetouches=!1);var i={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},r=this;window.addEventListener&&function(){for(var t in i)e.addEventListener&&(e.removeEventListener(t,r._touchListener),e.addEventListener(t,r._touchListener,!1))}()}},isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var e="Browser CodeName: "+navigator.appCodeName;if(e+="Browser Name: "+navigator.appName,e+="Browser Version: "+navigator.appVersion,e+="Platform: "+navigator.platform,e+="User-agent header: "+navigator.userAgent,navigator,-1!=e.indexOf("Android"))return!0;if(-1!=e.indexOf("IEMobile"))return!0;if(-1!=e.indexOf("Windows Phone"))return!0;if(-1!=e.indexOf("WPDesktop"))return!0;if(-1!=e.indexOf("ZuneWP7"))return!0;if(-1!=e.indexOf("BlackBerry")&&-1!=e.indexOf("Mobile Safari"))return!0;if(-1!=e.indexOf("ipod"))return!0;if(-1!=e.indexOf("nokia")||-1!=e.indexOf("Nokia"))return!0;if(-1!=e.indexOf("Chrome/17"))return!1;if(-1!=e.indexOf("CrOS"))return!1;if(-1!=e.indexOf("Opera")&&-1==e.indexOf("Mobi")&&-1==e.indexOf("Mini")&&-1!=e.indexOf("Platform: Win"))return!1;if(-1!=e.indexOf("HybridDeviceTouch"))return!0;if(-1!=e.indexOf("HybridDeviceMouse"))return!1;if(-1!=e.indexOf("Opera")&&-1!=e.indexOf("Mobi")&&-1!=e.indexOf("Opera Mobi"))return!0;if(-1!=e.indexOf("Mozilla/5.0 (X11; Linux x86_64)"))return!1;var t={ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",blackberry:"BlackBerry(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/"};try{if(null!=this.touchDevice)return this.touchDevice;for(var i in this.touchDevice=!1,t)if(t.hasOwnProperty(i)&&e.match(new RegExp("(?:"+t[i]+")([^\\s;]+)")))return"blackberry"==i.toString()?(this.touchDevice=!1,!1):(this.touchDevice=!0,!0);var r=navigator.userAgent;if(-1!=navigator.platform.toLowerCase().indexOf("win")){if(r.indexOf("Windows Phone")>=0||r.indexOf("WPDesktop")>=0||r.indexOf("IEMobile")>=0||r.indexOf("ZuneWP7")>=0)return this.touchDevice=!0,!0;if(r.indexOf("Touch")>=0)return"MSPointerDown"in window||"pointerdown"in window||r.indexOf("ARM")>=0?(this.touchDevice=!0,!0):(this.touchDevice=!1,!1)}return-1!=navigator.platform.toLowerCase().indexOf("win")?(this.touchDevice=!1,!1):(("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(this.touchDevice=!0),this.touchDevice)}catch(n){return this.touchDevice=!1,!1}},getLeftPos:function(e){for(var t=e.offsetLeft;null!=(e=e.offsetParent);)"HTML"!=e.tagName&&(t+=e.offsetLeft,document.all&&(t+=e.clientLeft));return t},getTopPos:function(t){for(var i=t.offsetTop,r=e(t).coord();null!=(t=t.offsetParent);)"HTML"!=t.tagName&&(i+=t.offsetTop-t.scrollTop,document.all&&(i+=t.clientTop));var n=navigator.userAgent.toLowerCase();return-1==n.indexOf("windows phone")&&-1==n.indexOf("WPDesktop")&&-1==n.indexOf("ZuneWP7")&&-1==n.indexOf("msie 9")&&-1==n.indexOf("msie 11")&&-1==n.indexOf("msie 10")||-1==n.indexOf("touch")?this.isSafariMobileBrowser()?this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser()?i:-1!=n.indexOf("version/7")?r.top:(-1==n.indexOf("version/6")&&-1==n.indexOf("version/5")||(i+=e(window).scrollTop()),/(Android.*Chrome\/[.0-9]* (!?Mobile))/.exec(navigator.userAgent)||/(Android.*Chrome\/[.0-9]* Mobile)/.exec(navigator.userAgent)?i+e(window).scrollTop():r.top):i:r.top},isChromeMobileBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("android")},isOperaMiniMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("opera mini")||-1!=e.indexOf("opera mobi")},isOperaMiniBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("opera mini")},isNewSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return(-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod"))&&-1!=e.indexOf("version/5")},isSafari4MobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return(-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod"))&&-1!=e.indexOf("version/4")},isWindowsPhone:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("windows phone")||-1!=e.indexOf("WPDesktop")||-1!=e.indexOf("ZuneWP7")||-1!=e.indexOf("msie 9")||-1!=e.indexOf("msie 11")||-1!=e.indexOf("msie 10")&&-1!=e.indexOf("touch")},isSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return!!/(Android.*Chrome\/[.0-9]* (!?Mobile))/.exec(navigator.userAgent)||!!/(Android.*Chrome\/[.0-9]* Mobile)/.exec(navigator.userAgent)||-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod")||-1!=e.indexOf("mobile safari")},isIPadSafariMobileBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("ipad")},isMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("android")},getTouches:function(e){if(e.originalEvent){if(e.originalEvent.touches&&e.originalEvent.touches.length)return e.originalEvent.touches;if(e.originalEvent.changedTouches&&e.originalEvent.changedTouches.length)return e.originalEvent.changedTouches}return e.touches||(e.touches=new Array,e.touches[0]=null!=e.originalEvent?e.originalEvent:e,null!=e.originalEvent&&e.pageX&&(e.touches[0]=e),"mousemove"==e.type&&(e.touches[0]=e)),e.touches},getTouchEventName:function(e){if(!this.isWindowsPhone())return e;if(-1!=navigator.userAgent.toLowerCase().indexOf("windows phone 7")){if(-1!=e.toLowerCase().indexOf("start"))return"MSPointerDown";if(-1!=e.toLowerCase().indexOf("move"))return"MSPointerMove";if(-1!=e.toLowerCase().indexOf("end"))return"MSPointerUp"}return-1!=e.toLowerCase().indexOf("start")?"pointerdown":-1!=e.toLowerCase().indexOf("move")?"pointermove":-1!=e.toLowerCase().indexOf("end")?"pointerup":void 0},dispatchMouseEvent:function(e,t,i){if(!this.simulatetouches){var r=document.createEvent("MouseEvent");r.initMouseEvent(e,!0,!0,t.view,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),null!=i&&i.dispatchEvent(r)}},getRootNode:function(e){for(;1!==e.nodeType;)e=e.parentNode;return e},setTouchScroll:function(e,t){this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[t]=e},touchScroll:function(t,i,r,n,s,o){if(null!=t){var a=this;this.scrolling||(this.scrolling=[]),this.scrolling[n]=!1;var l=!1,d=e(t),h=["select","input","textarea"];this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[n]=!0,n=n;var u,c,p,f,m,g,v,w,y,b,x,_,C,j,q=this.getTouchEventName("touchstart")+".touchScroll",k=this.getTouchEventName("touchend")+".touchScroll",T=this.getTouchEventName("touchmove")+".touchScroll";p=i;var S=0,I=0,D=0,P=0,E=s.jqxScrollBar("max"),M=function(){var e,t,i;t=(e=Date.now())-y,y=e,i=S-w;var r=I-u;w=S,u=I,m=!0,g=1e3*i/(1+t)*.8+.2*g,v=1e3*r/(1+t)*.8+.2*v},A=!1,H=function(t){if(!a.enableScrolling[n])return!0;if(-1===e.inArray(t.target.tagName.toLowerCase(),h)){S=o.jqxScrollBar("value"),I=s.jqxScrollBar("value");var i,r=a.getTouches(t),d=r[0];return 1==r.length&&a.dispatchMouseEvent("mousedown",d,a.getRootNode(d.target)),E=s.jqxScrollBar("max"),p=o.jqxScrollBar("max"),A=!1,m=!0,f=V(i=t),j=W(i),g=x=v=0,w=S,u=I,y=Date.now(),clearInterval(b),b=setInterval(M,100),D=S,P=I,l=!1,d.pageY,d.pageX,a.simulatetouches&&null!=d._pageY&&(d._pageY,d._pageX),a.scrolling[n]=!0,!0}};d.on?d.on(q,H):d.bind(q,H);var O=function(e,t){return S=e>p?p:e<0?0:e,r(null,e,0,0,t),e>p?"max":e<0?"min":"value"},B=function(e,t){return I=e>E?E:e<0?0:e,r(e,null,0,0,t),e>E?"max":e<0?"min":"value"},z=function(e){if(!a.enableScrolling[n])return!0;if(!a.scrolling[n])return!0;A&&(e.preventDefault(),e.stopPropagation());var t=a.getTouches(e);if(t.length>1)return!0;a.simulatetouches&&null!=t[0]._pageY&&t[0]._pageY,l=!0;var i=null==s||"hidden"!=s[0].style.visibility,r=null==o||"hidden"!=o[0].style.visibility;(i||r)&&(i||r)&&function(e){var t,n,s;if(m){t=V(e),s=W(e),c=j-s;var o="value";if((n=f-t)>2||n<-2)return f=t,o=O(S+n,e),M(),"min"==o&&0===D||"max"==o&&D===p||!r||(e.preventDefault(),e.stopPropagation(),A=!0,!1);if(c>2||c<-2)return j=s,o=B(I+c,e),M(),"min"==o&&0===P||"max"==o&&P===E||!i||(A=!0,e.preventDefault(),e.stopPropagation(),!1);e.preventDefault()}}(e)};d.on?d.on(T,z):d.bind(T,z);var N=function(e){if(!a.enableScrolling[n])return!0;var t=a.getTouches(e)[0];if(!a.scrolling[n])return!0;if(m=!1,clearInterval(b),g>10||g<-10?(x=.8*g,_=Math.round(S+x),y=Date.now(),requestAnimationFrame(G)):(v>10||v<-10)&&(x=.8*v,C=Math.round(I+x),y=Date.now(),requestAnimationFrame(U)),a.scrolling[n]=!1,!l){t=a.getTouches(e)[0];var i=a.getRootNode(t.target);return a.dispatchMouseEvent("mouseup",t,i),a.dispatchMouseEvent("click",t,i),!0}a.dispatchMouseEvent("mouseup",t,e.target)};if(this.simulatetouches){null!=e(window).on||e(window);var L=function(e){try{N(e)}catch(t){}a.scrolling[n]=!1};if(null!=e(window).on?e(document).on("mouseup.touchScroll",L):e(document).bind("mouseup.touchScroll",L),window.frameElement&&null!=window.top){var F=function(e){try{N(e)}catch(t){}a.scrolling[n]=!1};window.top.document&&(e(window.top.document).on?e(window.top.document).on("mouseup",F):e(window.top.document).bind("mouseup",F))}null!=e(document).on||e(document);var R=function(e){if(!a.scrolling[n])return!0;a.scrolling[n]=!1;var t=a.getTouches(e)[0],i=a.getRootNode(t.target);a.dispatchMouseEvent("mouseup",t,i),a.dispatchMouseEvent("click",t,i)};null!=e(document).on?e(document).on("touchend",R):e(document).bind("touchend",R)}d.on&&(d.on("dragstart",(function(e){e.preventDefault()})),d.on("selectstart",(function(e){e.preventDefault()}))),d.on?d.on(k+" touchcancel.touchScroll",N):d.bind(k+" touchcancel.touchScroll",N)}function V(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.originalEvent&&void 0!==e.originalEvent.clientY?e.originalEvent.clientY:a.getTouches(e)[0].clientY}function W(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.originalEvent&&void 0!==e.originalEvent.clientX?e.originalEvent.clientX:a.getTouches(e)[0].clientX}function G(){var e,t;x&&(e=Date.now()-y,(t=-x*Math.exp(-e/325))>.5||t<-.5?(O(_+t),requestAnimationFrame(G)):O(_))}function U(){var e,t;x&&(e=Date.now()-y,(t=-x*Math.exp(-e/325))>.5||t<-.5?(B(C+t),requestAnimationFrame(U)):B(C))}}}),e.jqx.cookie=e.jqx.cookie||{},e.extend(e.jqx.cookie,{cookie:function(t,i,r){if(arguments.length>1&&"[object Object]"!==String(i)){if(r=e.extend({},r),null==i&&(r.expires=-1),"number"==typeof r.expires){var n=r.expires,s=r.expires=new Date;s.setDate(s.getDate()+n)}return i=String(i),document.cookie=[encodeURIComponent(t),"=",r.raw?i:encodeURIComponent(i),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")}var o,a=(r=i||{}).raw?function(e){return e}:decodeURIComponent;return(o=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?a(o[1]):null}}),e.jqx.string=e.jqx.string||{},e.extend(e.jqx.string,{replace:function(e,t,i){if(t===i)return this;for(var r=e,n=r.indexOf(t);-1!=n;)n=(r=r.replace(t,i)).indexOf(t);return r},contains:function(e,t){return null!=e&&null!=t&&-1!=e.indexOf(t)},containsIgnoreCase:function(e,t){return null!=e&&null!=t&&-1!=e.toString().toUpperCase().indexOf(t.toString().toUpperCase())},equals:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e),t.length==e.length&&e.slice(0,t.length)==t)},equalsIgnoreCase:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e),t.length==e.length&&e.toUpperCase().slice(0,t.length)==t.toUpperCase())},startsWith:function(e,t){return null!=e&&null!=t&&e.slice(0,t.length)==t},startsWithIgnoreCase:function(e,t){return null!=e&&null!=t&&e.toUpperCase().slice(0,t.length)==t.toUpperCase()},normalize:function(e){return 65279==e.charCodeAt(e.length-1)&&(e=e.substring(0,e.length-1)),e},endsWith:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e)).slice(-t.length)==t},endsWithIgnoreCase:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e)).toUpperCase().slice(-t.length)==t.toUpperCase()}}),e.extend(e.easing,_defineProperty({easeOutBack:function(e,t,i,r,n,s){return null==s&&(s=1.70158),r*((t=t/n-1)*t*((s+1)*t+s)+1)+i},easeInQuad:function(e,t,i,r,n){return r*(t/=n)*t+i},easeInOutCirc:function(e,t,i,r,n){return(t/=n/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+i:r/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInOutSine:function(e,t,i,r,n){return-r/2*(Math.cos(Math.PI*t/n)-1)+i},easeInCubic:function(e,t,i,r,n){return r*(t/=n)*t*t+i},easeOutCubic:function(e,t,i,r,n){return r*((t=t/n-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,r,n){return(t/=n/2)<1?r/2*t*t*t+i:r/2*((t-=2)*t*t+2)+i},easeInSine:function(e,t,i,r,n){return-r*Math.cos(t/n*(Math.PI/2))+r+i},easeOutSine:function(e,t,i,r,n){return r*Math.sin(t/n*(Math.PI/2))+i}},"easeInOutSine",(function(e,t,i,r,n){return-r/2*(Math.cos(Math.PI*t/n)-1)+i})))}(s),function(e){e.event&&e.event.special&&e.extend(e.event.special,{close:{noBubble:!0},open:{noBubble:!0},cellclick:{noBubble:!0},rowclick:{noBubble:!0},tabclick:{noBubble:!0},selected:{noBubble:!0},expanded:{noBubble:!0},collapsed:{noBubble:!0},valuechanged:{noBubble:!0},expandedItem:{noBubble:!0},collapsedItem:{noBubble:!0},expandingItem:{noBubble:!0},collapsingItem:{noBubble:!0}}),e.fn.extend&&e.fn.extend({ischildof:function(t){if(!e(this).parents)return t.element.contains(this.element);for(var i=e(this).parents().get(),r=0;r<i.length;r++)if("string"!=typeof t){if(void 0!==t&&i[r]==t[0])return!0}else if(void 0!==t&&e(i[r]).is(t))return!0;return!1}}),e.fn.jqxProxy=function(){var t=e(this).data().jqxWidget,i=Array.prototype.slice.call(arguments,0),r=t.element;return r||(r=t.base.element),e.jqx.jqxWidgetProxy(t.widgetName,r,i)};var t=e.originalVal=e.fn.val;e.fn.val=function(i){return void 0===i?e(this).hasClass("jqx-widget")&&(r=e(this).data().jqxWidget)&&r.val||this[0]&&this[0].tagName.toLowerCase().indexOf("angular")>=0&&(r=e(this).find(".jqx-widget").data().jqxWidget)&&r.val?r.val():t.call(this):e(this).hasClass("jqx-widget")&&(r=e(this).data().jqxWidget)&&r.val||this[0]&&this[0].tagName.toLowerCase().indexOf("angular")>=0&&(r=e(this).find(".jqx-widget").data().jqxWidget)&&r.val?2!=arguments.length?r.val(i):r.val(i,arguments[1]):t.call(this,i);var r},e.fn.modal&&e.fn.modal.Constructor&&(e.fn.modal.Constructor.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy((function(t){if(this.$element[0]!==t.target&&!this.$element.has(t.target).length){if(e(t.target).parents().hasClass("jqx-popup"))return!0;this.$element.trigger("focus")}}),this))}),e.fn.coord=function(t){var i,r,n={top:0,left:0},s=this[0],o=s&&s.ownerDocument;if(o){if(!e.contains(i=o.documentElement,s))return n;var a;void 0!==typeof s.getBoundingClientRect&&(n=s.getBoundingClientRect()),r=e.isWindow(a=o)?a:9===a.nodeType&&(a.defaultView||a.parentWindow);var l=0,d=0,h=navigator.userAgent.toLowerCase();if((-1!=h.indexOf("ipad")||-1!=h.indexOf("iphone"))&&(l=2),1==t&&"static"!=document.body.style.position&&""!=document.body.style.position){var u=e(document.body).coord();l=-u.left,d=-u.top}return{top:d+n.top+(r.pageYOffset||i.scrollTop)-(i.clientTop||0),left:l+n.left+(r.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}}},e.jqx.ripplers=[],e.jqx.ripple=function(t,i,r){i||(i=t);var n=e(t);n.append("<span class='ink'></span>");for(var s=n.find(".ink"),o=!1,a=0;a<e.jqx.ripplers.length;a++)if(e.jqx.ripplers[a].element[0]===t[0]){o=!0;break}if(o||e.jqx.ripplers.push({ink:s,element:t,hostElement:i,hostElementType:r}),"checkbox"===r||"radiobutton"===r){var l=Math.max(n.outerWidth(),n.outerHeight());s.css({height:l,width:l});var d=n.width()/2-s.width()/2,h=n.height()/2-s.height()/2;s.css({top:h+"px",left:d+"px"})}1===e.jqx.ripplers.length&&e(document).on("mouseup",(function(t){e.jqx.ripple.mouseCaptured=!1;for(var i=0;i<e.jqx.ripplers.length;i++){var n=e.jqx.ripplers[i];n.ink.removeClass("active"),n.element.removeClass("active"),"checkbox"!==r&&"radiobutton"!==r&&n.ink.hasClass("animate")&&n.ink.removeClass("animate")}})),i.off("mousedown.ripple"),i.on("mousedown.ripple",(function(n){var s=e(t);e.jqx.ripple.mouseCaptured=!0,setTimeout((function(){0==s.find(".ink").length&&s.append("<span class='ink'></span>");var o=s.find(".ink");if(o.removeClass("animate"),!o.height()&&!o.width()){var a=Math.max(s.outerWidth(),s.outerHeight());o.css({height:a,width:a})}if("checkbox"===r||"radiobutton"===r){if("checkbox"===r&&i.jqxCheckBox("disabled"))return;if("radiobutton"===r&&i.jqxRadioButton("disabled"))return;var l=s.width()/2-o.width()/2,d=s.height()/2-o.height()/2;return o.css({top:d+"px",left:l+"px"}).addClass("animate"),void o.on("animationend",(function(){e.jqx.ripple.mouseCaptured&&(o.removeClass("animate"),o.addClass("active"),t.addClass("active"))}))}l=n.pageX-s.offset().left-o.width()/2,d=n.pageY-s.offset().top-o.height()/2,o.css({top:d+"px",left:l+"px"}).addClass("animate")}))}))}}(s)},bDid:function(e,t){var i;(i=jqxBaseFramework).extend(i.jqx._jqxGrid.prototype,{_calculateaggregate:function(e,t,r,n){var s=e.aggregates;if(s||(s=t),s){for(var o=new Array,a=0;a<s.length;a++)"count"!=s[a]&&(o[o.length]=e.cellsformat);if(this.source&&this.source.getAggregatedData)return null==n&&(n=this.getrows()),this.virtualmode&&(n=new Array,i.each(this.source._source.records,(function(){n.push(this)}))),this.source.getAggregatedData(null==r||1==r?[{name:e.datafield,aggregates:s,formatStrings:o}]:[{name:e.datafield,aggregates:s}],this.gridlocalization,n)}return null},getcolumnaggregateddata:function(e,t,i,r){var n=this.getcolumn(e),s=null!=i&&0!=i&&i;if(null==t)return"";var o=n.aggregates;n.aggregates=null;var a=this._calculateaggregate(n,t,s,r),l={};return a&&(l=a[e]),n.aggregates=o,l},refreshaggregates:function(){this._updatecolumnsaggregates()},renderaggregates:function(){this._updateaggregates()},_updatecolumnaggregates:function(e,t,r){var n=this;if(t)r.children().remove(),r.html(""),e.aggregatesrenderer?t&&(o=e.aggregatesrenderer(t[e.datafield],e,r,this.getcolumnaggregateddata(e.datafield,t[e.datafield])),r.html(o)):i.each(t,(function(){for(s in this){var e=i('<div style="position: relative; margin: 4px; overflow: hidden;"></div>'),t=s;t=n._getaggregatename(t),e.html(t+":"+this[s]),n.rtl&&e.addClass(n.toThemeProperty("jqx-rtl")),r.append(e)}}));else if(r.children().remove(),r.html(""),e.aggregatesrenderer){var s={};e.aggregates&&(s=this.getcolumnaggregateddata(e.datafield,e.aggregates));var o=e.aggregatesrenderer({},e,r,null);r.html(o)}},_getaggregatetype:function(e){switch(e){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return e}var t=e;for(var i in e){t=i;break}return t},_getaggregatename:function(e){var t=e;switch(e){case"min":t="Min";break;case"max":t="Max";break;case"count":t="Count";break;case"avg":t="Avg";break;case"product":t="Product";break;case"var":t="Var";break;case"stdevp":t="StDevP";break;case"stdev":t="StDev";break;case"varp":t="VarP";case"sum":t="Sum"}if(e===t&&"string"!=typeof t)for(var i in e){t=i;break}return t},_updatecolumnsaggregates:function(){var e=this.getrows(),t=this.columns.records.length;if(null!=this.statusbar[0].cells)for(var r=0;r<t;r++){var n=i(this.statusbar[0].cells[r]),s=this.columns.records[r],o=this._calculateaggregate(s,null,!0,e);this._updatecolumnaggregates(s,o,n)}},_updateaggregates:function(){var e=i('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>'),t=0,r=this.columns.records.length,n=this.toThemeProperty("jqx-grid-cell");this.rtl&&(n+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),t=-1),n+=" "+this.toThemeProperty("jqx-grid-cell-pinned");var s=r+10,o=new Array;this.statusbar[0].cells=o;for(var a=this.getrows(),l=0;l<r;l++){var d=this.columns.records[l],h=this._calculateaggregate(d,d.aggregates,!0,a),u=d.width;u<d.minwidth&&(u=d.minwidth),u>d.maxwidth&&(u=d.maxwidth);var c=n;d.cellsalign&&(c+=" "+this.toThemeProperty("jqx-"+d.cellsalign+"-align"));var p=i('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+c+'"></div>');e.append(p),p.css("left",t),p.css("z-index",this.rtl?s++:s--),p.width(u),p[0].left=t,d.hidden&&d.hideable?p.css("display","none"):t+=u,o[o.length]=p[0],this._updatecolumnaggregates(d,h,p)}i.jqx.browser.msie&&i.jqx.browser.version<8&&e.css("z-index",s--),e.width(parseFloat(t)+2),e.height(this.statusbarheight),this.statusbar.children().remove(),this.statusbar.append(e),this.statusbar.removeClass(this.toThemeProperty("jqx-widget-header")),this.statusbar.addClass(n),this.statusbar.css("border-bottom-color","transparent"),this.statusbar.css("border-top-width","1px"),this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&this._renderhorizontalscroll(),this._arrange()}})},c7Xc:function(e,t){var i,r;(r=jqxBaseFramework).extend(r.jqx._jqxGrid.prototype,(_defineProperty(i={_handledblclick:function(e,t){var i,n;if(!(null==e.target||t.disabled||r(e.target).ischildof(this.columnsheader)||(e.which?i=3==e.which:e.button&&(i=2==e.button),i||(e.which?n=2==e.which:e.button&&(n=1==e.button),n)))){var s=this.showheader?this.columnsheader.height()+2:0,o=this._groupsheader()?this.groupsheader.height():0;o+=this.showtoolbar?this.toolbarheight:0;var a=this.host.offset(),l=e.pageX-a.left,d=this._hittestrow(l,e.pageY-s-a.top-o);if(d){var h=d.row,u=e.target.className,c=this.table[0].rows[d.index];if(null!=c){t.mousecaptured=!0,t.mousecaptureposition={left:e.pageX,top:e.pageY-o};for(var p=this.hScrollInstance.value,f=0,m=0;m<c.cells.length;m++){var g=parseInt(r(this.columnsrow[0].cells[m]).css("left")),v=g-p;if(t.columns.records[m].pinned&&(v=g),(null==(w=this._getcolumnat(m))||!w.hidden)&&v+r(this.columnsrow[0].cells[m]).width()>=l&&l>=v){f=m;break}}if(null!=h){var w=this._getcolumnat(f);-1==u.indexOf("jqx-grid-group-expand")&&-1==u.indexOf("jqx-grid-group-collapse")&&-1!=h.boundindex&&t.begincelledit(t.getboundindex(h),w.datafield,w.defaulteditorvalue)}}}}},_getpreveditablecolumn:function(e){for(;e>0;){e--;var t=this.getcolumnat(e);if(!t)return null;if(t.editable&&!t.hidden)return t}return null},_getnexteditablecolumn:function(e){for(;e<this.columns.records.length;){e++;var t=this.getcolumnat(e);if(!t)return null;if(t.editable&&!t.hidden)return t}return null},_handleeditkeydown:function(e,t){if(t.handlekeyboardnavigation&&1==t.handlekeyboardnavigation(e))return!0;var i=e.charCode?e.charCode:e.keyCode?e.keyCode:0;if(t.editEvent=e,t.showfilterrow&&t.filterable&&this.filterrow&&r(e.target).ischildof(this.filterrow))return!0;if(e.target.className&&e.target.className.indexOf("jqx-grid-widget")>=0)return!0;if(t.pageable&&r(e.target).ischildof(this.pager))return!0;if(this.showtoolbar&&r(e.target).ischildof(this.toolbar))return!0;if(this.showeverpresentrow){if(this.addnewrowtop&&r(e.target).ischildof(this.addnewrowtop))return!0;if(this.addnewrowbottom&&r(e.target).ischildof(this.addnewrowbottom))return!0}if(this.showstatusbar&&r(e.target).ischildof(this.statusbar))return!0;if(this.rowdetails&&r(e.target).ischildof(this.content.find("[role='rowgroup']")))return!0;if(this.editcell){if("selectedrow"===this.editmode){if(13===i)return this.endrowedit(this.editcell.row,!1),!1;if(27===i)return this.endrowedit(this.editcell.row,!0),!1;if(32==i&&this._currentColumn&&"checkbox"==this.getcolumn(this._currentColumn).columntype&&(c=this.getcolumn(this._currentColumn)).editable){var n=!this.getcellvalue(this.editcell.row,c.datafield),s=this.getrowdata(this.editcell.row),o=this.editcell.row;s=t.getrowdata(t.editcell.row),this.setcellvalue(this.editcell.row,c.datafield,n,!1);var a=this._focusedColumn,l=this._currentColumn,d=this._currentEditableColumn;if(this.endrowedit(this.editcell.row,!1),this.beginrowedit(o,!1),this._currentColumn=l,this._focusedColumn=a,this._currentEditableColumn=d,this._renderrows(),this.selectcell(o,c.datafield),this._oldselectedcell=this.selectedcell,a){var h=this;setTimeout((function(){h.selectcell(o,c.datafield),h._oldselectedcell=h.selectedcell,r(h._checkboxCells[c.datafield].checkbox).jqxCheckBox("focus")}),25)}return!1}if(9===i){var u=this._getcolumnindex(H=this.editcell.datafield);this._currentEditableColumn?u=this._currentEditableColumn:this._currentEditableColumn=u;var c=this._getnexteditablecolumn(u);if((e.shiftKey||this.rtl)&&(c=this._getpreveditablecolumn(u)),c)if(u=this._getcolumnindex(c.datafield),this.editcell[c.datafield])this._currentEditableColumn=u,(p=this.editcell[c.datafield].editor)&&(p.data().jqxWidget&&p.data().jqxWidget.focus?p.data().jqxWidget.focus():(p.focus(),p[0].onkeyup=function(){0!=t.gridcontent[0].scrollTop&&(t.scrolltop(Math.abs(t.gridcontent[0].scrollTop)),t.gridcontent[0].scrollTop=0),0!=t.gridcontent[0].scrollLeft&&(t.gridcontent[0].scrollLeft=0)})),this._focusedColumn=c.datafield,this._currentColumn=c.datafield,0!=this.gridcontent[0].scrollTop&&(this.scrolltop(Math.abs(this.gridcontent[0].scrollTop)),this.gridcontent[0].scrollTop=0),0!=this.gridcontent[0].scrollLeft&&(this.gridcontent[0].scrollLeft=0);else if("checkbox"==c.columntype)return this._currentColumn=c.datafield,this._currentEditableColumn=u,this.selectcell(this.editcell.row,c.datafield),this._oldselectedcell=this.selectedcell,this._checkboxCells[c.datafield]&&r(this._checkboxCells[c.datafield].checkbox).jqxCheckBox("focus"),!1;return!1}return!0}if(null==this.editcell.columntype||"textbox"==this.editcell.columntype||"numberinput"==this.editcell.columntype||"combobox"==this.editcell.columntype||"datetimeinput"==this.editcell.columntype){if(i>=33&&i<=40&&"multiplecellsadvanced"==t.selectionmode){var p="textbox"==this.editcell.columntype||null==this.editcell.columntype?this.editcell.editor:this.editcell.editor.find("input"),f=t._selection(p),m=p.val().length;f.length>0&&"datetimeinput"!=this.editcell.columntype&&(t._cancelkeydown=!0),f.start>0&&37==i&&(t._cancelkeydown=!0),f.start<m&&39==i&&"datetimeinput"!=this.editcell.columntype&&(t._cancelkeydown=!0),"datetimeinput"==this.editcell.columntype&&39==i&&f.start+f.length<m&&(t._cancelkeydown=!0)}}else"dropdownlist"==this.editcell.columntype?(37==i||39==i&&"multiplecellsadvanced"==t.selectionmode)&&(t._cancelkeydown=!1):"multiplecellsadvanced"==this.selectionmode&&"textbox"!=this.editcell.columntype&&"numberinput"!=this.editcell.columntype&&(t._cancelkeydown=!0);if(32==i&&"checkbox"==t.editcell.columntype&&(c=t.getcolumn(t.editcell.datafield)).editable)return n=!t.getcellvalue(t.editcell.row,t.editcell.column),c.cellbeginedit&&0==c.cellbeginedit(t.editcell.row,c.datafield,c.columntype,!n)||(s=t.getrowdata(t.editcell.row),t.setcellvalue(t.editcell.row,t.editcell.column,n,!0),t._raiseEvent(18,{rowindex:t.editcell.row,row:s,datafield:t.editcell.column,oldvalue:!n,value:n,columntype:"checkbox"})),!1;if(9==i){var g=this.editcell.row,v=H=this.editcell.column,w=(u=t._getcolumnindex(H),!1),y=t.getrowvisibleindex(g),b=g;this.editchar="";var x=this.editcell.validated;if(this.editcell.validated||(x=this.endcelledit(this.editcell.row,this.editcell.column,!1,!0,!1)),0!=x){if(e.shiftKey||this.rtl)if(c=t._getpreveditablecolumn(u))H=c.datafield,w=!0,-1!=t.selectionmode.indexOf("cell")&&(t.selectprevcell(g,v),t._oldselectedcell=t.selectedcell,setTimeout((function(){t.ensurecellvisible(y,H)}),10));else{var _=t._getlastvisiblecolumn();w=!0,H=_.displayfield,(q=t.getdisplayrows()[y-1])&&(void 0===(g=q.dataindex)&&(g=q.boundindex),y=t.getrowvisibleindex(g));var C=!0;if(t.pageable){var j=Math.floor(y/this.pagesize);this.dataview.pagenum!=j&&(C=!1)}C&&-1!=t.selectionmode.indexOf("cell")&&(t.clearselection(),t.selectcell(g,H),t._oldselectedcell=t.selectedcell,setTimeout((function(){t.ensurecellvisible(y,H)}),10))}else if(c=t._getnexteditablecolumn(u))H=c.datafield,w=!0,-1!=t.selectionmode.indexOf("cell")&&(t.selectnextcell(g,v),t._oldselectedcell=t.selectedcell,setTimeout((function(){t.ensurecellvisible(y,H)}),10));else{var q,k=t._getfirstvisiblecolumn();w=!0,H=k.displayfield,(q=t.getdisplayrows()[y+1])&&(void 0===(g=q.dataindex)&&(g=q.boundindex),y=t.getrowvisibleindex(g)),C=!0,t.pageable&&(j=Math.floor(y/this.pagesize),this.dataview.pagenum!=j&&(C=!1)),-1!=t.selectionmode.indexOf("cell")&&C&&(t.clearselection(),t.selectcell(g,H),t._oldselectedcell=t.selectedcell,setTimeout((function(){t.ensurecellvisible(y,H)}),10))}if(!w)return null!=this.editcell&&(t.endcelledit(g,H,!1),this._renderrows(this.virtualsizeinfo)),!0;if(t.pageable&&(j=Math.floor(y/this.pagesize),this.dataview.pagenum!=j))return this._renderrows(this.virtualsizeinfo),-1!=t.selectionmode.indexOf("cell")&&(t.clearselection(),t.selectcell(b,v),t._oldselectedcell=t.selectedcell),void(j>this.dataview.pagenum&&setTimeout((function(){t.pagerpageinput.focus()}),25));t.begincelledit(g,H),null!=this.editcell&&"checkbox"==this.editcell.columntype&&this._renderrows(this.virtualsizeinfo)}return!1}if(13==i){var T=this.selectedcell;if(T)var S=this.getrowvisibleindex(T.rowindex);if(this.endcelledit(this.editcell.row,this.editcell.column,!1,!0),"multiplecellsadvanced"==this.selectionmode&&null!=(I=t.getselectedcell())&&t.selectcell&&null==this.editcell&&I.rowindex+1<this.dataview.totalrecords)if(this.sortcolumn!=I.datafield){if(y=this.getrowvisibleindex(I.rowindex),(B=this.dataview.loadedrecords[y+1])&&(!this.pageable||this.pageable&&y+1<(this.dataview.pagenum+1)*this.pagesize)){this.clearselection(!1),this.selectcell(this.getboundindex(B),I.datafield);var I=this.getselectedcell();this.ensurecellvisible(B.visibleindex,I.datafield)}}else{var D;null!=T&&(D=this.dataview.loadedrecords[S+1])&&(!this.pageable||this.pageable&&S+1<this.pagesize?(this.clearselection(!1),this.selectcell(this.getboundindex(D),I.datafield)):this.pageable&&S+1>=this.pagesize&&(this.clearselection(!1),this.selectcell(this.getboundindex(D=this.dataview.loadedrecords[S]),I.datafield)))}return!1}if(27==i)return this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),!1}else{var P=!1;if(113==i&&(P=!0),!e.ctrlKey&&!e.altKey&&!e.metaKey){if(i>=48&&i<=57&&(this.editchar=String.fromCharCode(i),P=!0),189===i&&(P=!0),i>=65&&i<=90){this.editchar=String.fromCharCode(i);var E=!1;e.shiftKey?E=e.shiftKey:e.modifiers&&(E=!!(4&e.modifiers)),this._capsLock&&(E=!E),E||(this.editchar=this.editchar.toLowerCase()),P=!0}else i>=96&&i<=105&&(this.editchar=i-96,this.editchar=this.editchar.toString(),P=!0);var M=r(".jqx-grid").length;P=P&&(1==M||M>1&&t.focused);var A=r.data(document.body,"jqxgrid.edit");if(void 0!==A&&""!==A&&(13===i||P)&&A!=t.element.id)return!0}if((13==i||P)&&t.getselectedrowindex){if(g=t.getselectedrowindex(),"selectedrow"===t.editmode){if(!(g>=0))return null!=(I=t.getselectedcell())&&(c=t._getcolumnbydatafield(I.datafield),t.beginrowedit(I.rowindex)),!1;t.beginrowedit(g)}switch(t.selectionmode){case"singlerow":case"multiplerows":case"multiplerowsextended":if(g>=0){for(var H="",O=0;O<t.columns.records.length;O++)if((c=t.getcolumnat(O)).editable){H=c.datafield;break}"selectedrow"===t.editmode?t.beginrowedit(g):t.begincelledit(g,H)}break;case"singlecell":case"multiplecells":case"multiplecellsextended":null!=(I=t.getselectedcell())&&(c=t._getcolumnbydatafield(I.datafield),"selectedrow"===t.editmode?t.beginrowedit(I.rowindex):"checkbox"!=c.columntype&&t.begincelledit(I.rowindex,I.datafield));break;case"multiplecellsadvanced":var B;null!=(I=t.getselectedcell())&&(13==i?t.selectcell&&(y=this.getrowvisibleindex(I.rowindex))+1<t.dataview.totalrecords&&(B=this.dataview.loadedrecords[y+1])&&(this.clearselection(!1),this.selectcell(this.getboundindex(B),I.datafield),I=this.getselectedcell(),this.ensurecellvisible(B.visibleindex,I.datafield)):"selectedrow"!==t.editmode&&t.begincelledit(I.rowindex,I.datafield))}return!1}if(46==i){var z=t.getselectedcells();if(-1==t.selectionmode.indexOf("cell")&&t._getcellsforcopypaste&&(z=t._getcellsforcopypaste()),null!=z&&z.length>0){for(var N=0;N<z.length;N++)if((I=z[N]).datafield){c=t.getcolumn(I.datafield);var L=t.getcellvalue(I.rowindex,I.datafield);if(""!==L&&c.editable&&t.enablekeyboarddelete){var F=null;if("checkbox"==c.columntype&&(c.threestatecheckbox||(F=!1)),c.cellbeginedit&&0==c.cellbeginedit(I.rowindex,c.datafield,c.columntype,F))return!1;s=t.getrowdata(I.rowindex),t._raiseEvent(17,{rowindex:I.rowindex,row:s,datafield:I.datafield,value:L}),N==z.length-1?(t.setcellvalue(I.rowindex,I.datafield,F,!0),c.displayfield!=c.datafield&&t.setcellvalue(I.rowindex,c.displayfield,F,!0)):(t.setcellvalue(I.rowindex,I.datafield,F,!1),c.displayfield!=c.datafield&&t.setcellvalue(I.rowindex,c.displayfield,F,!0)),c.cellendedit&&c.cellendedit(I.rowindex,c.datafield,c.columntype,F),t._raiseEvent(18,{rowindex:I.rowindex,row:s,datafield:I.datafield,oldvalue:L,value:F})}}return this.dataview.updateview(),this._renderrows(this.virtualsizeinfo),!1}}if(32==i&&null!=(I=t.getselectedcell())&&"checkbox"==(c=t.getcolumn(I.datafield)).columntype&&c.editable)return n=!t.getcellvalue(I.rowindex,I.datafield),c.cellbeginedit&&0==c.cellbeginedit(I.rowindex,c.datafield,c.columntype,!n)||(s=t.getrowdata(I.rowindex),t._raiseEvent(17,{rowindex:I.rowindex,row:s,datafield:I.datafield,value:!n,columntype:"checkbox"}),t.setcellvalue(I.rowindex,I.datafield,n,!0),t._raiseEvent(18,{rowindex:I.rowindex,row:s,datafield:I.datafield,oldvalue:!n,value:n,columntype:"checkbox"})),!1}return!0},begincelledit:function(e,t,i,n,s){var o=this.getcolumn(t);if(this._cellscache=new Array,null!=t&&"number"!=o.columntype&&"button"!=o.columntype&&!o.createwidget){if(this.groupable){if(this.groups.indexOf(t)>=0)return;if(this.groups.indexOf(o.displayfield)>=0)return}if(null==this.editrow){if(this.editcell){if(this.editcell.row==e&&this.editcell.column==t)return!0;if("selectedrow"===this.editmode&&this.editcell.row==e)return;if(0==this.endcelledit(this.editcell.row,this.editcell.column,!1,!0,!1))return}var a="checkbox"==o.columntype||"button"==o.columntype||o.createwidget;if(this.host.removeClass("jqx-disableselect"),this.content.removeClass("jqx-disableselect"),o.editable){if(o.cellbeginedit){var l=this.getcell(e,t);if(0==o.cellbeginedit(e,t,o.columntype,null!=l?l.value:null))return}var d=this.getrowvisibleindex(e);if(this.editcell=this.getcell(e,t),this.editcell&&(this.editcell.visiblerowindex=d,!this.editcell.editing)){if(a||(this.editcell.editing=!0),this.editcell.columntype=o.columntype,this.editcell.defaultvalue=i,null!=o.defaultvalue&&(this.editcell.defaultvalue=o.defaultvalue),this.editcell.init=!0,"checkbox"!=o.columntype&&"selectedrow"!=this.editmode){var h=this.getrowdata(e);this._raiseEvent(17,{rowindex:e,row:h,datafield:o.datafield,value:this.editcell.value,columntype:o.columntype})}if(r.data(document.body,"jqxgrid.edit",this.element.id),!a){var u=this.getrowvisibleindex(e);!1===n||this.autorowheight||0!==this.groups.length||this.ensurecellvisible(u,o.datafield),!1!==s&&this._renderrows(this.virtualsizeinfo)}if(this.editcell)return this.editcell.init=!1,!0}}else{if(!this.editcell)return void(this.editchar="");this.editchar="",this.editcell.editor=null,this.editcell.editing=!1,!1!==s&&this._renderrows(this.virtualsizeinfo),this.editcell=null}}}},getScrollTop:function(){if(this._py)return this._py;if(this._py="undefined"!=typeof pageYOffset,this._py)return pageYOffset;var e=document.body,t=document.documentElement;return(t=t.clientHeight?t:e).scrollTop},getScrollLeft:function(){if("undefined"!=typeof pageXOffset)return pageXOffset;var e=document.body,t=document.documentElement;return(t=t.clientHeight?t:e).scrollLeft},endcelledit:function(e,t,i,n,s){if(null!=e&&null!=t||(this.editcell&&(e=this.editcell.row,t=this.editcell.column),null==i&&(i=!0)),this.editcell){var o=this.getcolumn(t),a=this;if("selectedrow"!==a.editmode){var l=function(){if(0!=s){if(a.isTouchDevice())return;if(!a.isNestedGrid){var e=a.getScrollTop(),t=a.getScrollLeft();try{a.element.focus(),a.content.focus(),e!=a.getScrollTop()&&window.scrollTo(t,e),setTimeout((function(){a.element.focus(),a.content.focus(),e!=a.getScrollTop()&&window.scrollTo(t,e)}),10)}catch(i){}}}};if("checkbox"==o.columntype||"button"==o.columntype||o.createwidget)return this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1,this.editcell=null),!0;var d,h=this._geteditorvalue(o),u=function(i){i._hidecelleditor(),o.cellendedit&&o.cellendedit(e,t,o.columntype,i.editcell.value,h),i.editchar=null,o.displayfield!=o.datafield&&i.getcellvalue(i.editcell.row,o.displayfield);var r=i.getrowdata(e);i._raiseEvent(18,{rowindex:e,row:r,datafield:t,displayfield:o.displayfield,oldvalue:h,value:h,columntype:o.columntype}),i.editcell.editor=null,i.editcell.editing=!1,i.editcell=null,(n||null==n)&&i._renderrows(i.virtualsizeinfo),l(),i.enablebrowserselection||(i.host.addClass("jqx-disableselect"),i.content.addClass("jqx-disableselect"))};if(i)return u(this),!1;if(this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()),o.cellvaluechanging){var c=o.cellvaluechanging(e,t,o.columntype,this.editcell.value,h);null!=c&&(h=c)}if(o.validation){var p=this.getcell(e,t);try{var f=o.validation(p,h),m=this.gridlocalization.validationstring;if(null!=f.message&&(m=f.message),!("boolean"==typeof f?f:f.result))return null!=f.showmessage&&1!=f.showmessage||this._showvalidationpopup(e,t,m),this.editcell.validated=!1,!1}catch(w){return this._showvalidationpopup(e,t,this.gridlocalization.validationstring),this.editcell.validated=!1,!1}}if(o.displayfield!=o.datafield){var g=this.getcellvalue(this.editcell.row,o.displayfield);d={value:this.editcell.value,label:g}}else d=this.editcell.value;var v=this.getrowdata(e);return o.cellendedit&&0==o.cellendedit(e,t,o.columntype,this.editcell.value,h)?(this._raiseEvent(18,{rowindex:e,row:v,datafield:t,displayfield:o.displayfield,oldvalue:d,value:d,columntype:o.columntype}),u(this),!1):(this._raiseEvent(18,{rowindex:e,row:v,datafield:t,displayfield:o.displayfield,oldvalue:d,value:h,columntype:o.columntype}),this._hidecelleditor(!1),null!=this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1),this.editcell=null,this.editchar=null,this.setcellvalue(e,t,h,n),this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),r.jqx.browser.msie||l(),r.data(document.body,"jqxgrid.edit",""),!0)}this.endrowedit(e,i)}},beginrowedit:function(e){var t=this;if(null!=e){t._oldselectedrow=e,this._cellscache=new Array;var i=!1;if("selectedrow"!=this.editmode&&(i=!0),i){var n=this.editmode;this.editmode="selectedrow"}var s=null;this._currentEditableColumn&&(s=this.getcolumnat(this._currentEditableColumn).datafield),r.each(this.columns.records,(function(i,r){if(t.editable&&this.editable){if("checkbox"===this.columntype||"custom"===this.columntype||"widget"===this.columntype||"template"===this.columntype||"button"===this.columntype)return!0;s||(s=this.datafield);var n=t.getcell(e,this.datafield);t.begincelledit(e,this.datafield,null,!1,!1);var o=t.getrowdata(e);t._raiseEvent(17,{rowindex:e,row:o,datafield:this.datafield,value:n.value,columntype:this.columntype})}})),t.editcell&&(t.editcell.init=!0),this._renderrows(this.virtualsizeinfo),i&&(this.editmode=n),s&&t.editcell&&setTimeout((function(){if(t.editcell&&t.editcell[s]){var e=t.editcell[s].editor;e&&(e.data().jqxWidget&&e.data().jqxWidget.focus?e.data().jqxWidget.focus():e.focus())}}),25)}},endrowedit:function(e,t){var i=this;if(this._currentEditableColumn=0,this._focusedColumn=null,this._currentColumn=null,this._checkboxCells=[],!this.editcell)return!1;if(null==this.editcell.editor&&"checkbox"!==this.editcell.columntype)return!1;var n=!1;if("selectedrow"!=this.editmode&&(n=!0),n){var s=this.editmode;this.editmode="selectedrow"}var o=!1,a={};this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide());for(var l=0;l<this.columns.records.length;l++)if((b=this.columns.records[l]).editable&&!b.hidden&&"checkbox"!=b.columntype&&!b.createwidget){var d=this._geteditorvalue(b),h=function(t){t._hidecelleditor();var i=t.getcellvalue(t.editcell.row,b.displayfield);b.cellendedit&&b.cellendedit(e,p,b.columntype,i,d),t.editchar=null,b.displayfield!=b.datafield&&t.getcellvalue(t.editcell.row,b.displayfield);var r=t.getrowdata(e);t._raiseEvent(18,{rowindex:e,row:r,datafield:p,displayfield:b.displayfield,oldvalue:i,value:i,columntype:b.columntype}),t.editcell.editing=!1};if(t)h(this);else{if(b.cellvaluechanging){var u=this.getcellvalue(this.editcell.row,b.displayfield),c=b.cellvaluechanging(e,p,b.columntype,u,d);null!=c&&(d=c)}var p=b.datafield;if(b.validation){var f=this.getcell(e,b.datafield);try{var m=b.validation(f,d),g=this.gridlocalization.validationstring;if(null!=m.message&&(g=m.message),!(C="boolean"==typeof m?m:m.result)){null!=m.showmessage&&1!=m.showmessage||this._showvalidationpopup(e,p,g),o=!0,this.editcell[b.datafield].validated=!1;continue}}catch(j){this._showvalidationpopup(e,p,this.gridlocalization.validationstring),this.editcell[b.datafield].validated=!1,o=!0;continue}}if(b.displayfield!=b.datafield){var v=this.getcellvalue(this.editcell.row,b.displayfield);u={value:this.editcell.value,label:v}}else u=this.getcellvalue(this.editcell.row,b.displayfield);a[b.datafield]={newvalue:d,oldvalue:u}}}var w={},y={};if(!o){for(this._hidecelleditor(!1),l=0;l<this.columns.records.length;l++){var b;if(p=(b=this.columns.records[l]).datafield,!b.hidden&&b.editable){var x=this.getrowdata(e);if(!b.createwidget)if("checkbox"!=b.columntype){if(a[b.datafield]){if(d=a[b.datafield].newvalue,u=a[b.datafield].oldvalue,b.cellendedit&&0==b.cellendedit(e,p,b.columntype,u,d)){this._raiseEvent(18,{rowindex:e,row:x,datafield:p,displayfield:b.displayfield,oldvalue:u,value:u,columntype:b.columntype}),h(this);continue}this.source.updaterow||this._raiseEvent(18,{rowindex:e,row:x,datafield:b.datafield,displayfield:b.displayfield,oldvalue:u,value:d,columntype:b.columntype}),w[b.datafield]=d,y[b.datafield]=u}}else d=this.getcellvalue(e,b.displayfield),this._raiseEvent(18,{rowindex:e,row:x,datafield:b.datafield,displayfield:b.displayfield,oldvalue:d,value:d,columntype:b.columntype})}}var _=this.getrowid(e);if(x=this.getrowdata(e),r.each(w,(function(e,t){if(t&&null!=t.label){var r=i.getcolumn(e);x[r.displayfield]=t.label,x[r.datafield]=t.value}else x[e]=t})),this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),r.data(document.body,"jqxgrid.edit",""),this.editcell=null,this.editchar=null,this.source.updaterow&&!t){i=this;var C=function(t){var n=i.source.updaterow;i.source.updaterow=null,0==t?(r.each(y,(function(e,t){if(t&&null!=t.label){var r=i.getcolumn(e);x[r.displayfield]=t.label,x[r.datafield]=t.value}else x[e]=t})),i.updaterow(_,x)):i.updaterow(_,x);for(var s=0;s<i.columns.records.length;s++){var o=i.columns.records[s];i._raiseEvent(18,{rowindex:e,datafield:o.datafield,row:x,displayfield:o.displayfield,oldvalue:y[o.datafield],value:x[o.displayfield],columntype:o.columntype})}i.source.updaterow=n};try{this.source.updaterow(_,x,C)}catch(j){return}}else t||this.updaterow(_,x),this._renderrows(this.virtualsizeinfo)}return n&&(this.editmode=s),o},_selection:function(e){if("selectionStart"in e[0]){var t=e[0];return{start:t.selectionStart,end:t.selectionEnd,length:t.selectionEnd-t.selectionStart,text:t.value}}var i=document.selection.createRange();if(null==i)return{start:0,end:t.value.length,length:0};var r=e[0].createTextRange(),n=r.duplicate();return r.moveToBookmark(i.getBookmark()),n.setEndPoint("EndToStart",r),{start:n.text.length,end:n.text.length+i.text.length,length:i.text.length,text:i.text}},_setSelection:function(e,t,i){if("selectionStart"in i[0])i[0].focus(),i[0].setSelectionRange(e,t);else{var r=i[0].createTextRange();r.collapse(!0),r.moveEnd("character",t),r.moveStart("character",e),r.select()}},findRecordIndex:function(e,t,i){if(i=i,t)for(var r=i.length,n=0;n<r;n++)if(e==i[n].label)return n;return-1},_destroyeditors:function(){var e=this;this.columns.records&&(r.each(this.columns.records,(function(t,i){var n=r.trim(this.datafield).split(" ").join("");switch(this.columntype){case"dropdownlist":var s=e.editors["dropdownlist_"+n];s&&(s.jqxDropDownList("destroy"),e.editors["dropdownlist_"+n]=null);break;case"combobox":var o=e.editors["combobox_"+n];o&&(o.jqxComboBox("destroy"),e.editors["combobox_"+n]=null);break;case"datetimeinput":var a=e.editors["datetimeinput_"+this.datafield];a&&(a.jqxDateTimeInput("destroy"),e.editors["datetimeinput_"+n]=null);break;case"numberinput":var l=e.editors["numberinput_"+n];l&&(l.jqxNumberInput("destroy"),e.editors["numberinput_"+n]=null);break;case"custom":case"template":if(e.destroyeditor&&e.editors["templateeditor_"+n]&&(e.destroyeditor(e.editors["templateeditor_"+n]),e.editors["templateeditor_"+n]=null),e.destroyeditor)for(var d=e.getrows.length(),h=0;h<d;h++)e.editors["customeditor_"+n+"_"+h]&&(e.destroyeditor(e.editors["customeditor_"+n+"_"+h],h),e.editors["customeditor_"+n+"_"+h]=null);break;case"textbox":default:var u=e.editors["textboxeditor_"+n];u&&(e.removeHandler(u,"keydown"),e.editors["textbox_"+n]=null)}})),e.editors=new Array)},_showcelleditor:function(e,t,i,n,s){if(null!=i&&null!=this.editcell)if("checkbox"==t.columntype&&t.editable)"selectedrow"==this.editmode&&(this._checkboxCells||(this._checkboxCells=[]),this._checkboxCells[t.datafield]=i);else{null==s&&(s=!0),"selectedrow"==this.editmode&&(this.editchar="",s=!1);var o=t.datafield,a=r(i),l=this,d=this.editcell.editor,h=this.getcellvalue(e,o),u=this.getcelltext(e,o),c=parseInt(this.hScrollInstance.value);if(this.columns.records.indexOf(t),this.editcell.element=i,0==this.editcell.validated){var p="";this.validationpopup&&(p=this.validationpopup.text()),this._showvalidationpopup(e,o,p)}var f=function(e){l.hScrollInstance.isScrolling()||l.vScrollInstance.isScrolling()||s&&(l.isTouchDevice()||(e&&e.focus(),0!=l.gridcontent[0].scrollTop&&(l.scrolltop(Math.abs(l.gridcontent[0].scrollTop)),l.gridcontent[0].scrollTop=0),0!=l.gridcontent[0].scrollLeft&&(l.gridcontent[0].scrollLeft=0)))};switch(t.columntype){case"dropdownlist":if(this.host.jqxDropDownList){i.innerHTML="";var m=r.trim(t.datafield).split(" ").join(""),g=r.trim(t.displayfield).split(" ").join("");-1!=m.indexOf(".")&&(m=m.replace(".","")),-1!=g.indexOf(".")&&(g=g.replace(".",""));var v=this.editors["dropdownlist_"+m];if((d=null==v?r("<div style='border: none; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='dropdownlisteditor'></div>"):v).css("top",r(i).parent().position().top),d.css("left",this.oldhscroll?-c+parseInt(r(i).position().left):parseInt(r(i).position().left)),t.pinned&&d.css("left",c+parseInt(r(i).position().left)),null==v){d.prependTo(this.table),d[0].id="dropdownlisteditor"+this.element.id+m;var w=null;if(this.source._source){var y={localdata:JSON.parse(JSON.stringify(this.source.records)),datatype:this.source.datatype,async:!1};w=new r.jqx.dataAdapter(y,{autoBind:!1,async:!1,uniqueDataFields:[g],autoSort:!0,autoSortField:g})}else w=new r.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[g],async:!1,autoSort:!0,autoSortField:g});d.jqxDropDownList({hint:!1,enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:w,rtl:this.rtl,autoDropDownHeight:!t.createeditor,theme:this.theme,width:a.width(),height:a.height(),displayMember:g,valueMember:o}),this.editors["dropdownlist_"+m]=d,t.createeditor&&t.createeditor(e,h,d)}t._requirewidthupdate&&d.jqxDropDownList({width:a.width()});var b=d.jqxDropDownList("listBox").visibleItems;t.createeditor||d.jqxDropDownList("autoDropDownHeight",b.length<8),h=this.getcellvalue(e,g);var x=this.findRecordIndex(h,g,b);if(n&&(""!=h?d.jqxDropDownList("selectIndex",x,!0):d.jqxDropDownList("selectIndex",-1)),!this.editcell)return;null!=this.editcell.defaultvalue&&d.jqxDropDownList("selectIndex",this.editcell.defaultvalue,!0),s&&d.jqxDropDownList("focus")}break;case"combobox":if(this.host.jqxComboBox){i.innerHTML="",m=r.trim(t.datafield).split(" ").join(""),g=r.trim(t.displayfield).split(" ").join(""),-1!=m.indexOf(".")&&(m=m.replace(".","")),-1!=g.indexOf(".")&&(g=g.replace(".",""));var _=this.editors["combobox_"+m];if((d=null==_?r("<div style='border: none; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='comboboxeditor'></div>"):_).css("top",r(i).parent().position().top),d.css("left",this.oldhscroll?-c+parseInt(r(i).position().left):parseInt(r(i).position().left)),t.pinned&&d.css("left",c+parseInt(r(i).position().left)),null==_&&(d.prependTo(this.table),d[0].id="comboboxeditor"+this.element.id+m,w=null,this.source._source?(y={localdata:JSON.parse(JSON.stringify(this.source.records)),datatype:this.source.datatype,async:!1},w=new r.jqx.dataAdapter(y,{autoBind:!1,async:!1,uniqueDataFields:[g],autoSort:!0,autoSortField:g})):w=new r.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[g],async:!1,autoSort:!0,autoSortField:g}),d.jqxComboBox({hint:!1,enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:w,rtl:this.rtl,autoDropDownHeight:!t.createeditor,theme:this.theme,width:a.width(),height:a.height(),displayMember:g,valueMember:o}),d.removeAttr("tabindex"),d.find("div").removeAttr("tabindex"),this.editors["combobox_"+m]=d,t.createeditor&&t.createeditor(e,h,d)),t._requirewidthupdate&&d.jqxComboBox({width:a.width()-2}),b=d.jqxComboBox("listBox").visibleItems,t.createeditor||d.jqxComboBox("autoDropDownHeight",b.length<8),h=this.getcellvalue(e,g),x=this.findRecordIndex(h,g,b),n&&(""!=h?(d.jqxComboBox("selectIndex",x,!0),d.jqxComboBox("val",h)):(d.jqxComboBox("selectIndex",-1),d.jqxComboBox("val",h))),!this.editcell)return;null!=this.editcell.defaultvalue&&d.jqxComboBox("selectIndex",this.editcell.defaultvalue,!0),this.editchar&&this.editchar.length>0&&d.jqxComboBox("input").val(this.editchar),s&&setTimeout((function(){if(f(d.jqxComboBox("input")),d)if(d.jqxComboBox("_setSelection",0,0),l.editchar)d.jqxComboBox("_setSelection",1,1),l.editchar=null;else if(d.jqxComboBox("input")){var e=d.jqxComboBox("input").val();d.jqxComboBox("_setSelection",0,e.length)}}),10)}break;case"datetimeinput":if(this.host.jqxDateTimeInput){i.innerHTML="",-1!=(m=r.trim(t.datafield).split(" ").join("")).indexOf(".")&&(m=m.replace(".",""));var C=this.editors["datetimeinput_"+m];if((d=null==C?r("<div style='border: none; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='datetimeeditor'></div>"):C).show(),d.css("top",r(i).parent().position().top),d.css("left",this.oldhscroll?-c+parseInt(r(i).position().left):parseInt(r(i).position().left)),t.pinned&&d.css("left",c+parseInt(r(i).position().left)),null==C&&(d.prependTo(this.table),d[0].id="datetimeeditor"+this.element.id+m,d.jqxDateTimeInput({hint:!1,firstDayOfWeek:this.gridlocalization.firstDay,enableBrowserBoundsDetection:!0,localization:{calendar:this.gridlocalization},_editor:!0,theme:this.theme,rtl:this.rtl,width:a.width(),height:a.height(),formatString:t.cellsformat}),this.editors["datetimeinput_"+m]=d,t.createeditor&&t.createeditor(e,h,d)),t._requirewidthupdate&&d.jqxDateTimeInput({width:a.width()}),n){if(""!=h&&null!=h){var j=new Date(h);"Invalid Date"==j&&this.source.getvaluebytype&&(j=this.source.getvaluebytype(h,{name:t.datafield,type:"date"})),d.jqxDateTimeInput("setDate",j)}else d.jqxDateTimeInput("setDate",null);null!=this.editcell.defaultvalue&&d.jqxDateTimeInput("setDate",this.editcell.defaultvalue)}if(s){var q=this.editEvent;setTimeout((function(){f(d.jqxDateTimeInput("dateTimeInput")),setTimeout((function(){if(d.jqxDateTimeInput("_selectGroup",0),l.editchar&&l.editchar.length>0){var e=parseInt(l.editchar);isNaN(e)||q&&d.jqxDateTimeInput("_handleKeyPress",q,q.charCode?q.charCode:q.keyCode?q.keyCode:0)}}),25)}),10)}}break;case"numberinput":if(this.host.jqxNumberInput){i.innerHTML="",-1!=(m=r.trim(t.datafield).split(" ").join("")).indexOf(".")&&(m=m.replace(".",""));var k=this.editors["numberinput_"+m];if((d=null==k?r("<div style='border:none; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='numbereditor'></div>"):k).show(),d.css("top",r(i).parent().position().top),d.css("left",this.oldhscroll?-c+parseInt(r(i).position().left):parseInt(r(i).position().left)),t.pinned&&d.css("left",c+parseInt(r(i).position().left)),null==k){d.prependTo(this.table),d[0].id="numbereditor"+this.element.id+m;var T="",S="left",I=2;t.cellsformat?-1!=t.cellsformat.indexOf("c")?(T=this.gridlocalization.currencysymbol,S="before"==(S=this.gridlocalization.currencysymbolposition)?"left":"right",t.cellsformat.length>1&&(I=parseInt(t.cellsformat.substring(1),10))):-1!=t.cellsformat.indexOf("p")&&(T=this.gridlocalization.percentsymbol,S="right",t.cellsformat.length>1&&(I=parseInt(t.cellsformat.substring(1),10))):I=0,d.jqxNumberInput({decimalSeparator:this.gridlocalization.decimalseparator,decimalDigits:I,inputMode:"simple",theme:this.theme,rtl:this.rtl,width:a.width(),height:a.height(),spinButtons:!0,symbol:T,symbolPosition:S}),this.editors["numberinput_"+m]=d,t.createeditor&&t.createeditor(e,h,d)}if(t._requirewidthupdate&&d.jqxNumberInput({width:a.width()}),n){if(d.jqxNumberInput("setDecimal",""!=h&&null!=h?h:0),null!=this.editcell.defaultvalue&&d.jqxNumberInput("setDecimal",this.editcell.defaultvalue),this.editchar&&this.editchar.length>0){var D=parseInt(this.editchar);isNaN(D)||d.jqxNumberInput("setDecimal",D)}s&&setTimeout((function(){if(f(d.jqxNumberInput("numberInput")),d.jqxNumberInput("_setSelectionStart",0),l.editchar)t.cellsformat.length>0&&t.cellsformat.indexOf("c")>=0?d.jqxNumberInput("_setSelectionStart",2):d.jqxNumberInput("_setSelectionStart",1),l.editchar=null;else{if(d.jqxNumberInput("spinButtons")){var e=d.jqxNumberInput("numberInput").val();l._setSelection(d.jqxNumberInput("numberInput")[0],e.length,e.length)}else e=d.jqxNumberInput("numberInput").val(),l._setSelection(d.jqxNumberInput("numberInput")[0],0,e.length);d.jqxNumberInput("selectAll")}}),10)}}break;case"rating":if(this.host.jqxRating){i.innerHTML="",-1!=(m=r.trim(t.datafield).split(" ").join("")).indexOf(".")&&(m=m.replace(".",""));var P=this.editors["rating_"+m];(d=null==P?r("<div style='margin: 5px;white-space: nowrap; overflow: auto; border:none; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='ratingEditor'></div>"):P).show(),d.css("top",r(i).parent().position().top),d.css("left",this.oldhscroll?-c+parseInt(r(i).position().left):parseInt(r(i).position().left)),t.pinned&&d.css("left",c+parseInt(r(i).position().left)),null==P&&(d.prependTo(this.table),d[0].id="ratingEditor"+this.element.id+m,d.jqxRating({theme:this.theme,width:a.width(),height:a.height()}),this.editors["numberinput_"+m]=d,t.createeditor&&t.createeditor(e,h,d)),t._requirewidthupdate&&d.jqxRating({width:a.width()}),n&&(d.jqxRating("val",""!=h&&null!=h?h:0),null!=this.editcell.defaultvalue&&d.jqxRating("val",this.editcell.defaultvalue))}break;case"custom":i.innerHTML="",-1!=(m=r.trim(t.datafield).split(" ").join("")).indexOf(".")&&(m=m.replace(".",""));var E=this.editors["customeditor_"+m+"_"+e];if((d=null==E?r("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='customeditor'></div>"):E).show(),d.css("top",r(i).parent().position().top),d.css("left",this.oldhscroll?-c+parseInt(r(i).position().left):parseInt(r(i).position().left)),t.pinned&&d.css("left",c+parseInt(r(i).position().left)),null==E){d.prependTo(this.table),d[0].id="customeditor"+this.element.id+m+"_"+e,this.editors["customeditor_"+m+"_"+e]=d;var M=a.width()-1,A=a.height()-1;d.width(M),d.height(A),t.createeditor&&t.createeditor(e,h,d,u,M,A,this.editchar)}t._requirewidthupdate&&d.width(a.width());break;case"template":i.innerHTML="",-1!=(m=r.trim(t.datafield).split(" ").join("")).indexOf(".")&&(m=m.replace(".",""));var H=this.editors["templateeditor_"+m];(d=null==H?r("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='templateeditor'></div>"):H).show(),d.css("top",r(i).parent().position().top),d.css("left",this.oldhscroll?-c+parseInt(r(i).position().left):parseInt(r(i).position().left)),t.pinned&&d.css("left",c+parseInt(r(i).position().left)),null==H&&(d.prependTo(this.table),d[0].id="templateeditor"+this.element.id+m,this.editors["templateeditor_"+m]=d,M=a.width()-1,A=a.height()-1,d.width(M),d.height(A),t.createeditor&&t.createeditor(e,h,d,u,M,A,this.editchar)),t._requirewidthupdate&&d.width(a.width());break;case"textbox":default:i.innerHTML="",(d=this.editors["textboxeditor_"+t.datafield]||r("<input autocomplete='off' style='padding-left: 4px; padding-right:4px; border: none; border-color: transparent;' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox' id='textboxeditor'/>"))[0].id="textboxeditor"+this.element.id+t.datafield,d.appendTo(a),this.rtl&&d.css("direction","rtl"),(n||""==d[0].className)&&(d.addClass(this.toThemeProperty("jqx-input")),d.addClass(this.toThemeProperty("jqx-widget-content")),this.editchar&&this.editchar.length>0?d.val(this.editchar):(""!=t.cellsformat&&(h=this.getcelltext(e,o)),null==h&&(h=""),d.val(h)),null!=this.editcell.defaultvalue&&d.val(this.editcell.defaultvalue),d.width(a.width()+1),d.height(a.height()+1),t.createeditor&&t.createeditor(e,h,d),""!=t.cellsformat&&(-1==t.cellsformat.indexOf("p")&&-1==t.cellsformat.indexOf("c")&&-1==t.cellsformat.indexOf("n")&&-1==t.cellsformat.indexOf("f")||this.editors["textboxeditor_"+t.datafield]||d.keydown((function(e){var i=String.fromCharCode(e.charCode?e.charCode:e.keyCode?e.keyCode:0),r=parseInt(i);if(isNaN(r))return!0;if(l._selection(d).length>0)return!0;var n="",s=d.val();if(t.cellsformat.length>1){var o=parseInt(t.cellsformat.substring(1));isNaN(o)&&(o=0)}else o=0;if(o>0&&-1!=s.indexOf(l.gridlocalization.decimalseparator)&&l._selection(d).start>s.indexOf(l.gridlocalization.decimalseparator))return!0;for(var a=0;a<s.length-o;a++){var h=s.substring(a,a+1);null!=h.match(/^[0-9]+$/)&&(n+=h)}return!(n.length>=11)&&void 0})))),this.editors["textboxeditor_"+t.datafield]=d,n&&s&&setTimeout((function(){f(d),l.editchar?(l._setSelection(d[0],1,1),l.editchar=null):l._setSelection(d[0],0,d.val().length)}),25)}d&&(d.addClass("jqx-grid-cell-edit"),d[0].style.zIndex=1+parseInt(i.style.zIndex),r.jqx.browser.msie&&r.jqx.browser.version<8&&(d[0].style.zIndex=1+this.columns.records.length+i.style.zIndex),d.css("display","block"),this.editcell.editor=d,this.editcell[o]||(this.editcell[o]={}),this.editcell[o].editor=d),n&&t.initeditor&&t.initeditor(e,h,d,u,this.editchar),l.isTouchDevice()||setTimeout((function(){l.content&&(l.content[0].scrollTop=0,l.content[0].scrollLeft=0),l.gridcontent&&(l.gridcontent[0].scrollLeft=0,l.gridcontent[0].scrollTop=0)}),10)}}},"_setSelection",(function(e,t,i){try{if("selectionStart"in e)e.setSelectionRange(t,i);else{var r=e.createTextRange();r.collapse(!0),r.moveEnd("character",i),r.moveStart("character",t),r.select()}}catch(n){}})),_defineProperty(i,"_hideeditors",(function(){if(null!=this.editcells){var e=this;for(var t in this.editcells)e.editcell=e.editcells[t],e._hidecelleditor()}})),_defineProperty(i,"_hidecelleditor",(function(e){if(this.editcell)if("selectedrow"!==this.editmode){if("checkbox"!=this.editcell.columntype){if(this.editcell.editor)switch(this.editcell.editor.hide(),this.editcell.columntype){case"dropdownlist":this.editcell.editor.jqxDropDownList({closeDelay:0}),this.editcell.editor.jqxDropDownList("hideListBox"),this.editcell.editor.jqxDropDownList({closeDelay:300});break;case"combobox":this.editcell.editor.jqxComboBox({closeDelay:0}),this.editcell.editor.jqxComboBox("hideListBox"),this.editcell.editor.jqxComboBox({closeDelay:300});break;case"datetimeinput":var t=this.editcell.editor;t.jqxDateTimeInput("isOpened")&&(t.jqxDateTimeInput({closeDelay:0}),t.jqxDateTimeInput("hideCalendar"),t.jqxDateTimeInput({closeDelay:300}))}this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()),this.isNestedGrid||0!=e&&this.element.focus()}}else{for(var i=0;i<this.columns.records.length;i++){var r=this.columns.records[i];if(this.editcell[r.datafield]&&this.editcell[r.datafield].editor){this.editcell[r.datafield].editor.hide();var n=this.editcell[r.datafield].editor;switch(r.columntype){case"dropdownlist":n.jqxDropDownList({closeDelay:0}),n.jqxDropDownList("hideListBox"),n.jqxDropDownList({closeDelay:300});break;case"combobox":n.jqxComboBox({closeDelay:0}),n.jqxComboBox("hideListBox"),n.jqxComboBox({closeDelay:300});break;case"datetimeinput":n.jqxDateTimeInput("isOpened")&&(n.jqxDateTimeInput({closeDelay:0}),n.jqxDateTimeInput("hideCalendar"),n.jqxDateTimeInput({closeDelay:300}))}}}this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide())}})),_defineProperty(i,"_geteditorvalue",(function(e){var t=new String;if(!this.editcell)return null;var i=this.editcell.editor;if("selectedrow"==this.editmode&&this.editcell[e.datafield]&&(i=this.editcell[e.datafield].editor),i){switch(e.columntype){case"textbox":default:if(t=i.val(),""!=e.cellsformat){var n="string",s=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(s){var o="";r.each(s,(function(){if(this.name==e.displayfield)return this.type&&(o=this.type),!1})),o&&(n=o)}var a="date"===n||"time"===n;if("number"===n||"float"===n||"int"===n||"integer"===n||"string"===n&&(-1!=e.cellsformat.indexOf("p")||-1!=e.cellsformat.indexOf("c")||-1!=e.cellsformat.indexOf("n")||-1!=e.cellsformat.indexOf("f"))){if(""===t&&e.nullable)return"";t.indexOf&&t.indexOf(this.gridlocalization.currencysymbol)>-1&&(t=t.replace(this.gridlocalization.currencysymbol,""));var l=t;if(l=new Number(l),!isNaN(l))return l;(t=(t=function(e,t,i){var r=e;if(""==t)return e;for(var n=r.indexOf(t);-1!=n;)n=(r=r.replace(t,"")).indexOf(t);return r}(t,this.gridlocalization.thousandsseparator)).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)>-1&&(t=t.replace(this.gridlocalization.percentsymbol,""));for(var d="",h=0;h<t.length;h++){var u=t.substring(h,h+1);"-"===u&&(d+="-"),"."===u&&(d+="."),null!=u.match(/^[0-9]+$/)&&(d+=u)}t=(t=d).replace(/ /g,""),t=new Number(t),isNaN(t)&&(t="")}if(a||"string"===n&&(-1!=e.cellsformat.indexOf("H")||-1!=e.cellsformat.indexOf("m")||-1!=e.cellsformat.indexOf("M")||-1!=e.cellsformat.indexOf("y")||-1!=e.cellsformat.indexOf("h")||-1!=e.cellsformat.indexOf("d"))){if(""===t&&e.nullable)return"";r.jqx.dataFormat&&(t=r.jqx.dataFormat.tryparsedate(t,this.gridlocalization)),"Invalid Date"!=t&&null!=t||(t="")}}e.displayfield!=e.datafield&&(t={label:t,value:t});break;case"checkbox":i.jqxCheckBox&&(t=i.jqxCheckBox("checked"));break;case"datetimeinput":if(i.jqxDateTimeInput){if(i.jqxDateTimeInput({isEditing:!1}),"none"!==i.jqxDateTimeInput("container").css("display")&&i.jqxDateTimeInput("close"),i.jqxDateTimeInput("_validateValue"),null==(t=i.jqxDateTimeInput("getDate")))return null;t=new Date(t.toString()),e.displayfield!=e.datafield&&(t={label:t,value:t})}break;case"dropdownlist":if(i.jqxDropDownList){var c=i.jqxDropDownList("selectedIndex"),p=i.jqxDropDownList("listBox").getVisibleItem(c);null==(t=e.displayfield!=e.datafield?p?{label:p.label,value:p.value}:"":p?p.label:"")&&(t="")}break;case"combobox":i.jqxComboBox&&(t=i.jqxComboBox("val"),e.displayfield!=e.datafield&&null!=(p=i.jqxComboBox("getSelectedItem"))&&(t={label:p.label,value:p.value}),null==t&&(t=""));break;case"numberinput":if(i.jqxNumberInput){this.touchdevice&&i.jqxNumberInput("_doTouchHandling");var f=i.jqxNumberInput("getDecimal");t=new Number(f),t=parseFloat(t),isNaN(t)&&(t=0),null===f&&(t=null),e.displayfield!=e.datafield&&(t={label:t,value:t})}}e.geteditorvalue&&(t=e.geteditorvalue(this.editcell.row,"selectedrow"==this.editmode?this.getcellvalue(this.editcell.row,e.datafield):this.editcell.value,i))}return t})),_defineProperty(i,"hidevalidationpopups",(function(){this.popups&&(r.each(this.popups,(function(){this.validation.remove(),this.validationrow.remove()})),this.popups=new Array),this.validationpopup&&(this.validationpopuparrow.hide(),this.validationpopup.hide())})),_defineProperty(i,"showvalidationpopup",(function(e,t,i){null==i&&(i=this.gridlocalization.validationstring);var n=r("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),s=r("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");n.html(i),s.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),n.addClass(this.toThemeProperty("jqx-grid-validation")),n.addClass(this.toThemeProperty("jqx-rc-all")),n.prependTo(this.table),s.prependTo(this.table);for(var o=parseInt(this.hScrollInstance.value),a=this.getcolumn(t).uielement,l=null,d=0;d<this.hittestinfo.length;d++)e===this.hittestinfo[d].row.visibleindex&&(l=this.hittestinfo[d]);if(!l){this.ensurerowvisible(e);var h=this;return n.remove(),s.remove(),void setTimeout((function(){for(var r=null,n=0;n<h.hittestinfo.length;n++)e===h.hittestinfo[n].row.visibleindex&&(r=h.hittestinfo[n]);r&&h.showvalidationpopup(e,t,i)}),25)}var u=r(l.visualrow);n.css("top",parseInt(u.position().top)+30+"px");var c=parseInt(n.css("top"));s.css("top",c-12),s.removeClass(),s.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var p=!1;c>=this._gettableheight()-this.rowsheight&&(s.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),s.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),(c=parseInt(u.position().top)-this.rowsheight)<0&&(c=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),p=!0),n.css("top",c+"px"),s.css("top",c+n.outerHeight()-9));var f=-o+parseInt(r(a).position().left);0===a[0].offsetHeight&&(f=-o+parseInt(a[0].style.left)),s.css("left",o+f+30);var m=n.width();m+f>this.host.width()-20&&(f-=m+f-this.host.width()+40),n.css("left",p?o+parseInt(r(a).position().left)-n.outerWidth():o+f),n.show(),s.show(),this.popups||(this.popups=new Array),this.popups[this.popups.length]={validation:n,validationrow:s}})),_defineProperty(i,"_showvalidationpopup",(function(e,t,i){var n=this.editcell,s=this.editcell.editor;if("selectedrow"==this.editmode&&(n=this.editcell[t])&&n.editor&&(n.element=s=n.editor),s&&!(this.validationpopup&&r.jqx.isHidden(this.validationpopup)&&(this.validationpopup.remove&&(this.validationpopup.remove(),this.validationpopuparrow.remove()),this.validationpopup=null,this.validationpopuparrow=null,void 0===t&&void 0===i&&this.editors&&0===this.editors.length))){if(this.validationpopup)this.validationpopup.html(i);else{var o=r("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),a=r("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");o.html(i),a.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),o.addClass(this.toThemeProperty("jqx-grid-validation")),o.addClass(this.toThemeProperty("jqx-rc-all")),o.prependTo(this.table),a.prependTo(this.table),this.validationpopup=o,this.validationpopuparrow=a}var l=parseInt(this.hScrollInstance.value);this.validationpopup.css("top","selectedrow"==this.editmode?this.visiblerows&&this.visiblerows[this.editcell.visiblerowindex]?this.visiblerows[this.editcell.visiblerowindex].top+(this.rowsheight+5)+"px":parseInt(r(n.editor).position().top)+(this.rowsheight+5)+"px":parseInt(r(n.element).parent().position().top)+(this.rowsheight+5)+"px");var d=parseInt(this.validationpopup.css("top"));this.validationpopuparrow.css("top",d-11),this.validationpopuparrow.removeClass(),this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var h=!1;d>=this._gettableheight()&&(this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),d=parseInt(r(n.element).parent().position().top)-this.rowsheight-5,"selectedrow"==this.editmode&&(d=this.visiblerows&&this.visiblerows[this.editcell.visiblerowindex]?this.visiblerows[this.editcell.visiblerowindex].top-this.rowsheight-5:parseInt(r(n.editor).position().top)-this.rowsheight-5),d<0&&(d=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),h=!0),this.validationpopup.css("top",d+"px"),this.validationpopuparrow.css("top",d+this.validationpopup.outerHeight()-9));var u=-l+parseInt(r(n.element).position().left);this.validationpopuparrow.css("left",l+u+30);var c=this.validationpopup.width();c+u>this.host.width()-20&&(u-=c+u-this.host.width()+40),this.validationpopup.css("left",h?l+parseInt(r(n.element).position().left)-this.validationpopup.outerWidth():l+u),"none"==this.editcell.editor.css("display")?(this.validationpopup.hide(),this.validationpopuparrow.hide()):(this.validationpopup.show(),this.validationpopuparrow.show())}})),i))},"hN/g":function(e,t,i){"use strict";i.r(t),i("pDpN")},iG1v:function(e,t){var i;(i=jqxBaseFramework).jqx.dataview.grouping=function(){this.loadgrouprecords=function(e,t,r,n,s,o,a,l,d){for(var h=e,u=this,c=new Array,p=0;p<u.groups.length;p++)c[p]=u.generatekey();var f=new Array,m=0,g=(c=c,new Array),v=t,w=u.groups.length;this.loadedrecords=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this.sortedgroups=new Array;var y=null!=this.sortdata,b=y?this.sortdata:this.records;if(this.pageable){var x=new Array,_=0;b[t]||(i.each(b,(function(e,i){x[t+e++]=this})),b=x)}if(this.virtualmode){for(x=new Array,_=0,v=0;v<r-t;v++)b[v]?x[t+_++]=b[v]:b[t+_]&&(x[t+_]=b[t+_],_++);v=0,b=x}for(var C=t;C<r;C++){var j={},q=(j=i.extend({},y?b[C].value:b[C]))[u.uniqueId];(s>=l||q!=a[s][u.uniqueId]||o&&o[q])&&(d[d.length]=s);var k=new Array,T=0;for(p=0;p<w;p++){var S=j[B=u.groups[p]];null==S&&(S=""),k[T++]={value:S,hash:c[p]}}if(k.length!=w)break;for(var I=null,D="",P=0;P<k.length;P++){var E=k[P].value;if(null==g[D=D+"_"+k[P].hash+"_"+E]||null==g[D]){if(null==I)I={group:E,subItems:new Array,subGroups:new Array,level:0},f[m++]=I,I.uniqueid=u.generatekey(),u.loadedgroupsByKey[E]=I;else{var M={group:E,subItems:new Array,subGroups:new Array,parentItem:I,level:I.level+1};u.loadedgroupsByKey[I.uniqueid+"_"+E]=M,M.uniqueid=u.generatekey(),I.subGroups[I.subGroups.length++]=M,I=M}g[D]=I}else I=g[D]}null!=I?(null==j.uid&&(j.uid=this.getid(this.source.id,j,v)),y?(j.boundindex=b[C].index,this.recordsbyid["id"+j.uid]=b[C].value):(j.boundindex=v,this.recordsbyid["id"+j.uid]=b[C]),this.bounditems[j.boundindex]=j,this.sortedgroups[v]=j,j.uniqueid=u.generatekey(),j.parentItem=I,j.level=I.level+1,I.subItems[I.subItems.length++]=j):(null==j.uid&&(j.uid=this.getid(this.source.id,j,v)),y?(j.boundindex=b[C].index,this.recordsbyid["id"+j.uid]=b[C].value):(j.boundindex=v,this.recordsbyid["id"+j.uid]=b[C]),this.sortedgroups[v]=j,this.bounditems[j.boundindex]=j,j.uniqueid=u.generatekey()),s++,v++}var A=function(t,i,r){for(var n=0;n<i.subItems.length;n++)i.subItems[n].visibleindex=e+r,t.rows[r]=i.subItems[n],t.loadedrecords[r]=i.subItems[n],r++;return r},H=function t(i,r,n){var s=1,o=i.grid.columns.records?i.grid.columns.records:i.grid.columns;if(1==i.aggregates)for(var a=0;a<o.length;a++)o[a].aggregates&&(s=Math.max(s,o[a].aggregates.length));for(var l in r.subGroups){var d=r.subGroups[l];d.subGroups&&(i.loadedgroups[i.loadedgroups.length]=d,d.visibleindex=e+n,i.rows[n]=d,i.loadedrecords[n]=d,n++,d.subGroups.length>0?n=t(i,d,n):d.subItems.length>0&&(n=A(i,d,n)))}return r.subItems.length>0&&(n=A(i,r,n)),function(t){if(1==i.aggregates)for(var r=function(r){var s=t,a={},l=function(e){for(var t=0;t<o.length;t++)if(o[t].aggregates)for(var n=i.grid.getcolumnaggregateddata(o[t].datafield,o[t].aggregates,!0,e),s=0;s<o[t].aggregates.length;s++)if(o[t].aggregates[r]){var l=o[t],d=o[t].aggregates[r],h=d;h=i.grid._getaggregatename(h),a[l.datafield]=n[d]?h+":"+n[d]:h+":"+n[h]}};if(null!=s)if(a.level=s.level,a.visibleindex=e+n,a.uniqueid=i.generatekey(),i.rows[n]=a,i.loadedrecords[n++]=a,a.totalsrow=!0,t.subItems.length>0){a.parentItem=(s=t.subItems[t.subItems.length-1]).parentItem,a.parentItem.subItems&&(a.parentItem.subItems[a.parentItem.subItems.length]=a);var d=[];(h=function(){for(var e=0;e<t.subItems.length;e++)t.subItems[e].totalsrow||(d[d.length]=t.subItems[e])})(t),l(d)}else if(t.subGroups.length>0){var h;a.level=(s=t.subGroups[t.subGroups.length-1]).level,a.parentItem=t,t.subGroups[t.subGroups.length]=a,d=[],(h=function(e){if(!e.totalsrow){for(var t=0;t<e.subItems.length;t++)e.subItems[t].totalsrow||(d[d.length]=e.subItems[t]);for(t=0;t<e.subGroups.length;t++)h(e.subGroups[t])}})(t),l(d)}},a=0;a<s;a++)r(a)}(r),n},O=f.length;for(this.loadedgroups=new Array,this.rows=new Array,h=0,v=0;v<O;v++){var B;this.loadedrootgroups[v]=B=f[v],this.loadedgroups[this.loadedgroups.length]=B,B.visibleindex=e+h,this.rows[h]=B,this.loadedrecords[h]=B,h=H(this,B,++h)}return h},this._updategroupsinpage=function(e,t,r,n,s,o,a){var l=new Array,d=[];if(this.groupable&&this.groups.length>0){for(var h=0,u=new Array,c=new Array,p=0;p<e.groups.length;p++)c[p]=e.generatekey();var f=0,m=new Array,g=0;a>this.totalrecords&&(a=this.totalrecords);for(var v=o;v<a;v++){var w=i.extend({},e.sortedgroups[v]),y=w[e.uniqueId];if(!e.pagesize||r>=e.pagesize*e.pagenum&&r<e.pagesize*(e.pagenum+1)){(n>=s||y!=l[n][e.uniqueId]||updated&&updated[y])&&(d[d.length]=n);var b=new Array,x=0;for(p=0;p<e.groups.length;p++){var _=w[E=e.groups[p]];null==_&&(_=""),b[x++]={value:_,hash:c[p]}}if(b.length!=e.groups.length)break;for(var C=null,j="",q=0;q<b.length;q++){var k=b[q].value;if(null==u[j=j+"_"+b[q].hash+"_"+k]||null==u[j]){if(null==C)C={group:k,subItems:new Array,subGroups:new Array,level:0},m[g++]=C,null!=(T=e.loadedgroupsByKey[k])&&(C.visibleindex=T.visibleindex,C.uniqueid=T.uniqueid);else{var T,S={group:k,subItems:new Array,subGroups:new Array,parentItem:C,level:C.level+1};S.visibleindex=(T=e.loadedgroupsByKey[C.uniqueid+"_"+k]).visibleindex,S.uniqueid=T.uniqueid,C.subGroups[C.subGroups.length++]=S,C=S}u[j]=C}else C=u[j]}null!=C&&(w.parentItem=C,w.level=C.level+1,C.subItems[C.subItems.length++]=w),n++}f++,r++}var I=function(e,t,r){for(var n=0;n<t.subItems.length;n++)l[r]=i.extend({},t.subItems[n]),r++;return r},D=function e(t){var i=!1;for(var r in t.subGroups){var n=t.subGroups[r];if(n.subGroups){if(n.subGroups.length>0&&e(n))return i=!0,!0;if(n.subItems.length>0)return i=!0,!0}}return t.subItems.length>0?(i=!0,!0):i},P=function e(t,i,r){var n=1,s=t.grid.columns.records?t.grid.columns.records:t.grid.columns;if(1==t.aggregates)for(var o=0;o<s.length;o++)s[o].aggregates&&(n=Math.max(n,s[o].aggregates.length));for(var a in i.subGroups){var d=i.subGroups[a];d.subGroups&&D(d)&&(l[r]=d,r++,d.subGroups.length>0?r=e(t,d,r):d.subItems.length>0&&(r=I(0,d,r)))}return i.subItems.length>0&&(r=I(0,i,r)),function(e){if(1==t.aggregates)for(var i=function(i){var n=e,o={},a=function(e){for(var r=0;r<s.length;r++)if(s[r].aggregates)for(var n=t.grid.getcolumnaggregateddata(s[r].datafield,s[r].aggregates,!0,e),a=0;a<s[r].aggregates.length;a++)if(s[r].aggregates[i]){var l=s[r],d=s[r].aggregates[i],h=d;h=t.grid._getaggregatename(h),o[l.datafield]=h+":"+n[d]}};if(null!=n)if(o.level=n.level,o.visibleindex=r,o.uniqueid=t.generatekey(),l[r]=o,t.loadedrecords[r++]=o,o.totalsrow=!0,e.subItems.length>0){o.parentItem=(n=e.subItems[e.subItems.length-1]).parentItem,o.parentItem.subItems&&(o.parentItem.subItems[o.parentItem.subItems.length]=o);var d=[];(h=function(){for(var t=0;t<e.subItems.length;t++)e.subItems[t].totalsrow||(d[d.length]=e.subItems[t])})(e),a(d)}else if(e.subGroups.length>0){var h;o.level=(n=e.subGroups[e.subGroups.length-1]).level,o.parentItem=e,e.subGroups[e.subGroups.length]=o,d=[],(h=function(e){if(!e.totalsrow){for(var t=0;t<e.subItems.length;t++)e.subItems[t].totalsrow||(d[d.length]=e.subItems[t]);for(t=0;t<e.subGroups.length;t++)h(e.subGroups[t])}})(e),a(d)}},o=0;o<n;o++)i(o)}(i),r};for(f=0;f<m.length;f++){var E;D(E=m[f])&&(l[h]=E,h=P(this,E,++h))}}return l}},i.extend(i.jqx._jqxGrid.prototype,{_initgroupsheader:function(){if(this.groupsheader.css("visibility","hidden"),this._groupsheader()){this.groupsheader.css("visibility","inherit");var e=this,t=this.gridlocalization.groupsheaderstring;this.groupsheaderdiv=this.groupsheaderdiv||i('<div style="width: 100%; position: relative;"></div>'),this.groupsheaderdiv.height(this.groupsheaderheight),this.groupsheaderdiv.css("top",0),this.groupsheader.append(this.groupsheaderdiv),this.groupheadersbounds=new Array;var r=this.groups.length;this.groupsheaderdiv.children().remove(),this.groupsheaderdiv[0].innerHTML="";var n=new Array;if(r>0)i.each(this.groups,(function(t){var s=this,o=e._getColumnText(this),a=e._rendergroupcolumn(o.label,s);if(a.addClass(e.toThemeProperty("jqx-grid-group-column")),e.groupsheaderdiv.append(a),e.closeablegroups){var l=i(a.find(".jqx-icon-close"));e.isTouchDevice()&&!0!==e.touchmode?e.addHandler(l,"touchstart",(function(){return e.removegroupat(t),!1})):e.addHandler(l,"click",(function(){return e.removegroupat(t),!1}))}if(e.sortable&&e.addHandler(a,"click",(function(){var t=e.getcolumn(s);return null!=t&&e._togglesort(t),!1})),n[n.length]=a,e._handlegroupstocolumnsdragdrop(this,a),t<r-1){var d=a.height(),h=i('<div style="float: left; position: relative;"></div>');e.rtl&&h.css("float","right"),h.width(e.groupindentwidth/3),h.height(1),h.css("top",d/2),h.addClass(e.toThemeProperty("jqx-grid-group-column-line")),e.groupsheaderdiv.append(h)}}));else{var s=i('<div style="position: relative;">'+t+"</div>");this.groupsheaderdiv.append(s),this.rtl&&s.addClass(this.toThemeProperty("jqx-rtl"))}this._groupheaders=n,this._updategroupheadersbounds()}},_updategroupheadersbounds:function(){var e=this,t=this.groupsheaderdiv.children().outerHeight(),r=(this.groupsheader.height()-t)/2;this.groupsheaderdiv.css("top",r),this.rtl?(this.groupsheaderdiv.css("left",""),this.groupsheaderdiv.css("right",r)):(this.groupsheaderdiv.css("left",r),this.groupsheaderdiv.css("right","")),this.rtl&&this._groupheaders.reverse(),i.each(this._groupheaders,(function(t){var i=this.coord();e.groupheadersbounds[t]={left:i.left,top:i.top,width:this.outerWidth(),height:this.outerHeight(),index:t}}))},addgroup:function(e){if(e){var t=this;t.groups!==t.dataview.groups&&(t.dataview.groups=t.groups),t.groups[t.groups.length]=e,t.refreshgroups(),this._raiseEvent(12,{type:"Add",index:t.groups[t.groups.length],groups:t.groups})}},insertgroup:function(e,t){if(null!=e&&null!=e&&e>=0&&e<=this.groups.length&&t){var i=this;i.groups!==i.dataview.groups&&(i.dataview.groups=i.groups),i.groups.splice(e,0,t.toString()),i.refreshgroups(),this._raiseEvent(12,{type:"Insert",index:e,groups:i.groups})}},refreshgroups:function(){this._refreshdataview(),this._render(!0,!0,!0,!1),this._postrender("group")},_insertaftergroup:function(e,t){var i=this._getGroupIndexByDataField(e);this.insertgroup(i+1,t)},_insertbeforegroup:function(e,t){var i=this._getGroupIndexByDataField(e);this.insertgroup(i,t)},removegroupat:function(e){if(e>=0&&null!=e&&null!=e){var t=this;return t.groups!==t.dataview.groups&&(t.dataview.groups=t.groups),t.groups.splice(e,1),t.refreshgroups(),t.virtualmode&&t.updatebounddata(),this._raiseEvent(12,{type:"Remove",index:e,groups:t.groups}),!0}return!1},cleargroups:function(){var e=this;return e.groups=[],e.dataview.groups=e.groups,e.refreshgroups(),this._raiseEvent(12,{type:"Clear",index:-1,groups:e.groups}),!0},removegroup:function(e){if(null==e)return!1;var t=this.groups.indexOf(e.toString());return this.removegroupat(t)},getrootgroupscount:function(){return this.dataview.loadedrootgroups.length},collapsegroup:function(e){if(e>=0&&-1===e.toString().indexOf("."))return this._setrootgroupstate(e,!1);var t=e.toString().split("."),i=null;this.groupsVisibility||(this.groupsVisibility=new Array);for(var r=0;r<t.length;r++)if(e=parseInt(t[r]),0==r)this.groupsVisibility[(i=this.dataview.loadedrootgroups[e]).group]=null;else{var n=i.subGroups[e];n&&(i=n,r==t.length-1&&(this._setgroupstate(i,!1,!0),this.groupsVisibility[i.group]=null))}},expandgroup:function(e){if(e>=0&&-1===e.toString().indexOf("."))return this._setrootgroupstate(e,!0);for(var t=e.toString().split("."),i=null,r=0;r<t.length;r++)if(e=parseInt(t[r]),0==r)i=this.dataview.loadedrootgroups[e],this._setrootgroupstate(e,!0),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[i.group]=i;else{var n=i.subGroups[e];n&&(this._setgroupstate(i=n,!0,!0),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[i.group]=i)}},collapseallgroups:function(e){this._setbatchgroupstate(!1,e)},expandallgroups:function(e){this._setbatchgroupstate(!0,e)},isgroupexpanded:function(e){var t=this.dataview.loadedrootgroups[e];return null==t?null:this.expandedgroups[t.uniqueid].expanded},jsonParser:function(){var e="~",t="\\x"+("0"+e.charCodeAt(0).toString(16)).slice(-2),i="\\"+t,r=new RegExp(t,"g"),n=new RegExp(i,"g"),s=new RegExp("(?:^|([^\\\\]))"+i),o=[].indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},a=String,l={stringify:function(n,s,a,d){return l.parser.stringify(n,function(n,s,a){var l,d,h=!1,u=!!s,c=[],p=[n],f=[n],m=[a?e:"[Circular]"],g=n,v=1;return u&&(d="object"==typeof s?function(e,t){return""!==e&&o.call(s,e)<0?void 0:t}:s),function(n,s){return u&&(s=d.call(this,n,s)),h?(g!==this&&(l=v-o.call(p,this)-1,p.splice(v-=l,p.length),c.splice(v-1,c.length),g=this),"object"==typeof s&&s?(o.call(p,s)<0&&p.push(g=s),v=p.length,(l=o.call(f,s))<0?(l=f.push(s)-1,a?(c.push((""+n).replace(r,t)),m[l]=e+c.join(e)):m[l]=m[0]):s=m[l]):"string"==typeof s&&a&&(s=s.replace(t,i).replace(e,t))):h=!0,s}}(n,s,!d),a)},parse:function(r,o){return l.parser.parse(r,function(r){return function(o,l){var d="string"==typeof l;return d&&l.charAt(0)===e?new a(l.slice(1)):(""===o&&(l=function t(i,r,s){return r instanceof Array?function(e,i,r){for(var n=0,s=i.length;n<s;n++)i[n]=t(e,i[n],r);return i}(i,r,s):r instanceof a?r.length?s.hasOwnProperty(r)?s[r]:s[r]=function(t,i){for(var r=0,s=i.length;r<s;t=t[i[r++].replace(n,e)]);return t}(i,r.split(e)):i:r instanceof Object?function(e,i,r){for(var n in i)i.hasOwnProperty(n)&&(i[n]=t(e,i[n],r));return i}(i,r,s):r}(l,l,{})),d&&(l=l.replace(s,"$1~").replace(i,t)),r?r.call(this,o,l):l)}}(o))},parser:JSON};return l},getgroup:function(e){var t=this.dataview.loadedrootgroups[e];if(null==t)return null;var r=this.expandedgroups[t.uniqueid].expanded,n=t.group,s=t.level,o=new Array;this._getsubgroups(o,t);var a=this,l={group:n,level:s,expanded:r,subgroups:o};if(t.subItems){var d=new Array;i.each(t.subItems,(function(){d[d.length]=a.getrowdata(this.boundindex)})),d.length>0&&(l.subrows=d)}var h=this.jsonParser().stringify(t);return h=(h=h.replace(/subItems/gi,"subrows")).replace(/subGroups/gi,"subgroups"),this.jsonParser().parse(h)},getrootgroups:function(){for(var e=this.dataview.loadedrootgroups.length,t=new Array,i=0;i<e;i++)t[i]=this.getgroup(i);return t},_getsubgroups:function(e,t){var r=this;for(var n in t.subGroups){var s=t.subGroups[n];if(e[e.length]={group:s.group,level:s.level,expanded:r.expandedgroups[s.uniqueid].expanded},s.subItems){var o=new Array;i.each(s.subItems,(function(){o[o.length]=r.getrowdata(this.boundindex)})),e[e.length-1].subrows=o}if(s.subGroups){var a=new Array;r._getsubgroups(a,s)}}return e},_setbatchgroupstate:function(e,t){var i=this;for(var r in this.dataview.loadedrootgroups)i._setrootgroupstate(r,e,!1,!0);if(0==t)return i._requiresupdate=!0,i._renderrows(i.virtualsizeinfo),!0;var n=this.vScrollBar[0].style.visibility;return this.rendergridcontent(!0,!1),(n!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)),!0},_setrootgroupstate:function(e,t,i,r){if(null==e||null==e||e<0)return!1;if(!this.groupable||0==this.groups.length)return!1;var n=null==i||i;if(e>=0&&e<this.dataview.loadedrootgroups.length){var s=this.dataview.loadedrootgroups[e];if(this.pageable){for(var o=new Array,a=0;a<this.dataview.rows.length;a++)null!=this.dataview.rows[a].group&&0===this.dataview.rows[a].level&&o.push(this.dataview.rows[a]);if(!(s=o[e]))return}return this._setgroupstate(s,t,n,r)}return!1},_togglegroupstate:function(e,t){if(null==e||null==e)return!1;var i=this.vScrollInstance.value,r=this.expandedgroups[e.uniqueid];r=!(r=null!=r&&r.expanded),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[e.group]=r?e:null;var n=this._setgroupstate(e,r,t);return this._newmax=null,0!==i&&"hidden"!==this.vScrollBar.css("visibility")&&this.vScrollInstance.setPosition(i<=this.vScrollInstance.max?i:this.vScrollInstance.max),n},_setgroupstate:function(e,t,i,r){if(null==e||null==e)return!1;var n=!1;this.editable&&this.editcell&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1);var s=this.expandedgroups[e.uniqueid];if(null==s&&(s={expanded:!1},n=!0),s.expanded!=t&&(n=!0),n){if(this.expandedgroups[e.uniqueid]={expanded:t,group:e},this._setsubgroupsvisibility(this,e,!t,r),i){var o=this.vScrollBar[0].style.visibility;this.rendergridcontent(!0,!1),(o!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))}return null!=this.suspendgroupevents&&0!=this.suspendgroupevents||this._raiseEvent(t?4:5,{group:e.group,parentgroup:e.parentItem?e.parentItem.group:null,level:e.level,visibleindex:e.visibleindex}),!0}return!1},_setgroupitemsvisibility:function(e,t,i){for(var r=0;r<t.subItems.length;r++)e._setrowvisibility(t.subItems[r].visibleindex,i,!1)},_setsubgroupsvisibility:function(e,t,i,r){if(null!=t.parentItem){if(this.hiddens[t.parentItem.visibleindex])return}else if(null==t.parentItem&&this.hiddens[t.visibleindex])return;for(var n in t.subGroups){var s=t.subGroups[n];i||e._setrowvisibility(s.visibleindex,i,!1);var o=!i;r?this.expandedgroups[s.uniqueid]={expanded:o,group:s}:o=null!=e.expandedgroups[s.uniqueid]&&e.expandedgroups[s.uniqueid].expanded,s.subGroups&&(s.subGroups.length>0?e._setsubgroupsvisibility(e,s,!o||i,r):s.subItems.length>0&&e._setgroupitemsvisibility(e,s,!o||i)),i&&e._setrowvisibility(s.visibleindex,i,!1)}t.subItems&&t.subItems.length>0&&e._setgroupitemsvisibility(e,t,i)},_handlecolumnsdragdrop:function(){var e=this,t=-1,r=!1;if(e.groupable){var n="mousemove.grouping"+this.element.id,s="mouseup.grouping"+this.element.id,o=!1;this.isTouchDevice()&&!0!==this.touchmode&&(o=!0,n=i.jqx.mobile.getTouchEventName("touchmove")+".grouping"+this.element.id,i.jqx.mobile.getTouchEventName("touchstart"),s=i.jqx.mobile.getTouchEventName("touchend")+".grouping"+this.element.id),this.removeHandler(i(document),n),this.addHandler(i(document),n,(function(n){if(!e.showgroupsheader)return!0;if(null!=e.dragcolumn){var s=parseInt(n.pageX),a=parseInt(n.pageY);if(o){var l=e.getTouches(n)[0];s=parseInt(l.pageX),a=parseInt(l.pageY)}var d=e.host.coord(),h=parseInt(d.left),u=parseInt(d.top);null!=e.dragmousedownoffset&&null!=e.dragmousedownoffset||(e.dragmousedownoffset={left:0,top:0});var c=parseInt(s)-parseInt(e.dragmousedownoffset.left),p=parseInt(a)-parseInt(e.dragmousedownoffset.top);if(e.dragcolumn.css({left:c+"px",top:p+"px"}),r=!1,s>=h&&s<=h+e.host.width()&&a>=u&&a<=u+e.host.height()&&(r=!0),t=-1,r){e.dragcolumnicon.removeClass(e.toThemeProperty("jqx-grid-dragcancel-icon")),e.dragcolumnicon.addClass(e.toThemeProperty("jqx-grid-drag-icon"));var f=e.groupsheader.coord(),m=f.top+e.groupsheader.height(),g=i.data(e.dragcolumn[0],"datarecord");if(g)var v=e.groups.indexOf(g.toString());else v=-1;null!=e.dropline&&(a>=f.top&&a<=m?(-1==v||e.groups.length>1&&v>-1)&&(t=e._handlegroupdroplines(s)):e.dropline.fadeOut("slow"))}else null!=e.dropline&&e.dropline.fadeOut("slow"),e.dragcolumnicon.removeClass(e.toThemeProperty("jqx-grid-drag-icon")),e.dragcolumnicon.addClass(e.toThemeProperty("jqx-grid-dragcancel-icon"));if(o)return n.preventDefault(),n.stopPropagation(),!1}}),{passive:!1}),this.removeHandler(i(document),s),this.addHandler(i(document),s,(function(n){if(!e.showgroupsheader)return!0;e.__drag=!1,i(document.body).removeClass("jqx-disableselect"),parseInt(n.pageX);var s=parseInt(n.pageY);if(o){var a=e.getTouches(n)[0];parseInt(a.pageX),s=parseInt(a.pageY)}var l=e.host.coord(),d=(parseInt(l.left),parseInt(l.top)),h=e.groupsheader.height();if(e.showtoolbar&&(d+=e.toolbarheight),e.dragstarted=!1,e.dragmousedown=null,null!=e.dragcolumn){var u=i.data(e.dragcolumn[0],"datarecord");if(e.dragcolumn.remove(),e.dragcolumn=null,null!=u){if(!e.getcolumn(u).groupable)return void(null!=e.dropline&&(e.dropline.remove(),e.dropline=null));if(r)if(-1!=t){var c=t.index,p=e.groups[c];(f=e._getGroupIndexByDataField(u))!=c&&(null!=f&&f>=0&&e.groups.splice(f,1),"before"==t.position?e.rtl?e._insertaftergroup(p,u):e._insertbeforegroup(p,u):e.rtl?e._insertbeforegroup(p,u):e._insertaftergroup(p,u))}else if(0==e.groups.length)s>d&&s<=d+h&&e.addgroup(u);else if(s>d+h){var f=e._getGroupIndexByDataField(u);e.removegroupat(f)}null!=e.dropline&&(e.dropline.remove(),e.dropline=null)}}}))}},_getGroupIndexByDataField:function(e){for(var t=0;t<this.groups.length;t++)if(this.groups[t]==e)return t;return-1},_isColumnInGroups:function(e){for(var t=0;t<this.groups.length;t++)if(this.groups[t]==e)return!0;return!1},_handlegroupdroplines:function(e){var t=this,r=-1;return i.each(t.groupheadersbounds,(function(i){if(e<=this.left+this.width/2){var n=this.left-3;return i>0&&(n=this.left-1-t.groupindentwidth/6),t.dropline.css("left",n),t.dropline.css("top",this.top),t.dropline.height(this.height),t.dropline.fadeIn("slow"),r={index:i,position:"before"},t.rtl&&(r={index:t.groupheadersbounds.length-1-i,position:"before"}),!1}e>=this.left+this.width/2&&(t.dropline.css("left",1+this.left+this.width),t.dropline.css("top",this.top),t.dropline.height(this.height),t.dropline.fadeIn("slow"),r={index:i,position:"after"},t.rtl&&(r={index:t.groupheadersbounds.length-1-i,position:"after"}))})),r},_handlegroupstocolumnsdragdrop:function(e,t){this.dragmousedown=null,this.dragmousedownoffset=null,this.dragstarted=!1,this.dragcolumn=null;var r,n=this,s="mousedown",o="mousemove",a=!1;this.isTouchDevice()&&!0!==this.touchmode&&(a=!0,s=i.jqx.mobile.getTouchEventName("touchstart"),o=i.jqx.mobile.getTouchEventName("touchmove")),this.addHandler(t,"dragstart",(function(e){return!1})),this.addHandler(t,s,(function(e){if(!n.showgroupsheader)return!0;var t=e.pageX,r=e.pageY;if(n.__drag=!0,n.dragmousedown={left:t,top:r},a){var s=n.getTouches(e)[0];n.dragmousedown={left:t=s.pageX,top:r=s.pageY},e.preventDefault&&e.preventDefault()}var o=i(e.target).coord();n.dragmousedownoffset={left:parseInt(t)-parseInt(o.left),top:parseInt(r-o.top)}})),this.addHandler(t,o,(function(s){if(!n.showgroupsheader)return!0;if(n.dragmousedown){if(r={left:s.pageX,top:s.pageY},a){var o=n.getTouches(s)[0];r={left:o.pageX,top:o.pageY}}if(!n.dragstarted&&null==n.dragcolumn){var l=Math.abs(r.left-n.dragmousedown.left),d=Math.abs(r.top-n.dragmousedown.top);(l>3||d>3)&&(n._createdragcolumn(t,r,!0),i(document.body).addClass("jqx-disableselect"),i.data(n.dragcolumn[0],"datarecord",e),s.preventDefault&&s.preventDefault())}}}),{passive:!1})},_createdragcolumn:function(e,t,r){var n=this,s=t;n.dragcolumn=i("<div></div>");var o=e.clone();n.dragcolumn.css("z-index",999999),o.css("border-width","1px"),o.css("opacity","0.4");var a=i(o.find("."+n.toThemeProperty("jqx-grid-column-menubutton")));a.length>0&&a.css("display","none");var l=i(o.find(".jqx-icon-close"));l.length>0&&l.css("display","none"),n.dragcolumnicon=i('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),n.dragcolumnicon.addClass(n.toThemeProperty("jqx-grid-drag-icon")),n.dragcolumn.css("float","left"),n.dragcolumn.css("position","absolute"),n.host.coord(),o.width(e.width()+16),n.dragcolumn.append(o),n.dragcolumn.height(e.height()),n.dragcolumn.width(o.width()),n.dragcolumn.append(n.dragcolumnicon),i(document.body).append(n.dragcolumn),o.css("margin-left",0),o.css("left",0),o.css("top",0),n.dragcolumn.css("left",s.left+n.dragmousedown.left),n.dragcolumn.css("top",s.top+n.dragmousedown.top),null!=r&&r&&(n.dropline=i('<div style="display: none; position: absolute;"></div>'),n.dropline.width(2),n.dropline.addClass(n.toThemeProperty("jqx-grid-group-drag-line")),i(document.body).append(n.dropline))},iscolumngroupable:function(e){return this._getcolumnproperty(e,"groupable")},_handlecolumnstogroupsdragdrop:function(e,t){this.dragmousedown=null,this.dragmousedownoffset=null,this.dragstarted=!1,this.dragcolumn=null;var r=this,n=!1;this.isTouchDevice()&&!0!==this.touchmode&&(n=!0);var s="mousedown.drag",o="mousemove.drag";n?(s=i.jqx.mobile.getTouchEventName("touchstart")+".drag",o=i.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(t,"dragstart",(function(e){return!1})),this.addHandler(t,s,(function(s){if(!r.showgroupsheader)return!0;if(r.__drag=!0,r._isColumnInGroups(e.displayfield))return t.css("cursor"),!0;if(0==e.groupable)return!0;var o=s.pageX,a=s.pageY;if(n){var l=r.getTouches(s)[0];o=l.pageX,a=l.pageY}r.dragmousedown={left:o,top:a},n&&s.preventDefault&&s.preventDefault();var d=i(s.target).coord();r.dragmousedownoffset={left:parseInt(o)-parseInt(d.left),top:parseInt(a-d.top)}})),this.addHandler(t,o,(function(s){if(!r.showgroupsheader)return!0;if(r._isColumnInGroups(e.displayfield))return t.css("cursor"),!0;if(r.dragmousedown){var a=s.pageX,l=s.pageY;if(n){var d=r.getTouches(s)[0];a=d.pageX,l=d.pageY}if(o={left:a,top:l},!r.dragstarted&&null==r.dragcolumn){var h=Math.abs(o.left-r.dragmousedown.left),u=Math.abs(o.top-r.dragmousedown.top);(h>3||u>3)&&(r._createdragcolumn(t,o,!0),i.data(r.dragcolumn[0],"datarecord",e.displayfield),s.preventDefault&&s.preventDefault())}}}))},_rendergroupcolumn:function(e,t){var r=i('<div style="float: left; position: relative;"></div>');if(this.rtl&&r.css("float","right"),null!=this.groupcolumnrenderer&&(r[0].innerHTML=this.groupcolumnrenderer(e),r.addClass(this.toThemeProperty("jqx-grid-group-column")),r.addClass(this.toThemeProperty("jqx-fill-state-normal"))),this.closeablegroups){""==r[0].innerHTML&&(r[0].innerHTML='<a style="float: left;" href="#">'+e+"</a>"),this.rtl&&(r[0].innerHTML='<a style="float: right;" href="#">'+e+"</a>");var n=this.rtl?"left":"right",s='<div style="float: '+n+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>';i.jqx.browser.msie&&i.jqx.browser.version<8&&(s='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>'),this.rtl&&(s='<div style="float: '+n+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>',i.jqx.browser.msie&&i.jqx.browser.version<8&&(s='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>')),r[0].innerHTML+=s}else""==r[0].innerHTML&&(r[0].innerHTML='<a href="#">'+e+"</a>");if(this.sortable){var o=i('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),a=i('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');this.closeablegroups&&(o=i('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),a=i('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>')),this.rtl&&(o=i('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),a=i('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>'),this.closeablegroups&&(o=i('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),a=i('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>'))),o.css("display","none"),a.css("display","none"),i.jqx.browser.msie&&i.jqx.browser.version<8&&(o.css("float","left"),a.css("float","left")),r.append(o),r.append(a),i.data(document.body,"groupsortelements"+t,{sortasc:o,sortdesc:a})}return r.addClass(this.toThemeProperty("jqx-fill-state-normal")),r.addClass(this.toThemeProperty("jqx-grid-group-column")),r},_rendergroup:function(e,t,r,n,s,o,a){var l=t,d=t.cells[r.level];this.rtl&&(d=t.cells[t.cells.length-1-r.level]);var h=this._findgroupstate(r.uniqueid);if(r.bounddata.subGroups.length>0||r.bounddata.subItems.length>0){var u=this.rtl?"-rtl":"",c=this.toThemeProperty("jqx-icon-arrow-right");u&&(c=this.toThemeProperty("jqx-icon-arrow-left")),d.className+=h?" "+this.toThemeProperty("jqx-grid-group-expand"+u)+" "+this.toThemeProperty("jqx-icon-arrow-down"):" "+this.toThemeProperty("jqx-grid-group-collapse"+u)+" "+c}var p=this._getColumnText(this.groups[r.level]).label,f=this.groupindentwidth,m=a-(I=this.rowdetails&&this.showrowdetailscolumn?(1+e)*f:e*f),g=r.level+1;this.rtl&&(g=0);for(var v=l.cells[g],w=2;null!=v&&"none"==v.style.display&&w<l.cells.length-1;)v=l.cells[g+w-1],w++;var y=i(v);if(v){if(v.style.width=parseInt(m)+"px",-1!=v.className.indexOf("jqx-grid-cell-filter")&&y.removeClass(this.toThemeProperty("jqx-grid-cell-filter")),-1!=v.className.indexOf("jqx-grid-cell-sort")&&y.removeClass(this.toThemeProperty("jqx-grid-cell-sort")),-1!=v.className.indexOf("jqx-grid-cell-pinned")&&y.removeClass(this.toThemeProperty("jqx-grid-cell-pinned")),null!=this.groupsrenderer){var b={group:r.group,level:r.level,parent:r.bounddata.parentItem,subGroups:r.bounddata.subGroups,subItems:r.bounddata.subItems,groupcolumn:this._getColumnText(this.groups[r.level]).column},x=this.groupsrenderer(p+": "+r.group,r.group,h,b);if(x)v.innerHTML=x;else{var _=r.bounddata.subItems.length>0?r.bounddata.subItems.length:r.bounddata.subGroups.length;if(this.showgroupaggregates){var C=r.bounddata.subItems.length>0?r.bounddata.subItems:r.bounddata.subGroups;_=0;for(var j=0;j<C.length;j++)C[j].totalsrow||_++}v.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+p+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+r.group+" ("+_+")</span></div>"}}else{var q=this._getcolumnbydatafield(this.groups[r.level]),k=r.group;if(null==q)throw new Error("jqxGrid: Unable to find '"+this.groups[r.level]+"' group in the Grid's columns collection.");if(q.cellsformat&&i.jqx.dataFormat&&(i.jqx.dataFormat.isDate(k)?k=i.jqx.dataFormat.formatdate(k,q.cellsformat,this.gridlocalization):i.jqx.dataFormat.isNumber(k)&&(k=i.jqx.dataFormat.formatnumber(k,q.cellsformat,this.gridlocalization))),_=r.bounddata.subItems.length>0?r.bounddata.subItems.length:r.bounddata.subGroups.length,this.showgroupaggregates)for(C=r.bounddata.subItems.length>0?r.bounddata.subItems:r.bounddata.subGroups,_=0,j=0;j<C.length;j++)C[j].totalsrow||_++;v.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+p+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+k+" ("+_+")</span></div>"}if(this.rtl){q||(q=this._getcolumnbydatafield(this.groups[r.level]));var T="hidden"==this.hScrollBar.css("visibility")?0:this.hScrollInstance.max-this.hScrollInstance.value,S="hidden"==this.vScrollBar.css("visibility")?0:this.scrollbarsize+6,I=this.rowdetails&&this.showrowdetailscolumn?(2+r.level)*f:(1+r.level)*f;v.style.width=a+parseInt(T)-I-S+"px",y.addClass(this.toThemeProperty("jqx-rtl"));var D=i(t.cells[t.cells.length-1]).css("z-index");y.css("z-index",D);var P=y.find("div");m=P.width(),P.css("left","100%");var E=null!=this.columns.records[t.cells.length-2-r.level]&&this.columns.records[t.cells.length-2-r.level].pinned;this.table.width()<a&&(a=this.table.width(),"hidden"!=this.vScrollBar.css("visibility")&&(a+=this.vScrollBar.outerWidth())),q.pinned||E?(this.rowdetails&&this.showrowdetailscolumn&&(a+=30),P.css("margin-left",-m),v.style.width=a+T-I-S+"px"):(T="hidden"==this.hScrollBar.css("visibility")?0:this.hScrollInstance.max,v.style.width=a+T-I-S+"px",m=P.width(),P.css("margin-left",-m))}}}})},iojg:function(e,t){var i;(i=jqxBaseFramework).extend(i.jqx._jqxGrid.prototype,{_exportData:function(e,t){var r=this,n="string"==typeof t?t:t.fileName;n||(n="jqxGrid"),t&&"string"!=typeof t||(t={header:!0,filterBy:null,groupBy:null,style:null,fileName:n,pageOrientation:"portrait",expandChart:"+",collapseChar:"-"});var s=new i.jqx.dataAdapter.DataExporter({exportHeader:t.header});s.expandChar=t.expandChar,s.collapseChar=t.collapseChar,s.pageOrientation=t.pageOrientation,s.style=t.style,s.filterBy=t.filterBy,s.groupBy=t.groupBy;for(var o=[],a=r.columngroups||[],l=0,d=0;d<r.columns.records.length;d++)null!==r.columns.records[d].datafield&&(o[l++]={label:r.columns.records[d].text,dataField:r.columns.records[d].datafield});if(s.header={columns:o,columngroups:a},!t.style){var h=window.getComputedStyle(r.element),u=window.getComputedStyle(r.columns.records.length>0&&r.columns.records[0].element?r.columns.records[0].element:r.host.find(".jqx-grid-header")[0]),c=window.getComputedStyle(r.host.find(".jqx-grid-header")[0]);if(0!==r.offsetWidth&&0!==r.offsetHeight){var p=function(e){var t=e.fontSize,i=e.borderRightColor,r=e.backgroundColor,n=e.color,s=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f");function o(e){return(e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/))?"#"+a(e[1])+a(e[2])+a(e[3]).toUpperCase():"#ffffff"}function a(e){return isNaN(e)?"00":s[(e-e%16)/16]+s[e%16]}return{borderColor:o(i),fontSize:t,fontFamily:"Helvetica",color:o(n),backgroundColor:o(r)}},f=p(h),m=p(u),g=p(c),v={height:"30px",border:"1px solid "+f.borderColor,fontFamily:g.fontFamily,fontSize:g.fontSize,color:g.color,backgroundColor:m.backgroundColor,fontWeight:"400"},w={border:"1px solid "+f.borderColor,fontFamily:f.fontFamily,fontSize:f.fontSize},y={height:r.rowsheight+"px"};for(d=0;d<r.columns.records.length;d++)if((k=r.columns.records[d]).exportable){v[k.datafield]={textAlign:k.align,width:k.width+"px",format:k.cellsformat||""};var b=k.cellsformat||"";"date"===k.dataType?b="d":"dateTime"===k.dataType?b="D":"time"===k.dataType&&(b="t"),w[k.datafield]={textAlign:k.cellsalign,format:b}}r.altrows&&(y.alternationCount=2,y.alternationStart=0,y.alternationEnd=0,y.alternationIndex0Color=f.color,y.alternationIndex0BackgroundColor=f.backgroundColor,y.alternationIndex1Color=f.color,y.alternationIndex1BackgroundColor="#F5F5F5"),s.style={border:"1px solid "+f.borderColor,borderCollapse:"collapse",header:v,columns:w,rows:y}}}var x=this.getrows(),_=[];for(d=0;d<x.length;d++){var C=x[d];if(!C.hidden){for(var j={},q=0;q<r.columns.records.length;q++){var k;j[(k=r.columns.records[q]).datafield]=C[k.datafield]}_.push(j)}}return!t.groupBy&&r.groups&&(s.groupBy=r.groups.slice(0)),s.exportData(_,e,t.fileName,null)},exportview:function(e,t){this._exportData(e,t)},exportdata:function(e,t,r,n,s,o,a){if(!i.jqx.dataAdapter.ArrayExporter)throw"jqxGrid: Missing reference to jqxdata.export.js!";if("xlsx"!==e){null==r&&(r=!0);var l=this;if(null==n&&0==(n=this.getrows()).length)throw"No data to export.";this.exporting=!0,this.pageable||(this.loadondemand=!0),this.altrows&&this._renderrows(this.virtualsizeinfo);var d=this.hScrollInstance.value;this.hScrollInstance.setPosition(0),this._renderrows(this.virtualsizeinfo);var h=null!=s&&s,u={},c={},p=this.host.find(".jqx-grid-cell:first"),f=this.host.find(".jqx-grid-cell-alt:first");p.removeClass(this.toThemeProperty("jqx-grid-cell-selected")),p.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),f.removeClass(this.toThemeProperty("jqx-grid-cell-selected")),f.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),p.removeClass(this.toThemeProperty("jqx-grid-cell-hover")),p.removeClass(this.toThemeProperty("jqx-fill-state-hover")),f.removeClass(this.toThemeProperty("jqx-grid-cell-hover")),f.removeClass(this.toThemeProperty("jqx-fill-state-hover"));for(var m="cell",g=1,v="column",w=1,y=[],b=0;b<this.columns.records.length;b++){var x=this.columns.records[b];if(""!=x.cellclassname)if(x.customCellStyles=new Array,"string"==typeof x.cellclassname)for(var _=0;_<n.length;_++)x.customCellStyles[_]=x.cellclassname;else for(_=0;_<n.length;_++){var C=this.getrowboundindex(_),j=x.cellclassname(C,x.displayfield,n[_][x.displayfield],n[_]);j&&(x.customCellStyles[_]=j)}}var q=new Array,k=null,T=null,S=null;if(i.each(this.columns.records,(function(t){var s=i(l.table[0].rows[0].cells[t]);if(l.table[0].rows.length>1){var o=i(l.table[0].rows[1].cells[t]);S||(S=o)}T||(T=s);var a=this,d=function(e){if(e.removeClass(l.toThemeProperty("jqx-grid-cell-selected")),e.removeClass(l.toThemeProperty("jqx-fill-state-pressed")),e.removeClass(l.toThemeProperty("jqx-grid-cell-hover")),e.removeClass(l.toThemeProperty("jqx-fill-state-hover")),a.customCellStyles)for(var t in a.customCellStyles)e.removeClass(a.customCellStyles[t])};if(d(s),o&&d(o),null==this.displayfield)return!0;l.showaggregates&&l.getcolumnaggregateddata&&y.push(l.getcolumnaggregateddata(this.displayfield,this.aggregates,!0,n));var p=l._getexportcolumntype(this);!this.exportable||this.hidden&&!h||(u[this.displayfield]={},u[this.displayfield].text=this.text,u[this.displayfield].width=parseInt(this.width),isNaN(u[this.displayfield].width)&&(u[this.displayfield].width=60),u[this.displayfield].formatString=this.cellsformat,u[this.displayfield].localization=l.gridlocalization,u[this.displayfield].type=p,u[this.displayfield].cellsAlign=this.cellsalign,u[this.displayfield].hidden=!r,u[this.displayfield].displayfield=this.displayfield,q.push(u[this.displayfield])),m="cell"+g;var f=i(this.element);if(null==this.element&&(f=i(this.uielement)),k){if(!a._rendered){f=k,s=T,o=S;var b=l.toTP("jqx-grid-cell")+" "+l.toTP("jqx-item");s[0].className=b,b+=l.toTP("jqx-grid-cell-alt"),o&&(o[0].className=b)}}else k=f;if(v="column"+w,"html"==e||"xls"==e||"pdf"==e){var x=function(t,i,r,n,s,o,a,l,d){c[t]={},null!=i&&0!=i[0].offsetWidth&&0!=i[0].offsetHeight&&(c[t]["font-size"]=i.css("font-size"),c[t]["font-weight"]=i.css("font-weight"),c[t]["font-style"]=i.css("font-style"),c[t]["background-color"]=o._getexportcolor(i.css("background-color")),c[t].color=o._getexportcolor(i.css("color")),c[t]["border-color"]=o._getexportcolor(i.css("border-top-color")),r?c[t]["text-align"]=s.align:(c[t]["text-align"]=s.cellsalign,c[t].formatString=s.cellsformat,c[t].dataType=p),"html"!=e&&"pdf"!=e||(c[t]["border-top-width"]=i.css("border-top-width"),c[t]["border-left-width"]=i.css("border-left-width"),c[t]["border-right-width"]=i.css("border-right-width"),c[t]["border-bottom-width"]=i.css("border-bottom-width"),c[t]["border-top-style"]=i.css("border-top-style"),c[t]["border-left-style"]=i.css("border-left-style"),c[t]["border-right-style"]=i.css("border-right-style"),c[t]["border-bottom-style"]=i.css("border-bottom-style"),r?(0==a&&(c[t]["border-left-width"]=i.css("border-right-width")),c[t]["border-top-width"]=i.css("border-right-width"),c[t]["border-bottom-width"]=i.css("border-bottom-width")):0==a&&(c[t]["border-left-width"]=i.css("border-right-width")),c[t].height=i.css("height")),!s.exportable||s.hidden&&!h||(1==l?(u[s.displayfield].customCellStyles||(u[s.displayfield].customCellStyles=new Array),u[s.displayfield].customCellStyles[d]=t):r?u[s.displayfield].style=t:n?u[s.displayfield].cellAltStyle=t:u[s.displayfield].cellStyle=t))};if(x(v,f,!0,!1,this,l,t),w++,x(m,s,!1,!1,this,l,t),l.altrows&&x(m="cellalt"+g,o,!1,!0,this,l,t),this.customCellStyles){for(var _ in a.customCellStyles)s.removeClass(a.customCellStyles[_]);for(var _ in a.customCellStyles)s.addClass(a.customCellStyles[_]),x(m+a.customCellStyles[_],s,!1,!1,this,l,t,!0,_),s.removeClass(a.customCellStyles[_])}g++}})),i.each(this.columns.records,(function(e){u[this.displayfield]&&(u[this.displayfield].columnsDataFields=q)})),this.showaggregates){var I=[],D="xls"==e?"_AG":"",P=this.groupable?this.groups.length:0;this.rowdetails&&P++,"checkbox"===this.selectionmode&&P++,y.length>0&&(i.each(this.columns.records,(function(e){if(this.aggregates)for(var t=0;t<this.aggregates.length;t++)if(I[t]||(I[t]={}),I[t]){var i=l._getaggregatename(this.aggregates[t]),r=l._getaggregatetype(this.aggregates[t]),n=y[e-P];n&&(I[t][this.displayfield]=D+i+": "+n[r])}})),i.each(this.columns.records,(function(e){for(var t=0;t<I.length;t++)null==I[t][this.displayfield]&&(I[t][this.displayfield]=D)}))),i.each(I,(function(){n.push(this)}))}var E=this,M=i.jqx.dataAdapter.ArrayExporter(n,u,c);if(null==t){this._renderrows(this.virtualsizeinfo);var A=M.exportTo(e);return this.showaggregates&&i.each(I,(function(){n.pop(this)})),setTimeout((function(){E.exporting=!1}),50),this.hScrollInstance.setPosition(d),this._renderrows(this.virtualsizeinfo),A}M.exportToFile(e,t,o,a),this.showaggregates&&i.each(I,(function(){n.pop(this)})),this._renderrows(this.virtualsizeinfo),setTimeout((function(){E.exporting=!1}),50),this.hScrollInstance.setPosition(d),this._renderrows(this.virtualsizeinfo)}else this._exportData("xlsx",t)},_getexportcolor:function(e){var t=e;if("transparent"==e&&(t="#FFFFFF"),t&&t.toString()||(t="#FFFFFF"),-1!=t.toString().indexOf("rgb")){var i=t.split(",");if(-1!=t.toString().indexOf("rgba")){var r=parseInt(i[0].substring(5)),n=parseInt(i[1]),s=parseInt(i[2]),o=parseInt(i[3].substring(1,4)),a=this._rgbToHex({r:r,g:n,b:s});return 0==r&&0==n&&0==s&&0==o?"#ffffff":"#"+a}return r=parseInt(i[0].substring(4)),n=parseInt(i[1]),s=parseInt(i[2].substring(1,4)),"#"+this._rgbToHex({r:r,g:n,b:s})}if(-1!=t.toString().indexOf("#")&&4==t.toString().length){var l=t.toString().substring(1,4);t+=l}return t},_rgbToHex:function(e){return this._intToHex(e.r)+this._intToHex(e.g)+this._intToHex(e.b)},_intToHex:function(e){var t=parseInt(e).toString(16);return 1==t.length&&(t="0"+t),t.toUpperCase()},_getexportcolumntype:function(e){var t=this,r="string",n=t.source.datafields||(t.source._source?t.source._source.datafields:null);if(n){var s="";if(i.each(n,(function(){if(this.name==e.displayfield)return this.type&&(s=this.type),!1})),s)return s}if(null!=e){if(null==this.dataview.cachedrecords)return r;var o=null;if(this.virtualmode)i.each(this.dataview.cachedrecords,(function(){return o=this[e.displayfield],!1}));else{if(0==this.dataview.cachedrecords.length)return r;if(null!=(o=this.dataview.cachedrecords[0][e.displayfield])&&""==o.toString())return"string"}if(null!=o){if(-1!=e.cellsformat.indexOf("c"))return"number";if(-1!=e.cellsformat.indexOf("n"))return"number";if(-1!=e.cellsformat.indexOf("p"))return"number";if(-1!=e.cellsformat.indexOf("d"))return"date";if(-1!=e.cellsformat.indexOf("y"))return"date";if(-1!=e.cellsformat.indexOf("M"))return"date";if(-1!=e.cellsformat.indexOf("m"))return"date";if(-1!=e.cellsformat.indexOf("t"))return"date";if("boolean"==typeof o)r="boolean";else if(i.jqx.dataFormat.isNumber(o))r="number";else{var a=new Date(o);if("NaN"==a.toString()||"Invalid Date"==a.toString())if(i.jqx.dataFormat){if(null!=(a=i.jqx.dataFormat.tryparsedate(o))){if(a&&a.getFullYear()&&1970==a.getFullYear()&&0==a.getMonth()&&1==a.getDate()){var l=new Number(o);return isNaN(l)?"string":"number"}return"date"}r="string"}else r="string";else r="date"}}}return r}})},m8ln:function(e,t){var i;(i=jqxBaseFramework).jqx.jqxWidget("jqxScrollBar","",{}),i.extend(i.jqx._jqxScrollBar.prototype,{defineInstance:function(){var e={height:null,width:null,vertical:!1,min:0,max:1e3,value:0,step:10,largestep:50,thumbMinSize:10,thumbSize:0,thumbStep:"auto",roundedCorners:"all",showButtons:!0,disabled:!1,touchMode:"auto",touchModeStyle:"auto",thumbTouchSize:0,_triggervaluechanged:!0,rtl:!1,areaDownCapture:!1,areaUpCapture:!1,_initialLayout:!1,offset:0,reference:0,velocity:0,frame:0,timestamp:0,ticker:null,amplitude:0,target:0};return this===i.jqx._jqxScrollBar.prototype||i.extend(!0,this,e),e},createInstance:function(e){this.render()},render:function(){this._mouseup=new Date;var e=this,t="<div id='jqxScrollOuterWrap' style='box-sizing: content-box; width:100%; height: 100%; align:left; border: 0px; valign:top; position: relative;'><div id='jqxScrollWrap' style='box-sizing: content-box; width:100%; height: 100%; left: 0px; top: 0px; align:left; valign:top; position: absolute;'><div id='jqxScrollBtnUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><div></div></div><div id='jqxScrollAreaUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollThumb' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollBtnDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><div></div></div></div></div>";if(i.jqx.utilities&&"hidden"==i.jqx.utilities.scrollBarButtonsVisibility&&(this.showButtons=!1),e.WinJS?MSApp.execUnsafeLocalFunction((function(){e.host.html(t)})):this.element.innerHTML=t,null!=this.width&&parseInt(this.width)>0&&this.host.width(parseInt(this.width)),null!=this.height&&parseInt(this.height)>0&&this.host.height(parseInt(this.height)),this.isPercentage=!1,null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.host.width(this.width),this.isPercentage=!0),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.host.height(this.height),this.isPercentage=!0),this.isPercentage){var r=this;i.jqx.utilities.resize(this.host,(function(){r._arrange()}),!1)}this.thumbCapture=!1,this.scrollOuterWrap=i(this.element.firstChild),this.scrollWrap=i(this.scrollOuterWrap[0].firstChild),this.btnUp=i(this.scrollWrap[0].firstChild),this.areaUp=i(this.btnUp[0].nextSibling),this.btnThumb=i(this.areaUp[0].nextSibling),this.arrowUp=i(this.btnUp[0].firstChild),this.areaDown=i(this.btnThumb[0].nextSibling),this.btnDown=i(this.areaDown[0].nextSibling),this.arrowDown=i(this.btnDown[0].firstChild);var n=this.element.id;if(this.btnUp[0].id="jqxScrollBtnUp"+n,this.btnDown[0].id="jqxScrollBtnDown"+n,this.btnThumb[0].id="jqxScrollThumb"+n,this.areaUp[0].id="jqxScrollAreaUp"+n,this.areaDown[0].id="jqxScrollAreaDown"+n,this.scrollWrap[0].id="jqxScrollWrap"+n,this.scrollOuterWrap[0].id="jqxScrollOuterWrap"+n,!this.host.jqxRepeatButton)throw new Error("jqxScrollBar: Missing reference to jqxbuttons.js.");this.btnUp.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDown.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDownInstance=i.data(this.btnDown[0],"jqxRepeatButton").instance,this.btnUpInstance=i.data(this.btnUp[0],"jqxRepeatButton").instance,this.areaUp.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.areaDown.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.btnThumb.jqxButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.propertyChangeMap.value=function(e,t,i,r){isNaN(r)||i!=r&&e.setPosition(parseFloat(r),!0)},this.propertyChangeMap.width=function(e,t,i,r){null!=e.width&&parseInt(e.width)>0&&(e.host.width(parseInt(e.width)),e._arrange())},this.propertyChangeMap.height=function(e,t,i,r){null!=e.height&&parseInt(e.height)>0&&(e.host.height(parseInt(e.height)),e._arrange())},this.propertyChangeMap.theme=function(e,t,i,r){e.setTheme()},this.propertyChangeMap.max=function(e,t,i,r){isNaN(r)||i!=r&&(e.max=parseInt(r),e.min>e.max&&(e.max=e.min+1),e._arrange(),e.setPosition(e.value))},this.propertyChangeMap.min=function(e,t,i,r){isNaN(r)||i!=r&&(e.min=parseInt(r),e.min>e.max&&(e.max=e.min+1),e._arrange(),e.setPosition(e.value))},this.propertyChangeMap.disabled=function(e,t,i,r){i!=r&&(r?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e.btnUp.jqxRepeatButton("disabled",e.disabled),e.btnDown.jqxRepeatButton("disabled",e.disabled),e.btnThumb.jqxButton("disabled",e.disabled))},this.propertyChangeMap.touchMode=function(e,t,i,r){i!=r&&(e._updateTouchBehavior(),!0===r?(e.showButtons=!1,e.refresh()):!1===r&&(e.showButtons=!0,e.refresh()))},this.propertyChangeMap.rtl=function(e,t,i,r){i!=r&&e.refresh()},this.buttonUpCapture=!1,this.buttonDownCapture=!1,this._updateTouchBehavior(),this.setPosition(this.value),this._addHandlers(),this.setTheme()},resize:function(e,t){this.width=e,this.height=t,this._arrange()},_updateTouchBehavior:function(){if(this.isTouchDevice=i.jqx.mobile.isTouchDevice(),1==this.touchMode){if(i.jqx.browser.msie&&i.jqx.browser.version<9)return void this.setTheme();this.isTouchDevice=!0,i.jqx.mobile.setMobileSimulator(this.btnThumb[0]),this._removeHandlers(),this._addHandlers(),this.setTheme()}else 0==this.touchMode&&(this.isTouchDevice=!1)},_addHandlers:function(){var e=this,t=!1;try{("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(t=!0,this._touchSupport=!0)}catch(l){}if((e.isTouchDevice||t)&&(this.addHandler(this.btnThumb,i.jqx.mobile.getTouchEventName("touchend"),(function(t){var i=e.toThemeProperty(e.vertical?"jqx-scrollbar-thumb-state-pressed":"jqx-scrollbar-thumb-state-pressed-horizontal"),r=e.toThemeProperty("jqx-fill-state-pressed");return e.btnThumb.removeClass(i),e.btnThumb.removeClass(r),e.disabled||e.handlemouseup(e,t),!1})),this.addHandler(this.btnThumb,i.jqx.mobile.getTouchEventName("touchstart"),(function(t){if(!e.disabled){if(1==e.touchMode)t.clientX=t.originalEvent.clientX,t.clientY=t.originalEvent.clientY;else{var i=t;i.originalEvent.touches&&i.originalEvent.touches.length?(t.clientX=i.originalEvent.touches[0].clientX,t.clientY=i.originalEvent.touches[0].clientY):(t.clientX=t.originalEvent.clientX,t.clientY=t.originalEvent.clientY)}e.handlemousedown(t),t.preventDefault&&t.preventDefault()}})),i.jqx.mobile.touchScroll(this.element,e.max,(function(t,i,r,n,s){if("visible"==e.host.css("visibility")){if(1==e.touchMode)s.clientX=s.originalEvent.clientX,s.clientY=s.originalEvent.clientY;else{var o=s;o.originalEvent.touches&&o.originalEvent.touches.length?(s.clientX=o.originalEvent.touches[0].clientX,s.clientY=o.originalEvent.touches[0].clientY):(s.clientX=s.originalEvent.clientX,s.clientY=s.originalEvent.clientY)}var a=e.toThemeProperty(e.vertical?"jqx-scrollbar-thumb-state-pressed":"jqx-scrollbar-thumb-state-pressed-horizontal");e.btnThumb.addClass(a),e.btnThumb.addClass(e.toThemeProperty("jqx-fill-state-pressed")),e.thumbCapture=!0,e.handlemousemove(s)}}),e.element.id,e.host,e.host)),!this.isTouchDevice){try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var r=null;if(window.parent&&document.referrer&&(r=document.referrer),r&&-1!=r.indexOf(document.location.host)){var n=function(t){e.disabled||e.handlemouseup(e,t)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",n,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",n)}}}catch(d){}var s="click mouseup mousedown";this.addHandler(this.btnDown,s,(function(t){var i=e.step;switch(Math.abs(e.max-e.min)<=i&&(i=1),e.rtl&&!e.vertical&&(i=-e.step),t.type){case"click":e.buttonDownCapture&&!e.isTouchDevice?e.disabled||e.setPosition(e.value+i):!e.disabled&&e.isTouchDevice&&e.setPosition(e.value+i);break;case"mouseup":if(!e.btnDownInstance.base.disabled&&e.buttonDownCapture)return e.buttonDownCapture=!1,e.btnDown.removeClass(e.toThemeProperty("jqx-scrollbar-button-state-pressed")),e.btnDown.removeClass(e.toThemeProperty("jqx-fill-state-pressed")),e._removeArrowClasses("pressed","down"),e.handlemouseup(e,t),e.setPosition(e.value+i),!1;break;case"mousedown":if(!e.btnDownInstance.base.disabled)return e.buttonDownCapture=!0,e.btnDown.addClass(e.toThemeProperty("jqx-fill-state-pressed")),e.btnDown.addClass(e.toThemeProperty("jqx-scrollbar-button-state-pressed")),e._addArrowClasses("pressed","down"),!1}})),this.addHandler(this.btnUp,s,(function(t){var i=e.step;switch(Math.abs(e.max-e.min)<=i&&(i=1),e.rtl&&!e.vertical&&(i=-e.step),t.type){case"click":e.buttonUpCapture&&!e.isTouchDevice?e.disabled||e.setPosition(e.value-i):!e.disabled&&e.isTouchDevice&&e.setPosition(e.value-i);break;case"mouseup":if(!e.btnUpInstance.base.disabled&&e.buttonUpCapture)return e.buttonUpCapture=!1,e.btnUp.removeClass(e.toThemeProperty("jqx-scrollbar-button-state-pressed")),e.btnUp.removeClass(e.toThemeProperty("jqx-fill-state-pressed")),e._removeArrowClasses("pressed","up"),e.handlemouseup(e,t),e.setPosition(e.value-i),!1;break;case"mousedown":if(!e.btnUpInstance.base.disabled)return e.buttonUpCapture=!0,e.btnUp.addClass(e.toThemeProperty("jqx-fill-state-pressed")),e.btnUp.addClass(e.toThemeProperty("jqx-scrollbar-button-state-pressed")),e._addArrowClasses("pressed","up"),!1}}))}var o="click";if(this.isTouchDevice&&(o=i.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.areaUp,o,(function(t){if(!e.disabled){var i=e.largestep;return e.rtl&&!e.vertical&&(i=-e.largestep),e.setPosition(e.value-i),!1}})),this.addHandler(this.areaDown,o,(function(t){if(!e.disabled){var i=e.largestep;return e.rtl&&!e.vertical&&(i=-e.largestep),e.setPosition(e.value+i),!1}})),this.addHandler(this.areaUp,"mousedown",(function(t){if(!e.disabled)return e.areaUpCapture=!0,!1})),this.addHandler(this.areaDown,"mousedown",(function(t){if(!e.disabled)return e.areaDownCapture=!0,!1})),this.addHandler(this.btnThumb,"mousedown dragstart",(function(t){if("dragstart"===t.type)return!1;e.disabled||e.handlemousedown(t),t.preventDefault&&t.preventDefault()})),this.addHandler(i(document),"mouseup."+this.element.id,(function(t){e.disabled||e.handlemouseup(e,t)})),!this.isTouchDevice&&(this.mousemoveFunc=function(t){e.disabled||e.handlemousemove(t)},this.addHandler(i(document),"mousemove."+this.element.id,this.mousemoveFunc),this.addHandler(i(document),"mouseleave."+this.element.id,(function(t){e.disabled||e.handlemouseleave(t)})),this.addHandler(i(document),"mouseenter."+this.element.id,(function(t){e.disabled||e.handlemouseenter(t)})),!e.disabled)){this.addHandler(this.btnUp,"mouseenter mouseleave",(function(t){"mouseenter"===t.type?e.disabled||e.btnUpInstance.base.disabled||1==e.touchMode||(e.btnUp.addClass(e.toThemeProperty("jqx-scrollbar-button-state-hover")),e.btnUp.addClass(e.toThemeProperty("jqx-fill-state-hover")),e._addArrowClasses("hover","up")):e.disabled||e.btnUpInstance.base.disabled||1==e.touchMode||(e.btnUp.removeClass(e.toThemeProperty("jqx-scrollbar-button-state-hover")),e.btnUp.removeClass(e.toThemeProperty("jqx-fill-state-hover")),e._removeArrowClasses("hover","up"))}));var a=e.toThemeProperty("jqx-scrollbar-thumb-state-hover");e.vertical||(a=e.toThemeProperty("jqx-scrollbar-thumb-state-hover-horizontal")),this.addHandler(this.btnThumb,"mouseenter mouseleave",(function(t){"mouseenter"===t.type?e.disabled||1==e.touchMode||(e.btnThumb.addClass(a),e.btnThumb.addClass(e.toThemeProperty("jqx-fill-state-hover"))):e.disabled||1==e.touchMode||(e.btnThumb.removeClass(a),e.btnThumb.removeClass(e.toThemeProperty("jqx-fill-state-hover")))})),this.addHandler(this.btnDown,"mouseenter mouseleave",(function(t){"mouseenter"===t.type?e.disabled||e.btnDownInstance.base.disabled||1==e.touchMode||(e.btnDown.addClass(e.toThemeProperty("jqx-scrollbar-button-state-hover")),e.btnDown.addClass(e.toThemeProperty("jqx-fill-state-hover")),e._addArrowClasses("hover","down")):e.disabled||e.btnDownInstance.base.disabled||1==e.touchMode||(e.btnDown.removeClass(e.toThemeProperty("jqx-scrollbar-button-state-hover")),e.btnDown.removeClass(e.toThemeProperty("jqx-fill-state-hover")),e._removeArrowClasses("hover","down"))}))}},destroy:function(){var e=this.btnUp,t=this.btnDown,r=this.btnThumb,n=this.areaUp,s=this.areaDown;this.arrowUp.remove(),delete this.arrowUp,this.arrowDown.remove(),delete this.arrowDown,s.removeClass(),n.removeClass(),t.removeClass(),e.removeClass(),r.removeClass(),e.jqxRepeatButton("destroy"),t.jqxRepeatButton("destroy"),n.jqxRepeatButton("destroy"),s.jqxRepeatButton("destroy"),r.jqxButton("destroy");var o=i.data(this.element,"jqxScrollBar");this._removeHandlers(),this.btnUp=null,this.btnDown=null,this.scrollWrap=null,this.areaUp=null,this.areaDown=null,this.scrollOuterWrap=null,delete this.mousemoveFunc,delete this.btnDownInstance,delete this.btnUpInstance,delete this.scrollOuterWrap,delete this.scrollWrap,delete this.btnDown,delete this.areaDown,delete this.areaUp,delete this.btnDown,delete this.btnUp,delete this.btnThumb,delete this.propertyChangeMap.value,delete this.propertyChangeMap.min,delete this.propertyChangeMap.max,delete this.propertyChangeMap.touchMode,delete this.propertyChangeMap.disabled,delete this.propertyChangeMap.theme,delete this.propertyChangeMap,o&&delete o.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_removeHandlers:function(){this.removeHandler(this.btnUp,"mouseenter"),this.removeHandler(this.btnDown,"mouseenter"),this.removeHandler(this.btnThumb,"mouseenter"),this.removeHandler(this.btnUp,"mouseleave"),this.removeHandler(this.btnDown,"mouseleave"),this.removeHandler(this.btnThumb,"mouseleave"),this.removeHandler(this.btnUp,"click"),this.removeHandler(this.btnDown,"click"),this.removeHandler(this.btnDown,"mouseup"),this.removeHandler(this.btnUp,"mouseup"),this.removeHandler(this.btnDown,"mousedown"),this.removeHandler(this.btnUp,"mousedown"),this.removeHandler(this.areaUp,"mousedown"),this.removeHandler(this.areaDown,"mousedown"),this.removeHandler(this.areaUp,"click"),this.removeHandler(this.areaDown,"click"),this.removeHandler(this.btnThumb,"mousedown"),this.removeHandler(this.btnThumb,"dragstart"),this.removeHandler(i(document),"mouseup."+this.element.id),this.mousemoveFunc?this.removeHandler(i(document),"mousemove."+this.element.id,this.mousemoveFunc):this.removeHandler(i(document),"mousemove."+this.element.id),this.removeHandler(i(document),"mouseleave."+this.element.id),this.removeHandler(i(document),"mouseenter."+this.element.id)},_addArrowClasses:function(e,t){"pressed"==e&&(e="selected"),""!=e&&(e="-"+e),this.vertical?("up"!=t&&null!=t||this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-up"+e)),"down"!=t&&null!=t||this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-down"+e))):("up"!=t&&null!=t||this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-left"+e)),"down"!=t&&null!=t||this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-right"+e)))},_removeArrowClasses:function(e,t){"pressed"==e&&(e="selected"),""!=e&&(e="-"+e),this.vertical?("up"!=t&&null!=t||this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-up"+e)),"down"!=t&&null!=t||this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-down"+e))):("up"!=t&&null!=t||this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-left"+e)),"down"!=t&&null!=t||this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-right"+e)))},setTheme:function(){var e=this.btnUp,t=this.btnDown,r=this.btnThumb,n=this.scrollWrap,s=this.arrowUp,o=this.arrowDown;this.scrollWrap[0].className=this.toThemeProperty("jqx-reset"),this.scrollOuterWrap[0].className=this.toThemeProperty("jqx-reset");var a=this.toThemeProperty("jqx-reset");this.areaDown[0].className=a,this.areaUp[0].className=a;var l=this.toThemeProperty("jqx-scrollbar")+" "+this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content");this.host.addClass(l),this.isTouchDevice&&this.host.addClass(this.toThemeProperty("jqx-scrollbar-mobile")),t[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal"),e[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");var d="";if(this.vertical?(s[0].className=a+" "+this.toThemeProperty("jqx-icon-arrow-up"),o[0].className=a+" "+this.toThemeProperty("jqx-icon-arrow-down"),d=this.toThemeProperty("jqx-scrollbar-thumb-state-normal")):(s[0].className=a+" "+this.toThemeProperty("jqx-icon-arrow-left"),o[0].className=a+" "+this.toThemeProperty("jqx-icon-arrow-right"),d=this.toThemeProperty("jqx-scrollbar-thumb-state-normal-horizontal")),d+=" "+this.toThemeProperty("jqx-fill-state-normal"),r[0].className=d,this.disabled?(n.addClass(this.toThemeProperty("jqx-fill-state-disabled")),n.removeClass(this.toThemeProperty("jqx-scrollbar-state-normal"))):(n.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),n.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))),"all"==this.roundedCorners)if(this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.vertical){var h=i.jqx.cssroundedcorners("top");h=this.toThemeProperty(h),e.addClass(h);var u=i.jqx.cssroundedcorners("bottom");u=this.toThemeProperty(u),t.addClass(u)}else{var c=i.jqx.cssroundedcorners("left");c=this.toThemeProperty(c),e.addClass(c);var p=i.jqx.cssroundedcorners("right");p=this.toThemeProperty(p),t.addClass(p)}else{var f=i.jqx.cssroundedcorners(this.roundedCorners);f=this.toThemeProperty(f),e.addClass(f),t.addClass(f)}f=i.jqx.cssroundedcorners(this.roundedCorners),f=this.toThemeProperty(f),r.hasClass(f)||r.addClass(f),"none"===e.css("display")&&(this.showButtons=!1,this.touchModeStyle=!0,r.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch"))),this.isTouchDevice&&0!=this.touchModeStyle&&(this.showButtons=!1,r.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch")))},isScrolling:function(){return null!=this.thumbCapture&&null!=this.buttonDownCapture&&null!=this.buttonUpCapture&&null!=this.areaDownCapture&&null!=this.areaUpCapture&&(this.thumbCapture||this.buttonDownCapture||this.buttonUpCapture||this.areaDownCapture||this.areaUpCapture)},track:function(){var e,t,i;t=(e=Date.now())-this.timestamp,this.timestamp=e,i=this.offset-this.frame,this.frame=this.offset,this.velocity=1e3*i/(1+t)*.2+.2*this.velocity},handlemousedown:function(e){if(null==this.thumbCapture||0==this.thumbCapture){this.thumbCapture=!0;var t=this.btnThumb;null!=t&&(t.addClass(this.toThemeProperty("jqx-fill-state-pressed")),t.addClass(this.toThemeProperty(this.vertical?"jqx-scrollbar-thumb-state-pressed":"jqx-scrollbar-thumb-state-pressed-horizontal")))}var r=this;this.thumbCapture&&i.jqx.scrollAnimation&&(r.reference=parseInt(r.btnThumb[0].style.top),r.offset=parseInt(r.btnThumb[0].style.top),r.vertical||(r.reference=parseInt(r.btnThumb[0].style.left),r.offset=parseInt(r.btnThumb[0].style.left)),r.velocity=r.amplitude=0,r.frame=r.offset,r.timestamp=Date.now(),clearInterval(r.ticker),r.ticker=setInterval((function(){r.track()}),100)),this.dragStartX=e.clientX,this.dragStartY=e.clientY,this.dragStartValue=this.value},toggleHover:function(e,t){},refresh:function(){this._arrange()},_setElementPosition:function(e,t,i){isNaN(t)||parseInt(e[0].style.left)!=parseInt(t)&&(e[0].style.left=t+"px"),isNaN(i)||parseInt(e[0].style.top)!=parseInt(i)&&(e[0].style.top=i+"px")},_setElementTopPosition:function(e,t){isNaN(t)||(e[0].style.top=t+"px")},_setElementLeftPosition:function(e,t){isNaN(t)||(e[0].style.left=t+"px")},handlemouseleave:function(e){var t=this.btnDown;if((this.buttonDownCapture||this.buttonUpCapture)&&(this.btnUp.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),this._removeArrowClasses("pressed")),1==this.thumbCapture){var i=this.btnThumb,r=this.toThemeProperty(this.vertical?"jqx-scrollbar-thumb-state-pressed":"jqx-scrollbar-thumb-state-pressed-horizontal");i.removeClass(r),i.removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemouseenter:function(e){var t=this.btnUp,i=this.btnDown;if(this.buttonUpCapture&&(t.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","up")),this.buttonDownCapture&&(i.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","down")),1==this.thumbCapture){var r=this.btnThumb;r.addClass(this.toThemeProperty(this.vertical?"jqx-scrollbar-thumb-state-pressed":"jqx-scrollbar-thumb-state-pressed-horizontal")),r.addClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemousemove:function(e){var t=this.btnUp,i=this.btnDown;if(null!=i&&null!=t){if(null!=t&&null!=i&&null!=this.buttonDownCapture&&null!=this.buttonUpCapture&&(this.buttonDownCapture&&0==e.which?(i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","down"),this.buttonDownCapture=!1):this.buttonUpCapture&&0==e.which&&(t.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","up"),this.buttonUpCapture=!1)),1!=this.thumbCapture)return!1;var r=this.btnThumb;if(0==e.which&&!this.isTouchDevice&&!this._touchSupport){this.thumbCapture=!1,this._arrange();var n=this.toThemeProperty(this.vertical?"jqx-scrollbar-thumb-state-pressed":"jqx-scrollbar-thumb-state-pressed-horizontal");return r.removeClass(n),r.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),!0}null!=e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation();var s=0;try{s=this.vertical?e.clientY-this.dragStartY:e.clientX-this.dragStartX;var o=this._btnAndThumbSize;this._btnAndThumbSize||(o=this.vertical?t.height()+i.height()+r.height():t.width()+i.width()+r.width());var a=(this.max-this.min)/(this.scrollBarSize-o);if("auto"!=this.thumbStep){if(s*=a,Math.abs(this.dragStartValue+s-this.value)>=parseInt(this.thumbStep)){var l=Math.round(parseInt(s)/this.thumbStep)*this.thumbStep;return this.setPosition(this.rtl&&!this.vertical?this.dragStartValue-l:this.dragStartValue+l),!1}return!1}l=s*=a,this.rtl&&!this.vertical&&(l=-s),this.setPosition(this.dragStartValue+l),this.offset=parseInt(r[0].style.left),this.vertical&&(this.offset=parseInt(r[0].style.top))}catch(d){alert(d)}return!1}},handlemouseup:function(e,t){var r=!1;if(this.thumbCapture){this.thumbCapture=!1;var n=this.btnThumb,s=this.toThemeProperty(this.vertical?"jqx-scrollbar-thumb-state-pressed":"jqx-scrollbar-thumb-state-pressed-horizontal");if(n.removeClass(s),n.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),r=!0,this._mouseup=new Date,i.jqx.scrollAnimation){var o=this;clearInterval(this.ticker),(this.velocity>25||this.velocity<-25)&&(this.amplitude=.8*this.velocity,this.target=Math.round(this.offset+this.amplitude),this.target-=this.reference,this.timestamp=Date.now(),requestAnimationFrame((function e(){var t,i;if(o.amplitude)if(t=Date.now()-o.timestamp,(i=-o.amplitude*Math.exp(-t/325))>.5||i<-.5){var r=n=(o.max-o.min)/(o.scrollBarSize-o._btnAndThumbSize)*(o.target+i);o.rtl&&!o.vertical&&(r=-n),o.setPosition(o.dragStartValue+r),requestAnimationFrame(e)}else{var n;r=n=(o.max-o.min)/(o.scrollBarSize-o._btnAndThumbSize)*(o.target+i),o.rtl&&!o.vertical&&(r=-n),o.setPosition(o.dragStartValue+r)}})))}}if(this.areaDownCapture=this.areaUpCapture=!1,this.buttonUpCapture||this.buttonDownCapture){var a=this.btnUp,l=this.btnDown;this.buttonUpCapture=!1,this.buttonDownCapture=!1,a.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),l.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),a.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),l.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed"),r=!0,this._mouseup=new Date}r&&(null!=t.preventDefault&&t.preventDefault(),null!=t.originalEvent&&(t.originalEvent.mouseHandled=!0),null!=t.stopPropagation&&t.stopPropagation())},setPosition:function(e,t){if(null!=e&&NaN!=e||(e=this.min),e>=this.max&&(e=this.max),e<this.min&&(e=this.min),this.value!==e||1==t){if(e==this.max){var r=new i.Event("complete");this.host.trigger(r)}var n=this.value;if(this._triggervaluechanged){var s=new i.Event("valueChanged");s.previousValue=this.value,s.currentValue=e}this.value=e,this._positionelements(),this._triggervaluechanged&&this.host.trigger(s),this.valueChanged&&this.valueChanged({currentValue:this.value,previousvalue:n})}return e},val:function(e){var t=function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"!=typeof e&&"date"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e};return t(e)||0==arguments.length?this.value:(this.setPosition(e),e)},_getThumbSize:function(e){var t=this.max-this.min,i=0;return t>1?i=e/(t+e)*e:1==t?i=e-1:0==t&&(i=e),this.thumbSize>0&&(i=this.thumbSize),i<this.thumbMinSize&&(i=this.thumbMinSize),Math.min(i,e)},_positionelements:function(){var e=this.areaUp,t=this.areaDown,i=this.btnThumb,r=this._height?this._height:this.host.height(),n=this._width?this._width:this.host.width(),s=this.vertical?n:r;this.showButtons||(s=0);var o=this.vertical?r:n;this.scrollBarSize=o;var a=this._getThumbSize(o-2*s);(a=Math.floor(a))<this.thumbMinSize&&(a=this.thumbMinSize),(NaN==r||r<10)&&(r=10),(NaN==n||n<10)&&(n=10),this.btnSize=s+=2;var l=this._btnAndThumbSize;this._btnAndThumbSize||(l=this.vertical?2*this.btnSize+i.outerHeight():2*this.btnSize+i.outerWidth(),l=Math.round(l));var d=(o-l)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical&&(d=(o-l)/(this.max-this.min)*(this.max-this.value-this.min)),(d=Math.round(d))<0&&(d=0),this.vertical){var h=o-d-l;h<0&&(h=0),t[0].style.height=h+"px",e[0].style.height=d+"px",this._setElementTopPosition(e,s),this._setElementTopPosition(i,s+d),this._setElementTopPosition(t,s+d+a)}else e[0].style.width=d+"px",t[0].style.width=o-d-l>=0?o-d-l+"px":"0px",this._setElementLeftPosition(e,s),this._setElementLeftPosition(i,s+d),this._setElementLeftPosition(t,2+s+d+a)},_arrange:function(){var e=this;if(e._initialLayout)e._initialLayout=!1;else{if(e.min>e.max){var t=e.min;e.min=e.max,e.max=t}if(e.min<0){var i=e.max-e.min;e.min=0,e.max=i}var r=e.areaUp,n=e.areaDown,s=e.btnUp,o=e.btnDown,a=e.btnThumb,l=e.scrollWrap,d=parseInt(e.element.style.height),h=parseInt(e.element.style.width);e.isPercentage&&(d=e.host.height(),h=e.host.width()),isNaN(d)&&(d=0),isNaN(h)&&(h=0),e._width=h,e._height=d;var u=e.vertical?h:d;e.showButtons||(u=0),s[0].style.width=u+"px",s[0].style.height=u+"px",o[0].style.width=u+"px",o[0].style.height=u+"px",e.vertical?l[0].style.width=h+2+"px":l[0].style.height=d+2+"px",e._setElementPosition(s,0,0);var c=u+2;e.vertical?e._setElementPosition(o,0,d-c):e._setElementPosition(o,h-c,0);var p=e.vertical?d:h;e.scrollBarSize=p;var f=e._getThumbSize(p-2*c);(f=Math.floor(f-2))<e.thumbMinSize&&(f=e.thumbMinSize);var m=!1;e.isTouchDevice&&0!=e.touchModeStyle&&(m=!0),e.vertical?(a[0].style.width=h+"px",a[0].style.height=f+"px",m&&0!==e.thumbTouchSize&&(a.css({width:e.thumbTouchSize+"px"}),a.css("margin-left",(e.host.width()-e.thumbTouchSize)/2))):(a[0].style.width=f+"px",a[0].style.height=d+"px",m&&0!==e.thumbTouchSize&&(a.css({height:e.thumbTouchSize+"px"}),a.css("margin-top",(e.host.height()-e.thumbTouchSize)/2))),(NaN==d||d<10)&&(d=10),(NaN==h||h<10)&&(h=10),e.btnSize=u;var g=e.vertical?2*c+(2+parseInt(a[0].style.height)):2*c+(2+parseInt(a[0].style.width));g=Math.round(g),e._btnAndThumbSize=g;var v=(p-g)/(e.max-e.min)*(e.value-e.min);if(e.rtl&&!e.vertical&&(v=(p-g)/(e.max-e.min)*(e.max-e.value-e.min)),v=Math.round(v),(isNaN(v)||v<0||v===-1/0||v===1/0)&&(v=0),e.vertical){var w=p-v-g;w<0&&(w=0),n[0].style.height=w+"px",n[0].style.width=h+"px",r[0].style.height=v+"px",r[0].style.width=h+"px";var y=parseInt(e.element.style.height);e.isPercentage&&(y=e.host.height()),a[0].style.visibility="inherit",(y-3*parseInt(u)<0||y<g)&&(a[0].style.visibility="hidden"),e._setElementPosition(r,0,c),e._setElementPosition(a,0,c+v),e._setElementPosition(n,0,c+v+f)}else{v>0&&(r[0].style.width=v+"px"),d>0&&(r[0].style.height=d+"px");var b=p-v-g;b<0&&(b=0),n[0].style.width=b+"px",n[0].style.height=d+"px";var x=parseInt(e.element.style.width);e.isPercentage&&(x=e.host.width()),a[0].style.visibility="inherit",(x-3*parseInt(u)<0||x<g)&&(a[0].style.visibility="hidden"),e._setElementPosition(r,c,0),e._setElementPosition(a,c+v,0),e._setElementPosition(n,c+v+f,0)}}}})},o6h3:function(e,t){var i;(i=jqxBaseFramework).jqx.cssroundedcorners=function(e){var t={all:"jqx-rc-all",top:"jqx-rc-t",bottom:"jqx-rc-b",left:"jqx-rc-l",right:"jqx-rc-r","top-right":"jqx-rc-tr","top-left":"jqx-rc-tl","bottom-right":"jqx-rc-br","bottom-left":"jqx-rc-bl"};for(var i in t)if(t.hasOwnProperty(i)&&e==i)return t[i]},i.jqx.jqxWidget("jqxButton","",{}),i.extend(i.jqx._jqxButton.prototype,{defineInstance:function(){var e={type:"",cursor:"arrow",roundedCorners:"all",disabled:!1,height:null,width:null,overrideTheme:!1,enableHover:!0,enableDefault:!0,enablePressed:!0,imgPosition:"center",imgSrc:"",imgWidth:16,imgHeight:16,value:null,textPosition:"",textImageRelation:"overlay",rtl:!1,_ariaDisabled:!1,_scrollAreaButton:!1,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return this===i.jqx._jqxButton.prototype||i.extend(!0,this,e),e},_addImage:function(e){var t=this;if("input"==t.element.nodeName.toLowerCase()||"button"==t.element.nodeName.toLowerCase()||"div"==t.element.nodeName.toLowerCase()){if(t._img)t._img.setAttribute("src",t.imgSrc),t._img.setAttribute("width",t.imgWidth),t._img.setAttribute("height",t.imgHeight),t._text.innerHTML=t.value;else{t.field=t.element,t.field.className&&(t._className=t.field.className);var r={title:t.field.title},n=null;t.field.getAttribute("value")?n=t.field.getAttribute("value"):"input"!=t.element.nodeName.toLowerCase()&&(n=t.element.innerHTML),t.value&&(n=t.value),r.id=t.field.id.length?t.field.id.replace(/[^\w]/g,"_")+"_"+e:i.jqx.utilities.createId()+"_"+e;var s=document.createElement("div");s.id=r.id,s.title=r.title,s.style.cssText=t.field.style.cssText,s.style.boxSizing="border-box";var o=document.createElement("img");o.setAttribute("src",t.imgSrc),o.setAttribute("width",t.imgWidth),o.setAttribute("height",t.imgHeight),s.appendChild(o),t._img=o;var a=document.createElement("span");n&&(a.innerHTML=n,t.value=n),s.appendChild(a),t._text=a,t.field.style.display="none",t.field.parentNode&&t.field.parentNode.insertBefore(s,t.field.nextSibling);var l=t.host.data();t.host=i(s),t.host.data(l),t.element=s,t.element.id=t.field.id,t.field.id=r.id;var d=new i(t.element),h=new i(t.field);if(t._className&&(d.addClass(t._className),h.removeClass(t._className)),t.field.tabIndex){var u=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=u}}t._img.style.display=t.imgSrc?"inline":"none",t._text.style.display=t.value?"inline":"none",t._positionTextAndImage()}},_positionTextAndImage:function(){var e=this,t=e.element.offsetWidth,i=e.element.offsetHeight,r=e.imgWidth,n=e.imgHeight;""==e.imgSrc&&(r=0,n=0);var s=e._text.offsetWidth,o=e._text.offsetHeight,a=0,l=0;switch(e.textImageRelation){case"imageBeforeText":case"textBeforeImage":a=r+s+8+4+8,l=Math.max(n,o)+8+4+8;break;case"imageAboveText":case"textAboveImage":a=Math.max(r,s)+8,l=n+o+4+8+8;break;case"overlay":a=Math.max(r,s)+8,l=Math.max(n,o)+8}e.width||(e.element.style.width=a+"px",t=a),e.height||(e.element.style.height=l+"px",i=l),e._img.style.position="absolute",e._text.style.position="absolute",e.element.style.position="relative",e.element.style.overflow="hidden";var d={},h={},u=function(e,t,i,r,n){switch(t.width<r&&(t.width=r),t.height<n&&(t.height=n),i){case"left":e.style.left=t.left+"px",e.style.top=t.top+t.height/2-n/2+"px";break;case"topLeft":e.style.left=t.left+"px",e.style.top=t.top+"px";break;case"bottomLeft":e.style.left=t.left+"px",e.style.top=t.top+t.height-n+"px";break;default:case"center":e.style.left=t.left+t.width/2-r/2+"px",e.style.top=t.top+t.height/2-n/2+"px";break;case"top":e.style.left=t.left+t.width/2-r/2+"px",e.style.top=t.top+"px";break;case"bottom":e.style.left=t.left+t.width/2-r/2+"px",e.style.top=t.top+t.height-n+"px";break;case"right":e.style.left=t.left+t.width-r+"px",e.style.top=t.top+t.height/2-n/2+"px";break;case"topRight":e.style.left=t.left+t.width-r+"px",e.style.top=t.top+"px";break;case"bottomRight":e.style.left=t.left+t.width-r+"px",e.style.top=t.top+t.height-n+"px"}},c=0,p=0,f=t,m=i,g=(f-c)/2,v=(m-p)/2,w=e._img,y=e._text,b=m-p,x=f-c;switch(c+=4,p+=4,f=f-4-2,x=x-8-2,b=b-8-2,e.textImageRelation){case"imageBeforeText":switch(e.imgPosition){case"left":case"topLeft":case"bottomLeft":h={left:c,top:p,width:c+r,height:b},d={left:c+r+4,top:p,width:x-r-4,height:b};break;case"center":case"top":case"bottom":d={left:(h={left:g-s/2-r/2-2,top:p,width:r,height:b}).left+r+4,top:p,width:f-h.left-r-4,height:b};break;case"right":case"topRight":case"bottomRight":d={left:(h={left:f-s-r-4,top:p,width:r,height:b}).left+r+4,top:p,width:f-h.left-r-4,height:b}}u(w,h,e.imgPosition,r,n),u(y,d,e.textPosition,s,o);break;case"textBeforeImage":switch(e.textPosition){case"left":case"topLeft":case"bottomLeft":d={left:c,top:p,width:c+s,height:b},h={left:c+s+4,top:p,width:x-s-4,height:b};break;case"center":case"top":case"bottom":h={left:(d={left:g-s/2-r/2-2,top:p,width:s,height:b}).left+s+4,top:p,width:f-d.left-s-4,height:b};break;case"right":case"topRight":case"bottomRight":h={left:(d={left:f-s-r-4,top:p,width:s,height:b}).left+s+4,top:p,width:f-d.left-s-4,height:b}}u(w,h,e.imgPosition,r,n),u(y,d,e.textPosition,s,o);break;case"imageAboveText":switch(e.imgPosition){case"topRight":case"top":case"topLeft":h={left:c,top:p,width:x,height:n},d={left:c,top:p+n+4,width:x,height:b-n-4};break;case"left":case"center":case"right":d={left:c,top:(h={left:c,top:v-n/2-o/2-2,width:x,height:n}).top+4+n,width:x,height:b-h.top-4-n};break;case"bottomLeft":case"bottom":case"bottomRight":d={left:c,top:(h={left:c,top:m-n-o-4,width:x,height:n}).top+4+n,width:x,height:o}}u(w,h,e.imgPosition,r,n),u(y,d,e.textPosition,s,o);break;case"textAboveImage":switch(e.textPosition){case"topRight":case"top":case"topLeft":d={left:c,top:p,width:x,height:o},h={left:c,top:p+o+4,width:x,height:b-o-4};break;case"left":case"center":case"right":h={left:c,top:(d={left:c,top:v-n/2-o/2-2,width:x,height:o}).top+4+o,width:x,height:b-d.top-4-o};break;case"bottomLeft":case"bottom":case"bottomRight":h={left:c,top:(d={left:c,top:m-n-o-4,width:x,height:o}).top+4+o,width:x,height:n}}u(w,h,e.imgPosition,r,n),u(y,d,e.textPosition,s,o);break;case"overlay":default:d={left:c,top:p,width:x,height:b},u(w,h={left:c,top:p,width:x,height:b},e.imgPosition,r,n),u(y,d,e.textPosition,s,o)}},createInstance:function(e){var t=this;t._setSize(),t.isMaterialized(),t.buttonObj=new i(t.element),(""!=t.imgSrc||""!=t.textPosition||t.element.value&&t.element.value.indexOf("<")>=0||null!=t.value)&&(t.refresh(),t._addImage("jqxButton"),t.buttonObj=new i(t.element)),t._ariaDisabled||t.element.setAttribute("role","button"),""!==t.type&&t.element.setAttribute("type",t.type),t.overrideTheme||(t.buttonObj.addClass(t.toThemeProperty(i.jqx.cssroundedcorners(t.roundedCorners))),t.enableDefault&&t.buttonObj.addClass(t.toThemeProperty("jqx-button")),t.buttonObj.addClass(t.toThemeProperty("jqx-widget"))),t.isTouchDevice=i.jqx.mobile.isTouchDevice(),t._ariaDisabled||i.jqx.aria(this),"arrow"!=t.cursor&&(t.element.style.cursor=t.disabled?"arrow":t.cursor);var r="mouseenter mouseleave mousedown focus blur";t._scrollAreaButton&&(r="mousedown"),t.isTouchDevice&&(t.addHandler(t.host,i.jqx.mobile.getTouchEventName("touchstart"),(function(e){t.isPressed=!0,t.refresh()})),t.addHandler(i(document),i.jqx.mobile.getTouchEventName("touchend")+"."+t.element.id,(function(e){t.isPressed=!1,t.refresh()}))),t.addHandler(t.host,r,(function(e){switch(e.type){case"mouseenter":t.isTouchDevice||!t.disabled&&t.enableHover&&(t.isMouseOver=!0,t.refresh());break;case"mouseleave":t.isTouchDevice||!t.disabled&&t.enableHover&&(t.isMouseOver=!1,t.refresh());break;case"mousedown":t.disabled||(t.isPressed=!0,t.refresh());break;case"focus":t.disabled||(t.isFocused=!0,t.refresh());break;case"blur":t.disabled||(t.isFocused=!1,t.refresh())}})),t.mouseupfunc=function(e){t.disabled||(t.isPressed||t.isMouseOver)&&(t.isPressed=!1,t.refresh())},t.addHandler(document,"mouseup.button"+t.element.id,t.mouseupfunc);try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.that){var n="";window.parent&&document.referrer&&(n=document.referrer),-1!=n.indexOf(document.location.host)&&window.top.document&&window.top.document.addEventListener("mouseup",t._topDocumentMouseupHandler)}}catch(s){}t.propertyChangeMap.roundedCorners=function(e,t,r,n){e.buttonObj.removeClass(e.toThemeProperty(i.jqx.cssroundedcorners(r))),e.buttonObj.addClass(e.toThemeProperty(i.jqx.cssroundedcorners(n)))},t.propertyChangeMap.disabled=function(e,t,r,n){r!=n&&(e.refresh(),e.element.setAttribute("disabled",n),e.element.disabled=n,e.element.style.cursor=n?"default":e.cursor,i.jqx.aria(e,"aria-disabled",e.disabled))},t.propertyChangeMap.rtl=function(e,t,i,r){i!=r&&e.refresh()},t.propertyChangeMap.template=function(e,t,i,r){i!=r&&(e.buttonObj.removeClass(e.toThemeProperty("jqx-"+i)),e.refresh())},t.propertyChangeMap.theme=function(e,t,r,n){e.buttonObj.removeClass(e.element),r&&(e.buttonObj.removeClass("jqx-button-"+r),e.buttonObj.removeClass("jqx-widget-"+r),e.buttonObj.removeClass("jqx-fill-state-normal-"+r),e.buttonObj.removeClass(e.toThemeProperty(i.jqx.cssroundedcorners(e.roundedCorners))+"-"+r)),e.enableDefault&&e.buttonObj.addClass(e.toThemeProperty("jqx-button")),e.buttonObj.addClass(e.toThemeProperty("jqx-widget")),e.overrideTheme||e.buttonObj.addClass(e.toThemeProperty(i.jqx.cssroundedcorners(e.roundedCorners))),e._oldCSSCurrent=null,e.refresh()},t.disabled&&(t.element.disabled=!0,t.element.setAttribute("disabled","true"))},resize:function(e,t){this.width=e,this.height=t,this._setSize()},val:function(e){var t=this,r=t.host.find("input");return r.length>0?(0==arguments.length||"object"==typeof e||(r.val(e),t.refresh()),r.val()):0==arguments.length||"object"==typeof e?"button"==t.element.nodeName.toLowerCase()?i(t.element).text():t.element.value:arguments.length>0&&t._text?(t._text.innerHTML=arguments[0],void t.refresh()):(arguments.length>0&&"DIV"===t.element.nodeName&&(t.element.innerHTML=arguments[0],t.refresh()),t.element.value=arguments[0],"button"==t.element.nodeName.toLowerCase()&&i(t.element).html(arguments[0]),void t.refresh())},_setSize:function(){var e=this,t=e.height,i=e.width;t&&(isNaN(t)||(t+="px"),e.element.style.height=t),i&&(isNaN(i)||(i+="px"),e.element.style.width=i)},_removeHandlers:function(){var e=this;e.removeHandler(e.host,"selectstart"),e.removeHandler(e.host,"click"),e.removeHandler(e.host,"focus"),e.removeHandler(e.host,"blur"),e.removeHandler(e.host,"mouseenter"),e.removeHandler(e.host,"mouseleave"),e.removeHandler(e.host,"mousedown"),e.removeHandler(i(document),"mouseup.button"+e.element.id,e.mouseupfunc),e.isTouchDevice&&(e.removeHandler(e.host,i.jqx.mobile.getTouchEventName("touchstart")),e.removeHandler(i(document),i.jqx.mobile.getTouchEventName("touchend")+"."+e.element.id)),e.mouseupfunc=null,delete e.mouseupfunc},focus:function(){this.host.focus()},destroy:function(){var e=this;e._removeHandlers();var t=i.data(e.element,"jqxButton");t&&delete t.instance,e.host.removeClass(),e.host.removeData(),e.host.remove(),delete e.set,delete e.get,delete e.call,delete e.element,delete e.host},render:function(){this.refresh()},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e._setSize(),e.refresh())},propertyChangedHandler:function(e,t,i,r){null!=this.isInitialized&&0!=this.isInitialized&&r!=i&&(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("type"===t&&e.element.setAttribute("type",r),"textImageRelation"!=t&&"textPosition"!=t&&"imgPosition"!=t||(e._img?e._positionTextAndImage():e._addImage("jqxButton")),"imgSrc"!=t&&"imgWidth"!=t&&"imgHeight"!=t||e._addImage("jqxButton"),"value"===t&&e.val(r),"width"!=t&&"height"!=t||(e._setSize(),e.refresh())))},refresh:function(){var e=this;if(!e.overrideTheme){var t=e.toThemeProperty("jqx-fill-state-focus"),i=e.toThemeProperty("jqx-fill-state-disabled"),r=e.toThemeProperty("jqx-fill-state-normal");e.enableDefault||(r="");var n=e.toThemeProperty("jqx-fill-state-hover"),s=e.toThemeProperty("jqx-fill-state-pressed"),o=e.toThemeProperty("jqx-fill-state-pressed");e.enablePressed||(s="");var a="";if(e.host){if(e.element.disabled=e.disabled,e.disabled)return e._oldCSSCurrent&&e.buttonObj.removeClass(e._oldCSSCurrent),a=r+" "+i,"default"!==e.template&&""!==e.template&&(a+=" jqx-"+e.template,""!=e.theme&&(a+=" jqx-"+e.template+"-"+e.theme)),e.buttonObj.addClass(a),void(e._oldCSSCurrent=a);a=e.isMouseOver&&!e.isTouchDevice?e.isPressed?o:n:e.isPressed?s:r,e.isFocused&&(a+=" "+t),"default"!==e.template&&""!==e.template&&(a+=" jqx-"+e.template,""!=e.theme&&(a+=" jqx-"+e.template+"-"+e.theme)),a!=e._oldCSSCurrent&&(e._oldCSSCurrent&&e.buttonObj.removeClass(e._oldCSSCurrent),e.buttonObj.addClass(a),e._oldCSSCurrent=a),e.rtl&&(e.buttonObj.addClass(e.toThemeProperty("jqx-rtl")),e.element.style.direction="rtl"),e.isMaterialized()&&e.host.addClass("buttonRipple")}}}}),i.jqx.jqxWidget("jqxLinkButton","",{}),i.extend(i.jqx._jqxLinkButton.prototype,{defineInstance:function(){this.disabled=!1,this.height=null,this.width=null,this.rtl=!1,this.href=null},createInstance:function(e){var t=this;this.host.onselectstart=function(){return!1},this.host.attr("role","button");var r=this.height||this.element.offsetHeight,n=this.width||this.element.offsetWidth;this.href=this.element.getAttribute("href"),this.target=this.element.getAttribute("target"),this.content=this.host.text(),this.element.innerHTML="";var s=document.createElement("input");s.type="button",s.className="jqx-wrapper "+this.toThemeProperty("jqx-reset"),this._setSize(s,n,r),s.value=this.content,new i(this.element).addClass(this.toThemeProperty("jqx-link")),this.element.style.color="inherit",this.element.appendChild(s),this._setSize(s,n,r);var o=null==e?{}:e[0]||{};i(s).jqxButton(o),this.wrapElement=s,this.disabled&&(this.element.disabled=!0),this.propertyChangeMap.disabled=function(e,t,i,r){e.element.disabled=r,e.wrapElement.jqxButton({disabled:r})},this.addHandler(i(s),"click",(function(e){return this.disabled||t.onclick(e),!1}))},_setSize:function(e,t,i){i&&(isNaN(i)||(i+="px"),e.style.height=i),t&&(isNaN(t)||(t+="px"),e.style.width=t)},onclick:function(e){null!=this.target?window.open(this.href,this.target):window.location=this.href}}),i.jqx.jqxWidget("jqxRepeatButton","jqxButton",{}),i.extend(i.jqx._jqxRepeatButton.prototype,{defineInstance:function(){this.delay=50},createInstance:function(e){var t=this,r=i.jqx.mobile.isTouchDevice(),n=r?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,s=r?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.addHandler(i(document),n,(function(e){null!=t.timeout&&(clearTimeout(t.timeout),t.timeout=null,t.refresh()),null!=t.timer&&(clearInterval(t.timer),t.timer=null,t.refresh())})),this.addHandler(this.base.host,s,(function(e){null!=t.timer&&clearInterval(t.timer),t.timeout=setTimeout((function(){clearInterval(t.timer),t.timer=setInterval((function(e){t.ontimer(e)}),t.delay)}),150)})),this.mousemovefunc=function(e){r||0==e.which&&null!=t.timer&&(clearInterval(t.timer),t.timer=null)},this.addHandler(this.base.host,"mousemove",this.mousemovefunc)},destroy:function(){var e=i.jqx.mobile.isTouchDevice(),t=e?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,r=e?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.removeHandler(this.base.host,"mousemove",this.mousemovefunc),this.removeHandler(this.base.host,r),this.removeHandler(i(document),t),this.timer=null,delete this.mousemovefunc,delete this.timer;var n=i.data(this.base.element,"jqxRepeatButton");n&&delete n.instance,i(this.base.element).removeData(),this.base.destroy(),delete this.base},stop:function(){clearInterval(this.timer),this.timer=null},ontimer:function(e){e=new i.Event("click"),null!=this.base&&null!=this.base.host&&this.base.host.trigger(e)}}),i.jqx.jqxWidget("jqxToggleButton","jqxButton",{}),i.extend(i.jqx._jqxToggleButton.prototype,{defineInstance:function(){this.toggled=!1,this.uiToggle=!0,this.aria={"aria-checked":{name:"toggled",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(e){var t=this;t.base.overrideTheme=!0,t.isTouchDevice=i.jqx.mobile.isTouchDevice(),i.jqx.aria(this),t.propertyChangeMap.roundedCorners=function(e,t,r,n){e.base.buttonObj.removeClass(e.toThemeProperty(i.jqx.cssroundedcorners(r))),e.base.buttonObj.addClass(e.toThemeProperty(i.jqx.cssroundedcorners(n)))},t.propertyChangeMap.toggled=function(e,t,i,r){e.refresh()},t.propertyChangeMap.disabled=function(e,t,i,r){e.base.disabled=r,e.refresh()},t.addHandler(t.base.host,"click",(function(e){!t.base.disabled&&t.uiToggle&&t.toggle()})),t.isTouchDevice||(t.addHandler(t.base.host,"mouseenter",(function(e){t.base.disabled||t.refresh()})),t.addHandler(t.base.host,"mouseleave",(function(e){t.base.disabled||t.refresh()}))),t.addHandler(t.base.host,"mousedown",(function(e){t.base.disabled||t.refresh()})),t.addHandler(i(document),"mouseup.togglebutton"+t.base.element.id,(function(e){t.base.disabled||t.refresh()}))},destroy:function(){this._removeHandlers(),this.base.destroy()},_removeHandlers:function(){this.removeHandler(this.base.host,"click"),this.removeHandler(this.base.host,"mouseenter"),this.removeHandler(this.base.host,"mouseleave"),this.removeHandler(this.base.host,"mousedown"),this.removeHandler(i(document),"mouseup.togglebutton"+this.base.element.id)},toggle:function(){this.toggled=!this.toggled,this.refresh(),i.jqx.aria(this,"aria-checked",this.toggled)},unCheck:function(){this.toggled=!1,this.refresh()},check:function(){this.toggled=!0,this.refresh()},refresh:function(){var e=this,t=e.base.toThemeProperty("jqx-fill-state-disabled"),i=e.base.toThemeProperty("jqx-fill-state-normal");e.base.enableDefault||(i="");var r=e.base.toThemeProperty("jqx-fill-state-hover"),n=e.base.toThemeProperty("jqx-fill-state-pressed"),s=e.base.toThemeProperty("jqx-fill-state-pressed"),o="";e.base.element.disabled=e.base.disabled,e.base.disabled?e.base.buttonObj.addClass(o=i+" "+t):(o=e.base.isMouseOver&&!e.isTouchDevice?e.base.isPressed||e.toggled?s:r:e.base.isPressed||e.toggled?n:i,"default"!==e.base.template&&""!==e.base.template&&(o+=" jqx-"+e.base.template,""!=e.base.theme&&(o+=" jqx-"+e.template+"-"+e.base.theme)),e.base.buttonObj.hasClass(t)&&t!=o&&e.base.buttonObj.removeClass(t),e.base.buttonObj.hasClass(i)&&i!=o&&e.base.buttonObj.removeClass(i),e.base.buttonObj.hasClass(r)&&r!=o&&e.base.buttonObj.removeClass(r),e.base.buttonObj.hasClass(n)&&n!=o&&e.base.buttonObj.removeClass(n),e.base.buttonObj.hasClass(s)&&s!=o&&e.base.buttonObj.removeClass(s),e.base.buttonObj.hasClass(o)||e.base.buttonObj.addClass(o))},_topDocumentMouseupHandler:function(e){this.isPressed=!1,this.refresh()}})},oUPQ:function(e,t){var i;(i=jqxBaseFramework).jqx.jqxWidget("jqxMenu","",{}),i.extend(i.jqx._jqxMenu.prototype,{defineInstance:function(){var e={items:new Array,mode:"horizontal",width:null,height:null,minimizeWidth:"auto",easing:"easeInOutSine",animationShowDuration:200,animationHideDuration:200,autoCloseInterval:0,animationHideDelay:100,animationShowDelay:10,menuElements:new Array,autoSizeMainItems:!1,autoCloseOnClick:!0,autoCloseOnMouseLeave:!0,enableRoundedCorners:!0,disabled:!1,autoOpenPopup:!0,enableHover:!0,autoOpen:!0,autoGenerate:!0,clickToOpen:!1,showTopLevelArrows:!1,touchMode:"auto",source:null,popupZIndex:1e3,rtl:!1,keyboardNavigation:!1,lockFocus:!1,title:"",events:["shown","closed","itemclick","initialized","open","close"]};return this===i.jqx._jqxMenu.prototype||i.extend(!0,this,e),e},createInstance:function(e){var t=this;if(this.host.attr("role","menubar"),i.jqx.utilities.resize(this.host,(function(){t.refresh()}),!1,"popup"!=this.mode),"auto"!=this.minimizeWidth&&null!=this.minimizeWidth&&this.width&&-1==this.width.toString().indexOf("%")&&i(window).resize((function(){t.refresh()})),this.host.css("outline","none"),this.source&&null!=this.source){var r=this.loadItems(this.source);this.element.innerHTML=r}if(this._tmpHTML=this.element.innerHTML,this.element.innerHTML.indexOf("UL")){var n=this.host.find("ul:first");n.length>0&&this._createMenu(n[0])}this.host.data("autoclose",{}),this._render(),this._setSize(),i.jqx.browser.msie&&i.jqx.browser.version<8&&this.host.attr("hideFocus",!0)},focus:function(){try{if("popup"===this.mode&&this.keyboardNavigation&&this.host.closest("div.jqx-menu-wrapper").focus(),this.keyboardNavigation){this.host.focus();var e=this,t=function(){if(i.jqx.isHidden(i(e.items[0].element))){var t=e._nextVisibleItem(e.items[0],0);t&&(i(t.element).addClass(e.toThemeProperty("jqx-fill-state-focus")),e.activeItem=t)}else i(e.items[0].element).addClass(e.toThemeProperty("jqx-fill-state-focus")),e.activeItem=e.items[0]};this.activeItem?i.jqx.isHidden(i(this.activeItem.element))?(i(this.activeItem.element).removeClass(this.toThemeProperty("jqx-fill-state-focus")),t()):i(this.activeItem.element).addClass(this.toThemeProperty("jqx-fill-state-focus")):t()}}catch(r){}},loadItems:function(e,t){if(null!=e){if(0==e.length)return"";var r=this;this.items=new Array;var n='<ul class="jqx-menu-ul">';return t&&(n='<ul class="jqx-menu-ul" style="width:'+t+';">'),i.map(e,(function(e){if(null==e)return null;n+=r._parseItem(e)})),n+="</ul>"}},_parseItem:function(e){var t="";if(null==e)return null;var i=e.label;!e.label&&e.html&&(i=e.html),i||(i="Item"),"string"==typeof e&&(i=e);var r=!1;return null!=e.disabled&&e.disabled&&(r=!0),t+="<li",r&&(t+=' item-disabled="true" '),e.label&&!e.html&&(t+=' item-label="'+i+'" '),null!=e.value&&(t+=' item-value="'+e.value+'" '),null!=e.id&&(t+=' id="'+e.id+'" '),t+=">"+i,e.items&&(t+=e.subMenuWidth?this.loadItems(e.items,e.subMenuWidth):this.loadItems(e.items)),t+"</li>"},_setSize:function(){if(null!=this.width&&-1!=this.width.toString().indexOf("%")||null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")||null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)||this.host.height(this.height),null===this.height&&this.host.height("auto"),null!=this.minimizeWidth&&"popup"!=this.mode){var e=i(window).width();if(!i.jqx.response){var t=!1;navigator.userAgent.match(/Windows|Linux|MacOS/)&&(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0||(t=!0));var r=this.minimizeWidth;if(t&&"auto"==this.minimizeWidth)return}if("auto"==this.minimizeWidth&&i.jqx.response){var n=new i.jqx.response;"Phone"!=n.device.type&&"Tablet"!=n.device.type||this.minimized||this.minimize()}else e<r&&!this.minimized?this.minimize():this.minimized&&e>=r&&this.restore()}},minimize:function(){if(!this.minimized){var e=this;if(this.host.addClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!0,this._tmpMode=this.mode,this.mode="simple",(n=this.host.closest("div.jqx-menu-wrapper")).remove(),i("#menuWrapper"+this.element.id).remove(),i.each(this.items,(function(){i(this.element),i(this.subMenuElement).closest("div.jqx-menu-popup").remove()})),this.source){var t=this.loadItems(this.source);this.element.innerHTML=t,this._tmpHTML=this.element.innerHTML}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var r=this.host.find("ul:first");r.length>0&&this._createMenu(r[0])}this._render();var n,s=this.host.find("ul:first");s.wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; padding: 0px; display: none; margin: 0px; height: auto; width: auto; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>'),(n=s.closest("div.jqx-menu-wrapper"))[0].id="menuWrapper"+this.element.id,n.detach(),n.appendTo(i(document.body)),n.addClass(this.toThemeProperty("jqx-widget")),n.addClass(this.toThemeProperty("jqx-menu")),n.addClass(this.toThemeProperty("jqx-menu-minimized")),n.addClass(this.toThemeProperty("jqx-widget-header")),s.children().hide(),n.hide(),n.find("ul").addClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.minimizedItem=i("<div></div>"),this.minimizedItem.addClass(this.toThemeProperty("jqx-item")),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-item-top")),this.addHandler(n,"keydown",(function(t){return e.handleKeyDown(t)})),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-minimized-button")),this.minimizedItem.prependTo(this.host),this.titleElement=i("<div>"+this.title+"</div>"),this.titleElement.addClass(this.toThemeProperty("jqx-item")),this.titleElement.addClass(this.toThemeProperty("jqx-menu-title")),this.titleElement.prependTo(this.host),i("<div style='clear:both;'></div>").insertAfter(this.minimizedItem),e.minimizedHidden=!0,this.addHandler(i(window),"orientationchange.jqxmenu"+this.element.id,(function(t){setTimeout((function(){if(!e.minimizedHidden){var t=n.width(),i=!1;t=n.width(),"right"==e.minimizedItem.css("float")&&(i=!0),n.css("top",e.host.coord().top+e.host.height()),n.css({left:i?e.host.coord().left+e.host.width()-t:e.host.coord().left})}}),25)})),this.addHandler(this.minimizedItem,"click",(function(t){!function(t){if(e.minimizedHidden){n.find("ul:first").children().show(),e.minimizedHidden=!1,n.show(),n.css("opacity",0),n.css("left",-n.outerWidth());var i=!1,r=n.width();"right"==e.minimizedItem.css("float")&&(n.css("left",e.host.coord().left+e.host.width()+r),i=!0),n.css("top",e.host.coord().top+e.host.height()),n.animate({left:i?e.host.coord().left+e.host.width()-r:e.host.coord().left,opacity:.95},e.animationShowDuration,(function(){}))}else!function(t){e.minimizedHidden=!0,e.minimizedItem.show();var i=!1;"right"==e.minimizedItem.css("float")&&(i=!0),n.animate({left:i?e.host.coord().left+e.host.width()+n.width():-n.outerWidth(),opacity:0},e.animationHideDuration,(function(){n.find("ul:first").children().hide(),n.hide()}))}();e._raiseEvent("2",{type:"mouse",item:e.minimizedItem[0],event:t}),e._setSize()}(t)}))}},restore:function(){if(this.minimized){if(this.host.find("ul").removeClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.host.removeClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!1,this.mode=this._tmpMode,this.minimizedItem&&this.minimizedItem.remove(),i("#menuWrapper"+this.element.id).remove(),this.source){var e=this.loadItems(this.source);this.element.innerHTML=e,this._tmpHTML=e}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var t=this.host.find("ul:first");t.length>0&&this._createMenu(t[0])}this._setSize(),this._render()}},isTouchDevice:function(){if(null!=this._isTouchDevice)return this._isTouchDevice;var e=i.jqx.mobile.isTouchDevice();return 1==this.touchMode?e=!0:0==this.touchMode&&(e=!1),e&&(this.host.addClass(this.toThemeProperty("jqx-touch")),i(".jqx-menu-item").addClass(this.toThemeProperty("jqx-touch"))),this._isTouchDevice=e,e},refresh:function(e){e||this._setSize()},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_closeAll:function(e){var t=null!=e?e.data:this;i.each(t.items,(function(){var e=this;1==e.hasItems&&e.isOpen&&t._closeItem(t,e)})),"popup"==t.mode&&null!=e&&(t._isRightClick(e)||t.close())},closeItem:function(e){if(null==e)return!1;var t=document.getElementById(e),r=this;return i.each(r.items,(function(){var e=this;1==e.isOpen&&e.element==t&&r._closeItem(r,e)})),!0},openItem:function(e){if(null==e)return!1;var t=document.getElementById(e),r=this;return i.each(r.items,(function(){var e=this;0==e.isOpen&&e.element==t&&(r._openItem(r,e),e.parentId&&r.openItem(e.parentId))})),!0},_getClosedSubMenuOffset:function(e){var t=i(e.subMenuElement),r=-t.outerHeight(),n=-t.outerWidth(),s=0==e.level&&"horizontal"==this.mode;switch(s?n=0:r=0,e.openVerticalDirection){case"up":case"center":r=t.outerHeight()}switch(e.openHorizontalDirection){case this._getDir("left"):case"center":n=s?0:t.outerWidth()}return{left:n,top:r}},_closeItem:function(e,t,r,n){if(null==e||null==t)return!1;var s=i(t.subMenuElement),o=0==t.level&&"horizontal"==this.mode,a=this._getClosedSubMenuOffset(t),l=a.top,d=a.left,h=(i(t.element),s.closest("div.jqx-menu-popup"));if(null!=h){var u=e.animationHideDelay;1==n&&(u=0),s.data("timer")&&null!=s.data("timer").show&&(clearTimeout(s.data("timer").show),s.data("timer").show=null);var c=function(){t.isOpen=!1,o?s.stop().animate({top:l},e.animationHideDuration,(function(){i(t.element).removeClass(e.toThemeProperty("jqx-fill-state-pressed")),i(t.element).removeClass(e.toThemeProperty("jqx-menu-item-top-selected")),i(t.element).removeClass(e.toThemeProperty("jqx-rc-b-expanded")),h.removeClass(e.toThemeProperty("jqx-rc-t-expanded"));var r=i(t.arrow);r.length>0&&e.showTopLevelArrows&&(r.removeClass(),"down"==t.openVerticalDirection?(r.addClass(e.toThemeProperty("jqx-menu-item-arrow-down")),r.addClass(e.toThemeProperty("jqx-icon-arrow-down"))):(r.addClass(e.toThemeProperty("jqx-menu-item-arrow-up")),r.addClass(e.toThemeProperty("jqx-icon-arrow-up")))),i.jqx.aria(i(t.element),"aria-expanded",!1),h.css({display:"none"}),0==e.animationHideDuration&&s.css({top:l}),e._raiseEvent("1",t)})):s.stop().animate({left:d},e.animationHideDuration,(function(){var r;0==e.animationHideDuration&&s.css({left:d}),t.level>0?(i(t.element).removeClass(e.toThemeProperty("jqx-fill-state-pressed")),i(t.element).removeClass(e.toThemeProperty("jqx-menu-item-selected")),(r=i(t.arrow)).length>0&&(r.removeClass(),"left"!=t.openHorizontalDirection?(r.addClass(e.toThemeProperty("jqx-menu-item-arrow-"+e._getDir("right"))),r.addClass(e.toThemeProperty("jqx-icon-arrow-"+e._getDir("right")))):(r.addClass(e.toThemeProperty("jqx-menu-item-arrow-"+e._getDir("left"))),r.addClass(e.toThemeProperty("jqx-icon-arrow-"+e._getDir("left")))))):(i(t.element).removeClass(e.toThemeProperty("jqx-fill-state-pressed")),i(t.element).removeClass(e.toThemeProperty("jqx-menu-item-top-selected")),(r=i(t.arrow)).length>0&&(r.removeClass(),"left"!=t.openHorizontalDirection?(r.addClass(e.toThemeProperty("jqx-menu-item-arrow-top-"+e._getDir("right"))),r.addClass(e.toThemeProperty("jqx-icon-arrow-"+e._getDir("right")))):(r.addClass(e.toThemeProperty("jqx-menu-item-arrow-top-"+e._getDir("left"))),r.addClass(e.toThemeProperty("jqx-icon-arrow-"+e._getDir("left")))))),i.jqx.aria(i(t.element),"aria-expanded",!1),h.css({display:"none"}),e._raiseEvent("1",t)}))};if(u>0?s.data("timer")&&(s.data("timer").hide=setTimeout((function(){c()}),u)):c(),null!=r&&r){var p=s.children();i.each(p,(function(){e.menuElements[this.id]&&e.menuElements[this.id].isOpen&&(i(e.menuElements[this.id].subMenuElement),e._closeItem(e,e.menuElements[this.id],!0,!0))}))}}},getSubItems:function(e,t){if(null==e)return!1;var r=this,n=new Array;null!=t&&i.extend(n,t);var s=i(this.menuElements[e].subMenuElement).find(".jqx-menu-item");return i.each(s,(function(){n[this.id]=r.menuElements[this.id];var e=r.getSubItems(this.id,n);i.extend(n,e)})),n},disable:function(e,t){if(null!=e){var r=this;if(this.menuElements[e]){var n=this.menuElements[e];n.disabled=t;var s=i(n.element);n.element.disabled=t,i.each(s.children(),(function(){this.disabled=t})),t?(s.addClass(r.toThemeProperty("jqx-menu-item-disabled")),s.addClass(r.toThemeProperty("jqx-fill-state-disabled"))):(s.removeClass(r.toThemeProperty("jqx-menu-item-disabled")),s.removeClass(r.toThemeProperty("jqx-fill-state-disabled")))}}},getItem:function(e){return this.menuElements[e]?this.menuElements[e]:null},disableItem:function(e){this.disable(e,!0)},hideItem:function(e){this.menuElements[e]&&i(this.menuElements[e].element).hide()},showItem:function(e){this.menuElements[e]&&i(this.menuElements[e].element).show()},enableItem:function(e){this.disable(e,!1)},_setItemProperty:function(e,t,i){if(null!=e&&this.menuElements[e]){var r=this.menuElements[e];r[t]&&(r[t]=i)}},setItemOpenDirection:function(e,t,r){if(null!=e){var n=this,s=i.jqx.browser.msie&&i.jqx.browser.version<8;if(this.menuElements[e]){var o=this.menuElements[e];if(null!=t&&(o.openHorizontalDirection=t,o.hasItems&&o.level>0&&null!=(l=i(o.element)))){var a=i(o.arrow);null==o.arrow&&(a=i('<span id="arrow'+l[0].id+'"></span>'),s?a.appendTo(l):a.prependTo(l),o.arrow=a[0]),a.removeClass(),"left"==o.openHorizontalDirection?(a.addClass(n.toThemeProperty("jqx-menu-item-arrow-"+n._getDir("left"))),a.addClass(n.toThemeProperty("jqx-icon-arrow-"+n._getDir("left")))):(a.addClass(n.toThemeProperty("jqx-menu-item-arrow-"+n._getDir("right"))),a.addClass(n.toThemeProperty("jqx-icon-arrow-"+n._getDir("right")))),a.css("visibility","inherit"),s?(a.css("display","inline-block"),a.css("float","none")):(a.css("display","block"),a.css("float","right"))}if(null!=r){o.openVerticalDirection=r,a=i(o.arrow);var l=i(o.element);if(!n.showTopLevelArrows)return;null!=l&&(null==o.arrow&&(a=i('<span id="arrow'+l[0].id+'"></span>'),s?a.appendTo(l):a.prependTo(l),o.arrow=a[0]),a.removeClass(),"down"==o.openVerticalDirection?(a.addClass(n.toThemeProperty("jqx-menu-item-arrow-down")),a.addClass(n.toThemeProperty("jqx-icon-arrow-down"))):(a.addClass(n.toThemeProperty("jqx-menu-item-arrow-up")),a.addClass(n.toThemeProperty("jqx-icon-arrow-up"))),a.css("visibility","inherit"),s?(a.css("display","inline-block"),a.css("float","none")):(a.css("display","block"),a.css("float","right")))}}}},_getSiblings:function(e){for(var t=new Array,i=0,r=0;r<this.items.length;r++)this.items[r]!=e&&this.items[r].parentId==e.parentId&&this.items[r].hasItems&&(t[i++]=this.items[r]);return t},_openItem:function(e,t,r){if(null==e||null==t)return!1;if(t.isOpen)return!1;if(t.disabled)return!1;if(e.disabled)return!1;var n=e.popupZIndex;null!=r&&(n=r);var s=e.animationHideDuration;e.animationHideDuration=0,e._closeItem(e,t,!0,!0),e.animationHideDuration=s,i(t.element).focus();var o=[5,5],a=i(t.subMenuElement);null!=a&&a.stop(),a.data("timer")&&null!=a.data("timer").hide&&clearTimeout(a.data("timer").hide);var l=a.closest("div.jqx-menu-popup"),d=i(t.element),h=0==t.level?this._getOffset(t.element):d.position();if(t.level>0&&this.hasTransform){var u=parseInt(d.coord().top)-parseInt(this._getOffset(t.element).top);h.top+=u}0==t.level&&"popup"==this.mode&&(h=d.coord());var c=0==t.level&&"horizontal"==this.mode,p=c?h.left:null!=this.menuElements[t.parentId]&&null!=this.menuElements[t.parentId].subMenuElement?parseInt(i(i(this.menuElements[t.parentId].subMenuElement).closest("div.jqx-menu-popup")).outerWidth())-o[0]:parseInt(a.outerWidth());if(l.css({visibility:"visible",display:"block",left:p,top:c?h.top+d.outerHeight():h.top,zIndex:n}),a.css("display","block"),"horizontal"!=this.mode&&0==t.level){var f=this._getOffset(this.element);l.css("left",-1+f.left+this.host.outerWidth()),a.css("left",-a.outerWidth())}else{var m=this._getClosedSubMenuOffset(t);a.css("left",m.left),a.css("top",m.top)}l.css({height:parseInt(a.outerHeight())+parseInt(o[1])+"px"});var g=0,v=0;switch(t.openVerticalDirection){case"up":if(c){a.css("top",a.outerHeight()),g=o[1];var w=parseInt(a.parent().css("padding-bottom"));isNaN(w)&&(w=0),w>0&&l.addClass(this.toThemeProperty("jqx-menu-popup-clear")),a.css("top",a.outerHeight()-w),l.css({display:"block",top:h.top-l.outerHeight(),zIndex:n})}else g=o[1],a.css("top",a.outerHeight()),l.css({display:"block",top:h.top-l.outerHeight()+o[1]+d.outerHeight(),zIndex:n});break;case"center":c?(a.css("top",0),l.css({display:"block",top:h.top-l.outerHeight()/2+o[1],zIndex:n})):(a.css("top",0),l.css({display:"block",top:h.top+d.outerHeight()/2-l.outerHeight()/2+o[1],zIndex:n}))}switch(t.openHorizontalDirection){case this._getDir("left"):c?l.css({left:h.left-(l.outerWidth()-d.outerWidth()-o[0])}):(v=0,a.css("left",l.outerWidth()),l.css({left:h.left-l.outerWidth()+2*t.level}));break;case"center":c?l.css({left:h.left-(l.outerWidth()/2-d.outerWidth()/2-o[0]/2)}):(l.css({left:h.left-(l.outerWidth()/2-d.outerWidth()/2-o[0]/2)}),a.css("left",l.outerWidth()))}if(c){if(parseInt(a.css("top"))==g)return void(t.isOpen=!0)}else if(parseInt(a.css("left"))==v)return;i.each(e._getSiblings(t),(function(){e._closeItem(e,this,!0,!0)}));var y=i.data(e.element,"animationHideDelay");e.animationHideDelay=y,this.autoCloseInterval>0&&(null!=this.host.data("autoclose")&&null!=this.host.data("autoclose").close&&clearTimeout(this.host.data("autoclose").close),null!=this.host.data("autoclose")&&(this.host.data("autoclose").close=setTimeout((function(){e._closeAll()}),this.autoCloseInterval))),a.data("timer")&&(a.data("timer").show=setTimeout((function(){if(null!=l)if(c)a.stop(),a.css("left",v),d.addClass(e.toThemeProperty("jqx-fill-state-pressed")),d.addClass(e.toThemeProperty("jqx-menu-item-top-selected")),"down"==t.openVerticalDirection?(i(t.element).addClass(e.toThemeProperty("jqx-rc-b-expanded")),l.addClass(e.toThemeProperty("jqx-rc-t-expanded"))):(i(t.element).addClass(e.toThemeProperty("jqx-rc-t-expanded")),l.addClass(e.toThemeProperty("jqx-rc-b-expanded"))),(r=i(t.arrow)).length>0&&e.showTopLevelArrows&&(r.removeClass(),"down"==t.openVerticalDirection?(r.addClass(e.toThemeProperty("jqx-menu-item-arrow-down-selected")),r.addClass(e.toThemeProperty("jqx-icon-arrow-down"))):(r.addClass(e.toThemeProperty("jqx-menu-item-arrow-up-selected")),r.addClass(e.toThemeProperty("jqx-icon-arrow-up")))),0==e.animationShowDuration?(a.css({top:g}),t.isOpen=!0,e._raiseEvent("0",t),i.jqx.aria(i(t.element),"aria-expanded",!0)):a.animate({top:g},e.animationShowDuration,e.easing,(function(){t.isOpen=!0,i.jqx.aria(i(t.element),"aria-expanded",!0),e._raiseEvent("0",t)}));else{var r;a.stop(),a.css("top",g),t.level>0?(d.addClass(e.toThemeProperty("jqx-fill-state-pressed")),d.addClass(e.toThemeProperty("jqx-menu-item-selected")),(r=i(t.arrow)).length>0&&(r.removeClass(),"left"!=t.openHorizontalDirection?(r.addClass(e.toThemeProperty("jqx-menu-item-arrow-"+e._getDir("right")+"-selected")),r.addClass(e.toThemeProperty("jqx-icon-arrow-"+e._getDir("right")))):(r.addClass(e.toThemeProperty("jqx-menu-item-arrow-"+e._getDir("left")+"-selected")),r.addClass(e.toThemeProperty("jqx-icon-arrow-"+e._getDir("left")))))):(d.addClass(e.toThemeProperty("jqx-fill-state-pressed")),d.addClass(e.toThemeProperty("jqx-menu-item-top-selected")),(r=i(t.arrow)).length>0&&(r.removeClass(),"left"!=t.openHorizontalDirection?(r.addClass(e.toThemeProperty("jqx-menu-item-arrow-"+e._getDir("right")+"-selected")),r.addClass(e.toThemeProperty("jqx-icon-arrow-"+e._getDir("right")))):(r.addClass(e.toThemeProperty("jqx-menu-item-arrow-"+e._getDir("left")+"-selected")),r.addClass(e.toThemeProperty("jqx-icon-arrow-"+e._getDir("left")))))),0==e.animationShowDuration?(a.css({left:v}),e._raiseEvent("0",t),t.isOpen=!0,i.jqx.aria(i(t.element),"aria-expanded",!0)):a.animate({left:v},e.animationShowDuration,e.easing,(function(){e._raiseEvent("0",t),t.isOpen=!0,i.jqx.aria(i(t.element),"aria-expanded",!0)}))}}),this.animationShowDelay))},_getDir:function(e){switch(e){case"left":return this.rtl?"right":"left";case"right":return this.rtl?"left":"right"}return"left"},_applyOrientation:function(e,t){var r=this,n=0;if(r.host.removeClass(r.toThemeProperty("jqx-menu-horizontal")),r.host.removeClass(r.toThemeProperty("jqx-menu-vertical")),r.host.removeClass(r.toThemeProperty("jqx-menu")),r.host.removeClass(r.toThemeProperty("jqx-widget")),r.host.addClass(r.toThemeProperty("jqx-widget")),r.host.addClass(r.toThemeProperty("jqx-menu")),null!=e&&null!=t&&"popup"==t){if(r.host.parent().length>0&&r.host.parent().parent().length>0&&r.host.parent().parent()[0]==document.body){var s=i.data(document.body,"jqxMenuOldHost"+r.element.id);null!=s&&((o=r.host.closest("div.jqx-menu-wrapper")).remove(),o.appendTo(s),r.host.css("display","block"),r.host.css("visibility","visible"),o.css("display","block"),o.css("visibility","visible"))}}else null==e&&null==t&&i.data(document.body,"jqxMenuOldHost"+r.element.id,r.host.parent()[0]);switch(r.autoOpenPopup?"popup"==r.mode?(r.addHandler(i(document),"contextmenu."+r.element.id,(function(e){return!1})),r.addHandler(i(document),"mousedown.menu"+r.element.id,(function(e){r._openContextMenu(e)}))):(r.removeHandler(i(document),"contextmenu."+r.element.id),r.removeHandler(i(document),"mousedown.menu"+r.element.id)):(r.removeHandler(i(document),"contextmenu."+r.element.id),r.removeHandler(i(document),"mousedown.menu"+r.element.id),r.addHandler(i(document),"contextmenu."+r.element.id,(function(e){if(e.target&&e.target.className.indexOf&&e.target.className.indexOf("jqx-menu")>=0)return!1}))),r.rtl&&r.host.addClass(r.toThemeProperty("jqx-rtl")),r.mode){case"horizontal":r.host.addClass(r.toThemeProperty("jqx-widget-header")),r.host.addClass(r.toThemeProperty("jqx-menu-horizontal")),i.each(r.items,(function(){var e=this,t=i(e.element);if((s=i(e.arrow)).removeClass(),e.hasItems&&e.level>0&&((s=i('<span style="border: none; background-color: transparent;" id="arrow'+t[0].id+'"></span>')).prependTo(t),s.css("float",r._getDir("right")),s.addClass(r.toThemeProperty("jqx-menu-item-arrow-"+r._getDir("right"))),s.addClass(r.toThemeProperty("jqx-icon-arrow-"+r._getDir("right"))),e.arrow=s[0]),0==e.level){if(i(e.element).css("float",r._getDir("left")),!e.ignoretheme&&e.hasItems&&r.showTopLevelArrows){var s=i('<span style="border: none; background-color: transparent;" id="arrow'+t[0].id+'"></span>'),o=i.jqx.browser.msie&&i.jqx.browser.version<8;null==e.arrow?o?s.appendTo(t):s.prependTo(t):s=i(e.arrow),"down"==e.openVerticalDirection?(s.addClass(r.toThemeProperty("jqx-menu-item-arrow-down")),s.addClass(r.toThemeProperty("jqx-icon-arrow-down"))):(s.addClass(r.toThemeProperty("jqx-menu-item-arrow-up")),s.addClass(r.toThemeProperty("jqx-icon-arrow-up"))),s.css("visibility","inherit"),o?s.css("display","inline-block"):(s.css("display","block"),s.css("float","right")),e.arrow=s[0]}else e.ignoretheme||!e.hasItems||r.showTopLevelArrows||null!=e.arrow&&((s=i(e.arrow)).remove(),e.arrow=null);n=Math.max(n,t.height())}}));break;case"vertical":case"popup":case"simple":if(r.host.addClass(r.toThemeProperty("jqx-menu-vertical")),i.each(r.items,(function(){var e=this,t=i(e.element);if(e.hasItems&&!e.ignoretheme){if(e.arrow&&i(e.arrow).remove(),"simple"==r.mode)return!0;var n=i('<span style="border: none; background-color: transparent;" id="arrow'+t[0].id+'"></span>');n.prependTo(t),n.css("float","right"),0==e.level?(n.addClass(r.toThemeProperty("jqx-menu-item-arrow-top-"+r._getDir("right"))),n.addClass(r.toThemeProperty("jqx-icon-arrow-"+r._getDir("right")))):(n.addClass(r.toThemeProperty("jqx-menu-item-arrow-"+r._getDir("right"))),n.addClass(r.toThemeProperty("jqx-icon-arrow-"+r._getDir("right")))),e.arrow=n[0]}t.css("float","none")})),"popup"==r.mode){r.host.addClass(r.toThemeProperty("jqx-widget-content")),r.host.wrap('<div tabindex=0 class="jqx-menu-wrapper" style="z-index:'+r.popupZIndex+'; border: none; background-color: transparent; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var o=r.host.closest("div.jqx-menu-wrapper");r.host.addClass(r.toThemeProperty("jqx-popup")),o[0].id="menuWrapper"+r.element.id,o.appendTo(i(document.body)),r.addHandler(o,"keydown",(function(e){return r.handleKeyDown(e)}))}else r.host.addClass(r.toThemeProperty("jqx-widget-header"));if("popup"==r.mode){var a=r.host.height();r.host.css("position","absolute"),r.host.css("top","0"),r.host.css("left","0"),"simple"!=r.mode&&(r.host.height(a),r.host.css("display","none"))}}var l=r.isTouchDevice();r.autoCloseOnClick&&(r.removeHandler(i(document),"mousedown.menu"+r.element.id,r._closeAfterClick),r.addHandler(i(document),"mousedown.menu"+r.element.id,r._closeAfterClick,r),l&&(r.removeHandler(i(document),i.jqx.mobile.getTouchEventName("touchstart")+".menu"+r.element.id,r._closeAfterClick,r),r.addHandler(i(document),i.jqx.mobile.getTouchEventName("touchstart")+".menu"+r.element.id,r._closeAfterClick,r)))},_getBodyOffset:function(){var e=0,t=0;return"0px"!=i("body").css("border-top-width")&&(e=parseInt(i("body").css("border-top-width")),isNaN(e)&&(e=0)),"0px"!=i("body").css("border-left-width")&&(t=parseInt(i("body").css("border-left-width")),isNaN(t)&&(t=0)),{left:t,top:e}},_getOffset:function(e){var t=i.jqx.mobile.isSafariMobileBrowser(),r=i(e).coord(!0),n=r.top,s=r.left;"0px"!=i("body").css("border-top-width")&&(n=parseInt(n)+this._getBodyOffset().top),"0px"!=i("body").css("border-left-width")&&(s=parseInt(s)+this._getBodyOffset().left);var o=i.jqx.mobile.isWindowsPhone(),a=i.jqx.mobile.isTouchDevice();return this.hasTransform||null!=t&&t||o||a?{left:i.jqx.mobile.getLeftPos(e),top:i.jqx.mobile.getTopPos(e)}:{left:s,top:n}},_isRightClick:function(e){var t;return e||(e=window.event),e.which?t=3==e.which:e.button&&(t=2==e.button),t},_openContextMenu:function(e){this._isRightClick(e)&&this.open(parseInt(e.clientX)+5,parseInt(e.clientY)+5)},close:function(){var e=this;i.data(this.element,"contextMenuOpened"+this.element.id)&&(i.each(e.items,(function(){this.hasItems&&e._closeItem(e,this)})),i.each(e.items,(function(){1==this.isOpen&&i(this.subMenuElement).closest("div.jqx-menu-popup").hide(this.animationHideDuration)})),this.host.hide(this.animationHideDuration),i.data(e.element,"contextMenuOpened"+this.element.id,!1),e._raiseEvent("1",e),e._raiseEvent("5"))},open:function(e,t){if("popup"==this.mode){var r=0;"block"==this.host.css("display")&&(this.close(),r=this.animationHideDuration);var n=this;null!=e&&null!=e||(e=0),null!=t&&null!=t||(t=0),setTimeout((function(){n.host.show(n.animationShowDuration),n.host.css("visibility","visible"),i.data(n.element,"contextMenuOpened"+n.element.id,!0),n._raiseEvent("0",n),n._raiseEvent("4",{left:e,top:t}),n.host.css("z-index",n.popupZIndex),null!=e&&null!=t&&n.host.css({left:e,top:t}),n.focus()}),r)}},_renderHover:function(e,t,i){var r=this;t.ignoretheme||(this.addHandler(e,"mouseenter",(function(){r.hoveredItem=t,t.disabled||t.separator||!r.enableHover||r.disabled||(t.level>0?(e.addClass(r.toThemeProperty("jqx-fill-state-hover")),e.addClass(r.toThemeProperty("jqx-menu-item-hover"))):(e.addClass(r.toThemeProperty("jqx-fill-state-hover")),e.addClass(r.toThemeProperty("jqx-menu-item-top-hover"))))})),this.addHandler(e,"mouseleave",(function(){t.disabled||t.separator||!r.enableHover||r.disabled||(t.level>0?(e.removeClass(r.toThemeProperty("jqx-fill-state-hover")),e.removeClass(r.toThemeProperty("jqx-menu-item-hover"))):(e.removeClass(r.toThemeProperty("jqx-fill-state-hover")),e.removeClass(r.toThemeProperty("jqx-menu-item-top-hover"))))})))},_closeAfterClick:function(e){var t=null!=e?e.data:this,r=!1;t.autoCloseOnClick&&(i.each(i(e.target).parents(),(function(){if(this.className.indexOf&&-1!=this.className.indexOf("jqx-menu"))return r=!0,!1})),r||(e.data=t,t._closeAll(e)))},_autoSizeHorizontalMenuItems:function(){var e=this;if(e.autoSizeMainItems&&"horizontal"==this.mode){var t=this.maxHeight;parseInt(t)>parseInt(this.host.height())&&(t=parseInt(this.host.height())),t=parseInt(this.host.height()),i.each(this.items,(function(){var r=i(this.element);if(0==this.level&&t>0){var n=r.children().length>0?parseInt(r.children().height()):r.height(),s=e.host.find("ul:first"),o=parseInt(s.css("padding-top")),a=parseInt(s.css("margin-top")),l=t-2*(a+o),d=parseInt(l)/2-n/2,h=parseInt(d),u=parseInt(d);r.css("padding-top",h),r.css("padding-bottom",u),parseInt(r.outerHeight())>l&&(r.css("padding-top",h-1),h-=1)}}))}i.each(this.items,(function(){var e=this;if(i(e.element),e.hasItems&&e.level>0&&e.arrow){var t=i(e.arrow),r=i(e.element).height();r>15&&t.css("margin-top",(r-15)/2)}}))},_nextVisibleItem:function(e,t){if(null==e||null==e)return null;for(var i=e;null!=i;)if(this._isVisible(i=i.nextItem)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(null!=t&&i&&i.level!=t)continue;return i}return null},_prevVisibleItem:function(e,t){if(null==e||null==e)return null;for(var i=e;null!=i;)if(this._isVisible(i=i.prevItem)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(null!=t&&i&&i.level!=t)continue;return i}return null},_parentItem:function(e){if(null==e||null==e)return null;var t=e.parentElement;if(!t)return null;var r=null;return i.each(this.items,(function(){if(this.element==t)return r=this,!1})),r},_isElementVisible:function(e){return null!=e&&"none"!=i(e).css("display")&&"hidden"!=i(e).css("visibility")},_isVisible:function(e){if(null==e||null==e)return!1;if(!this._isElementVisible(e.element))return!1;var t=this._parentItem(e);if(null==t)return!0;if(this.minimized)return!0;if(null!=t){if(!this._isElementVisible(t.element))return!1;if(!t.isOpen&&!this.minimized)return!1;for(;null!=t;){if(null!=(t=this._parentItem(t))&&!this._isElementVisible(t.element))return!1;if(null!=t&&!t.isOpen)return!1}}return!0},_render:function(e,t){this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-menu-disabled"))),null==this.host.attr("tabindex")&&this.host.attr("tabindex",0);var r=this.popupZIndex,n=[5,5],s=this;i.data(s.element,"animationHideDelay",s.animationHideDelay);var o=this.isTouchDevice(),a=o&&(i.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("Touch")>=0);-1!=navigator.platform.toLowerCase().indexOf("win")&&(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0?this.touchDevice=!0:navigator.userAgent.indexOf("Touch")>=0&&("MSPointerDown"in window||i.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("ARM")>=0)&&(a=!0,s.clickToOpen=!0,s.autoCloseOnClick=!1,s.enableHover=!1)),i.data(document.body,"menuel",this),this.hasTransform=i.jqx.utilities.hasTransform(this.host),this._applyOrientation(e,t),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus"),this.addHandler(this.host,"blur",(function(e){if(s.keyboardNavigation&&s.activeItem){if("popup"===s.mode&&document.activeElement&&document.activeElement.className.indexOf("jqx-menu-wrapper")>=0)return;i(s.activeItem.element).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.activeItem=null}})),this.addHandler(this.host,"focus",(function(e){if(s.keyboardNavigation&&!s.activeItem)if(s.hoveredItem)i(s.hoveredItem.element).addClass(s.toThemeProperty("jqx-fill-state-focus")),s.activeItem=s.hoveredItem;else{var t=function(){if(i.jqx.isHidden(i(s.items[0].element))){var e=s._nextVisibleItem(s.items[0],0);e&&(i(e.element).addClass(s.toThemeProperty("jqx-fill-state-focus")),s.activeItem=e)}else i(s.items[0].element).addClass(s.toThemeProperty("jqx-fill-state-focus")),s.activeItem=s.items[0]};s.activeItem?i.jqx.isHidden(i(s.activeItem.element))?(i(s.activeItem.element).removeClass(s.toThemeProperty("jqx-fill-state-focus")),t()):i(s.activeItem.element).addClass(s.toThemeProperty("jqx-fill-state-focus")):t()}})),this.removeHandler(this.host,"keydown.menu"+this.element.id),s.handleKeyDown=function(e){if(!s.keyboardNavigation)return!0;if("input"===e.target.nodeName.toLowerCase())return!0;var t=null,r=null;if(i.each(s.items,(function(){return!!this.disabled||(this.element.className.indexOf("pressed")>=0&&(r=this),this.element.className.indexOf("focus")>=0?(t=this,!1):void 0)})),!t&&r)return t=r,!1;if(!t)return i(s.items[0].element).addClass(s.toThemeProperty("jqx-fill-state-focus")),s.activeItem=s.items[0],t=s.activeItem,!1;if(27==e.keyCode&&(e.data=s,s._closeAll(e),t))for(var n=t;null!=n;)n.parentItem||(i(s.activeItem.element).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.activeItem=n,i(s.activeItem.element).addClass(s.toThemeProperty("jqx-fill-state-focus"))),n=n.parentItem;if(13==e.keyCode&&t){s._raiseEvent("2",{item:t.element,event:e,type:"keyboard"});var o=null!=t.anchor?i(t.anchor):null;if(null!=o&&o.length>0){var a=o.attr("href"),l=o.attr("target");null!=a&&(null!=l?window.open(a,l):window.location=a)}e.preventDefault(),e.stopPropagation(),i(t.element).focus()}var d=function(e){if(null==e)return new Array;for(var t=new Array,i=0,r=0;r<s.items.length;r++)s.items[r].parentId==e.parentId&&(t[i++]=s.items[r]);return t},h="";switch(e.keyCode){case 40:h="down";break;case 38:h="up";break;case 39:h="right";break;case 37:h="left"}if(t&&"left"===t.openHorizontalDirection&&"left"===h&&(h="right"),t&&"left"===t.openHorizontalDirection&&"right"===h&&(h="left"),t&&"top"===t.openVerticalDirection&&"top"===h&&(h="bottom"),t&&"top"===t.openVerticalDirection&&"bottom"===h&&(h="top"),s.rtl&&("right"===h?h="left":"left"===h&&(h="right")),"right"===h&&!s.minimized){if(e.altKey&&(0!=t.level&&t.hasItems||"horizontal"!=s.mode))s._openItem(s,t);else{var u=s._nextVisibleItem(t,0),c=s._nextVisibleItem(t),p=d(c);u||(u=c),u&&(u.parentId===t.parentId&&0==u.level&&"horizontal"==s.mode||c.id==p[0].id&&0!=c.level)&&(c.id==p[0].id&&(0!=t.level||0==t.level&&"horizontal"!=s.mode)&&(u=c),i(u.element).addClass(s.toThemeProperty("jqx-fill-state-focus")),i(t.element).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.activeItem=u)}e.preventDefault(),e.stopPropagation()}if("left"===h&&!s.minimized){if(e.altKey&&(0!=t.level&&"horizontal"!==s.mode||t.level>1&&"horizontal"===s.mode||1==t.level&&t.hasItems&&"horizontal"===s.mode))t.hasItems?s._closeItem(s,t):t.parentItem&&(s._closeItem(s,t.parentItem),i(t.parentItem.element).addClass(s.toThemeProperty("jqx-fill-state-focus")),i(t.element).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.activeItem=t.parentItem);else{u=s._prevVisibleItem(t,0);var f=t.parentItem;u&&u.parentId===t.parentId&&0==u.level&&"horizontal"==s.mode?(i(u.element).addClass(s.toThemeProperty("jqx-fill-state-focus")),i(t.element).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.activeItem=u):f&&0==f.level&&"horizontal"==s.mode||!f||f.level!=t.level-1||(i(f.element).addClass(s.toThemeProperty("jqx-fill-state-focus")),i(t.element).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.activeItem=f)}e.preventDefault(),e.stopPropagation()}if("down"===h?(e.altKey?(0==t.level&&t.hasItems&&s._openItem(s,t),s.minimized&&s.minimizedHidden&&s.minimizedItem.trigger("click")):(p=d(u=s._nextVisibleItem(t,t.level)),s.minimized&&u?(i(u.element).addClass(s.toThemeProperty("jqx-fill-state-focus")),i(t.element).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.activeItem=u):(u&&(u.parentId===t.parentId||u.id==p[0].id&&"horizontal"==s.mode)&&(0==u.level&&"horizontal"==s.mode||(i(u.element).addClass(s.toThemeProperty("jqx-fill-state-focus")),i(t.element).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.activeItem=u)),"horizontal"===s.mode&&0===t.level&&t.isOpen&&t.hasItems&&(u=s._nextVisibleItem(t),i(u.element).addClass(s.toThemeProperty("jqx-fill-state-focus")),i(t.element).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.activeItem=u))),e.preventDefault(),e.stopPropagation()):"up"===h&&(e.altKey?(t.parentItem&&0==t.parentItem.level?(s._closeItem(s,t.parentItem),i(t.parentItem.element).addClass(s.toThemeProperty("jqx-fill-state-focus")),i(t.element).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.activeItem=t.parentItem):null===t.parentItem&&0===t.level&&"horizontal"===s.mode&&s._closeItem(s,t),s.minimized&&(s.minimizedHidden||s.minimizedItem.trigger("click"))):(u=s._prevVisibleItem(t,t.level),p=d(t),s.minimized&&u?(i(u.element).addClass(s.toThemeProperty("jqx-fill-state-focus")),i(t.element).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.activeItem=u):u&&(u.parentId===t.parentId||u.id==t.parentId&&0==u.level&&"horizontal"==s.mode)?0==u.level&&"horizontal"===s.mode&&0===t.level||(i(u.element).addClass(s.toThemeProperty("jqx-fill-state-focus")),i(t.element).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.activeItem=u):t&&t.id==p[0].id&&t.parentItem&&0===t.parentItem.level&&"horizontal"===s.mode&&(i((u=t.parentItem).element).addClass(s.toThemeProperty("jqx-fill-state-focus")),i(t.element).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.activeItem=u)),e.preventDefault(),e.stopPropagation()),9==e.keyCode)if(u=e.shiftKey?s._prevVisibleItem(t):s._nextVisibleItem(t))i(u.element).addClass(s.toThemeProperty("jqx-fill-state-focus")),i(t.element).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.activeItem=u,e.preventDefault(),e.stopPropagation();else if(s.lockFocus){p=new Array;for(var m=0,g=0;g<s.items.length;g++)s.items[g]!=t&&s.items[g].parentId==t.parentId&&(p[m++]=s.items[g]);p.length>0&&(e.shiftKey?(i(p[p.length-1].element).addClass(s.toThemeProperty("jqx-fill-state-focus")),s.activeItem=p[p.length-1]):(i(p[0].element).addClass(s.toThemeProperty("jqx-fill-state-focus")),s.activeItem=p[0]),i(t.element).removeClass(s.toThemeProperty("jqx-fill-state-focus"))),e.preventDefault(),e.stopPropagation()}else t&&(i(t.element).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.activeItem=null)},this.addHandler(this.host,"keydown.menu"+this.element.id,(function(e){s.handleKeyDown(e)})),s.enableRoundedCorners&&this.host.addClass(s.toThemeProperty("jqx-rc-all")),i.each(this.items,(function(){var e=this,t=i(e.element);if(t.attr("role","menuitem"),s.enableRoundedCorners&&t.addClass(s.toThemeProperty("jqx-rc-all")),s.removeHandler(t,"click"),s.addHandler(t,"click",(function(t){if(!e.disabled&&!s.disabled&&(s.keyboardNavigation&&(s.activeItem&&i(s.activeItem.element).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.activeItem=e,i(e.element).addClass(s.toThemeProperty("jqx-fill-state-focus")),s.minimized&&t.stopPropagation()),s._raiseEvent("2",{type:"mouse",item:e.element,event:t}),s.autoOpen?!s.autoCloseOnClick||o||s.clickToOpen||e.closeOnClick&&(t.data=s,s._closeAll(t)):e.level>0&&(!s.autoCloseOnClick||o||s.clickToOpen||(t.data=s,s._closeAll(t))),o&&s.autoCloseOnClick&&(t.data=s,e.hasItems||s._closeAll(t)),"A"!=t.target.tagName&&"a"!=t.target.tagName)){var r=null!=e.anchor?i(e.anchor):null;if(null!=r&&r.length>0){var n=r.attr("href"),a=r.attr("target");null!=n&&(null!=a?window.open(n,a):window.location=n)}}})),s.removeHandler(t,"mouseenter"),s.removeHandler(t,"mouseleave"),a||"simple"==s.mode||s._renderHover(t,e,o),null!=e.subMenuElement){var l=i(e.subMenuElement);if("simple"==s.mode)return l.show(),!0;l.wrap('<div class="jqx-menu-popup '+s.toThemeProperty("jqx-menu-popup")+'" style="border: none; background-color: transparent; z-index:'+r+'; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: hidden;"><div style="background-color: transparent; border: none; position:absolute; overflow:hidden; left: 0; top: 0; right: 0; width: 100%; height: 100%;"></div></div>'),l.css({overflow:"hidden",position:"absolute",left:0,display:"inherit",top:-l.outerHeight()}),l.data("timer",{}),e.level>0?l.css("left",-l.outerWidth()):"horizontal"==s.mode&&l.css("left",0),r++;var d=i(e.subMenuElement).closest("div.jqx-menu-popup").css({width:parseInt(i(e.subMenuElement).outerWidth())+parseInt(n[0])+"px",height:parseInt(i(e.subMenuElement).outerHeight())+parseInt(n[1])+"px"}),h=t.closest("div.jqx-menu-popup");if(h.length>0){var u=l.css("margin-left"),c=l.css("margin-right"),p=l.css("padding-left"),f=l.css("padding-right");d.appendTo(h),l.css("margin-left",u),l.css("margin-right",c),l.css("padding-left",p),l.css("padding-right",f)}else u=l.css("margin-left"),c=l.css("margin-right"),p=l.css("padding-left"),f=l.css("padding-right"),d.appendTo(i(document.body)),l.css("margin-left",u),l.css("margin-right",c),l.css("padding-left",p),l.css("padding-right",f);s.clickToOpen?(s.removeHandler(t,"mousedown"),s.addHandler(t,"mousedown",(function(t){clearTimeout(l.data("timer").hide),null!=l&&l.stop(),0!=e.level||e.isOpen||(t.data=s,s._closeAll(t)),e.isOpen?s._closeItem(s,e,!0):s._openItem(s,e)}))):((o||a)&&(s.removeHandler(t,i.jqx.mobile.getTouchEventName("touchstart")),s.addHandler(t,i.jqx.mobile.getTouchEventName("touchstart"),(function(t){return clearTimeout(l.data("timer").hide),null!=l&&l.stop(),0!=e.level||e.isOpen||"popup"==s.mode||(t.data=s,s._closeAll(t)),e.isOpen?s._closeItem(s,e,!0):s._openItem(s,e),!1}))),a||(s.addHandler(t,"mouseenter",(function(){if((s.autoOpen||e.level>0&&!s.autoOpen)&&clearTimeout(l.data("timer").hide),!e.parentId||0==e.parentId||!s.menuElements[e.parentId]||s.menuElements[e.parentId].isOpen)return(s.autoOpen||e.level>0&&!s.autoOpen)&&s._openItem(s,e),!1})),s.addHandler(t,"mousedown",(function(){s.autoOpen||0!=e.level||(clearTimeout(l.data("timer").hide),null!=l&&l.stop(),e.isOpen?s._closeItem(s,e,!0):s._openItem(s,e))})),s.addHandler(t,"mouseleave",(function(t){if(s.autoCloseOnMouseLeave){clearTimeout(l.data("timer").hide);var r=i(e.subMenuElement),n={left:parseInt(t.pageX),top:parseInt(t.pageY)},o={left:parseInt(r.coord().left),top:parseInt(r.coord().top),width:parseInt(r.outerWidth()),height:parseInt(r.outerHeight())},a=!0;o.left-5<=n.left&&n.left<=o.left+o.width+5&&o.top<=n.top&&n.top<=o.top+o.height&&(a=!1),a&&s._closeItem(s,e,!0)}})),s.removeHandler(d,"mouseenter"),s.addHandler(d,"mouseenter",(function(){clearTimeout(l.data("timer").hide)})),s.removeHandler(d,"mouseleave"),s.addHandler(d,"mouseleave",(function(t){s.autoCloseOnMouseLeave&&(clearTimeout(l.data("timer").hide),clearTimeout(l.data("timer").show),null!=l&&l.stop(),s._closeItem(s,e,!0))}))))}})),"simple"==this.mode&&this._renderSimpleMode(),this._autoSizeHorizontalMenuItems(),this._raiseEvent("3",this)},_renderSimpleMode:function(){this.host.show()},createID:function(){var e=Math.random()+"";for(e="99"+(e=e.replace(".","")),e/=1;this.items[e];)e=(e=Math.random()+"").replace(".",""),e/=1;return"menuItem"+e},_createMenu:function(e,t){if(null!=e){null==t&&(t=!0),null==t&&(t=!0),i(e).addClass("jqx-menu-ul");var r=i(e).find("li"),n=0;this.itemMapping=new Array;for(var s=0;s<r.length;s++){var o=r[s],a=i(o);if(-1!=o.className.indexOf("jqx-menu")||0!=this.autoGenerate){var l=o.id;l||(l=this.createID()),t&&(o.id=l,this.items[n]=new i.jqx._jqxMenu.jqxMenuItem,this.menuElements[l]=this.items[n]),n+=1;var d=0,h=this;a.children().each((function(){return t||(this.className="",h.autoGenerate&&(i(h.items[n-1].subMenuElement)[0].className="",h.minimized||i(h.items[n-1].subMenuElement).addClass(h.toThemeProperty("jqx-widget-content")),i(h.items[n-1].subMenuElement).addClass(h.toThemeProperty("jqx-menu-dropdown")),i(h.items[n-1].subMenuElement).addClass(h.toThemeProperty("jqx-popup")))),-1!=this.className.indexOf("jqx-menu-dropdown")?(t&&(h.items[n-1].subMenuElement=this),!1):!h.autoGenerate||"ul"!=this.tagName&&"UL"!=this.tagName?void 0:(t&&(h.items[n-1].subMenuElement=this),this.className="",h.minimized||i(this).addClass(h.toThemeProperty("jqx-widget-content")),i(this).addClass(h.toThemeProperty("jqx-menu-dropdown")),i(this).addClass(h.toThemeProperty("jqx-popup")),i(this).attr("role","menu"),h.rtl?i(this).addClass(h.toThemeProperty("jqx-rc-l")):i(this).addClass(h.toThemeProperty("jqx-rc-r")),i(this).addClass(h.toThemeProperty("jqx-rc-b")),!1)})),a.parents().each((function(){return-1!=this.className.indexOf("jqx-menu-item")?(d=this.id,!1):!h.autoGenerate||"li"!=this.tagName&&"LI"!=this.tagName?void 0:(d=this.id,!1)}));var u=!1,c=o.getAttribute("type"),p=o.getAttribute("ignoretheme")||o.getAttribute("data-ignoretheme");p?"true"!=p&&1!=p||(p=!0):p=!1,c?"separator"==c&&(u=!0):c=o.type,u||(c=d?"sub":"top");var f=this.items[n-1];if(t){f.id=l,f.parentId=d,f.type=c,f.separator=u,f.element=r[s];var m=a.children("a");f.disabled="true"==o.getAttribute("item-disabled"),f.level=a.parents("li").length,f.anchor=m.length>0?m:null,f.anchor&&i(f.anchor).attr("tabindex",-1)}f.ignoretheme=p;var g=this.menuElements[d];null!=g&&(g.ignoretheme&&(f.ignoretheme=g.ignoretheme,p=g.ignoretheme),f.parentItem=g,f.parentElement=g.element),this.autoGenerate&&("separator"==c?(a.removeClass(),a.addClass(this.toThemeProperty("jqx-menu-item-separator")),a.attr("role","separator")):p||(a[0].className=a[0].className.indexOf("jqx-grid-menu-item-touch")>=0?this.toThemeProperty("jqx-grid-menu-item-touch"):"",this.rtl&&a.addClass(this.toThemeProperty("jqx-rtl")),f.level>0&&!h.minimized?(a.addClass(this.toThemeProperty("jqx-item")),a.addClass(this.toThemeProperty("jqx-menu-item"))):(a.addClass(this.toThemeProperty("jqx-item")),a.addClass(this.toThemeProperty("jqx-menu-item-top"))))),f.disabled&&(a.addClass(h.toThemeProperty("jqx-menu-item-disabled")),a.addClass(h.toThemeProperty("jqx-fill-state-disabled"))),this.itemMapping[s]={element:r[s],item:f},this.itemMapping["id"+r[s].id]=this.itemMapping[s],t&&!p&&(f.hasItems=a.find("li").length>0,f.hasItems&&f.element&&(i.jqx.aria(i(f.element),"aria-haspopup",!0),f.subMenuElement.id||(f.subMenuElement.id=i.jqx.utilities.createId()),i.jqx.aria(i(f.element),"aria-owns",f.subMenuElement.id)))}}for(var v=0;v<r.length;v++){var w=r[v];if(this.itemMapping["id"+w.id]){if(!(f=this.itemMapping["id"+w.id].item))continue;f.prevItem=null,f.nextItem=null,v>0&&this.itemMapping["id"+r[v-1].id]&&(f.prevItem=this.itemMapping["id"+r[v-1].id].item),v<r.length-1&&this.itemMapping["id"+r[v+1].id]&&(f.nextItem=this.itemMapping["id"+r[v+1].id].item)}}}},destroy:function(){var e=this;i.jqx.utilities.resize(e.host,null,!0);var t=e.host.closest("div.jqx-menu-wrapper");e.removeHandler(t,"keydown"),t.remove(),e.removeHandler(i("#menuWrapper"+e.element.id),"keydown"),i("#menuWrapper"+e.element.id).remove(),e.removeHandler(e.host,"keydown"),e.removeHandler(e.host,"focus"),e.removeHandler(e.host,"blur"),e.removeHandler(i(document),"mousedown.menu"+e.element.id,e._closeAfterClick),e.removeHandler(i(document),"mouseup.menu"+e.element.id,e._closeAfterClick),e.removeHandler(i(document),"contextmenu."+e.element.id),e.removeHandler(e.host,"contextmenu."+e.element.id),i.data(document.body,"jqxMenuOldHost"+e.element.id,null),e.isTouchDevice()&&e.removeHandler(i(document),i.jqx.mobile.getTouchEventName("touchstart")+".menu"+e.element.id,e._closeAfterClick,this),i(window).off&&i(window).off("resize.menu"+e.element.id),i.each(e.items,(function(){var t=i(this.element);e.removeHandler(t,"click"),e.removeHandler(t,"selectstart"),e.removeHandler(t,"mouseenter"),e.removeHandler(t,"mouseleave"),e.removeHandler(t,"mousedown"),e.removeHandler(t,"mouseleave"),i(this.subMenuElement).closest("div.jqx-menu-popup").remove(),delete this.subMenuElement,delete this.element})),i.data(document.body,"menuel",null),delete e.menuElements,e.items=new Array,delete e.items;var r=i.data(e.element,"jqxMenu");r&&delete r.instance,e.host.removeClass(),e.host.remove(),delete e.host,delete e.element},_raiseEvent:function(e,t){null==t&&(t={owner:null});var r=this.events[e],n=t;n.owner=this;var s=new i.Event(r);return"2"==e&&((n=t.item).owner=this,n.clickType=t.type,i.extend(s,t.event),s.type="itemclick"),s.owner=this,s.args=n,this.host.trigger(s)},propertiesChangedHandler:function(e,t,r){r.width&&r.height&&2==Object.keys(r).length&&(e._setSize(),"popup"===e.mode&&(this.host.closest("div.jqx-menu-wrapper")[t](r),i("#"+this.host[0].id)[t](r)))},propertyChangedHandler:function(e,t,r,n){if(null!=this.isInitialized&&0!=this.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)&&("disabled"==t&&(e.disabled?(e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")),e.host.addClass(e.toThemeProperty("jqx-menu-disabled"))):(e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e.host.removeClass(e.toThemeProperty("jqx-menu-disabled")))),n!=r))if("touchMode"==t&&(this._isTouchDevice=null,e._render(n,r)),"width"!==t&&"height"!==t){if("source"==t&&null!=e.source){var s=e.loadItems(e.source);e.element.innerHTML=s;var o=e.host.find("ul:first");o.length>0&&(e.refresh(),e._createMenu(o[0]),e._render())}"autoCloseOnClick"==t?0==n?e.removeHandler(i(document),"mousedown.menu"+this.element.id,e._closeAll):e.addHandler(i(document),"mousedown.menu"+this.element.id,e,e._closeAll):"mode"==t||"width"==t||"height"==t||"showTopLevelArrows"==t?(e.refresh(),"mode"==t?e._render(n,r):e._applyOrientation()):"theme"==t&&i.jqx.utilities.setTheme(r,n,e.host)}else e._setSize(),"popup"===e.mode&&(this.host.closest("div.jqx-menu-wrapper")[t](n),i("#"+this.host[0].id)[t](n))}}),jqxBaseFramework.jqx._jqxMenu.jqxMenuItem=function(e,t,i){return{id:e,parentId:t,parentItem:null,anchor:null,type:i,disabled:!1,level:0,isOpen:!1,hasItems:!1,element:null,subMenuElement:null,arrow:null,openHorizontalDirection:"right",openVerticalDirection:"down",closeOnClick:!0}}},osYp:function(e,t){var i,r;(r=jqxBaseFramework).jqx.jqxWidget("jqxDateTimeInput","",{}),r.extend(r.jqx._jqxDateTimeInput.prototype,(_defineProperty(i={defineInstance:function(){var e={value:r.jqx._jqxDateTimeInput.getDateTime(new Date),minDate:r.jqx._jqxDateTimeInput.getDateTime(new Date),maxDate:r.jqx._jqxDateTimeInput.getDateTime(new Date),min:new Date(1900,0,1),max:new Date(2100,0,1),rowHeaderWidth:25,enableViews:!0,views:["month","year","decade"],selectableDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],change:null,changing:null,titleFormat:["MMMM yyyy","yyyy","yyyy","yyyy"],template:"default",columnHeaderHeight:20,titleHeight:30,firstDayOfWeek:0,showWeekNumbers:!1,showTimeButton:!1,cookies:!1,cookieoptions:null,showFooter:!1,formatString:"dd/MM/yyyy",width:200,height:25,dayNameFormat:"firstTwoLetters",textAlign:"left",readonly:!1,culture:"default",activeEditor:null,showCalendarButton:!0,openDelay:250,closeDelay:300,closeCalendarAfterSelection:!0,isEditing:!1,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",enableAbsoluteSelection:!1,disabled:!1,buttonSize:21,animationType:"slide",dropDownWidth:"200px",restrictedDates:new Array,dropDownHeight:"205px",dropDownContainer:"default",selectionMode:"default",renderMode:"full",rtl:!1,timeRange:null,_editor:!1,todayString:"Today",clearString:"Clear",popupZIndex:2e3,allowNullDate:!0,changeType:null,placeHolder:"",enableHover:!0,hint:!0,allowKeyboardDelete:!0,yearCutoff:null,editMode:"default",localization:{backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","open","close","change"],aria:{"aria-valuenow":{name:"getDate",type:"date"},"aria-valuetext":{name:"getText",type:"string"},"aria-valuemin":{name:"min",type:"date"},"aria-valuemax":{name:"max",type:"date"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===r.jqx._jqxDateTimeInput.prototype||(r.extend(!0,this,e),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(1),this.minDate._setMinutes(1),this.minDate._setSeconds(1),this.minDate._setMilliseconds(1),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(1),this.maxDate._setMinutes(1),this.maxDate._setSeconds(1),this.maxDate._setMilliseconds(1),this.defaultMinDate=this.minDate,this.defaultMaxDate=this.maxDate),e},createInstance:function(e){var t="",i=this;if(!i.host.jqxCalendar)throw new Error("jqxDateTimeInput: Missing reference to jqxcalendar.js.");if("dd/MM/yyyy"!=i.formatString){var n=i.formatString.split(" ");if(n&&n.length>1){for(var s="",o=0;o<n.length;o++)s+="1"==n[o].length?i._getFormatValue(n[o]):n[o],o<n.length-1&&(s+=" ");i.formatString=s}}if("input"==i.element.nodeName.toLowerCase()){var a=i.element.getAttribute("type");if(a&&"dd/MM/yyyy"==i.formatString){if("date"==a&&(i.formatString="d"),"datetime"==a){var l=i._getFormatValue("d")+" "+i._getFormatValue("t");i.formatString=l,i.showTimeButton=!0}"time"==a&&(i.formatString="t",i.showTimeButton=!0,i.showCalendarButton=!1)}if(i.field=i.element,i.field.getAttribute("min")){var d=new Date(i.field.getAttribute("min"));i._isValidDate(d)&&(i.min=d)}if(i.field.getAttribute("max")){var h=new Date(i.field.getAttribute("max"));i._isValidDate(h)&&(i.max=h)}i.field.className&&(i._className=i.field.className);var u={title:i.field.title};i.field.value&&(u.value=i.field.value),u.id=i.field.id.length?i.field.id.replace(/[^\w]/g,"_")+"_jqxDateTimeInput":r.jqx.utilities.createId()+"_jqxDateTimeInput";var c=r("<div></div>",u);c[0].style.cssText=i.field.style.cssText,i.width||(i.width=r(i.field).width()),i.height||(i.height=r(i.field).outerHeight()),r(i.field).hide().after(c);var p=i.host.data();if(i.host=c,i.host.data(p),i.element=c[0],i.element.id=i.field.id,i.field.id=u.id,i._className&&(i.host.addClass(i._className),r(i.field).removeClass(i._className)),i.field.tabIndex){var f=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=f}}if(i.host.attr("value")){t=!0;var m,g=i.host.attr("value");"range"!=i.selectionMode&&(null==(m=new Date(g))||isNaN(m)||(i.value=r.jqx._jqxDateTimeInput.getDateTime(m)))}if(null!=i.value&&i.value instanceof Date?i.value=r.jqx._jqxDateTimeInput.getDateTime(i.value):null!=i.value&&"string"==typeof i.value&&(null==(m=new Date(i.value))||isNaN(m)?i.value.indexOf(",")>=0&&(i.value=i.value.replace(/\,/g,"/"),null==(m=new Date(i.value))||isNaN(m)||(i.value=r.jqx._jqxDateTimeInput.getDateTime(m))):i.value=r.jqx._jqxDateTimeInput.getDateTime(m)),this._initTimeRange(),this._validateTimeRange(),i.host.attr("data-role","input"),i.render(),r.jqx.aria(this),null!=i.getDate()?r.jqx.aria(this,"aria-label","Current focused date is "+i.getDate().toLocaleString()):r.jqx.aria(this,"aria-label","Current focused date is Null"),i.minDate!==i.defaultMinDate&&(i.min=i.minDate),i.maxDate!==i.defaultMaxDate&&(i.max=i.maxDate),i.setMaxDate(i.max,!1),i.setMinDate(i.min,!1),"range"!==i.selectionMode&&i.value&&i.value.dateTime&&i.min&&i.max&&(i.value.dateTime<i.min||i.value.dateTime>i.max)&&(i.value.dateTime<i.min&&(i.value.dateTime=i.min),i.value.dateTime>i.max&&(i.value.dateTime=i.max),i._updateText()),"range"==i.selectionMode)if(t){var v=(g=i.host.attr("value")).substring(0,g.indexOf("-")),w=g.substring(g.indexOf("-")+1),y=new Date(v),b=new Date(w);null==y||isNaN(y)||null==b||isNaN(b)||i.setRange(y,b)}else null!=i.getDate()&&i.setRange(i.getDate(),i.getDate());i._getMask(),"full"===i.editMode&&null===i.value&&void 0!==i._mask[0]&&(i.dateTimeInput[0].value=i._mask[0])},_validateTimeRange:function(){if(this.timeRange){var e=this.value.dateTime.getHours(),t=this.value.dateTime.getMinutes();e<=this.timeRange.minHour&&(this.value._setHours(this.timeRange.minHour),t<this.timeRange.minMinute?(this.value._setMinutes(this.timeRange.minMinute),this._updateEditorsValue()):this._updateEditorsValue()),e>=this.timeRange.maxHour&&(this.value._setHours(this.timeRange.maxHour),t>this.timeRange.maxMinute?(this.value._setMinutes(this.timeRange.maxMinute),this._updateEditorsValue()):this._updateEditorsValue())}},_initTimeRange:function(){if(this.timeRange){if(this.timeRange.min){var e=null;(this.timeRange.min.indexOf("AM")>=0||this.timeRange.min.indexOf("PM")>=0)&&(e=this.timeRange.min.indexOf("AM")>=0?"AM":"PM");var t=this.timeRange.min.split(":"),i=parseInt(t[0]),r=parseInt(t[1]);e&&(this.timeRange.minDefaultHour=i,this.timeRange.minMeridian=e),e&&"PM"==e&&(i+=12),this.timeRange.minHour=i,this.timeRange.minMinute=r}if(this.timeRange.max){e=null,(this.timeRange.max.indexOf("AM")>=0||this.timeRange.max.indexOf("PM")>=0)&&(e=this.timeRange.max.indexOf("AM")>=0?"AM":"PM");var n=this.timeRange.max.split(":");i=parseInt(n[0]),r=parseInt(n[1]),e&&(this.timeRange.maxDefaultHour=i,this.timeRange.maxMeridian=e),e&&"PM"==e&&(i+=12),this.timeRange.maxHour=i,this.timeRange.maxMinute=r}}},_format:function(e,t,i){var n=!1;try{null!=window.Globalize&&(n=!0),document.Globalize&&(window.Globalize=document.Globalize,n=!0)}catch(s){document.Globalize&&(window.Globalize=document.Globalize,n=!0)}if(document.Globalize&&(window.Globalize=document.Globalize,n=!0),r.global)return r.global.format(e,t,this.culture);if(!n){if(r.jqx.dataFormat)return e instanceof Date?r.jqx.dataFormat.formatdate(e,t,this.localization.calendar):"number"==typeof e?r.jqx.dataFormat.formatnumber(e,t,this.localization.calendar):r.jqx.dataFormat.formatdate(e,t,this.localization.calendar);throw new Error("jqxDateTimeInput: Missing reference to globalize.js.")}try{return window.Globalize.format(e,t,this.culture)}catch(s){return window.Globalize.format(e,t)}},render:function(){var e=this;e._removeHandlers(),e.element.innerHTML="",e.host.attr({role:"textbox"}),e.id=r.jqx.utilities.createId(),r.jqx.utilities.createId(),r.jqx.utilities.createId(),e._setSize(),null==e.width&&(e.width=e.host.width(),e.host.width(e.width)),e.touch=r.jqx.mobile.isTouchDevice();var t=r("<div class='jqx-max-size jqx-position-relative'></div>").appendTo(e.host);e.dateTimeInput=r("<input style='border: none; padding-left: 3px; padding-right: 3px;' class='jqx-position-absolute' id='input"+e.element.id+"' autocomplete='off' type='textarea'/>").appendTo(t),e.dateTimeInput.addClass(e.toThemeProperty("jqx-reset")),e.dateTimeInput.addClass(e.toThemeProperty("jqx-clear")),e.dateTimeInput.addClass(e.toThemeProperty("jqx-input-content")),e.dateTimeInput.addClass(e.toThemeProperty("jqx-widget-content")),e.dateTimeInput.addClass(e.toThemeProperty("jqx-rc-all")),e.isMaterialized()||e.dateTimeInput.attr("placeHolder",e.placeHolder),"full"!=e.renderMode&&e.dateTimeInput.remove();var i=e.host.attr("name");i&&e.dateTimeInput.attr("name",i),e.host.attr("tabindex")&&(e.dateTimeInput.attr("tabindex",e.host.attr("tabindex")),e.host.removeAttr("tabindex")),e.rtl&&(e.dateTimeInput.css("direction","rtl"),e.dateTimeInput.addClass("jqx-rtl")),e.calendarButton=r("<div style='height: 100%;' class='jqx-position-absolute'><div></div></div>").appendTo(t),e.calendarButton.addClass(e.toThemeProperty(e.rtl?"jqx-action-button-rtl":"jqx-action-button")),e.calendarButtonIcon=r(e.calendarButton.children()[0]),e.calendarButtonIcon.addClass(e.toThemeProperty("jqx-icon")),e.calendarButtonIcon.addClass(e.toThemeProperty("jqx-icon-calendar")),e.calendarButton.addClass(e.toThemeProperty("jqx-fill-state-normal")),e.rtl?e.calendarButton.addClass(e.toThemeProperty("jqx-rc-l")):e.showTimeButton||e.calendarButton.addClass(e.toThemeProperty("jqx-rc-r")),e.timeButton=r("<div style='height: 100%;' class='jqx-position-absolute'><div></div></div>").appendTo(t),e.timeButton.addClass(e.toThemeProperty(e.rtl?"jqx-action-button-rtl":"jqx-action-button")),e.timeButtonIcon=r(e.timeButton.children()[0]),e.timeButtonIcon.addClass(e.toThemeProperty("jqx-icon")),e.timeButtonIcon.addClass(e.toThemeProperty("jqx-icon-time")),e.timeButton.addClass(e.toThemeProperty("jqx-fill-state-normal")),e.timeButton.addClass(e.toThemeProperty(e.rtl?"jqx-rc-l":"jqx-rc-r"));var n=this;if(e._arrange(),null!=r.jqx._jqxCalendar&&null!=r.jqx._jqxCalendar)try{var s="calendar"+e.id,o=r(r.find("#"+s));o.length>0&&o.remove(),r.jqx.aria(this,"aria-owns",s),r.jqx.aria(this,"aria-haspopup",!0),r.jqx.aria(this,"aria-readonly","range"==e.selectionMode);var a=r("<div style='overflow: hidden; background: transparent; position: absolute;' id='calendar"+e.id+"'><div id='innerCalendar"+e.id+"'></div><div id='innerTime"+e.id+"'></div></div>");"opera"==r.jqx.utilities.getBrowser().browser&&a.hide(),a.appendTo("element"==e.dropDownContainer?e.host:document.body),e.container=a,e.calendarContainer=r(r.find("#innerCalendar"+e.id)).jqxCalendar({titleFormat:this.titleFormat,restrictedDates:this.restrictedDates,changing:e.changing,change:e.change,enableViews:e.enableViews,selectableDays:e.selectableDays,views:e.views,rowHeaderWidth:e.rowHeaderWidth,titleHeight:e.titleHeight,columnHeaderHeight:e.columnHeaderHeight,_checkForHiddenParent:!1,enableAutoNavigation:!1,canRender:!1,localization:e.localization,todayString:e.todayString,clearString:e.clearString,dayNameFormat:e.dayNameFormat,rtl:e.rtl,culture:e.culture,showFooter:e.showFooter,selectionMode:e.selectionMode,firstDayOfWeek:e.firstDayOfWeek,showWeekNumbers:e.showWeekNumbers,width:e.dropDownWidth,height:e.dropDownHeight,theme:e.theme}),e.calendarContainer.css("element"==e.dropDownContainer?{position:"absolute",top:0,left:0}:{position:"absolute",zIndex:e.popupZIndex,top:0,left:0}),e.calendarContainer.addClass(e.toThemeProperty("jqx-popup")),r.jqx.browser.msie&&e.calendarContainer.addClass(e.toThemeProperty("jqx-noshadow")),e.timeContainer=r(r.find("#innerTime"+e.id)),e.timeContainer.css({position:"absolute",zIndex:e.popupZIndex,top:0,left:0}),e.timeContainer.addClass(e.toThemeProperty("jqx-popup")),r.jqx.browser.msie&&e.timeContainer.addClass(e.toThemeProperty("jqx-noshadow")),e._calendar=r.data(e.calendarContainer[0],"jqxCalendar").instance,n=this,e._calendar.today=function(){n.today()},e._calendar.clear=function(){n.clear()},"opera"==r.jqx.utilities.getBrowser().browser&&a.show(),a.height(parseInt(e.calendarContainer.height())+25),a.width(parseInt(e.calendarContainer.width())+25),"range"==e.selectionMode&&(e.readonly=!0),"none"==e.animationType?e.container.css("display","none"):e.container.hide()}catch(h){}if(r.global&&r.global.preferCulture(e.culture),e.selectedText="",e._addHandlers(),e.self=this,e.oldValue=e.getDate(),e.items=new Array,e.editors=new Array,e._loadItems(),e.editorText="",1==e.readonly&&e.dateTimeInput.css("readonly",e.readonly),e.dateTimeInput.css("text-align",e.textAlign),e.host.addClass(e.toThemeProperty("jqx-widget")),e.host.addClass(e.toThemeProperty("jqx-datetimeinput")),e.host.addClass(e.toThemeProperty("jqx-input")),e.host.addClass(e.toThemeProperty("jqx-overflow-hidden")),e.host.addClass(e.toThemeProperty("jqx-rc-all")),e.host.addClass(e.toThemeProperty("jqx-reset")),e.host.addClass(e.toThemeProperty("jqx-clear")),e.host.addClass(e.toThemeProperty("jqx-widget-content")),e.propertyChangeMap.disabled=function(e,t,i,s){s?(e.host.addClass(n.toThemeProperty("jqx-input-disabled")),e.host.addClass(n.toThemeProperty("jqx-fill-state-disabled"))):(e.host.removeClass(n.toThemeProperty("jqx-fill-state-disabled")),e.host.removeClass(n.toThemeProperty("jqx-input-disabled"))),r.jqx.aria(e,"aria-disabled",s)},e.disabled&&(e.host.addClass(e.toThemeProperty("jqx-input-disabled")),e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")),e.dateTimeInput.attr("disabled",!0)),e.host.parents("form").length>0&&e.addHandler(e.host.parents("form"),"reset",(function(){setTimeout((function(){n.setDate(new Date)}),10)})),e.cookies){var l=r.jqx.cookie.cookie("jqxDateTimeInput"+e.element.id);null!=l&&e.setDate(new Date(l))}if(r.jqx.browser.msie&&r.jqx.browser.version<8&&e.host.parents(".jqx-window").length>0){var d=e.host.parents(".jqx-window").css("z-index");e.container.css("z-index",d+10),e.calendarContainer.css("z-index",d+10)}"default"!=e.culture&&e._applyCulture(),e.value&&(e.calendarContainer.jqxCalendar("_isDisabled",e.value.dateTime)?e.dateTimeInput.addClass(e.toThemeProperty("jqx-input-invalid")):e.dateTimeInput.removeClass(e.toThemeProperty("jqx-input-invalid"))),this._addBarAndLabel(this.dateTimeInput),this._updateHint(!0),e.template&&(e.bar.addClass(e.toThemeProperty("jqx-"+e.template)),e.label.addClass(e.toThemeProperty("jqx-"+e.template)),e.timeButton.addClass(e.toThemeProperty("jqx-"+e.template)),e.calendarButton.addClass(e.toThemeProperty("jqx-"+e.template))),this._setSize(),this._arrange()},val:function(e){var t=this;if(0!=arguments.length){if(null==e&&t.setDate(null),"range"==t.selectionMode)return t.setRange(arguments[0],arguments[1]),t.getText();if(e instanceof Date&&t.setDate(e),"string"==typeof e){if("date"==e)return t.getDate();t.setDate(e)}t._calendar.getDate()!=t.getDate()&&t._calendar.setDate(t.getDate())}return t.getText()},_setSize:function(){var e=window.getComputedStyle(this.element),t=2*parseInt(e.borderLeftWidth);0===this.element.offsetWidth&&(t=2),("border-box"===e.boxSizing||isNaN(t))&&(t=0),null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=parseInt(this.width)-t+"px":null==this.width||isNaN(this.width)||(this.element.style.width=parseInt(this.width)-t+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=parseInt(this.height)-t+"px":null==this.height||isNaN(this.height)||(this.element.style.height=parseInt(this.height)-t+"px");var i=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(i=!0,this.host.width(this.width),t>0&&this.host.css("box-sizing","border-box")),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(i=!0,this.host.height(this.height));var n=this;if(i&&this.calendarContainer){this._arrange();var s=this.host.width();"auto"!=this.dropDownWidth&&(s=this.dropDownWidth),this.calendarContainer.jqxCalendar({width:s}),this.container.width(parseInt(s)+25)}r.jqx.utilities.resize(this.host,(function(){n.calendarContainer&&n._arrange()}))},_arrange:function(){null==this.height&&(this.height=27,this.host.height(27));var e=parseInt(this.host.width()),t=parseInt(this.host.height()),i=window.getComputedStyle(this.element),n=2*parseInt(i.borderLeftWidth);("border-box"===i.boxSizing||isNaN(n))&&(n=0);var s=this.buttonSize,o=2;this.showCalendarButton||this.showTimeButton||(s=0,this.calendarButton.hide(),o=0),this.showCalendarButton?this.calendarButton.show():this.calendarButton.hide(),this.showTimeButton?this.timeButton.show():this.timeButton.hide();var a=e-s-1*o;this.showTimeButton&&this.showCalendarButton?a=e-2*s-1*o:(this.showTimeButton||this.showCalendarButton)&&(a=e-s-1*o),a>0&&(this.dateTimeInput[0].style.width=a+"px"),this.rtl&&(this.dateTimeInput[0].style.width=-1+a+"px"),this.dateTimeInput[0].style.left="0px",this.dateTimeInput[0].style.top="0px",this.calendarButton[0].style.width=s+1+"px",this.calendarButton[0].style.left=1+a+"px",this.timeButton[0].style.width=s+1+"px",this.timeButton[0].style.left=this.showCalendarButton?1+this.calendarButton.width()+a+"px":1+a+"px","full"!=this.renderMode&&(this.calendarButton[0].style.width="100%",this.calendarButton[0].style.left="0px",this.calendarButton.css("border","none"),this.timeButton[0].style.width="100%",this.timeButton[0].style.left="0px",this.timeButton.css("border","none"));var l=this.dateTimeInput.height();if(0==l&&"full"!=this.renderMode?(l=parseInt(this.dateTimeInput.css("font-size"))+3,this.calendarButton.addClass(this.toThemeProperty("jqx-rc-all")),this.timeButton.addClass(this.toThemeProperty("jqx-rc-all"))):l=17,-1==this.dateTimeInput[0].className.indexOf("jqx-rc-all")&&this.dateTimeInput.addClass(this.toThemeProperty("jqx-rc-all")),(h=parseInt(t)/2-parseInt(l)/2)>0){var d=this.dateTimeInput.css("font-size");""==d&&(d=13);var h=t-2-parseInt(d)-2;isNaN(h)&&(h=0),h<0&&(h=0);var u=h/2;r.jqx.browser.msie&&r.jqx.browser.version<8&&(u=h/4),this.dateTimeInput[0].style.paddingTop=Math.round(u)+"px",this.dateTimeInput[0].style.paddingBottom=Math.round(u)+"px"}this.rtl&&(this.calendarButton[0].style.width=s+"px",this.timeButton[0].style.width=s+"px",this.calendarButton.css("left","0px"),this.timeButton.css("left",this.showCalendarButton?s+"px":"0px"),this.dateTimeInput.css("left",this.calendarButton.width()),this.showTimeButton&&this.showCalendarButton&&this.dateTimeInput.css("left",this.timeButton.width()+this.calendarButton.width()),r.jqx.browser.msie&&r.jqx.browser.version<=8&&(this.dateTimeInput.css("left",1+this.calendarButton.width()),this.showTimeButton&&this.showCalendarButton&&this.dateTimeInput.css("left",1+this.timeButton.width()+this.calendarButton.width())))},_removeHandlers:function(){this.removeHandler(r(document),"mousedown."+this.id),this.dateTimeInput&&(this.removeHandler(this.dateTimeInput,"keydown."+this.id),this.removeHandler(this.dateTimeInput,"blur"),this.removeHandler(this.dateTimeInput,"focus"),this.removeHandler(this.host,"focus"),this.removeHandler(this.dateTimeInput,"mousedown"),this.removeHandler(this.dateTimeInput,"mouseup"),this.removeHandler(this.dateTimeInput,"keydown"),this.removeHandler(this.dateTimeInput,"keyup"),this.removeHandler(this.dateTimeInput,"keypress")),null!=this.calendarButton&&this.removeHandler(this.calendarButton,"mousedown"),null!=this.timeButton&&this.removeHandler(this.timeButton,"mousedown"),null!=this.calendarContainer&&(this.removeHandler(this.calendarContainer,"cellSelected"),this.removeHandler(this.calendarContainer,"cellMouseDown")),this.removeHandler(r(window),"resize."+this.id)},isOpened:function(){var e=r.data(document.body,"openedJQXCalendar"+this.id);return null!=e&&e==this.calendarContainer},wheel:function(e,t){if(t.isEditing){t.changeType="mouse";var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var r=t._handleDelta(i);return!r&&(e.preventDefault&&e.preventDefault(),e.returnValue=!1,r)}e.preventDefault&&e.preventDefault(),e.returnValue=!1}},_handleDelta:function(e){return e<0?this.spinDown():this.spinUp(),!1},focus:function(){try{var e=this;e._firstFocusDate=e.getDate(),this._setSelectionStart(0),this._selectGroup(-1),this.dateTimeInput.focus(),setTimeout((function(){e._setSelectionStart(0),e._selectGroup(-1),e.dateTimeInput.focus()}),25)}catch(t){}},_addHandlers:function(){var e=this;this.host.parents()&&this.addHandler(this.host.parents(),"scroll.datetimeinput"+this.element.id,(function(t){e.isOpened()&&e.close()})),this.addHandler(this.host,"mouseenter",(function(){!e.disabled&&e.enableHover&&(e.calendarButtonIcon.addClass(e.toThemeProperty("jqx-icon-calendar-hover")),e.calendarButton.addClass(e.toThemeProperty("jqx-fill-state-hover")),e.showTimeButton&&(e.timeButtonIcon.addClass(e.toThemeProperty("jqx-icon-time-hover")),e.timeButton.addClass(e.toThemeProperty("jqx-fill-state-hover"))))})),this.addHandler(this.host,"mouseleave",(function(){!e.disabled&&e.enableHover&&(e.calendarButtonIcon.removeClass(e.toThemeProperty("jqx-icon-calendar-hover")),e.calendarButton.removeClass(e.toThemeProperty("jqx-fill-state-hover")),e.showTimeButton&&(e.timeButtonIcon.removeClass(e.toThemeProperty("jqx-icon-time-hover")),e.timeButton.removeClass(e.toThemeProperty("jqx-fill-state-hover"))))})),this.addHandler(this.host,"mousewheel",(function(t){e.wheel(t,e)})),this.addHandler(r(document),"mousedown."+this.id,this._closeOpenedCalendar,{me:this}),r.jqx.mobile.isTouchDevice()&&this.addHandler(r(document),r.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,this._closeOpenedCalendar,{me:this}),this.addHandler(this.dateTimeInput,"keydown."+this.id,(function(t){var i=r.data(document.body,"openedJQXCalendar"+e.id);if(null!=i&&i==e.calendarContainer)return e.handleCalendarKey(t,e)})),null!=this.calendarContainer&&(this.addHandler(this.calendarContainer,"keydown",(function(t){if(13==t.keyCode)return!(e.isOpened()&&!e._calendar._viewAnimating&&"month"==e._calendar.view&&(e.hideCalendar("selected","keyboard"),e.dateTimeInput.focus(),1));if(9==t.keyCode){if(e.isOpened())return e.hideCalendar("selected","keyboard"),!0}else if(27==t.keyCode)return!e.isOpened()||(e.hideCalendar(null,"keyboard"),e.dateTimeInput.focus(),!1);if(e.timePopup=!1,84==t.keyCode&&(e.timePopup=!0),115==t.keyCode){if(e.isOpened())return e.hideCalendar("keyboard","keyboard"),e.dateTimeInput.focus(),!1;if(!e.isOpened())return e.showCalendar("keyboard","keyboard"),e.dateTimeInput.focus(),!1}if(t.altKey)if(38==t.keyCode){if(e.isOpened())return e.hideCalendar("keyboard","keyboard"),e.dateTimeInput.focus(),!1}else if(40==t.keyCode&&!e.isOpened())return e.showCalendar("keyboard","keyboard"),e.dateTimeInput.focus(),!1})),this.addHandler(this.calendarContainer,"cellSelected",(function(t){e.closeCalendarAfterSelection&&(r.data(document.body,"openedJQXCalendarValue"),"mouse"==t.args.selectionType&&("range"!=e.selectionMode||0==e._calendar._clicks)&&e.hideCalendar("selected","mouse"))})),this.addHandler(this.calendarContainer,"cellMouseDown",(function(t){e.closeCalendarAfterSelection&&e._calendar.value&&r.data(document.body,"openedJQXCalendarValue",new r.jqx._jqxDateTimeInput.getDateTime(e._calendar.value.dateTime))}))),this.addHandler(this.dateTimeInput,"blur",(function(t){e.bar.removeClass("focused"),e.label.removeClass("focused"),e._endFullEdit(),null!=e.value&&(e.isEditing=!1,e.value.dateTime.getDay(),e._validateValue(!0),t.stopPropagation&&t.stopPropagation(),e._updateText(),e._raiseEvent(9,t)),e.isOpened()||e.host.removeClass(e.toThemeProperty("jqx-fill-state-focus"))})),this.addHandler(this.host,"focus",(function(t){e.focus()})),this.addHandler(this.dateTimeInput,"focus",(function(t){if(e._firstFocusDate=e.getDate(),null!=e.value?(e._oldDT="range"!=e.selectionMode?new Date(e.value.dateTime):e.getRange(),setTimeout((function(){var t=e._selection();e.isEditing=!0,e._validateValue(),e._updateText(),e._setSelectionStart(0),e._selectGroup(-1,t),e.host.addClass(e.toThemeProperty("jqx-fill-state-focus"))}))):(e._setSelectionStart(0),e._selectGroup(-1),e.host.addClass(e.toThemeProperty("jqx-fill-state-focus"))),t.stopPropagation&&t.stopPropagation(),e.bar.addClass("focused"),e.label.addClass("focused"),t.preventDefault)return t.preventDefault(),!1}));var t="mousedown";this.touch&&(t=r.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.calendarButton,t,(function(t){var i="block"==e.container.css("display");if(e.timePopup=!1,e.calendarPopup=!0,!e.disabled&&!e.isanimating){if(i)return e.hideCalendar(),!1;e.showCalendar("mouse"),t.preventDefault()}})),this.addHandler(this.timeButton,t,(function(t){var i="block"==e.container.css("display");if(e.timePopup=!0,e.calendarPopup=!1,!e.disabled&&!e.isanimating){if(i)return e.hideCalendar("mouse","mouse"),!1;e.showCalendar("mouse"),t.preventDefault()}})),this.addHandler(this.dateTimeInput,"mousedown",(function(t){return e._raiseEvent(2,t)})),this.addHandler(this.dateTimeInput,"mouseup",(function(t){return e._raiseEvent(3,t)})),this.addHandler(this.dateTimeInput,"keydown",(function(t){return e._raiseEvent(4,t)})),this.addHandler(this.dateTimeInput,"keyup",(function(t){var i=this.value;return e._fullEditInProgress&&e._enteredValue&&void 0!==e._mask[i.length]&&(this.value=this.value+e._mask[i.length]),e._raiseEvent(5,t)})),this.addHandler(this.dateTimeInput,"keypress",(function(t){return e._raiseEvent(6,t)}))},createID:function(){var e=Math.random()+"";return"dateTimeInput"+(e="99"+(e=e.replace(".","")))/1},setMaxDate:function(e,t){null!=e&&(null==e||"string"!=typeof e||(e=new Date(e),this._isValidDate(e)))&&(this.maxDate=r.jqx._jqxDateTimeInput.getDateTime(e),null!=this._calendar&&this._calendar.setMaxDate(e),0!=t&&(null!=this.getDate()&&this.getDate()>e&&this.setDate(e),r.jqx.aria(this,"aria-valuemax",e),this._refreshValue(),this._updateText()))},getMaxDate:function(){return null!=this.maxDate&&null!=this.maxDate?this.maxDate.dateTime:null},setMinDate:function(e,t){null!=e&&(null==e||"string"!=typeof e||(e=new Date(e),this._isValidDate(e)))&&(this.minDate=r.jqx._jqxDateTimeInput.getDateTime(e),null!=this._calendar&&this._calendar.setMinDate(e),0!=t&&(null!=this.getDate()&&this.getDate()<e&&this.setDate(e),r.jqx.aria(this,"aria-valuemin",e),this._refreshValue(),this._updateText()))},getMinDate:function(){return null!=this.minDate&&null!=this.minDate?this.minDate.dateTime:null},_applyCulture:function(){var e=!1;try{null!=window.Globalize&&(e=!0)}catch(i){}try{if(r.global)r.global.preferCulture(this.culture),this.localization.calendar=r.global.culture.calendar;else if(e){var t=Globalize.culture(this.culture);this.localization.calendar=t.calendar}this._loadItems(),null!=this._calendar&&(this._calendar.culture=this.culture,this._calendar.localization=this.localization,this._calendar.render())}catch(i){}},propertyMap:function(e){return"value"==e?"range"!=this.selectionMode?this.getDate():this.getRange():null},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.refresh(),e.close())},propertyChangedHandler:function(e,t,i,n){if(null!=e.isInitialized&&0!=e.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)){if("dropDownVerticalAlignment"==t&&e.close(),"template"==t&&(e.bar.removeClass(e.toThemeProperty("jqx-"+i)),e.label.removeClass(e.toThemeProperty("jqx-"+i)),e.timeButton.removeClass(e.toThemeProperty("jqx-"+i)),e.calendarButton.removeClass(e.toThemeProperty("jqx-"+i)),e.bar.addClass(e.toThemeProperty("jqx-"+e.template)),e.label.addClass(e.toThemeProperty("jqx-"+e.template)),e.timeButton.addClass(e.toThemeProperty("jqx-"+e.template)),e.calendarButton.addClass(e.toThemeProperty("jqx-"+e.template))),"restrictedDates"==t&&e.calendarContainer.css({restrictedDates:n}),"popupZIndex"==t&&e.calendarContainer.css({zIndex:n}),"showCalendarButton"==t&&e._arrange(),"showTimeButton"==t&&(e._arrange(),e.timePopupElement&&(e.timePopupElement.remove(),e.timePopupElement=null)),"selectionMode"==t&&(e._calendar.selectionMode=n,e.refreshValue()),"min"==t&&e.setMinDate("string"==typeof n?new Date(n):n),"max"==t&&e.setMaxDate("string"==typeof n?new Date(n):n),"value"==t)if(null!=n&&n instanceof Date){if(isNaN(n.getFullYear())||isNaN(n.getMonth())||isNaN(n.getDate()))return void(this.value=i);n=r.jqx._jqxDateTimeInput.getDateTime(n)}else if(null!=n&&"string"==typeof n){var s=new Date(n);null==s||isNaN(s)||(this.value=r.jqx._jqxDateTimeInput.getDateTime(s))}if("views"==t&&e.calendarContainer.jqxCalendar({views:n}),"enableViews"==t&&e.calendarContainer.jqxCalendar({enableViews:n}),"selectableDays"==t&&e.calendarContainer.jqxCalendar({selectableDays:n}),"showFooter"==t&&e.calendarContainer.jqxCalendar({showFooter:n}),"rtl"==t&&(e.calendarContainer.jqxCalendar({rtl:n}),n?(e.dateTimeInput.css("direction","rtl"),e.dateTimeInput.addClass("jqx-rtl")):(e.dateTimeInput.css("direction","ltr"),e.dateTimeInput.removeClass("jqx-rtl"))),"todayString"!=t&&"clearString"!=t||e.calendarContainer.jqxCalendar({clearString:e.clearString,todayString:e.todayString}),"dayNameFormat"==t&&e.calendarContainer.jqxCalendar({dayNameFormat:n}),"firstDayOfWeek"==t&&e.calendarContainer.jqxCalendar({firstDayOfWeek:n}),"showWeekNumbers"==t&&e.calendarContainer.jqxCalendar({showWeekNumbers:n}),"culture"==t||"localization"==t?e._applyCulture():"formatString"!=t&&("yearCutoff"!==t||null!==n&&null!==i)||("formatString"===t&&e._getMask(),e.items=new Array,e._loadItems()),"theme"==t&&(r.jqx.utilities.setTheme(i,n,e.host),e.calendarContainer.jqxCalendar({theme:n})),"width"==t||"height"==t)return e.close(),void e.refresh();e._setOption(t,n,i),"dropDownWidth"!=t&&"dropDownHeight"!=t||(e.calendarContainer.jqxCalendar({width:e.dropDownWidth,height:e.dropDownHeight}),e._calendar.render(),e.container.height(e.calendarContainer.height()),e.container.width(e.calendarContainer.width()))}},clear:function(){this.allowNullDate?("range"!=this.selectionMode?this.setDate(null):(this._calendar._clicks=1,this.setRange(null,null)),this._calendar._clicks=0):"range"!=this.selectionMode?this.setDate(this.getMinDate()):(this._calendar._clicks=1,this.setRange(this.getMinDate(),this.getMinDate()),this._calendar._clicks=0),this.hideCalendar()},today:function(){var e=new Date;if(e.setHours(0,0,0,0),"range"!=this.selectionMode)this.setDate(e);else{this._calendar._clicks=0;var t=new Date;t.setHours(23,59,59,0),this.setRange(e,t),this._calendar._clicks=0}this.hideCalendar()},_isValidDate:function(e){return null==e||"object"==typeof e&&(!(null===e||!e.getFullYear)||!("Invalid Date"==e||e.valueOf()<0||isNaN(e.valueOf())))},setDate:function(e){var t=this.getDate();if(null!=e&&"string"==typeof e){var i=e;if(e.toString().indexOf(",")>=0&&(e=e.replace(/\,/g,"/"),e=new Date(e),this._isValidDate(e)||(e=i)),e.toString().indexOf("-")>=0&&(e=e.replace(/\-/g,"/"),e=new Date(e),this._isValidDate(e)||(e=i),e.getFullYear&&isNaN(e.getFullYear)&&(e=i)),""!=e){var n=e;if(null===(e=null!=window.Globalize?window.Globalize.parseDate(n,this.formatString,this.culture):r.jqx.dataFormat?r.jqx.dataFormat.parsedate(n,this.formatString,this.localization.calendar):new Date(e))&&null!==n&&this._isValidDate(n)&&(e=n),!this._isValidDate(e))return}}if(null!=e&&"null"!=e&&"undefined"!=e||this.allowNullDate||(e=this.min),this._isValidDate(e)||(e=null),null!=e&&"null"!=e&&"undefined"!=e&&""!==e){if(!(e<this.getMinDate()||e>this.getMaxDate()))return null==this.value&&(this.value=new r.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),e.getFullYear&&(this.value._setYear(e.getFullYear()),this.value._setDay(1),this.value._setMonth(e.getMonth()+1),this.value._setHours(e.getHours()),this.value._setMinutes(e.getMinutes()),this.value._setSeconds(e.getSeconds()),this.value._setMilliseconds(e.getMilliseconds()),this.value._setDay(e.getDate())),this._validateTimeRange(),this._refreshValue(),this.cookies&&null!=this.value&&r.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),0!=this.getDate()-t?(this._raiseEvent("0",e,t),this._raiseEvent("9",e,t),!0):void 0}else null!=this.value&&(this.value=null,this._calendar.setDate(null),this._refreshValue(),this.cookies&&null!=this.value&&r.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this._setSelectionStart(0),this._selectGroup(-1),this._raiseEvent("0",e,t),this._raiseEvent("9",e,t))},getDate:function(){return null==this.value?null:new Date(this.value.dateTime)},getText:function(){return this.dateTimeInput.val()},setRange:function(e,t){if("object"!=typeof e||this._isValidDate(e)||(e=null),"object"!=typeof t||this._isValidDate(t)||(t=null),(null==e||"string"!=typeof e||(e=new Date(e),this._isValidDate(e)))&&(null==t||"string"!=typeof t||(t=new Date(t),this._isValidDate(t)))&&!(e&&isNaN(e)&&"NaN"==e.toString()&&"string"!=typeof e||t&&isNaN(t)&&"NaN"==t.toString()&&"string"!=typeof t)){this._calendar.setRange(e,t),this._range=t&&e&&t.valueOf()!=e.valueOf()?{from:e,to:t}:this._calendar.getRange();var i=e;null!=i&&i.getFullYear&&(null==this.value&&(this.value=new r.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),this.value._setYear(i.getFullYear()),this.value._setMonth(i.getMonth()+1),this.value._setHours(i.getHours()),this.value._setMinutes(i.getMinutes()),this.value._setSeconds(i.getSeconds()),this.value._setMilliseconds(i.getMilliseconds()),this.value._setDay(i.getDate())),this._refreshValue(),this._raiseEvent("0",this.value?this.value.dateTime:null)}},getRange:function(){var e=this._calendar.getRange();if(this._range){var t=this._range.from,i=this._range.to;i&&t&&i.valueOf()!=t.valueOf()&&(e.from&&e.from.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e.to&&e.to.setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()))}return e},_validateValue:function(e){for(var t=0;t<this.items.length;t++){var i=this.editors[t].value;switch(this.items[t].type){case"FORMAT_AMPM":i<0?i=0:i>1&&(i=1);break;case"Character":break;case"Day":i<1?i=1:i>31&&(i=31);break;case"FORMAT_hh":i<1?i=1:i>12&&(i=12);break;case"FORMAT_HH":i<0?i=0:i>23&&(i=23);break;case"Millisecond":i<0?i=0:i>999&&(i=999);break;case"Minute":i<0?i=0:i>59&&(i=59);break;case"Month":i<1?i=1:i>12&&(i=12);break;case"ReadOnly":break;case"Second":i<0?i=0:i>59&&(i=59);break;case"Year":i<this.minDate.year?i=this.minDate.year:i>this.maxDate.year&&(i=this.maxDate.year)}this.editors[t].value!=i&&(this.editors[t].value=i)}this.updateValue(e),null!=this.value&&!0===e&&(this.value.dateTime>this.maxDate.dateTime?(this._internalSetValue(this.maxDate),this._updateEditorsValue()):this.value.dateTime<this.minDate.dateTime&&(this._internalSetValue(this.minDate),this._updateEditorsValue()),this._updateText())},spinUp:function(){if(null!=this.value){if(null!=this.activeEditor){var e=this.editors.indexOf(this.activeEditor);if(-1==e)return;"Day"==this.items[e].type&&null!=this.value&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));var t=this.activeEditor.positions;this.activeEditor.increaseValue(this.enableAbsoluteSelection),this.activeEditor.positions=t}this.isEditing&&(this.isEditing=!1),this.updateValue(),this.isEditing=!0,this._updateText();var i=this.editors.indexOf(this.activeEditor);i>=0&&this._selectGroup(i)}},spinDown:function(){if(null!=this.value){if(null!=this.activeEditor){var e=this.editors.indexOf(this.activeEditor);if(-1==e)return;"Day"==this.items[e].type&&null!=this.value&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));var t=this.activeEditor.positions;this.activeEditor.decreaseValue(this.enableAbsoluteSelection),this.activeEditor.positions=t}this.isEditing&&(this.isEditing=!1),this.updateValue(),this.isEditing=!0,this._updateText();var i=this.editors.indexOf(this.activeEditor);i>=0&&this._selectGroup(i)}},_passKeyToCalendar:function(e){if(13==e.keyCode||9==e.keyCode)return this.hideCalendar("selected","keyboard"),!0;if(27==e.keyCode){var t=this._calendar,i=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=!1,t.setDate(this.value.dateTime),this.closeCalendarAfterSelection=i,this.hideCalendar()}i=this.closeCalendarAfterSelection,this.closeCalendarAfterSelection=!1;var r=this._calendar._handleKey(e);return this.closeCalendarAfterSelection=i,r},handleCalendarKey:function(e,t){r(e.target);var i=r.data(document.body,"openedJQXCalendar"+this.id);return!(null!=i&&i.length>0)||t._passKeyToCalendar(e)},_findPos:function(e){if(null!=e){for(;e&&("hidden"==e.type||1!=e.nodeType||r.expr.filters.hidden(e));)e=e.nextSibling;var t=r(e).coord(!0);return[t.left,t.top]}},testOffset:function(e,t,i){var n=e.outerWidth(),s=e.outerHeight(),o=r(window).width()+r(window).scrollLeft(),a=r(window).height()+r(window).scrollTop();if(t.left+n>o&&n>this.host.width()){var l=this.host.coord().left,d=n-this.host.width();t.left=l-d+2}return t.left<0&&(t.left=parseInt(this.host.coord().left)+"px"),t.top-=Math.min(t.top,t.top+s>a&&a>s?Math.abs(s+i+23):0),t},open:function(e){this.timePopup="time"==e,this.showCalendar()},close:function(e){this.hideCalendar()},_getBodyOffset:function(){var e=0,t=0;return"0px"!=r("body").css("border-top-width")&&(e=parseInt(r("body").css("border-top-width")),isNaN(e)&&(e=0)),"0px"!=r("body").css("border-left-width")&&(t=parseInt(r("body").css("border-left-width")),isNaN(t)&&(t=0)),{left:t,top:e}},initTimePopup:function(){this.timePopupElement=r("<div style='border-style: solid; border-width: 0px;'></div>").appendTo(this.timeContainer),this.timePopupElement.addClass(this.toThemeProperty("jqx-widget-content jqx-widget jqx-date-time-input-popup"));var e="";e+="<table><tbody><tr><td><a class='increment-hour-column' href='javascript:;' data-action='incrementHour'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-minute-column' href='javascript:;' data-action='incrementMinute'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-second-column' href='javascript:;' data-action='incrementSecond'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-millisecond-column' href='javascript:;' data-action='incrementMSSecond'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td class='increment-meridian-column'><a href='javascript:;' data-action='toggleMeridian'><div class='jqx-icon-up'></div></a></td></tr><tr><td><input type='text' class='jqx-timepicker-hour' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-minute' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-second' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-millisecond' maxlength='3'></td><td class='separator'>&nbsp;</td><td><input type='text' class='jqx-timepicker-meridian' maxlength='2'></td></tr><tr><td><a class='decrement-hour-column' href='javascript:;' data-action='decrementHour'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-minute-column' href='javascript:;' data-action='decrementMinute'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-second-column' href='javascript:;' data-action='decrementSecond'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-millisecond-column' href='javascript:;' data-action='decrementMillisecond'><div class='jqx-icon-down'></div></a></td><td class='separator'>&nbsp;</td><td><a class='decrement-meridian-column' href='javascript:;' data-action='toggleMeridian'><div class='jqx-icon-down'></div></a></td></tr></tbody></table>";var t=this._getFormatValue(this.formatString);this.timePopupElement[0].innerHTML="range"!=this.selectionMode?e:"<table><tr><td>"+e+"</td><td>-</td><td>"+e+"</td></tr></table>",this.timePopupElement.find(".jqx-icon-down").addClass(this.toThemeProperty("jqx-icon jqx-icon-arrow-down")),this.timePopupElement.find(".jqx-icon-up").addClass(this.toThemeProperty("jqx-icon jqx-icon-arrow-up"));var i=this.timePopupElement.find("input");i.addClass(this.toThemeProperty("jqx-input")),i.addClass(this.toThemeProperty("jqx-rc-all")),this.addHandler(i,"mousedown",(function(e){e.stopPropagation()}));var n=function(e){e.target.className.indexOf("hour")>=0&&o._decrementHour(r(e.target)),e.target.className.indexOf("minute")>=0&&o._decrementMinuteSecond(r(e.target)),e.target.className.indexOf("second")>=0&&o._decrementMinuteSecond(r(e.target)),e.target.className.indexOf("millisecond")>=0&&o._decrementMillisecond(r(e.target)),e.target.className.indexOf("meridian")>=0&&o._decrementMeridian(r(e.target))},s=function(e){e.target.className.indexOf("hour")>=0&&o._incrementHour(r(e.target)),e.target.className.indexOf("minute")>=0&&o._incrementMinuteSecond(r(e.target)),e.target.className.indexOf("second")>=0&&o._incrementMinuteSecond(r(e.target)),e.target.className.indexOf("millisecond")>=0&&o._incrementMillisecond(r(e.target)),e.target.className.indexOf("meridian")>=0&&o._incrementMeridian(r(e.target))};this.addHandler(i,"wheel",(function(e){!function(e,t){if(t.isEditing){var i=0;e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.originalEvent&&null!=e.originalEvent.deltaY&&(i=-e.originalEvent.deltaY),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i&&(document.activeElement==e.target&&"input"==e.target.nodeName.toLowerCase()&&(i<0?n(e):s(e)),e.preventDefault&&e.preventDefault(),e.returnValue=!1),e.preventDefault&&e.preventDefault(),e.returnValue=!1}}(e,o)})),this.addHandler(i,"keydown",(function(e){if(r(e.target),e.ctrlKey)if(38==e.keyCode){if(o.isOpened())return o.hideCalendar("keyboard","keyboard"),o.dateTimeInput.focus(),!1}else if(40==e.keyCode&&!o.isOpened())return o.showCalendar("keyboard","keyboard"),o.dateTimeInput.focus(),!1;40==e.keyCode?(n(e),e.preventDefault()):38==e.keyCode?(s(e),e.preventDefault()):13==e.keyCode?(e.preventDefault(),o.hideCalendar("keyboard","keyboard"),o.dateTimeInput.focus()):27==e.keyCode&&(e.preventDefault(),o.hideCalendar("cancel"),o.dateTimeInput.focus())})),this.hourInput=r(i[0]),this.minuteInput=r(i[1]),this.secondInput=r(i[2]),this.mssecondInput=r(i[3]),this.meridianInput=r(i[4]),this.hourInput2=r(i[5]),this.minuteInput2=r(i[6]),this.secondInput2=r(i[7]),this.mssecondInput2=r(i[8]),this.meridianInput2=r(i[9]);var o=this,a=this.timePopupElement.find(".increment-hour-column");this.hourIncrement=r(a[0]),this.hourIncrement2=r(a[1]),this.addHandler(i,"change",(function(e){var i=r(e.target);if(i.val().length<=1&&i.val("0"+r(e.target).val()),e.target.className.indexOf("hour")>=0){var n=parseInt(r(e.target).val());if(t.indexOf("HH")>=0)for(;n>24;)n-=24;else for(;n>12;)n-=12;n<10&&(n="0"+n),i.val()!=n&&i.val(n)}if(e.target.className.indexOf("minute")>=0||e.target.className.indexOf("second")>=0){for(n=parseInt(r(e.target).val());n>59;)n--;n<10&&(n="0"+n),i.val()!=n&&i.val(n)}})),this._incrementHour=function(e){var i=parseInt(e.val());i++,t.indexOf("HH")>=0?i>23&&(i=0):i>12&&(i=1),i<10&&(i="0"+i),e.val(i)},this._incrementMinuteSecond=function(e){var t=parseInt(e.val());++t>59&&(t=0),t<10&&(t="0"+t),e.val(t)},this._incrementMillisecond=function(e){var t=parseInt(e.val());++t>999&&(t=0),t<10&&(t="0"+t),e.val(t)},this._incrementMeridian=function(e){var t=e.val();t=t.toLowerCase().indexOf("a")>=0?"PM":"AM",e.val(t)},this._decrementHour=function(e){var i=parseInt(e.val());i--,t.indexOf("HH")>=0?i<0&&(i=23):i<1&&(i=12),i<10&&(i="0"+i),e.val(i)},this._decrementMinuteSecond=function(e){var t=parseInt(e.val());--t<0&&(t=59),t<10&&(t="0"+t),e.val(t)},this._decrementMillisecond=function(e){var t=parseInt(e.val());--t<0&&(t=999),t<10&&(t="0"+t),e.val(t)},this._decrementMeridian=function(e){var t=e.val();t=t.toLowerCase().indexOf("a")>=0?"PM":"AM",e.val(t)},this.addHandler(this.hourIncrement,"mousedown",(function(e){e.stopPropagation(),o._incrementHour(o.hourInput)})),this.addHandler(this.hourIncrement2,"mousedown",(function(e){e.stopPropagation(),o._incrementHour(o.hourInput2)}));var l=this.timePopupElement.find(".increment-minute-column");this.minuteIncrement=r(l[0]),this.minuteIncrement2=r(l[1]),this.addHandler(this.minuteIncrement,"mousedown",(function(e){e.stopPropagation(),o._incrementMinuteSecond(o.minuteInput)})),this.addHandler(this.minuteIncrement2,"mousedown",(function(e){e.stopPropagation(),o._incrementMinuteSecond(o.minuteInput2)}));var d=this.timePopupElement.find(".increment-second-column");this.secondIncrement=r(d[0]),this.secondIncrement2=r(d[1]),this.addHandler(this.secondIncrement,"mousedown",(function(e){e.stopPropagation(),o._incrementMinuteSecond(o.secondInput)})),this.addHandler(this.secondIncrement2,"mousedown",(function(e){e.stopPropagation(),o._incrementMinuteSecond(o.secondInput2)}));var h=this.timePopupElement.find(".increment-millisecond-column");this.millisecondsIncrement=r(h[0]),this.millisecondsIncrement2=r(h[1]),this.addHandler(this.millisecondsIncrement,"mousedown",(function(e){e.stopPropagation(),o._incrementMillisecond(o.mssecondInput)})),this.addHandler(this.millisecondsIncrement2,"mousedown",(function(e){e.stopPropagation(),o._incrementMillisecond(o.mssecondInput2)}));var u=this.timePopupElement.find(".increment-meridian-column");this.meridianIncrement=r(u[0]),this.meridianIncrement2=r(u[1]),this.addHandler(this.meridianIncrement,"mousedown",(function(e){e.stopPropagation(),o._incrementMeridian(o.meridianInput)})),this.addHandler(this.meridianIncrement2,"mousedown",(function(e){e.stopPropagation(),o._incrementMeridian(o.meridianInput2)}));var c=this.timePopupElement.find(".decrement-hour-column");this.hourDecrement=r(c[0]),this.hourDecrement2=r(c[1]),this.addHandler(this.hourDecrement,"mousedown",(function(e){e.stopPropagation(),o._decrementHour(o.hourInput)})),this.addHandler(this.hourDecrement2,"mousedown",(function(e){e.stopPropagation(),o._decrementHour(o.hourInput2)}));var p=this.timePopupElement.find(".decrement-minute-column");this.minuteDecrement=r(p[0]),this.minuteDecrement2=r(p[1]),this.addHandler(this.minuteDecrement,"mousedown",(function(e){e.stopPropagation(),o._decrementMinuteSecond(o.minuteInput)})),this.addHandler(this.minuteDecrement2,"mousedown",(function(e){e.stopPropagation(),o._decrementMinuteSecond(o.minuteInput2)}));var f=this.timePopupElement.find(".decrement-second-column");this.secondDecrement=r(f[0]),this.secondDecrement2=r(f[1]),this.addHandler(this.secondDecrement,"mousedown",(function(e){e.stopPropagation(),o._decrementMinuteSecond(o.secondInput)})),this.addHandler(this.secondDecrement2,"mousedown",(function(e){e.stopPropagation(),o._decrementMinuteSecond(o.secondInput2)}));var m=this.timePopupElement.find(".decrement-millisecond-column");this.millisecondsDecrement=r(m[0]),this.millisecondsDecrement2=r(m[1]),this.addHandler(this.millisecondsDecrement,"mousedown",(function(e){e.stopPropagation(),o._decrementMillisecond(o.mssecondInput)})),this.addHandler(this.millisecondsDecrement2,"mousedown",(function(e){e.stopPropagation(),o._decrementMillisecond(o.mssecondInput2)}));var g=this.timePopupElement.find(".decrement-meridian-column");this.meridianDecrement=r(g[0]),this.meridianDecrement2=r(g[1]),this.addHandler(this.meridianDecrement,"mousedown",(function(e){e.stopPropagation(),o._decrementMeridian(o.meridianInput)})),this.addHandler(this.meridianDecrement2,"mousedown",(function(e){e.stopPropagation(),o._decrementMeridian(o.meridianInput2)}));var v=this.timePopupElement.find("table");this.addHandler(this.timePopupElement,"mousedown",(function(e){e.stopPropagation()}));var w=function(e){var i=e.find("tr");-1==t.indexOf("mm")&&(o.minuteInput.hide(),o.minuteInput2.hide(),r(r(i[0]).children()[1]).hide(),r(r(i[0]).children()[2]).hide(),r(r(i[1]).children()[1]).hide(),r(r(i[1]).children()[2]).hide(),r(r(i[2]).children()[1]).hide(),r(r(i[2]).children()[2]).hide()),-1==t.indexOf("ss")&&(o.secondInput.hide(),o.secondInput2.hide(),r(r(i[0]).children()[3]).hide(),r(r(i[0]).children()[4]).hide(),r(r(i[1]).children()[3]).hide(),r(r(i[1]).children()[4]).hide(),r(r(i[2]).children()[3]).hide(),r(r(i[2]).children()[4]).hide()),-1==t.indexOf("tt")&&-1==t.indexOf("hh")&&(o.meridianInput.hide(),o.meridianInput2.hide(),r(r(i[0]).children()[7]).hide(),r(r(i[0]).children()[8]).hide(),r(r(i[1]).children()[7]).hide(),r(r(i[1]).children()[8]).hide(),r(r(i[2]).children()[7]).hide(),r(r(i[2]).children()[8]).hide()),-1==t.indexOf("zz")&&(o.mssecondInput.hide(),o.mssecondInput2.hide(),r(r(i[0]).children()[5]).hide(),r(r(i[0]).children()[6]).hide(),r(r(i[1]).children()[5]).hide(),r(r(i[1]).children()[6]).hide(),r(r(i[2]).children()[5]).hide(),r(r(i[2]).children()[6]).hide())};1==v.length?w(v):(w(r(r(v)[1])),w(r(r(v)[2])))},updateTimePopup:function(){var e=this._getFormatValue(this.formatString);if("range"!=this.selectionMode){var t=this.getDate();if(this.hourInput){if(t)var i=t.getHours(),r=t.getMinutes(),n=t.getHours(),s=t.getSeconds(),o=t.getMilliseconds();else i=0,r=0,n=0,s=0,o=0;i>=12?(n="PM",-1==e.indexOf("HH")&&0==(i-=12)&&(i=12)):n="AM","none"!=this.meridianInput.css("display")&&0==i&&(i=12),i<10&&(i="0"+i),r<10&&(r="0"+r),s<10&&(s="0"+s),o<10&&(o="0"+o),this.hourInput.val(i),this.minuteInput.val(r),this.secondInput.val(s),this.mssecondInput.val(o),this.meridianInput.val(n)}}else t=this.getRange().from,this.hourInput&&(t?(i=t.getHours(),r=t.getMinutes(),n=t.getHours(),s=t.getSeconds(),o=t.getMilliseconds()):(i=0,r=0,n=0,s=0,o=0),i>=12?(n="PM",-1==e.indexOf("HH")&&0==(i-=12)&&(i=12)):n="AM","none"!=this.meridianInput.css("display")&&0==i&&(i=12),i<10&&(i="0"+i),r<10&&(r="0"+r),s<10&&(s="0"+s),o<10&&(o="0"+o),this.hourInput.val(i),this.minuteInput.val(r),this.secondInput.val(s),this.mssecondInput.val(o),this.meridianInput.val(n)),t=this.getRange().to,this.hourInput2&&(t?(i=t.getHours(),r=t.getMinutes(),n=t.getHours(),s=t.getSeconds(),o=t.getMilliseconds()):(i=0,r=0,n=0,s=0,o=0),i>=12?(n="PM",-1==e.indexOf("HH")&&0==(i-=12)&&(i=12)):n="AM","none"!=this.meridianInput.css("display")&&0==i&&(i=12),i<10&&(i="0"+i),r<10&&(r="0"+r),s<10&&(s="0"+s),o<10&&(o="0"+o),this.hourInput2.val(i),this.minuteInput2.val(r),this.secondInput2.val(s),this.mssecondInput2.val(o),this.meridianInput2.val(n))},showCalendar:function(){var e=this.calendarContainer,t=this._calendar;if(r.jqx.aria(this,"aria-expanded",!0),this.showTimeButton)if(this.timePopup){this.timePopupElement||this.initTimePopup(),this.calendarContainer.css("visibility","hidden"),this.timeContainer.css("visibility","visible"),this.updateTimePopup();for(var i=this.timeContainer.find("input"),n=0,s=0;s<i.length;s++)"none"!=i[s].style.display&&(n+=50);this.container.width(parseInt(n)),this.touch||setTimeout((function(){i[0].focus(),r(i[0]).select()}),150+this.openDelay)}else this.container.width(parseInt(this.calendarContainer.width())+25),this.timeContainer.css("visibility","hidden"),this.calendarContainer.css("visibility","visible");this._oldDT=null!=this.value?"range"!=this.selectionMode?new Date(this.value.dateTime):this.getRange():null,t.canRender||(t.canRender=!0,t.render());var o=this,a=(r(window).scrollTop(),r(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),l=parseInt(Math.round(this.host.coord(!0).left));"element"===this.dropDownContainer&&(a=parseInt(this.host.outerHeight())-1+"px"),this.container.css("left",l+"px"),this.container.css("top",a);var d=this.closeCalendarAfterSelection;if(this.closeCalendarAfterSelection=!1,this.isEditing=!1,"default"==o.selectionMode){this._validateValue(),this._updateText();var h=null!=this.value?this.value.dateTime:new Date;t.setDate(h)}this.closeCalendarAfterSelection=d;var u=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var c=this.container.outerWidth(),p=Math.abs(c-this.host.outerWidth()+2);this.rtl||(p-=2),c>this.host.width()?this.container.css("left",23+parseInt(Math.round(l))-p+"px"):this.container.css("left",25+parseInt(Math.round(l))+p+"px")}if("top"==this.dropDownVerticalAlignment){var f=e.height();this.timePopup&&this.timeContainer.css("top",this.container.height()-75),u=!0,e.css("top",23),e.addClass(this.toThemeProperty("jqx-popup-up"));var m=parseInt(this.host.outerHeight()),g=parseInt(a)-Math.abs(f+m+23);this.container.css("top",g)}if(this.enableBrowserBoundsDetection){var v=this.testOffset(e,{left:parseInt(this.container.css("left")),top:parseInt(a)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=v.top?(u=!0,e.css("top",23),e.addClass(this.toThemeProperty("jqx-popup-up"))):e.css("top",0),this.container.css("top",v.top),parseInt(this.container.css("left"))!=v.left&&this.container.css("left",v.left)}if(this._raiseEvent(7,e),"none"!=this.animationType){this.container.css("display","block");var w=parseInt(e.outerHeight());e.stop(),this.isanimating=!0,this.opening=!0,"fade"==this.animationType?(e.css("margin-top",0),e.css("opacity",0),e.animate({opacity:1},this.openDelay,(function(){o.isanimating=!1,o.opening=!1,r.data(document.body,"openedJQXCalendar"+o.id,e),o.calendarContainer.focus()})),this.timePopup&&(this.timeContainer.css("margin-top",0),this.timeContainer.css("opacity",0),this.timeContainer.animate({opacity:1},this.openDelay,(function(){o.isanimating=!1,o.opening=!1,r.data(document.body,"openedJQXCalendar"+o.id,e),o.timeContainer.focus()})))):(e.css("opacity",1),this.timePopup&&this.timeContainer.css("opacity",1),e.css("margin-top",u?w:-w),this.timePopup&&(this.timeContainer.css("margin-top",u?w:-w),this.timeContainer.animate({"margin-top":0},this.openDelay,(function(){o.isanimating=!1,o.opening=!1,r.data(document.body,"openedJQXCalendar"+o.id,e),o.timeContainer.focus()}))),e.animate({"margin-top":0},this.openDelay,(function(){o.isanimating=!1,o.opening=!1,r.data(document.body,"openedJQXCalendar"+o.id,e),o.calendarContainer.focus()})))}else e.stop(),o.isanimating=!1,o.opening=!1,e.css("opacity",1),e.css("margin-top",0),this.container.css("display","block"),r.data(document.body,"openedJQXCalendar"+o.id,e),this.calendarContainer.focus(),this.timePopup&&(this.timeContainer.stop(),this.timeContainer.css("opacity",1),this.timeContainer.css("margin-top",0),this.timeContainer.focus());null==this.value&&this._calendar&&this._calendar._getSelectedCell()&&(this._calendar._getSelectedCell().isSelected=!1),this.timePopup?(this.timeButtonIcon.addClass(this.toThemeProperty("jqx-icon-time-pressed")),this.timeButton.addClass(this.toThemeProperty("jqx-fill-state-hover")),this.timeButton.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.timeContainer.addClass(this.toThemeProperty("jqx-fill-state-focus"))):(this.calendarButtonIcon.addClass(this.toThemeProperty("jqx-icon-calendar-pressed")),this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-hover")),this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.calendarContainer.addClass(this.toThemeProperty("jqx-fill-state-focus"))),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus"))},hideCalendar:function(e,t){t&&(this.changeType=t);var i=this.calendarContainer,n=this.container,s=this;if(r.jqx.aria(this,"aria-expanded",!1),this.showTimeButton&&"hidden"!=this.timeContainer.css("visibility")&&"cancel"!=e)if("range"!=this.selectionMode&&this.hourInput){var o=this.getDate(),a=parseInt(this.hourInput.val()),l=parseInt(this.minuteInput.val()),d=parseInt(this.secondInput.val()),h=parseInt(this.mssecondInput.val()),u=this.meridianInput.val();isNaN(a)&&(a=0),isNaN(l)&&(l=0),isNaN(d)&&(d=0),isNaN(h)&&(h=0),"none"!=this.meridianInput.css("display")&&(u.toLowerCase().indexOf("p")>=0&&a<12&&(a+=12),u.toLowerCase().indexOf("a")>=0&&a>=12&&(a-=12)),o||(o=new Date),o.setHours(a,l,d,h),this.setDate(o)}else if(this.hourInput&&"selected"!=e){var c=this.getRange();a=parseInt(this.hourInput.val()),l=parseInt(this.minuteInput.val()),d=parseInt(this.secondInput.val()),h=parseInt(this.mssecondInput.val()),u=this.meridianInput.val(),isNaN(a)&&(a=0),isNaN(l)&&(l=0),isNaN(d)&&(d=0),isNaN(h)&&(h=0),"none"!=this.meridianInput.css("display")&&(u.toLowerCase().indexOf("p")>=0&&a<12&&(a+=12),u.toLowerCase().indexOf("a")>=0&&a>=12&&(a-=12));var p=c.from;p||(p=new Date),p.setHours(a,l,d,h),a=parseInt(this.hourInput2.val()),l=parseInt(this.minuteInput2.val()),d=parseInt(this.secondInput2.val()),h=parseInt(this.mssecondInput2.val()),u=this.meridianInput2.val(),""==l&&(l=0),""==d&&(d=0),""==h&&(h=0),"none"!=this.meridianInput2.css("display")&&(u.toLowerCase().indexOf("p")>=0&&a<12&&(a+=12),u.toLowerCase().indexOf("a")>=0&&a>=12&&(a-=12));var f=c.to;if(f||(f=new Date),f.setHours(a,l,d,h),f.valueOf()<p.valueOf())return!1;this.setRange(p,f)}else if("selected"==e)return;if(r.data(document.body,"openedJQXCalendar"+this.id,null),"none"!=this.animationType){var m=i.outerHeight();i.css("margin-top",0),this.showTimeButton&&this.timeContainer.css("margin-top",0),this.isanimating=!0;var g=-m;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(g=m),i.animate("fade"==this.animationType?{opacity:0}:{"margin-top":g},this.closeDelay,(function(){n.css("display","none"),s.isanimating=!1})),this.showTimeButton&&this.timeContainer.animate("fade"==this.animationType?{opacity:0}:{"margin-top":g},this.closeDelay,(function(){n.css("display","none"),s.isanimating=!1}))}else n.css("display","none");null!=e&&this._updateSelectedDate(e),this.timeButtonIcon.removeClass(this.toThemeProperty("jqx-icon-time-pressed")),this.timeButton.removeClass(this.toThemeProperty("jqx-fill-state-hover")),this.timeButton.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.calendarButtonIcon.removeClass(this.toThemeProperty("jqx-icon-calendar-pressed")),this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-hover")),this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.timeContainer.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.calendarContainer.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent(8,i)},_updateSelectedDate:function(){var e=this.value;null==e&&((e=new r.jqx._jqxDateTimeInput.getDateTime(new Date))._setHours(0),e._setMinutes(0),e._setSeconds(0),e._setMilliseconds(0));var t=e.hour,i=e.minute,n=e.second,s=e.millisecond;if("range"!=this.selectionMode||null!=this._calendar.getRange().from){(a=new r.jqx._jqxDateTimeInput.getDateTime(this._calendar.value.dateTime))._setHours(t),a._setMinutes(i),a._setSeconds(n),a._setMilliseconds(s);var o=this.setDate(a.dateTime);if("range"==this.selectionMode&&!o&&this._oldDT){var a,l=this.getRange(),d=!1,h=!1,u=this._oldDT.from;if(null!=(a=l.from)&&u&&a.getFullYear()==u.getFullYear()&&a.getMonth()==u.getMonth()&&a.getDate()==u.getDate()&&a.getHours()==u.getHours()&&a.getMinutes()==u.getMinutes()&&a.getSeconds()==u.getSeconds()&&(d=!0),null!=(a=l.to)&&(u=this._oldDT.to)&&a.getFullYear()==u.getFullYear()&&a.getMonth()==u.getMonth()&&a.getDate()==u.getDate()&&a.getHours()==u.getHours()&&a.getMinutes()==u.getMinutes()&&a.getSeconds()==u.getSeconds()&&(h=!0),d&&h)return!0;this._raiseEvent(0,{}),this._raiseEvent(9,{})}}else this.setDate(null)},_closeOpenedCalendar:function(e){var t=r(e.target),i=r.data(document.body,"openedJQXCalendar"+e.data.me.id),n=!1;if(r.each(t.parents(),(function(){if(this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-calendar"))return n=!0,!1;if(-1!=this.className.indexOf("jqx-date-time-input-popup"))return n=!0,!1;if(-1!=this.className.indexOf("jqx-input"))return!1}})),r(e.target).ischildof(e.data.me.host))return!0;if(null!=e.target&&("B"==e.target.tagName||"b"==e.target.tagName)){var s=e.data.me.host.coord(),o=e.data.me.host.width(),a=e.data.me.host.height(),l=parseInt(s.top),d=parseInt(s.left);if(l<=e.pageY&&e.pageY<=l+a&&d<=e.pageX&&e.pageX<=d+o)return!0}if(null!=i&&!n&&i.length>0){var h=i[0].id.toString().toString().substring(13);r(document).find("#"+h),!1!==e.data.me.hideCalendar()&&r.data(document.body,"openedJQXCalendar"+e.data.me.id,null)}},_loadItems:function(){if(null!=this.value){this.items=new Array;var e=this._getFormatValue(this.formatString);this.items=this._parseFormatValue(e),this.editors=new Array;for(var t=0;t<this.items.length;t++){var i=this.items[t].getDateTimeEditorByItemType(this.value,this);this.editors[t]=i}}this._updateEditorsValue(),this._updateText()},_updateText:function(){var e=this,t="";if(0==e.items.length&&null!=e.value&&e._loadItems(),null!=e.value&&(e.items.length>=1&&(t=e.format(e.value,0,e.items.length)),e.dateTimeInput.val()!=t&&e._raiseEvent(1,e.value)),"range"==e.selectionMode){var i=e.getRange(),n=e.format(e.value,0,e.items.length);if(i.to){var s=r.jqx._jqxDateTimeInput.getDateTime(i.from);n=e.format(s,0,e.items.length);var o=r.jqx._jqxDateTimeInput.getDateTime(i.to);" - "==(t=n+" - "+e.format(o,0,e.items.length))&&(t="")}else t=""}e.dateTimeInput.val(t)},format:function(e,t,i){for(var r="",n=t;n<i;++n){var s=this.items[n],o=s.dateParser(e,this);if(this.isEditing&&"ReadOnly"!=s.type&&"range"!=this.selectionMode){var a="Day"==s.type&&s.format.length>2;if("FORMAT_AMPM"==s.type&&(a=!0,o=0==this.editors[n].value?this.editors[n].amString:this.editors[n].pmString),!a)if(null!==this.yearCutoff&&"Year"===s.type&&"yy"===s.format)o=this.editors[n].value.toString().substring(2);else for(o=s.dateParserInEditMode(new Number(this.editors[n].value),"d"+this.editors[n].maxEditPositions,this);o.length<this.editors[n].maxEditPositions;)o="0"+o}r+=o}return r},_getFormatValueGroupLength:function(e){for(var t=1;t<e.toString().length;++t)if(e.substring(t,t+1)!=e.substring(0,1))return t;return e.length},_parseFormatValue:function(e){for(var t=new Array,i=e.toString(),n=0;i.length>0;){var s=this._getFormatValueGroupLength(i),o=null;switch(i.substring(0,1)){case":":case"/":s=1,o=r.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,1),"ReadOnly",this.culture);break;case'"':case"'":var a=i.indexOf(i[0],1);o=r.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(1,1+Math.max(1,a-1)),"ReadOnly",this.culture),s=Math.max(1,a+1);break;case"\\":i.length>=2&&(o=r.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(1,1),"ReadOnly",this.culture),s=2);break;case"d":case"D":o=r.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,s),"Day",this.culture);break;case"f":case"F":s>7&&(s=7),o=r.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,s),s>3?"ReadOnly":"Millisecond",this.culture);break;case"g":o=r.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,s),"ReadOnly",this.culture);break;case"h":o=r.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,s),"FORMAT_hh",this.culture);break;case"H":o=r.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,s),"FORMAT_HH",this.culture);break;case"m":o=r.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,s),"Minute",this.culture);break;case"M":s>4&&(s=4),o=r.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,s),"Month",this.culture);break;case"s":case"S":o=r.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,s),"Second",this.culture);break;case"t":case"T":o=r.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,s),"FORMAT_AMPM",this.culture);break;case"y":case"Y":s>1?o=r.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,s),"Year",this.culture):(s=1,o=r.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,1),null,"ReadOnly",this.culture));break;case"z":o=r.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,s),"ReadOnly",this.culture);break;default:s=1,o=r.jqx._jqxDateTimeInput.DateTimeFormatItem._create(i.substring(0,1),"ReadOnly",this.culture)}t[n]=r.extend(!0,{},o),i=i.substring(s),n++}return t},_getFormatValue:function(e){if(null!=e&&0!=e.length||(e="d"),1==e.length)switch(e.substring(0,1)){case"d":return this.localization.calendar.patterns.d;case"D":return this.localization.calendar.patterns.D;case"t":return this.localization.calendar.patterns.t;case"T":return this.localization.calendar.patterns.T;case"f":return this.localization.calendar.patterns.f;case"F":return this.localization.calendar.patterns.F;case"M":return this.localization.calendar.patterns.M;case"Y":return this.localization.calendar.patterns.Y;case"S":return this.localization.calendar.patterns.S}return 2==e.length&&"%"==e.substring(0,1)&&(e=e.substring(1)),e},_updateEditorsValue:function(){var e=this.value;if(null!=e){var t=e.year,i=e.day,r=e.hour,n=e.millisecond,s=e.second,o=e.minute,a=e.month;if(null!=this.items)for(var l=0;l<this.items.length;l++)switch(this.items[l].type){case"FORMAT_AMPM":0==(d=r%12)&&(d=12),this.editors[l].value=r>=0&&r<12?0:1;break;case"Day":this.editors[l].value=i;break;case"FORMAT_hh":var d;0==(d=r%12)&&(d=12),this.editors[l].value=d;break;case"FORMAT_HH":this.editors[l].value=r;break;case"Millisecond":this.editors[l].value=n;break;case"Minute":this.editors[l].value=o;break;case"Month":this.editors[l].value=a;break;case"Second":this.editors[l].value=s;break;case"Year":this.editors[l].value=t}}},updateValue:function(e){if(!(this.isEditing||this.items&&0==this.items.length)){for(var t=1,i=1,n=0,s=0,o=0,a=0,l=1,d=!1,h=!1,u=!1,c=!1,p=!1,f=!1,m=!1,g=new Array,v=null,w=0,y=0;y<this.items.length;y++)switch(this.items[y].type){case"FORMAT_AMPM":v=this.editors[y];break;case"Character":break;case"Day":this.items[y].format.length<3&&(i=this.editors[y].value,g[w++]=this.editors[y],0==i&&(i=1),u=!0);break;case"FORMAT_hh":case"FORMAT_HH":n=this.editors[y].value,c=!0;break;case"Millisecond":s=this.editors[y].value,m=!0;break;case"Minute":a=this.editors[y].value,p=!0;break;case"Month":h=!0,0==(l=this.editors[y].value)&&(l=1);break;case"ReadOnly":break;case"Second":o=this.editors[y].value,f=!0;break;case"Year":if(d=!0,t=this.editors[y].value,this.editors[y].getDateTimeItem().format.length<3){var b="1900";4==b.Length&&(t+=100*parseInt(""+b[0]+b[1]))}0==t&&(t=1)}var x=null!=this.value?new Date(this.value.dateTime):null;if(t>0&&l>0&&i>0&&a>=0&&n>=0&&o>=0&&s>=0){var _=this.value;null!=_&&(d||(t=_.year),h||(l=_.month),u||(i=_.day));try{if(l>12&&(l=12),l<1&&(l=1),e&&_._daysInMonth(t,l)<=i&&(i=_._daysInMonth(t,l),null!=g&&g.length>0))for(y=0;y<g.length;y++)g[y].value=i;null!=v&&(0==v.value?n>=12&&(n-=12):n+12<24&&(n+=12)),this.value.dateTime.getDate(),this.value._setYear(parseInt(t)),this.value._setDay(i),this.value._setMonth(l),c&&this.value._setHours(n),p&&this.value._setMinutes(a),f&&this.value._setSeconds(o),m&&this.value._setMilliseconds(s),this._validateTimeRange()}catch(j){this.value=_}if(null!=x&&(this.value.dateTime.getFullYear()!=x.getFullYear()||this.value.dateTime.getDate()!=x.getDate()||this.value.dateTime.getMonth()!=x.getMonth()||this.value.dateTime.getHours()!=x.getHours()||this.value.dateTime.getMinutes()!=x.getMinutes()||this.value.dateTime.getSeconds()!=x.getSeconds())){if(this.changing){var C=this.changing(x,this.value.dateTime);C&&(this.value=r.jqx._jqxDateTimeInput.getDateTime(C))}this._raiseEvent("0",this.value.dateTime),this.cookies&&null!=this.value&&r.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this.change&&this.change(this.value.dateTime)}}this.editors.indexOf(this.activeEditor),this.value&&(this.calendarContainer.jqxCalendar("_isDisabled",this.value.dateTime)?this.dateTimeInput.addClass(this.toThemeProperty("jqx-input-invalid")):this.dateTimeInput.removeClass(this.toThemeProperty("jqx-input-invalid")))}},_internalSetValue:function(e){this.value._setYear(parseInt(e.year)),this.value._setDay(e.day),this.value._setMonth(e.month),this.value._setHours(e.hour),this.value._setMinutes(e.minute),this.value._setSeconds(e.second),this.value._setMilliseconds(e.milisecond)},_raiseEvent:function(e,t,i){var n=this.events[e],s={};s.owner=this,null==t&&(t={}),null==i&&(i=t);var o=t.charCode?t.charCode:t.keyCode?t.keyCode:0,a=!0,l=this.readonly,d=new r.Event(n);if(d.owner=this,d.args=s,d.args.date=this.getDate(),9==e&&(d.args.type=this.changeType,this.changeType=null),this.element.value=this.dateTimeInput.val(),9==e&&"range"!=this.selectionMode){var h=d.args.date;if(this._oldDT){if(null!=h&&h.getFullYear()==this._oldDT.getFullYear()&&h.getMonth()==this._oldDT.getMonth()&&h.getDate()==this._oldDT.getDate()&&h.getHours()==this._oldDT.getHours()&&h.getMinutes()==this._oldDT.getMinutes()&&h.getSeconds()==this._oldDT.getSeconds())return!0;r.jqx.aria(this,"aria-valuenow",this.getDate()),r.jqx.aria(this,"aria-valuetext",this.getText()),null!=this.getDate()?r.jqx.aria(this,"aria-label","Current focused date is "+this.getDate().toLocaleString()):r.jqx.aria(this,"aria-label","Current focused date is Null")}d.args.oldValue=i,d.args.newValue=d.args.date,this._oldDT&&(d.args.oldValue=this._oldDT)}if("range"==this.selectionMode){if(d.args.date=this.getRange(),this._oldDT&&(h=d.args.date.from,9==e)){var u=!1,c=!1,p=this._oldDT.from;if(null!=h&&p&&h.getFullYear()==p.getFullYear()&&h.getMonth()==p.getMonth()&&h.getDate()==p.getDate()&&h.getHours()==p.getHours()&&h.getMinutes()==p.getMinutes()&&h.getSeconds()==p.getSeconds()&&(u=!0),null!=(h=d.args.date.to)&&(p=this._oldDT.to)&&h.getFullYear()==p.getFullYear()&&h.getMonth()==p.getMonth()&&h.getDate()==p.getDate()&&h.getHours()==p.getHours()&&h.getMinutes()==p.getMinutes()&&h.getSeconds()==p.getSeconds()&&(c=!0),u&&c)return!0;u=null==(u=d.args.date.from)?"":u.toString(),c=null==(c=d.args.date.to)?"":c.toString(),r.jqx.aria(this,"aria-valuenow",u+"-"+c),r.jqx.aria(this,"aria-valuetext",this.getText()),u&&c&&r.jqx.aria(this,"aria-label","Current focused range is "+u.toLocaleString()+"-"+c.toLocaleString())}d.args.oldValue=i,d.args.newValue=d.args.date,this._oldDT&&(d.args.oldValue=this._oldDT)}if("none"==this.host.css("display"))return!0;2!=e&&3!=e&&4!=e&&5!=e&&6!=e&&(a=this.host.trigger(d),d.stopPropagation&&d.stopPropagation());var f=this;if(l||2!=e||this.disabled||setTimeout((function(){f.isEditing=!0,f._selectGroup(-1)}),25),4==e){if(l||this.disabled){if(8!=o&&46!=o||(this.isEditing=!1,this.allowKeyboardDelete&&(this.allowNullDate?this.setDate(null):"range"!=this.selectionMode?this.setDate(this.getMinDate()):this.setRange(this.getMinDate(),this.getMinDate()))),9==o)return!0;if(!t.altKey)return!1}a=this._handleKeyDown(t,o)}else if(5==e){if(9==o)return!0;if(l||this.disabled)return!1}else if(6==e){if(9==o)return!0;if(l||this.disabled)return!1;a=this._handleKeyPress(t,o)}return a},_doLeftKey:function(){if(null!=this.activeEditor){this.isEditing||(this.isEditing=!0);var e=this.activeEditor,t=!1,i=this.editors.indexOf(this.activeEditor),r=i;if(this.enableAbsoluteSelection&&i>=0&&this.activeEditor.positions>0)return this.activeEditor.positions--,void this._selectGroup(i);for(;i>0;)if(this.activeEditor=this.editors[--i],this._selectGroup(i),"ReadOnly"!=this.items[i].type){t=!0;break}return t||r>=0&&(this.activeEditor=this.editors[r]),null!=this.activeEditor&&e!=this.activeEditor&&"ReadOnly"!=this.items[i].type&&(this.activeEditor.positions=this.enableAbsoluteSelection?this.activeEditor.maxEditPositions-1:0),this.activeEditor!=e&&(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0)}},_doRightKey:function(){if(null!=this.activeEditor){this.isEditing||(this.isEditing=!0);var e=this.activeEditor,t=!1,i=this.editors.indexOf(this.activeEditor),r=i;if(this.enableAbsoluteSelection&&i>=0&&this.activeEditor.positions<this.activeEditor.maxEditPositions-1)return this.activeEditor.positions++,void this._selectGroup(i);for(;i<=this.editors.length-2;)if(this.activeEditor=this.editors[++i],this._selectGroup(i),"ReadOnly"!=this.items[i].type){if("Day"==this.items[i].type&&this.items[i].format.length>2)break;t=!0;break}return t||r>=0&&(this.activeEditor=this.editors[r]),null!=this.activeEditor&&this.activeEditor!=e&&"ReadOnly"!=this.items[i].type&&(this.activeEditor.positions=0),this.activeEditor!=e&&(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0)}},_saveSelectedText:function(){var e=this._selection(),t="",i=this.dateTimeInput.val();if(e.start>0||e.length>0)for(var r=e.start;r<e.end;r++)t+=i[r];return window.clipboardData&&window.clipboardData.setData("Text",t),t},_selectWithAdvancePattern:function(){var e=this.editors.indexOf(this.activeEditor),t=!1;if("ReadOnly"!=this.items[e].type&&(t=!0),t){var i=this.activeEditor;if(null!=i&&i.positions==i.maxEditPositions){this.editorText="";var r=i.value,n=!1;switch(this.items[e].type){case"FORMAT_AMPM":r<0?r=0:r>1&&(r=1);break;case"Character":break;case"Day":r<1?r=1:r>31&&(r=31);break;case"FORMAT_hh":r<1?r=1:r>12&&(r=12);break;case"FORMAT_HH":r<0?r=0:r>23&&(r=23);break;case"Millisecond":r<0?r=0:r>99&&(r=99);break;case"Minute":r<0?r=0:r>59&&(r=59);break;case"Month":r<1?r=1:r>12&&(r=12);break;case"ReadOnly":break;case"Second":r<0?r=0:r>59&&(r=59);break;case"Year":r<this.minDate.year?r=this.minDate.year:r>this.maxDate.year&&(r=this.maxDate.year)}return i.value!=r&&(n=!0),!n&&(this.isEditing=!1,this._validateValue(),this._updateText(),this.isEditing=!0,this._doRightKey(),!0)}}},_handleKeyPress:function(e,t){if(!this._fullEditInProgress){var i=this._selection(),r=e.ctrlKey||e.metaKey;if(r&&97==t||r&&65==t)return!0;if(8==t)return i.start>0&&this._setSelectionStart(i.start),!1;if(46==t)return i.start<this.items.length&&this._setSelectionStart(i.start),!1;if(27===t)return this._firstFocusDate&&(this.setDate(this._firstFocusDate),this._setSelectionStart(0),this._selectGroup(-1)),!1;if(i.start>=0){this.changeType="keyboard";var n=String.fromCharCode(t),s=parseInt(n);if("p"!=n&&"a"!=n&&"A"!=n&&"P"!=n||this.activeEditor&&"FORMAT_AMPM"==this.activeEditor.item.type&&(0!=this.activeEditor.value||"p"!=n&&"P"!=n?1!=this.activeEditor.value||"a"!=n&&"A"!=n||this.spinDown():this.spinUp()),!isNaN(s)){"block"==this.container.css("display")&&this.hideCalendar(),this.updateValue(),this._updateText();var o=this.editors.indexOf(this.activeEditor),a=null;if(this.isEditing=!0,"ReadOnly"!=o.type&&(a=this.activeEditor),null!=a&&0==a.positions&&(this.editorText=""),null==this.activeEditor&&(this.activeEditor=this.editors[0]),null==this.activeEditor)return!1;this.activeEditor.insert(n),null!=a&&this.editorText.length>=a.maxEditPositions&&(this.editorText=""),this.editorText+=n;var l=this._selectWithAdvancePattern();if(this.activeEditor.positions==this.activeEditor.maxEditPositions){var d=this._getLastEditableEditorIndex();this.activeEditor.positions=this.editors.indexOf(this.activeEditor)==d&&l&&this.enableAbsoluteSelection?this.activeEditor.maxEditPositions-1:0}return this.updateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!1}}return this._isSpecialKey(t)}this._enteredValue=!0},_getLastEditableEditorIndex:function(){for(var e=this.items.length-1;e>=0;e--)if("ReadOnly"!=this.items[e].type)return e;return-1},_handleKeyDown:function(e,t){var i=this;if(this.timePopup=!1,84==t&&(this.timePopup=!0),115==e.keyCode){if(i.isOpened())return i.hideCalendar("keyboard","keyboard"),!1;if(!i.isOpened())return i.showCalendar("keyboard","keyboard"),!1}if(e.altKey){if(38==e.keyCode){if(i.isOpened())return i.showTimeButton&&!i.showCalendarButton&&(i.timePopup=!0),i.hideCalendar("keyboard","keyboard"),!1}else if(40==e.keyCode&&!i.isOpened())return i.showTimeButton&&!i.showCalendarButton&&(i.timePopup=!0),i.showCalendar("keyboard","keyboard"),!1}else if(e.ctrlKey)if(this.timePopup=!0,38==e.keyCode){if(i.isOpened())return i.hideCalendar("keyboard","keyboard"),!1}else if(40==e.keyCode&&!i.isOpened())return i.showCalendar("keyboard","keyboard"),!1;if(i.isOpened())return 9==e.keyCode?(i.hideCalendar("selected","keyboard"),!0):void 0;i._selection();var n=e.ctrlKey||e.metaKey;if(n&&99==t||n&&67==t)return i._saveSelectedText(e),!0;if(n&&122==t||n&&90==t)return!1;if(n&&118==t||n&&86==t||e.shiftKey&&45==t){i.val();var s=this,o=r('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');return r("body").append(o),o.select(),setTimeout((function(){var e=o.val();s.setDate(e),o.remove()}),100),!0}if(!(i._fullEditInProgress||"full"===i.editMode&&null===i.value)){if(8==t||46==t){if(e.altKey||n||46!=t){if(null!=i.activeEditor){var a=i.editors.indexOf(i.activeEditor);if(i.activeEditor.positions>=0){var l=i._format(Number(i.activeEditor.value),"d"+i.activeEditor.maxEditPositions,i.culture);if(l=l.substring(0,i.activeEditor.positions)+"0"+l.substring(i.activeEditor.positions+1),parseInt(l)<i.activeEditor.minValue&&(l=i._format(Number(i.activeEditor.minValue),"d"+i.activeEditor.maxEditPositions,i.culture)),i.activeEditor.value=i.enableAbsoluteSelection?l:i.activeEditor.minValue,i._validateValue(),i._updateText(),i.changeType="keyboard",8==t){var d=this;i.enableAbsoluteSelection&&i.activeEditor.positions>0?setTimeout((function(){d.activeEditor.positions=d.activeEditor.positions-1,d._selectGroup(a)}),10):setTimeout((function(){d._doLeftKey()}),10)}else i._selectGroup(a)}else i._doLeftKey()}}else i.isEditing=!1,i.allowKeyboardDelete&&(i.changeType="keyboard",i.allowNullDate?i.setDate(null):"range"!=i.selectionMode?i.setDate(i.getMinDate()):i.setRange(i.getMinDate(),i.getMinDate()));return!1}if(38==t)return this.spinUp(),i.changeType="keyboard",!1;if(40==t)return this.spinDown(),i.changeType="keyboard",!1;if(9==t){if(null==i.value)return!0;if(e.shiftKey)var h=this._doLeftKey();else h=this._doRightKey();return!h}if(37==t)return this._editor?((h=this._doLeftKey())||(this.isEditing=!1,this._validateValue()),!h):(h=this._doLeftKey(),!1);if(39==t||191==t)return this._editor?((h=this._doRightKey())||(this.isEditing=!1,this._validateValue()),!h):(h=this._doRightKey(),!1);var u=this._isSpecialKey(t);return null==this.value&&(t>=48&&t<=57||t>=96&&t<=105)&&(i.changeType="keyboard",new Date>=this.getMinDate()&&new Date<=this.getMaxDate()?this.setDate(new Date):this.setDate(this.getMaxDate())),!r.jqx.browser.mozilla||!!(r.jqx.browser.mozilla&&r.jqx.browser.version>24)||u}if(13==t&&i._fullEditInProgress){if(i._endFullEdit(),null!=i.value){i.isEditing=!1,i._validateValue(!0),i._updateText(),i._raiseEvent(9,event);for(var c=i.editors.length-1,p=i.editors[c];p&&void 0===p.formatValueLength;)c--,p=i.editors[c];p&&void 0!==p.formatValueLength&&(i.activeEditor=p,i._selectGroup(c))}}else i._fullEditInProgress=!0,delete i._enteredValue},_isSpecialKey:function(e){return 8==e||9==e||13==e||35==e||36==e||37==e||39==e||27==e||46==e},_selection:function(){if("selectionStart"in this.dateTimeInput[0]){var e=this.dateTimeInput[0];return{start:e.selectionStart,end:e.selectionEnd,length:e.selectionEnd-e.selectionStart,text:e.value}}var t=document.selection.createRange();if(null==t)return{start:0,end:e.value.length,length:0};var i=this.dateTimeInput[0].createTextRange(),r=i.duplicate();return i.moveToBookmark(t.getBookmark()),r.setEndPoint("EndToStart",i),{start:r.text.length,end:r.text.length+t.text.length,length:t.text.length,text:t.text}},_selectGroup:function(e,t){if("none"!=this.host.css("display")&&!this.readonly){t||(t=this._selection());for(var i="",r="",n=0;n<this.items.length;n++){if(r=this.items[n].dateParser(this.value,this),this.isEditing&&"ReadOnly"!=this.items[n].type&&!("Day"==this.items[n].type&&this.items[n].format.length>2)&&"FORMAT_AMPM"!=this.items[n].type)if(null!==this.yearCutoff&&"Year"===this.items[n].type&&"yy"===this.items[n].format)r=this.editors[n].value.toString().substring(2);else for(r=this.items[n].dateParserInEditMode(new Number(this.editors[n].value),"d"+this.editors[n].maxEditPositions,this);r.length<this.editors[n].maxEditPositions;)r="0"+r;if(i+=r,"ReadOnly"!=this.items[n].type&&!("Day"==this.items[n].type&&this.items[n].format.length>2))if(null!=e&&-1!=e){if(n>=e){var s=i.length-r.length,o=r.length;this.enableAbsoluteSelection&&!isNaN(parseInt(r))&&this.isEditing&&-1!=e&&(o=1,s+=this.editors[n].positions),s==this.dateTimeInput.val().length&&s--,this._setSelection(s,s+o),this.activeEditor=this.editors[n];break}}else if(i.length>=t.start){this.activeEditor=this.editors[n],s=i.length-r.length,o=1,this.enableAbsoluteSelection?!isNaN(parseInt(r))&&this.isEditing&&-1!=e&&(o=1,s+=this.editors[n].positions):o=r.length,this._setSelection(s,s+o);break}}n<this.items.length&&-1==e&&"ReadOnly"!=this.items[n].type&&(this.activeEditor.positions=0);var a=this._selection();0==a.length&&a.start>0&&this._getLastEditableEditorIndex()}}},"_getLastEditableEditorIndex",(function(){for(var e=-1,t=0;t<this.editors.length;t++)"ReadOnly"!=this.items[t].type&&("Day"==this.items[t].type&&this.items[t].format.length>2||(e=t));return e})),_defineProperty(i,"_setSelection",(function(e,t){try{if("selectionStart"in this.dateTimeInput[0])this.dateTimeInput[0].setSelectionRange(e,t);else{var i=this.dateTimeInput[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}}catch(r){}})),_defineProperty(i,"_setSelectionStart",(function(e){this._setSelection(e,e)})),_defineProperty(i,"destroy",(function(){r.jqx.utilities.resize(this.host,null,!0),this.host.removeClass("jqx-rc-all"),this.timePopupElement&&this.timePopupElement.remove(),this._calendar.destroy(),this.container.remove(),this._removeHandlers(),this.dateTimeInput.remove(),this.host.remove()})),_defineProperty(i,"refreshValue",(function(){this._refreshValue()})),_defineProperty(i,"refresh",(function(e){1!=e&&(this._setSize(),this._arrange())})),_defineProperty(i,"resize",(function(e,t){this.width=e,this.height=t,this.refresh()})),_defineProperty(i,"_setOption",(function(e,t,i){"value"===e&&(this._oldDT=null,this.value=t,this._refreshValue(),this._raiseEvent(9,{type:null})),"maxDate"==e&&(this._calendar.maxDate=t,this._raiseEvent(9,{type:null})),"minDate"==e&&(this._calendar.minDate=t,this._raiseEvent(9,{type:null})),"showCalendarButton"==e&&this.calendarButton.css("display",t?"block":"none"),"disabled"==e&&this.dateTimeInput.attr("disabled",t),"readonly"==e&&(this.readonly=t,this.dateTimeInput.css("readonly",t)),"textAlign"==e&&(this.dateTimeInput.css("text-align",t),this.textAlign=t),"width"==e?(this.width=t,this.width=parseInt(this.width),this._arrange()):"height"==e&&(this.height=t,this.height=parseInt(this.height),this._arrange())})),_defineProperty(i,"_updateHint",(function(){var e=this;e.hint&&e.isMaterialized()&&setTimeout((function(){0===e.dateTimeInput[0].value.length?(e.element.removeAttribute("hint"),e.label[0].innerHTML=e.placeHolder):(e.label[0].innerHTML="",e.hint&&e.element.setAttribute("hint",!0))}))})),_defineProperty(i,"_refreshValue",(function(){this._updateEditorsValue(),this.updateValue(),this._validateValue(),this._updateText(),this._updateHint()})),_defineProperty(i,"_getYearBasedOnCutoff",(function(e){var t=this.yearCutoff.toString(),i=parseFloat(t.substring(2)),r=parseFloat(t.substring(0,2));return parseFloat(e)<i&&r++,parseFloat(r+""+e)})),_defineProperty(i,"_endFullEdit",(function(){var e=this;if(e._fullEditInProgress){var t=e.dateTimeInput[0].value;if(delete e._fullEditInProgress,delete e._enteredValue,""===t)e.value=null;else{var i=new Date(t);if(isNaN(i.getTime()))null===e.value&&e._updateText();else{if(e.items=[],e.yearCutoff){var n=i.getFullYear().toString();if(-1===t.indexOf(n)&&t.indexOf(n.slice(2))){var s=e._getYearBasedOnCutoff(n.slice(2));i.setFullYear(s)}}e.value=r.jqx._jqxDateTimeInput.getDateTime(i)}}}})),_defineProperty(i,"_getMask",(function(){var e=this,t=e.formatString,i={d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},r={};i[t]&&(t=i[t]);for(var n,s=t.replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),o=["^"],a=0,l=0,d=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;null!==(n=d.exec(s));){var h=s.slice(a,n.index);if(""!==h&&(r[a]=h),a=d.lastIndex,(l+=e._appendPreOrPostMatch(h,o))%2)o.push(n[0]);else{var u,c=n[0],p=c.length;switch(c){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":u="(\\D+)";break;case"tt":case"t":u="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":u="(\\d{"+p+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":u="(\\d\\d?)";break;case"zzz":u="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":u="([+-]?\\d\\d?)";break;case"/":u="(\\/)",r[a-1]="/";break;default:throw"Invalid date format pattern '"+c+"'."}u&&o.push(u)}}e._appendPreOrPostMatch(s.slice(a),o),o.push("$"),e._mask=r})),_defineProperty(i,"_appendPreOrPostMatch",(function(e,t){for(var i=0,r=!1,n=0,s=e.length;n<s;n++){var o=e.charAt(n);switch(o){case"'":r?t.push("'"):i++,r=!1;break;case"\\":r&&t.push("\\"),r=!r;break;default:t.push(o),r=!1}}return i})),i)),function(e){e.jqx._jqxDateTimeInput.DateTimeFormatItem={},e.extend(e.jqx._jqxDateTimeInput.DateTimeFormatItem,{_create:function(e,t,i){return this.format=e,this.type=t,this.culture=i,this},_itemValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},_maximumValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},dateParser:function(e,t){return null==e?"":t._format(e.dateTime,1==this.format.length?"%"+this.format:this.format,this.culture)},dateParserInEditMode:function(e,t,i){return null==e?"":i._format(e.toString(),1==t.length?"%"+t:t,this.culture)},getDateTimeEditorByItemType:function(t,i){switch(this.type){case"FORMAT_AMPM":var r=e.jqx._jqxDateTimeInput.AmPmEditor._createAmPmEditor(this.format,t.hour/12,i.localization.calendar.AM[0],i.localization.calendar.PM[0],this,i);return e.extend({},r);case"Character":return null;case"Day":var n;n=3==this.format.length?i.localization.calendar.days.namesAbbr:this.format.length>3?i.localization.calendar.days.names:null;var s=e.jqx._jqxDateTimeInput.DateEditor._createDayEditor(t,t.day,1,t._daysInMonth(t.year,t.month),1==this.format.length?1:2,2,n,this,i);return e.extend({},s);case"FORMAT_hh":var o=t.hour%12;0==o&&(o=12);var a=e.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(o,1,12,1==this.format.length?1:2,2,this,i);return e.extend({},a);case"FORMAT_HH":var l=e.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.hour,0,23,1==this.format.length?1:2,2,this,i);return e.extend({},l);case"Millisecond":var d=e.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.millisecond/this._itemValue(),0,this._maximumValue(),this.format.length,this.format.length,this,i);return e.extend({},d);case"Minute":var h=e.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.minute,0,59,1==this.format.length?1:2,2,this,i);return e.extend({},h);case"Month":var u=e.jqx._jqxDateTimeInput.DateEditor._createMonthEditor(t.month,2==this.format.length?2:1,3==this.format.length?i.localization.calendar.months.namesAbbr:this.format.length>3?i.localization.calendar.months.names:null,this,i);return e.extend({},u);case"ReadOnly":return e.jqx._jqxDateTimeInput.DisabledEditor._create(this.format.length,t.day,this,i);case"Second":var c=e.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.second,0,59,1==this.format.length?1:2,2,this,i);return e.extend({},c);case"Year":var p=e.jqx._jqxDateTimeInput.DateEditor._createYearEditor(t.year,null!==i.yearCutoff&&"yy"===this.format?2:4,this,i);return e.extend({},p)}return null}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.DateEditor=e.extend(e.jqx._jqxDateTimeInput.DateEditor,{formatValueLength:0,handleYears:!1,handleDays:!1,handleMonths:!1,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,dateTimeFormatInfo:null,days:null,dateTimeMonths:null,lastDayInput:null,minPositions:function(){return this.handleYears&&4==this.formatValueLength?this.positions<=1?1:this.positions>=4?4:this.positions:this.minEditPositions},initializeFields:function(e,t,i,r,n){this.minValue=e,this.maxValue=t,this.minEditPositions=i,this.maxEditPositions=r,this.updateActiveEditor(e),this.item=n},_createYearEditor:function(t,i,r,n){return e.jqx._jqxDateTimeInput.DateEditor=e.extend(!0,{},this),this.initializeFields(0,i<4?99:9999,2==i?2:1,i>3?4:2,r),this.initializeYearEditor(t,i,r.culture),this.handleYears=!0,this.that=n,this},initializeYearEditor:function(e,t,i){this.formatValueLength=t,this.dateTimeFormatInfo=i;var r=e;r=Math.min(r,9999),r=Math.max(r,1),this.updateActiveEditor(r=this.formatValueLength<4?r%100:r),this.value=r},updateActiveEditor:function(e){this.value=e,this.positions=0},_createDayEditor:function(t,i,r,n,s,o,a,l,d){return e.jqx._jqxDateTimeInput.DateEditor=e.extend(!0,{},this),this.initializeFields(r,n,1,o,l),this.currentValue=t,this.value=i,this.days=a,this.handleDays=!0,this.that=d,this},getDayOfWeek:function(t){return typeof this.currentValue==e.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),t},defaultTextValue:function(){return this.that._format(this.value,"d"+this.minEditPositions,"")},textValue:function(){if(this.handleDays){if(null==this.days)return this.defaultTextValue();var e=this.value%7+1;return e=this.getDayOfWeek(e),this.days[e]}return this.handleMonths?null==this.dateTimeMonths||this.value<1||this.value>12?this.defaultTextValue():this.dateTimeMonths[this.value-1]:this.defaultTextValue()},defaultInsertString:function(e){if(null==e)return this.deleteValue();if(0==e.length)return this.deleteValue();var t,i=e.substring(0,1);return isNaN(i)?void 0:(t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),this.positions>=this.maxEditPositions&&(this.positions=0),t=t.substring(0,this.positions)+i+t.substring(this.positions+1),t=this.setValueByString(t,1),!0)},setValueByString:function(e,t){e=this.fixValueString(e);var i=new Number(e);return this.value=i,this.positions+=t,e},fixValueString:function(e){return e.length>this.maxEditPositions&&(e=e.substring(e.length-this.maxEditPositions)),e},initializeValueString:function(e){var t;return t="",this.hasDigits()&&(t=e),t},deleteValue:function(){return(this.value!=this.minValue||0!=this.hasDigits())&&(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return this.positions>0},insert:function(e){if(this.handleDays){if(null!=this.days){if(t=this.insertLongString(e,t=!1))return t;if(t=this.insertShortString(e,t))return t}return 1==this.value&&null!=this.lastDayInput&&this.lastDayInput.toString().length>0&&"0"==this.lastDayInput.toString()&&(this.value=0),this.lastDayInput=e,this.defaultInsertString(e)}if(this.handleMonths){if(null!=this.dateTimeMonths){var t;if(t=this.insertLongString2(e,t=!1))return t;if(t=this.insertShortString2(e,t))return t}}else if(null!==this.that.yearCutoff&&this.handleYears&&2===this.formatValueLength){if(null==e||0==e.length)return this.deleteValue();var i=e.substring(0,1);if(isNaN(i))return;this.positions>=this.maxEditPositions&&(this.positions=0);var r=this.value.toString().substring(2);return r=r.substring(0,this.positions)+i+r.substring(this.positions+1),this.value=this.that._getYearBasedOnCutoff(r),this.positions+=1,!0}return this.defaultInsertString(e)},insertShortString:function(e,t){if(1==e.length)for(var i=0;i<6;++i){var r=(this.value+i)%7+1;if(this.days[r-1].substring(0,1)==e)return this.updateActiveEditor(r),!0}return t},insertLongString:function(e,t){if(e.length>0)for(var i=0;i<6;++i){var r=(this.value+i)%7+1;if(this.days[r-1]==e)return this.updateActiveEditor(r),!0}return t},_createMonthEditor:function(t,i,r,n,s){return e.jqx._jqxDateTimeInput.DateEditor=e.extend(!0,{},this),this.initializeFields(1,12,i,2,n),this.dateTimeMonths=r,this.value=t,null!=this.dateTimeMonths&&null!=this.dateTimeMonths[12]&&this.dateTimeMonths[12].length>0&&(this.dateTimeMonths=null),this.handleMonths=!0,this.that=s,this},insertLongString2:function(e,t){if(e.length>0)for(var i=0;i<11;++i){var r=(this.value+i)%12+1;if(this.dateTimeMonths[r-1]==e)return this.updateActiveEditor(r),!0}return t},insertShortString2:function(e,t){if(1==e.length)for(var i=0;i<11;++i){var r=(this.value+i)%12+1;if(this.dateTimeMonths[r-1].substring(0,1)==e)return this.updateActiveEditor(r),!0}return t},correctMaximumValue:function(e){var t=this.maxValue;return null!==this.that.yearCutoff&&"Year"===this.item.type&&"yy"===this.item.format&&(t=9999),e>t&&(e=this.minValue),e},correctMinimumValue:function(e){return e<this.minValue&&(e=this.maxValue),e},increaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if((i=parseInt(i)+1)>9&&(i=0),!e){var r=this.value+1;return r=this.correctMaximumValue(r),this.updateActiveEditor(r),!0}var n=t.substring(0,this.positions)+i+t.substring(this.positions+1);return!(n==this.value&&!this.hasDigits()||(this.updateActiveEditor(n),0))},decreaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if((i=parseInt(i)-1)<0&&(i=9),!e){var r=this.value-1;return r=this.correctMinimumValue(r),this.updateActiveEditor(r),!0}var n=t.substring(0,this.positions)+i+t.substring(this.positions+1);return!(n==this.value&&!this.hasDigits()||(this.updateActiveEditor(n),0))},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.NumberEditor={},e.extend(e.jqx._jqxDateTimeInput.NumberEditor,{formatValueLength:0,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,minPositions:function(){return this.handleYears&&4==this.formatValueLength?this.positions<=1?1:this.positions>=4?4:this.positions:this.minEditPositions},_createNumberEditor:function(t,i,r,n,s,o,a){return e.jqx._jqxDateTimeInput.NumberEditor=e.extend(!0,{},this),this.initializeFields(i,r,n,s,o),this.that=a,this},initializeFields:function(e,t,i,r,n){this.minValue=e,this.maxValue=t,this.minEditPositions=i,this.maxEditPositions=r,this.updateActiveEditor(e),this.item=n},updateActiveEditor:function(e){this.value=e,this.positions=0},getDayOfWeek:function(t){return typeof this.currentValue==e.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),t},textValue:function(){return this.that._format(this.value,"d"+this.minEditPositions,"")},insert:function(e){if(null==e)return this.deleteValue();if(0==e.length)return this.deleteValue();var t,i=e.substring(0,1);return isNaN(i)?void 0:(t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),this.positions>=this.maxEditPositions&&(this.positions=0),t=t.substring(0,this.positions)+i+t.substring(this.positions+1),t=this.setValueByString(t,1),!0)},setValueByString:function(e,t){e=this.fixValueString(e);var i=new Number(e);return this.value=i,this.positions+=t,e},fixValueString:function(e){return e.length>this.maxEditPositions&&(e=e.substring(e.length-this.maxEditPositions)),e},initializeValueString:function(e){var t;return t="",this.hasDigits()&&(t=e),t},deleteValue:function(){return(this.value!=this.minValue||0!=this.hasDigits())&&(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return this.positions>0},correctMaximumValue:function(e){return e>this.maxValue&&(e=this.minValue),e},correctMinimumValue:function(e){return e<this.minValue&&(e=this.maxValue),e},increaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if((i=parseInt(i)+1)>9&&(i=0),!e){var r=this.value+1;return r=this.correctMaximumValue(r),this.updateActiveEditor(r),!0}var n=t.substring(0,this.positions)+i+t.substring(this.positions+1);return!(n==this.value&&!this.hasDigits()||(this.updateActiveEditor(n),0))},decreaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if((i=parseInt(i)-1)<0&&(i=9),!e){var r=this.value-1;return r=this.correctMinimumValue(r),this.updateActiveEditor(r),!0}var n=t.substring(0,this.positions)+i+t.substring(this.positions+1);return!(n==this.value&&!this.hasDigits()||(this.updateActiveEditor(n),0))},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.DisabledEditor={},e.extend(e.jqx._jqxDateTimeInput.DisabledEditor,{_create:function(e,t,i,r,n,s){return this.format=e,this.value=-1,this.item=n,this.that=s,this},textValue:function(){return""},insert:function(e){return!1},deleteValue:function(){return!1},increaseValue:function(){return!1},decreaseValue:function(){return!1},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.AmPmEditor={},e.extend(e.jqx._jqxDateTimeInput.AmPmEditor,{_createAmPmEditor:function(e,t,i,r,n,s){return this.format=e,this.value=t,this.minValue=0,this.amString=i,this.pmString=r,this.item=n,this.that=s,i==r&&(this.amString="<"+i,this.pmString=">"+r),this},textValue:function(){var e=this.amString;return 0!=this.value&&(e=this.pmString),1==this.format.length&&e.length>1&&(e=e.substring(0,1)),e},insert:function(e){var t=e.toString();if(0==t.Length)return this.deleteValue();var i=!1;if(this.amString.Length>0&&this.pmString.Length>0){var r=t[0],n=this.pmString[0];this.amString[0].toString()==r.toString()?(this.value=0,i=!0):n.toString()==r.toString()&&(this.value=1,i=!0)}else this.pmString.Length>0?(this.value=1,i=!0):this.amString.Length>0&&(this.value=0,i=!0);return i},deleteValue:function(){if(0==this.amString.Length&&0!=this.pmString.Length){if(0==this.value)return!1;this.value=0}else{if(1==this.value)return!1;this.value=1}return!0},increaseValue:function(){return this.value=1-this.value,!0},decreaseValue:function(){return this.increaseValue(),!0},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),jqxBaseFramework.jqx._jqxDateTimeInput.getDateTime=function(e){return{dateTime:new Date(e),daysPer4Years:1461,daysPerYear:365,daysToMonth365:{0:0,1:31,2:59,3:90,4:120,5:151,6:181,7:212,8:243,9:273,10:304,11:334,12:365},daysToMonth366:{0:0,1:31,2:60,3:91,4:121,5:152,6:182,7:213,8:244,9:274,10:305,11:335,12:366},maxValue:3155378976e9,millisPerDay:864e5,millisPerHour:36e5,millisPerMinute:6e4,millisPerSecond:1e3,minTicks:0,minValue:0,ticksPerDay:864e9,ticksPerHour:36e9,ticksPerMillisecond:1e4,ticksPerMinute:6e8,ticksPerSecond:1e7,hour:e.getHours(),minute:e.getMinutes(),day:e.getDate(),second:e.getSeconds(),month:1+e.getMonth(),year:e.getFullYear(),millisecond:e.getMilliseconds(),dayOfWeek:e.getDay(),isWeekend:function(e){return null!=e&&null!=e||(e=this.dateTime),e.getDay()%6==0},dayOfYear:function(e){null!=e&&null!=e||(e=this.dateTime);var t=new Date(e.getFullYear(),0,1);return Math.ceil((e-t)/864e5)},_setDay:function(e){null!=e&&null!=e||(e=0),this.dateTime.setDate(e),this.day=this.dateTime.getDate()},_setMonth:function(e){null!=e&&null!=e||(e=0),this.dateTime.setMonth(e-1),this.month=1+this.dateTime.getMonth()},_setYear:function(e){null!=e&&null!=e||(e=0),this.dateTime.setFullYear(e),this.year=this.dateTime.getFullYear()},_setHours:function(e){null!=e&&null!=e||(e=0),this.dateTime.setHours(e),this.hour=this.dateTime.getHours()},_setMinutes:function(e){null!=e&&null!=e||(e=0),this.dateTime.setMinutes(e),this.minute=this.dateTime.getMinutes()},_setSeconds:function(e){null!=e&&null!=e||(e=0),this.dateTime.setSeconds(e),this.second=this.dateTime.getSeconds()},_setMilliseconds:function(e){null!=e&&null!=e||(e=0),this.dateTime.setMilliseconds(e),this.millisecond=this.dateTime.getMilliseconds()},_addDays:function(e){var t=this.dateTime,i=t.getDate();return t.setDate(t.getDate()+e),i===t.getDate()&&t.setHours(t.getHours()+t.getTimezoneOffset()/60),t},_addWeeks:function(e){var t=this.dateTime;return t.setDate(t.getDate()+7*e),t},_addMonths:function(e){var t=this.dateTime;return t.setMonth(t.getMonth()+e),t},_addYears:function(e){var t=this.dateTime;return t.setFullYear(t.getFullYear()+e),t},_addHours:function(e){var t=this.dateTime;return t.setHours(t.getHours()+e),t},_addMinutes:function(e){var t=this.dateTime;return t.setMinutes(t.getMinutes()+e),t},_addSeconds:function(e){var t=this.dateTime;return t.setSeconds(t.getSeconds()+e),t},_addMilliseconds:function(e){var t=this.dateTime;return t.setMilliseconds(t.getMilliseconds()+e),t},_isLeapYear:function(e){if(e<1||e>9999)throw"invalid year";return e%4==0&&(e%100!=0||e%400==0)},_dateToTicks:function(e,t,i){if(e>=1&&e<=9999&&t>=1&&t<=12){var r=this._isLeapYear(e)?this.daysToMonth366:this.daysToMonth365;if(i>=1&&i<=r[t]-r[t-1])return 864e9*(365*(e-=1)+e/4-e/100+e/400+r[t-1]+i-1)}},_daysInMonth:function(e,t){if(t<1||t>12)throw"Invalid month.";var i=this._isLeapYear(e)?this.daysToMonth366:this.daysToMonth365;return i[t]-i[t-1]},_timeToTicks:function(e,t,i){return 1e7*(3600*e+60*t+i)},_equalDate:function(e){return this.year==e.getFullYear()&&this.day==e.getDate()&&this.month==e.getMonth()+1}}}},pDpN:function(e,t,i){var r,n;void 0===(n="function"==typeof(r=function(){"use strict";!function(e){var t=e.performance;function i(e){t&&t.mark&&t.mark(e)}function r(e,i){t&&t.measure&&t.measure(e,i)}i("Zone");var n=e.__Zone_symbol_prefix||"__zone_symbol__";function s(e){return n+e}var o=!0===e[s("forceDuplicateZoneCheck")];if(e.Zone){if(o||"function"!=typeof e.Zone.__symbol__)throw new Error("Zone already loaded.");return e.Zone}var a=function(){function t(e,i){_classCallCheck(this,t),this._parent=e,this._name=i?i.name||"unnamed":"<root>",this._properties=i&&i.properties||{},this._zoneDelegate=new h(this,this._parent&&this._parent._zoneDelegate,i)}return _createClass(t,[{key:"get",value:function(e){var t=this.getZoneWith(e);if(t)return t._properties[e]}},{key:"getZoneWith",value:function(e){for(var t=this;t;){if(t._properties.hasOwnProperty(e))return t;t=t._parent}return null}},{key:"fork",value:function(e){if(!e)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,e)}},{key:"wrap",value:function(e,t){if("function"!=typeof e)throw new Error("Expecting function got: "+e);var i=this._zoneDelegate.intercept(this,e,t),r=this;return function(){return r.runGuarded(i,this,arguments,t)}}},{key:"run",value:function(e,t,i,r){P={parent:P,zone:this};try{return this._zoneDelegate.invoke(this,e,t,i,r)}finally{P=P.parent}}},{key:"runGuarded",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;P={parent:P,zone:this};try{try{return this._zoneDelegate.invoke(this,e,t,i,r)}catch(n){if(this._zoneDelegate.handleError(this,n))throw n}}finally{P=P.parent}}},{key:"runTask",value:function(e,t,i){if(e.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(e.zone||y).name+"; Execution: "+this.name+")");if(e.state!==b||e.type!==S&&e.type!==T){var r=e.state!=C;r&&e._transitionTo(C,_),e.runCount++;var n=E;E=e,P={parent:P,zone:this};try{e.type==T&&e.data&&!e.data.isPeriodic&&(e.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,e,t,i)}catch(s){if(this._zoneDelegate.handleError(this,s))throw s}}finally{e.state!==b&&e.state!==q&&(e.type==S||e.data&&e.data.isPeriodic?r&&e._transitionTo(_,C):(e.runCount=0,this._updateTaskCount(e,-1),r&&e._transitionTo(b,C,b))),P=P.parent,E=n}}}},{key:"scheduleTask",value:function(e){if(e.zone&&e.zone!==this)for(var t=this;t;){if(t===e.zone)throw Error("can not reschedule task to ".concat(this.name," which is descendants of the original zone ").concat(e.zone.name));t=t.parent}e._transitionTo(x,b);var i=[];e._zoneDelegates=i,e._zone=this;try{e=this._zoneDelegate.scheduleTask(this,e)}catch(r){throw e._transitionTo(q,x,b),this._zoneDelegate.handleError(this,r),r}return e._zoneDelegates===i&&this._updateTaskCount(e,1),e.state==x&&e._transitionTo(_,x),e}},{key:"scheduleMicroTask",value:function(e,t,i,r){return this.scheduleTask(new u(k,e,t,i,r,void 0))}},{key:"scheduleMacroTask",value:function(e,t,i,r,n){return this.scheduleTask(new u(T,e,t,i,r,n))}},{key:"scheduleEventTask",value:function(e,t,i,r,n){return this.scheduleTask(new u(S,e,t,i,r,n))}},{key:"cancelTask",value:function(e){if(e.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(e.zone||y).name+"; Execution: "+this.name+")");e._transitionTo(j,_,C);try{this._zoneDelegate.cancelTask(this,e)}catch(t){throw e._transitionTo(q,j),this._zoneDelegate.handleError(this,t),t}return this._updateTaskCount(e,-1),e._transitionTo(b,j),e.runCount=0,e}},{key:"_updateTaskCount",value:function(e,t){var i=e._zoneDelegates;-1==t&&(e._zoneDelegates=null);for(var r=0;r<i.length;r++)i[r]._updateTaskCount(e.type,t)}},{key:"parent",get:function(){return this._parent}},{key:"name",get:function(){return this._name}}],[{key:"assertZonePatched",value:function(){if(e.Promise!==I.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}},{key:"__load_patch",value:function(n,s){if(I.hasOwnProperty(n)){if(o)throw Error("Already loaded patch: "+n)}else if(!e["__Zone_disable_"+n]){var a="Zone:"+n;i(a),I[n]=s(e,t,D),r(a,a)}}},{key:"root",get:function(){for(var e=t.current;e.parent;)e=e.parent;return e}},{key:"current",get:function(){return P.zone}},{key:"currentTask",get:function(){return E}}]),t}();a.__symbol__=s;var l,d={name:"",onHasTask:function(e,t,i,r){return e.hasTask(i,r)},onScheduleTask:function(e,t,i,r){return e.scheduleTask(i,r)},onInvokeTask:function(e,t,i,r,n,s){return e.invokeTask(i,r,n,s)},onCancelTask:function(e,t,i,r){return e.cancelTask(i,r)}},h=function(){function e(t,i,r){_classCallCheck(this,e),this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=t,this._parentDelegate=i,this._forkZS=r&&(r&&r.onFork?r:i._forkZS),this._forkDlgt=r&&(r.onFork?i:i._forkDlgt),this._forkCurrZone=r&&(r.onFork?this.zone:i._forkCurrZone),this._interceptZS=r&&(r.onIntercept?r:i._interceptZS),this._interceptDlgt=r&&(r.onIntercept?i:i._interceptDlgt),this._interceptCurrZone=r&&(r.onIntercept?this.zone:i._interceptCurrZone),this._invokeZS=r&&(r.onInvoke?r:i._invokeZS),this._invokeDlgt=r&&(r.onInvoke?i:i._invokeDlgt),this._invokeCurrZone=r&&(r.onInvoke?this.zone:i._invokeCurrZone),this._handleErrorZS=r&&(r.onHandleError?r:i._handleErrorZS),this._handleErrorDlgt=r&&(r.onHandleError?i:i._handleErrorDlgt),this._handleErrorCurrZone=r&&(r.onHandleError?this.zone:i._handleErrorCurrZone),this._scheduleTaskZS=r&&(r.onScheduleTask?r:i._scheduleTaskZS),this._scheduleTaskDlgt=r&&(r.onScheduleTask?i:i._scheduleTaskDlgt),this._scheduleTaskCurrZone=r&&(r.onScheduleTask?this.zone:i._scheduleTaskCurrZone),this._invokeTaskZS=r&&(r.onInvokeTask?r:i._invokeTaskZS),this._invokeTaskDlgt=r&&(r.onInvokeTask?i:i._invokeTaskDlgt),this._invokeTaskCurrZone=r&&(r.onInvokeTask?this.zone:i._invokeTaskCurrZone),this._cancelTaskZS=r&&(r.onCancelTask?r:i._cancelTaskZS),this._cancelTaskDlgt=r&&(r.onCancelTask?i:i._cancelTaskDlgt),this._cancelTaskCurrZone=r&&(r.onCancelTask?this.zone:i._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;var n=r&&r.onHasTask;(n||i&&i._hasTaskZS)&&(this._hasTaskZS=n?r:d,this._hasTaskDlgt=i,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=t,r.onScheduleTask||(this._scheduleTaskZS=d,this._scheduleTaskDlgt=i,this._scheduleTaskCurrZone=this.zone),r.onInvokeTask||(this._invokeTaskZS=d,this._invokeTaskDlgt=i,this._invokeTaskCurrZone=this.zone),r.onCancelTask||(this._cancelTaskZS=d,this._cancelTaskDlgt=i,this._cancelTaskCurrZone=this.zone))}return _createClass(e,[{key:"fork",value:function(e,t){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,e,t):new a(e,t)}},{key:"intercept",value:function(e,t,i){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,e,t,i):t}},{key:"invoke",value:function(e,t,i,r,n){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,e,t,i,r,n):t.apply(i,r)}},{key:"handleError",value:function(e,t){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,e,t)}},{key:"scheduleTask",value:function(e,t){var i=t;if(this._scheduleTaskZS)this._hasTaskZS&&i._zoneDelegates.push(this._hasTaskDlgtOwner),(i=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,e,t))||(i=t);else if(t.scheduleFn)t.scheduleFn(t);else{if(t.type!=k)throw new Error("Task is missing scheduleFn.");v(t)}return i}},{key:"invokeTask",value:function(e,t,i,r){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,e,t,i,r):t.callback.apply(i,r)}},{key:"cancelTask",value:function(e,t){var i;if(this._cancelTaskZS)i=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,e,t);else{if(!t.cancelFn)throw Error("Task is not cancelable");i=t.cancelFn(t)}return i}},{key:"hasTask",value:function(e,t){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,e,t)}catch(i){this.handleError(e,i)}}},{key:"_updateTaskCount",value:function(e,t){var i=this._taskCounts,r=i[e],n=i[e]=r+t;if(n<0)throw new Error("More tasks executed then were scheduled.");0!=r&&0!=n||this.hasTask(this.zone,{microTask:i.microTask>0,macroTask:i.macroTask>0,eventTask:i.eventTask>0,change:e})}}]),e}(),u=function(){function t(i,r,n,s,o,a){if(_classCallCheck(this,t),this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=i,this.source=r,this.data=s,this.scheduleFn=o,this.cancelFn=a,!n)throw new Error("callback is not defined");this.callback=n;var l=this;this.invoke=i===S&&s&&s.useG?t.invokeTask:function(){return t.invokeTask.call(e,l,this,arguments)}}return _createClass(t,[{key:"cancelScheduleRequest",value:function(){this._transitionTo(b,x)}},{key:"_transitionTo",value:function(e,t,i){if(this._state!==t&&this._state!==i)throw new Error("".concat(this.type," '").concat(this.source,"': can not transition to '").concat(e,"', expecting state '").concat(t,"'").concat(i?" or '"+i+"'":"",", was '").concat(this._state,"'."));this._state=e,e==b&&(this._zoneDelegates=null)}},{key:"toString",value:function(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}},{key:"toJSON",value:function(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}},{key:"zone",get:function(){return this._zone}},{key:"state",get:function(){return this._state}}],[{key:"invokeTask",value:function(e,t,i){e||(e=this),M++;try{return e.runCount++,e.zone.runTask(e,t,i)}finally{1==M&&w(),M--}}}]),t}(),c=s("setTimeout"),p=s("Promise"),f=s("then"),m=[],g=!1;function v(t){if(0===M&&0===m.length)if(l||e[p]&&(l=e[p].resolve(0)),l){var i=l[f];i||(i=l.then),i.call(l,w)}else e[c](w,0);t&&m.push(t)}function w(){if(!g){for(g=!0;m.length;){var e=m;m=[];for(var t=0;t<e.length;t++){var i=e[t];try{i.zone.runTask(i,null,null)}catch(r){D.onUnhandledError(r)}}}D.microtaskDrainDone(),g=!1}}var y={name:"NO ZONE"},b="notScheduled",x="scheduling",_="scheduled",C="running",j="canceling",q="unknown",k="microTask",T="macroTask",S="eventTask",I={},D={symbol:s,currentZoneFrame:function(){return P},onUnhandledError:A,microtaskDrainDone:A,scheduleMicroTask:v,showUncaughtError:function(){return!a[s("ignoreConsoleErrorUncaughtError")]},patchEventTarget:function(){return[]},patchOnProperties:A,patchMethod:function(){return A},bindArguments:function(){return[]},patchThen:function(){return A},patchMacroTask:function(){return A},setNativePromise:function(e){e&&"function"==typeof e.resolve&&(l=e.resolve(0))},patchEventPrototype:function(){return A},isIEOrEdge:function(){return!1},getGlobalObjects:function(){},ObjectDefineProperty:function(){return A},ObjectGetOwnPropertyDescriptor:function(){},ObjectCreate:function(){},ArraySlice:function(){return[]},patchClass:function(){return A},wrapWithCurrentZone:function(){return A},filterProperties:function(){return[]},attachOriginToPatched:function(){return A},_redefineProperty:function(){return A},patchCallbacks:function(){return A}},P={parent:null,zone:new a(null,null)},E=null,M=0;function A(){}r("Zone","Zone"),e.Zone=a}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global),Zone.__load_patch("ZoneAwarePromise",(function(e,t,i){var r=Object.getOwnPropertyDescriptor,n=Object.defineProperty,s=i.symbol,o=[],a=!0===e[s("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],l=s("Promise"),d=s("then");i.onUnhandledError=function(e){if(i.showUncaughtError()){var t=e&&e.rejection;t?console.error("Unhandled Promise rejection:",t instanceof Error?t.message:t,"; Zone:",e.zone.name,"; Task:",e.task&&e.task.source,"; Value:",t,t instanceof Error?t.stack:void 0):console.error(e)}},i.microtaskDrainDone=function(){for(var e=function(){var e=o.shift();try{e.zone.runGuarded((function(){throw e}))}catch(r){!function(e){i.onUnhandledError(e);try{var r=t[h];"function"==typeof r&&r.call(this,e)}catch(n){}}(r)}};o.length;)e()};var h=s("unhandledPromiseRejectionHandler");function u(e){return e&&e.then}function c(e){return e}function p(e){return k.reject(e)}var f=s("state"),m=s("value"),g=s("finally"),v=s("parentPromiseValue"),w=s("parentPromiseState");function y(e,t){return function(i){try{x(e,t,i)}catch(r){x(e,!1,r)}}}var b=s("currentTaskTrace");function x(e,r,s){var l,d,h=(l=!1,function(e){return function(){l||(l=!0,e.apply(null,arguments))}});if(e===s)throw new TypeError("Promise resolved with itself");if(null===e[f]){var u=null;try{"object"!=typeof s&&"function"!=typeof s||(u=s&&s.then)}catch(T){return h((function(){x(e,!1,T)}))(),e}if(!1!==r&&s instanceof k&&s.hasOwnProperty(f)&&s.hasOwnProperty(m)&&null!==s[f])C(s),x(e,s[f],s[m]);else if(!1!==r&&"function"==typeof u)try{u.call(s,h(y(e,r)),h(y(e,!1)))}catch(T){h((function(){x(e,!1,T)}))()}else{e[f]=r;var c=e[m];if(e[m]=s,e[g]===g&&!0===r&&(e[f]=e[w],e[m]=e[v]),!1===r&&s instanceof Error){var p=t.currentTask&&t.currentTask.data&&t.currentTask.data.__creationTrace__;p&&n(s,b,{configurable:!0,enumerable:!1,writable:!0,value:p})}for(var _=0;_<c.length;)j(e,c[_++],c[_++],c[_++],c[_++]);if(0==c.length&&0==r){e[f]=0;var q=s;if(!a)try{throw new Error("Uncaught (in promise): "+((d=s)&&d.toString===Object.prototype.toString?(d.constructor&&d.constructor.name||"")+": "+JSON.stringify(d):d?d.toString():Object.prototype.toString.call(d))+(s&&s.stack?"\n"+s.stack:""))}catch(T){q=T}q.rejection=s,q.promise=e,q.zone=t.current,q.task=t.currentTask,o.push(q),i.scheduleMicroTask()}}}return e}var _=s("rejectionHandledHandler");function C(e){if(0===e[f]){try{var i=t[_];i&&"function"==typeof i&&i.call(this,{rejection:e[m],promise:e})}catch(n){}e[f]=!1;for(var r=0;r<o.length;r++)e===o[r].promise&&o.splice(r,1)}}function j(e,t,i,r,n){C(e);var s=e[f],o=s?"function"==typeof r?r:c:"function"==typeof n?n:p;t.scheduleMicroTask("Promise.then",(function(){try{var r=e[m],n=!!i&&g===i[g];n&&(i[v]=r,i[w]=s);var a=t.run(o,void 0,n&&o!==p&&o!==c?[]:[r]);x(i,!0,a)}catch(l){x(i,!1,l)}}),i)}var q=function(){},k=function(){function e(t){_classCallCheck(this,e);if(!(this instanceof e))throw new Error("Must be an instanceof Promise.");this[f]=null,this[m]=[];try{t&&t(y(this,!0),y(this,!1))}catch(i){x(this,!1,i)}}return _createClass(e,null,[{key:"toString",value:function(){return"function ZoneAwarePromise() { [native code] }"}},{key:"resolve",value:function(e){return x(new this(null),!0,e)}},{key:"reject",value:function(e){return x(new this(null),!1,e)}},{key:"race",value:function(e){var t,i,r=new this((function(e,r){t=e,i=r}));function n(e){t(e)}function s(e){i(e)}var o,a=_createForOfIteratorHelper(e);try{for(a.s();!(o=a.n()).done;){var l=o.value;u(l)||(l=this.resolve(l)),l.then(n,s)}}catch(d){a.e(d)}finally{a.f()}return r}},{key:"all",value:function(t){return e.allWithCallback(t)}},{key:"allSettled",value:function(t){return(this&&this.prototype instanceof e?this:e).allWithCallback(t,{thenCallback:function(e){return{status:"fulfilled",value:e}},errorCallback:function(e){return{status:"rejected",reason:e}}})}},{key:"allWithCallback",value:function(e,t){var i,r,n,s=this,o=new this((function(e,t){i=e,r=t})),a=2,l=0,d=[],h=_createForOfIteratorHelper(e);try{var c=function(){var e=n.value;u(e)||(e=s.resolve(e));var o=l;try{e.then((function(e){d[o]=t?t.thenCallback(e):e,0===--a&&i(d)}),(function(e){t?(d[o]=t.errorCallback(e),0===--a&&i(d)):r(e)}))}catch(h){r(h)}a++,l++};for(h.s();!(n=h.n()).done;)c()}catch(p){h.e(p)}finally{h.f()}return 0===(a-=2)&&i(d),o}}]),_createClass(e,[{key:"then",value:function(i,r){var n=this.constructor[Symbol.species];n&&"function"==typeof n||(n=this.constructor||e);var s=new n(q),o=t.current;return null==this[f]?this[m].push(o,s,i,r):j(this,o,s,i,r),s}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"finally",value:function(i){var r=this.constructor[Symbol.species];r&&"function"==typeof r||(r=e);var n=new r(q);n[g]=g;var s=t.current;return null==this[f]?this[m].push(s,n,i,i):j(this,s,n,i,i),n}},{key:Symbol.toStringTag,get:function(){return"Promise"}},{key:Symbol.species,get:function(){return e}}]),e}();k.resolve=k.resolve,k.reject=k.reject,k.race=k.race,k.all=k.all;var T=e[l]=e.Promise,S=t.__symbol__("ZoneAwarePromise"),I=r(e,"Promise");I&&!I.configurable||(I&&delete I.writable,I&&delete I.value,I||(I={configurable:!0,enumerable:!0}),I.get=function(){return e[S]?e[S]:e[l]},I.set=function(t){t===k?e[S]=t:(e[l]=t,t.prototype[d]||E(t),i.setNativePromise(t))},n(e,"Promise",I)),e.Promise=k;var D,P=s("thenPatched");function E(e){var t=e.prototype,i=r(t,"then");if(!i||!1!==i.writable&&i.configurable){var n=t.then;t[d]=n,e.prototype.then=function(e,t){var i=this;return new k((function(e,t){n.call(i,e,t)})).then(e,t)},e[P]=!0}}if(i.patchThen=E,T){E(T);var M=e.fetch;"function"==typeof M&&(e[i.symbol("fetch")]=M,e.fetch=(D=M,function(){var e=D.apply(this,arguments);if(e instanceof k)return e;var t=e.constructor;return t[P]||E(t),e}))}return Promise[t.__symbol__("uncaughtPromiseErrors")]=o,k}));var e=Object.getOwnPropertyDescriptor,t=Object.defineProperty,i=Object.getPrototypeOf,r=Object.create,n=Array.prototype.slice,s=Zone.__symbol__("addEventListener"),o=Zone.__symbol__("removeEventListener"),a=Zone.__symbol__("");function l(e,t){return Zone.current.wrap(e,t)}function d(e,t,i,r,n){return Zone.current.scheduleMacroTask(e,t,i,r,n)}var h=Zone.__symbol__,u="undefined"!=typeof window,c=u?window:void 0,p=u&&c||"object"==typeof self&&self||global,f=[null];function m(e,t){for(var i=e.length-1;i>=0;i--)"function"==typeof e[i]&&(e[i]=l(e[i],t+"_"+i));return e}function g(e){return!e||!1!==e.writable&&!("function"==typeof e.get&&void 0===e.set)}var v="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,w=!("nw"in p)&&void 0!==p.process&&"[object process]"==={}.toString.call(p.process),y=!w&&!v&&!(!u||!c.HTMLElement),b=void 0!==p.process&&"[object process]"==={}.toString.call(p.process)&&!v&&!(!u||!c.HTMLElement),x={},_=function(e){if(e=e||p.event){var t=x[e.type];t||(t=x[e.type]=h("ON_PROPERTY"+e.type));var i,r=this||e.target||p,n=r[t];if(y&&r===c&&"error"===e.type){var s=e;!0===(i=n&&n.call(this,s.message,s.filename,s.lineno,s.colno,s.error))&&e.preventDefault()}else null==(i=n&&n.apply(this,arguments))||i||e.preventDefault();return i}};function C(i,r,n){var s=e(i,r);if(!s&&n&&e(n,r)&&(s={enumerable:!0,configurable:!0}),s&&s.configurable){var o=h("on"+r+"patched");if(!i.hasOwnProperty(o)||!i[o]){delete s.writable,delete s.value;var a=s.get,l=s.set,d=r.substr(2),u=x[d];u||(u=x[d]=h("ON_PROPERTY"+d)),s.set=function(e){var t=this;t||i!==p||(t=p),t&&(t[u]&&t.removeEventListener(d,_),l&&l.apply(t,f),"function"==typeof e?(t[u]=e,t.addEventListener(d,_,!1)):t[u]=null)},s.get=function(){var e=this;if(e||i!==p||(e=p),!e)return null;var t=e[u];if(t)return t;if(a){var n=a&&a.call(this);if(n)return s.set.call(this,n),"function"==typeof e.removeAttribute&&e.removeAttribute(r),n}return null},t(i,r,s),i[o]=!0}}}function j(e,t,i){if(t)for(var r=0;r<t.length;r++)C(e,"on"+t[r],i);else{var n=[];for(var s in e)"on"==s.substr(0,2)&&n.push(s);for(var o=0;o<n.length;o++)C(e,n[o],i)}}var q=h("originalInstance");function k(e){var i=p[e];if(i){p[h(e)]=i,p[e]=function(){var t=m(arguments,e);switch(t.length){case 0:this[q]=new i;break;case 1:this[q]=new i(t[0]);break;case 2:this[q]=new i(t[0],t[1]);break;case 3:this[q]=new i(t[0],t[1],t[2]);break;case 4:this[q]=new i(t[0],t[1],t[2],t[3]);break;default:throw new Error("Arg list too long.")}},I(p[e],i);var r,n=new i((function(){}));for(r in n)"XMLHttpRequest"===e&&"responseBlob"===r||function(i){"function"==typeof n[i]?p[e].prototype[i]=function(){return this[q][i].apply(this[q],arguments)}:t(p[e].prototype,i,{set:function(t){"function"==typeof t?(this[q][i]=l(t,e+"."+i),I(this[q][i],t)):this[q][i]=t},get:function(){return this[q][i]}})}(r);for(r in i)"prototype"!==r&&i.hasOwnProperty(r)&&(p[e][r]=i[r])}}function T(t,r,n){for(var s=t;s&&!s.hasOwnProperty(r);)s=i(s);!s&&t[r]&&(s=t);var o=h(r),a=null;if(s&&!(a=s[o])&&(a=s[o]=s[r],g(s&&e(s,r)))){var l=n(a,o,r);s[r]=function(){return l(this,arguments)},I(s[r],a)}return a}function S(e,t,i){var r=null;function n(e){var t=e.data;return t.args[t.cbIdx]=function(){e.invoke.apply(this,arguments)},r.apply(t.target,t.args),e}r=T(e,t,(function(e){return function(t,r){var s=i(t,r);return s.cbIdx>=0&&"function"==typeof r[s.cbIdx]?d(s.name,r[s.cbIdx],s,n):e.apply(t,r)}}))}function I(e,t){e[h("OriginalDelegate")]=t}var D=!1,P=!1;function E(){try{var e=c.navigator.userAgent;if(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/"))return!0}catch(t){}return!1}function M(){if(D)return P;D=!0;try{var e=c.navigator.userAgent;-1===e.indexOf("MSIE ")&&-1===e.indexOf("Trident/")&&-1===e.indexOf("Edge/")||(P=!0)}catch(t){}return P}Zone.__load_patch("toString",(function(e){var t=Function.prototype.toString,i=h("OriginalDelegate"),r=h("Promise"),n=h("Error"),s=function(){if("function"==typeof this){var s=this[i];if(s)return"function"==typeof s?t.call(s):Object.prototype.toString.call(s);if(this===Promise){var o=e[r];if(o)return t.call(o)}if(this===Error){var a=e[n];if(a)return t.call(a)}}return t.call(this)};s[i]=t,Function.prototype.toString=s;var o=Object.prototype.toString;Object.prototype.toString=function(){return this instanceof Promise?"[object Promise]":o.call(this)}}));var A=!1;if("undefined"!=typeof window)try{var H=Object.defineProperty({},"passive",{get:function(){A=!0}});window.addEventListener("test",H,H),window.removeEventListener("test",H,H)}catch(le){A=!1}var O={useG:!0},B={},z={},N=new RegExp("^"+a+"(\\w+)(true|false)$"),L=h("propagationStopped");function F(e,t){var i=(t?t(e):e)+"false",r=(t?t(e):e)+"true",n=a+i,s=a+r;B[e]={},B[e].false=n,B[e].true=s}function R(e,t,r){var n=r&&r.add||"addEventListener",s=r&&r.rm||"removeEventListener",o=r&&r.listeners||"eventListeners",l=r&&r.rmAll||"removeAllListeners",d=h(n),u="."+n+":",c=function(e,t,i){if(!e.isRemoved){var r=e.callback;"object"==typeof r&&r.handleEvent&&(e.callback=function(e){return r.handleEvent(e)},e.originalDelegate=r),e.invoke(e,t,[i]);var n=e.options;n&&"object"==typeof n&&n.once&&t[s].call(t,i.type,e.originalDelegate?e.originalDelegate:e.callback,n)}},p=function(t){if(t=t||e.event){var i=this||t.target||e,r=i[B[t.type].false];if(r)if(1===r.length)c(r[0],i,t);else for(var n=r.slice(),s=0;s<n.length&&(!t||!0!==t[L]);s++)c(n[s],i,t)}},f=function(t){if(t=t||e.event){var i=this||t.target||e,r=i[B[t.type].true];if(r)if(1===r.length)c(r[0],i,t);else for(var n=r.slice(),s=0;s<n.length&&(!t||!0!==t[L]);s++)c(n[s],i,t)}};function m(t,r){if(!t)return!1;var c=!0;r&&void 0!==r.useG&&(c=r.useG);var m=r&&r.vh,g=!0;r&&void 0!==r.chkDup&&(g=r.chkDup);var v=!1;r&&void 0!==r.rt&&(v=r.rt);for(var y=t;y&&!y.hasOwnProperty(n);)y=i(y);if(!y&&t[n]&&(y=t),!y)return!1;if(y[d])return!1;var b,x=r&&r.eventNameToString,_={},C=y[d]=y[n],j=y[h(s)]=y[s],q=y[h(o)]=y[o],k=y[h(l)]=y[l];function T(e,t){return!A&&"object"==typeof e&&e?!!e.capture:A&&t?"boolean"==typeof e?{capture:e,passive:!0}:e?"object"==typeof e&&!1!==e.passive?Object.assign(Object.assign({},e),{passive:!0}):e:{passive:!0}:e}r&&r.prepend&&(b=y[h(r.prepend)]=y[r.prepend]);var S=c?function(e){if(!_.isExisting)return C.call(_.target,_.eventName,_.capture?f:p,_.options)}:function(e){return C.call(_.target,_.eventName,e.invoke,_.options)},D=c?function(e){if(!e.isRemoved){var t,i=B[e.eventName];i&&(t=i[e.capture?"true":"false"]);var r=t&&e.target[t];if(r)for(var n=0;n<r.length;n++)if(r[n]===e){r.splice(n,1),e.isRemoved=!0,0===r.length&&(e.allRemoved=!0,e.target[t]=null);break}}if(e.allRemoved)return j.call(e.target,e.eventName,e.capture?f:p,e.options)}:function(e){return j.call(e.target,e.eventName,e.invoke,e.options)},P=r&&r.diff?r.diff:function(e,t){var i=typeof t;return"function"===i&&e.callback===t||"object"===i&&e.originalDelegate===t},E=Zone[h("BLACK_LISTED_EVENTS")],M=e[h("PASSIVE_EVENTS")],H=function(t,i,n,s){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return function(){var l=this||e,d=arguments[0];r&&r.transferEventName&&(d=r.transferEventName(d));var h=arguments[1];if(!h)return t.apply(this,arguments);if(w&&"uncaughtException"===d)return t.apply(this,arguments);var u=!1;if("function"!=typeof h){if(!h.handleEvent)return t.apply(this,arguments);u=!0}if(!m||m(t,h,l,arguments)){var p=A&&!!M&&-1!==M.indexOf(d),f=T(arguments[2],p);if(E)for(var v=0;v<E.length;v++)if(d===E[v])return p?t.call(l,d,h,f):t.apply(this,arguments);var y=!!f&&("boolean"==typeof f||f.capture),b=!(!f||"object"!=typeof f)&&f.once,C=Zone.current,j=B[d];j||(F(d,x),j=B[d]);var q,k=j[y?"true":"false"],S=l[k],I=!1;if(S){if(I=!0,g)for(var D=0;D<S.length;D++)if(P(S[D],h))return}else S=l[k]=[];var H=l.constructor.name,N=z[H];N&&(q=N[d]),q||(q=H+i+(x?x(d):d)),_.options=f,b&&(_.options.once=!1),_.target=l,_.capture=y,_.eventName=d,_.isExisting=I;var L=c?O:void 0;L&&(L.taskData=_);var R=C.scheduleEventTask(q,h,L,n,s);return _.target=null,L&&(L.taskData=null),b&&(f.once=!0),(A||"boolean"!=typeof R.options)&&(R.options=f),R.target=l,R.capture=y,R.eventName=d,u&&(R.originalDelegate=h),a?S.unshift(R):S.push(R),o?l:void 0}}};return y[n]=H(C,u,S,D,v),b&&(y.prependListener=H(b,".prependListener:",(function(e){return b.call(_.target,_.eventName,e.invoke,_.options)}),D,v,!0)),y[s]=function(){var t=this||e,i=arguments[0];r&&r.transferEventName&&(i=r.transferEventName(i));var n=arguments[2],s=!!n&&("boolean"==typeof n||n.capture),o=arguments[1];if(!o)return j.apply(this,arguments);if(!m||m(j,o,t,arguments)){var l,d=B[i];d&&(l=d[s?"true":"false"]);var h=l&&t[l];if(h)for(var u=0;u<h.length;u++){var c=h[u];if(P(c,o))return h.splice(u,1),c.isRemoved=!0,0===h.length&&(c.allRemoved=!0,t[l]=null,"string"==typeof i)&&(t[a+"ON_PROPERTY"+i]=null),c.zone.cancelTask(c),v?t:void 0}return j.apply(this,arguments)}},y[o]=function(){var t=this||e,i=arguments[0];r&&r.transferEventName&&(i=r.transferEventName(i));for(var n=[],s=V(t,x?x(i):i),o=0;o<s.length;o++){var a=s[o];n.push(a.originalDelegate?a.originalDelegate:a.callback)}return n},y[l]=function(){var t=this||e,i=arguments[0];if(i){r&&r.transferEventName&&(i=r.transferEventName(i));var n=B[i];if(n){var o=t[n.false],a=t[n.true];if(o)for(var d=o.slice(),h=0;h<d.length;h++){var u=d[h];this[s].call(this,i,u.originalDelegate?u.originalDelegate:u.callback,u.options)}if(a)for(var c=a.slice(),p=0;p<c.length;p++){var f=c[p];this[s].call(this,i,f.originalDelegate?f.originalDelegate:f.callback,f.options)}}}else{for(var m=Object.keys(t),g=0;g<m.length;g++){var w=N.exec(m[g]),y=w&&w[1];y&&"removeListener"!==y&&this[l].call(this,y)}this[l].call(this,"removeListener")}if(v)return this},I(y[n],C),I(y[s],j),k&&I(y[l],k),q&&I(y[o],q),!0}for(var g=[],v=0;v<t.length;v++)g[v]=m(t[v],r);return g}function V(e,t){if(!t){var i=[];for(var r in e){var n=N.exec(r),s=n&&n[1];if(s&&(!t||s===t)){var o=e[r];if(o)for(var a=0;a<o.length;a++)i.push(o[a])}}return i}var l=B[t];l||(F(t),l=B[t]);var d=e[l.false],h=e[l.true];return d?h?d.concat(h):d.slice():h?h.slice():[]}function W(e,t){var i=e.Event;i&&i.prototype&&t.patchMethod(i.prototype,"stopImmediatePropagation",(function(e){return function(t,i){t[L]=!0,e&&e.apply(t,i)}}))}function G(e,t,i,r,n){var s=Zone.__symbol__(r);if(!t[s]){var o=t[s]=t[r];t[r]=function(s,a,l){return a&&a.prototype&&n.forEach((function(t){var n="".concat(i,".").concat(r,"::")+t,s=a.prototype;if(s.hasOwnProperty(t)){var o=e.ObjectGetOwnPropertyDescriptor(s,t);o&&o.value?(o.value=e.wrapWithCurrentZone(o.value,n),e._redefineProperty(a.prototype,t,o)):s[t]&&(s[t]=e.wrapWithCurrentZone(s[t],n))}else s[t]&&(s[t]=e.wrapWithCurrentZone(s[t],n))})),o.call(t,s,a,l)},e.attachOriginToPatched(t[r],o)}}var U=["absolutedeviceorientation","afterinput","afterprint","appinstalled","beforeinstallprompt","beforeprint","beforeunload","devicelight","devicemotion","deviceorientation","deviceorientationabsolute","deviceproximity","hashchange","languagechange","message","mozbeforepaint","offline","online","paint","pageshow","pagehide","popstate","rejectionhandled","storage","unhandledrejection","unload","userproximity","vrdisplayconnected","vrdisplaydisconnected","vrdisplaypresentchange"],Y=["encrypted","waitingforkey","msneedkey","mozinterruptbegin","mozinterruptend"],Z=["load"],K=["blur","error","focus","load","resize","scroll","messageerror"],X=["bounce","finish","start"],Q=["loadstart","progress","abort","error","load","progress","timeout","loadend","readystatechange"],J=["upgradeneeded","complete","abort","success","error","blocked","versionchange","close"],$=["close","error","open","message"],ee=["error","message"],te=["abort","animationcancel","animationend","animationiteration","auxclick","beforeinput","blur","cancel","canplay","canplaythrough","change","compositionstart","compositionupdate","compositionend","cuechange","click","close","contextmenu","curechange","dblclick","drag","dragend","dragenter","dragexit","dragleave","dragover","drop","durationchange","emptied","ended","error","focus","focusin","focusout","gotpointercapture","input","invalid","keydown","keypress","keyup","load","loadstart","loadeddata","loadedmetadata","lostpointercapture","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","orientationchange","pause","play","playing","pointercancel","pointerdown","pointerenter","pointerleave","pointerlockchange","mozpointerlockchange","webkitpointerlockerchange","pointerlockerror","mozpointerlockerror","webkitpointerlockerror","pointermove","pointout","pointerover","pointerup","progress","ratechange","reset","resize","scroll","seeked","seeking","select","selectionchange","selectstart","show","sort","stalled","submit","suspend","timeupdate","volumechange","touchcancel","touchmove","touchstart","touchend","transitioncancel","transitionend","waiting","wheel"].concat(["webglcontextrestored","webglcontextlost","webglcontextcreationerror"],["autocomplete","autocompleteerror"],["toggle"],["afterscriptexecute","beforescriptexecute","DOMContentLoaded","freeze","fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange","fullscreenerror","mozfullscreenerror","webkitfullscreenerror","msfullscreenerror","readystatechange","visibilitychange","resume"],U,["beforecopy","beforecut","beforepaste","copy","cut","paste","dragstart","loadend","animationstart","search","transitionrun","transitionstart","webkitanimationend","webkitanimationiteration","webkitanimationstart","webkittransitionend"],["activate","afterupdate","ariarequest","beforeactivate","beforedeactivate","beforeeditfocus","beforeupdate","cellchange","controlselect","dataavailable","datasetchanged","datasetcomplete","errorupdate","filterchange","layoutcomplete","losecapture","move","moveend","movestart","propertychange","resizeend","resizestart","rowenter","rowexit","rowsdelete","rowsinserted","command","compassneedscalibration","deactivate","help","mscontentzoom","msmanipulationstatechanged","msgesturechange","msgesturedoubletap","msgestureend","msgesturehold","msgesturestart","msgesturetap","msgotpointercapture","msinertiastart","mslostpointercapture","mspointercancel","mspointerdown","mspointerenter","mspointerhover","mspointerleave","mspointermove","mspointerout","mspointerover","mspointerup","pointerout","mssitemodejumplistitemremoved","msthumbnailclick","stop","storagecommit"]);function ie(e,t,i){if(!i||0===i.length)return t;var r=i.filter((function(t){return t.target===e}));if(!r||0===r.length)return t;var n=r[0].ignoreProperties;return t.filter((function(e){return-1===n.indexOf(e)}))}function re(e,t,i,r){e&&j(e,ie(e,t,i),r)}function ne(e,t){if((!w||b)&&!Zone[e.symbol("patchEvents")]){var r="undefined"!=typeof WebSocket,n=t.__Zone_ignore_on_properties;if(y){var s=window,o=E?[{target:s,ignoreProperties:["error"]}]:[];re(s,te.concat(["messageerror"]),n?n.concat(o):n,i(s)),re(Document.prototype,te,n),void 0!==s.SVGElement&&re(s.SVGElement.prototype,te,n),re(Element.prototype,te,n),re(HTMLElement.prototype,te,n),re(HTMLMediaElement.prototype,Y,n),re(HTMLFrameSetElement.prototype,U.concat(K),n),re(HTMLBodyElement.prototype,U.concat(K),n),re(HTMLFrameElement.prototype,Z,n),re(HTMLIFrameElement.prototype,Z,n);var a=s.HTMLMarqueeElement;a&&re(a.prototype,X,n);var l=s.Worker;l&&re(l.prototype,ee,n)}var d=t.XMLHttpRequest;d&&re(d.prototype,Q,n);var h=t.XMLHttpRequestEventTarget;h&&re(h&&h.prototype,Q,n),"undefined"!=typeof IDBIndex&&(re(IDBIndex.prototype,J,n),re(IDBRequest.prototype,J,n),re(IDBOpenDBRequest.prototype,J,n),re(IDBDatabase.prototype,J,n),re(IDBTransaction.prototype,J,n),re(IDBCursor.prototype,J,n)),r&&re(WebSocket.prototype,$,n)}}Zone.__load_patch("util",(function(i,s,o){o.patchOnProperties=j,o.patchMethod=T,o.bindArguments=m,o.patchMacroTask=S;var d=s.__symbol__("BLACK_LISTED_EVENTS"),h=s.__symbol__("UNPATCHED_EVENTS");i[h]&&(i[d]=i[h]),i[d]&&(s[d]=s[h]=i[d]),o.patchEventPrototype=W,o.patchEventTarget=R,o.isIEOrEdge=M,o.ObjectDefineProperty=t,o.ObjectGetOwnPropertyDescriptor=e,o.ObjectCreate=r,o.ArraySlice=n,o.patchClass=k,o.wrapWithCurrentZone=l,o.filterProperties=ie,o.attachOriginToPatched=I,o._redefineProperty=Object.defineProperty,o.patchCallbacks=G,o.getGlobalObjects=function(){return{globalSources:z,zoneSymbolEventNames:B,eventNames:te,isBrowser:y,isMix:b,isNode:w,TRUE_STR:"true",FALSE_STR:"false",ZONE_SYMBOL_PREFIX:a,ADD_EVENT_LISTENER_STR:"addEventListener",REMOVE_EVENT_LISTENER_STR:"removeEventListener"}}}));var se=h("zoneTask");function oe(e,t,i,r){var n=null,s=null;i+=r;var o={};function a(t){var i=t.data;return i.args[0]=function(){try{t.invoke.apply(this,arguments)}finally{t.data&&t.data.isPeriodic||("number"==typeof i.handleId?delete o[i.handleId]:i.handleId&&(i.handleId[se]=null))}},i.handleId=n.apply(e,i.args),t}function l(e){return s(e.data.handleId)}n=T(e,t+=r,(function(i){return function(n,s){if("function"==typeof s[0]){var h=d(t,s[0],{isPeriodic:"Interval"===r,delay:"Timeout"===r||"Interval"===r?s[1]||0:void 0,args:s},a,l);if(!h)return h;var u=h.data.handleId;return"number"==typeof u?o[u]=h:u&&(u[se]=h),u&&u.ref&&u.unref&&"function"==typeof u.ref&&"function"==typeof u.unref&&(h.ref=u.ref.bind(u),h.unref=u.unref.bind(u)),"number"==typeof u||u?u:h}return i.apply(e,s)}})),s=T(e,i,(function(t){return function(i,r){var n,s=r[0];"number"==typeof s?n=o[s]:(n=s&&s[se])||(n=s),n&&"string"==typeof n.type?"notScheduled"!==n.state&&(n.cancelFn&&n.data.isPeriodic||0===n.runCount)&&("number"==typeof s?delete o[s]:s&&(s[se]=null),n.zone.cancelTask(n)):t.apply(e,r)}}))}function ae(e,t){if(!Zone[t.symbol("patchEventTarget")]){for(var i=t.getGlobalObjects(),r=i.eventNames,n=i.zoneSymbolEventNames,s=i.TRUE_STR,o=i.FALSE_STR,a=i.ZONE_SYMBOL_PREFIX,l=0;l<r.length;l++){var d=r[l],h=a+(d+o),u=a+(d+s);n[d]={},n[d][o]=h,n[d][s]=u}var c=e.EventTarget;return c&&c.prototype?(t.patchEventTarget(e,[c&&c.prototype]),!0):void 0}}Zone.__load_patch("legacy",(function(e){var t=e[Zone.__symbol__("legacyPatch")];t&&t()})),Zone.__load_patch("timers",(function(e){oe(e,"set","clear","Timeout"),oe(e,"set","clear","Interval"),oe(e,"set","clear","Immediate")})),Zone.__load_patch("requestAnimationFrame",(function(e){oe(e,"request","cancel","AnimationFrame"),oe(e,"mozRequest","mozCancel","AnimationFrame"),oe(e,"webkitRequest","webkitCancel","AnimationFrame")})),Zone.__load_patch("blocking",(function(e,t){for(var i=["alert","prompt","confirm"],r=0;r<i.length;r++)T(e,i[r],(function(i,r,n){return function(r,s){return t.current.run(i,e,s,n)}}))})),Zone.__load_patch("EventTarget",(function(e,t,i){!function(e,t){t.patchEventPrototype(e,t)}(e,i),ae(e,i);var r=e.XMLHttpRequestEventTarget;r&&r.prototype&&i.patchEventTarget(e,[r.prototype]),k("MutationObserver"),k("WebKitMutationObserver"),k("IntersectionObserver"),k("FileReader")})),Zone.__load_patch("on_property",(function(e,t,i){ne(i,e)})),Zone.__load_patch("customElements",(function(e,t,i){!function(e,t){var i=t.getGlobalObjects(),r=i.isBrowser,n=i.isMix;(r||n)&&e.customElements&&"customElements"in e&&t.patchCallbacks(t,e.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(e,i)})),Zone.__load_patch("XHR",(function(e,t){!function(e){var c=e.XMLHttpRequest;if(c){var p=c.prototype,f=p[s],m=p[o];if(!f){var g=e.XMLHttpRequestEventTarget;if(g){var v=g.prototype;f=v[s],m=v[o]}}var w=T(p,"open",(function(){return function(e,t){return e[r]=0==t[2],e[l]=t[1],w.apply(e,t)}})),y=h("fetchTaskAborting"),b=h("fetchTaskScheduling"),x=T(p,"send",(function(){return function(e,i){if(!0===t.current[b])return x.apply(e,i);if(e[r])return x.apply(e,i);var n={target:e,url:e[l],isPeriodic:!1,args:i,aborted:!1},s=d("XMLHttpRequest.send",j,n,C,q);e&&!0===e[u]&&!n.aborted&&"scheduled"===s.state&&s.invoke()}})),_=T(p,"abort",(function(){return function(e,r){var n=e[i];if(n&&"string"==typeof n.type){if(null==n.cancelFn||n.data&&n.data.aborted)return;n.zone.cancelTask(n)}else if(!0===t.current[y])return _.apply(e,r)}}))}function C(e){var r=e.data,l=r.target;l[a]=!1,l[u]=!1;var d=l[n];f||(f=l[s],m=l[o]),d&&m.call(l,"readystatechange",d);var h=l[n]=function(){if(l.readyState===l.DONE)if(!r.aborted&&l[a]&&"scheduled"===e.state){var i=l[t.__symbol__("loadfalse")];if(i&&i.length>0){var n=e.invoke;e.invoke=function(){for(var i=l[t.__symbol__("loadfalse")],s=0;s<i.length;s++)i[s]===e&&i.splice(s,1);r.aborted||"scheduled"!==e.state||n.call(e)},i.push(e)}else e.invoke()}else r.aborted||!1!==l[a]||(l[u]=!0)};return f.call(l,"readystatechange",h),l[i]||(l[i]=e),x.apply(l,r.args),l[a]=!0,e}function j(){}function q(e){var t=e.data;return t.aborted=!0,_.apply(t.target,t.args)}}(e);var i=h("xhrTask"),r=h("xhrSync"),n=h("xhrListener"),a=h("xhrScheduled"),l=h("xhrURL"),u=h("xhrErrorBeforeScheduled")})),Zone.__load_patch("geolocation",(function(t){t.navigator&&t.navigator.geolocation&&function(t,i){for(var r=t.constructor.name,n=function(n){var s=i[n],o=t[s];if(o){if(!g(e(t,s)))return"continue";t[s]=function(e){var t=function(){return e.apply(this,m(arguments,r+"."+s))};return I(t,e),t}(o)}},s=0;s<i.length;s++)n(s)}(t.navigator.geolocation,["getCurrentPosition","watchPosition"])})),Zone.__load_patch("PromiseRejectionEvent",(function(e,t){function i(t){return function(i){V(e,t).forEach((function(r){var n=e.PromiseRejectionEvent;if(n){var s=new n(t,{promise:i.promise,reason:i.rejection});r.invoke(s)}}))}}e.PromiseRejectionEvent&&(t[h("unhandledPromiseRejectionHandler")]=i("unhandledrejection"),t[h("rejectionHandledHandler")]=i("rejectionhandled"))}))})?r.call(t,i,t,e):r)||(e.exports=n)},ypXO:function(e,t){!function(e){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],n=0;n<i;){var s=t[n];if(e.call(r,s,n,t))return s;n++}}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],n=0;n<i;){var s=t[n];if(e.call(r,s,n,t))return n;n++}return-1},configurable:!0,writable:!0}),e.extend(e.jqx._jqxGrid.prototype,{_getChartDataFields:function(e){var t,i=e[0],r=!0,n=[];for(var s in i)"$"!==s&&"uid"!==s&&"boundindex"!==s&&"uniqueid"!==s&&"visibleindex"!==s&&("string"===this.source._source.dataFields.find((function(e){return e.name===s})).type?0===this.columns.records.findIndex((function(e){return e.datafield===s}))&&(t=s):(r=!1,n.push({dataField:s,displayText:s})));return{xAxisDataField:t,series:n,stringOnly:r}},createChart:function(e,t){var i,r=this,n=r.getselection(),s=n.rows,o=n.cells,a=document.createElement("div"),l=[],d={},h=[],u=[];if(o&&o.length>1&&o.forEach((function(e){-1===h.indexOf(e.rowindex)&&h.push(e.rowindex),-1===u.indexOf(e.datafield)&&u.push(e.datafield)})),0===s.length&&0===o.length&&(t=r.source.records),t)l=l.concat(t);else{t=r.source.records;for(var c=0;c<t.length;c++){var p={};if(s.length>0){if(-1===s.indexOf(c))continue}else if(o.length>0&&o.length>1){if(-1===h.indexOf(c))continue;u.forEach((function(e){p[e]=t[c][e]})),l.push(p);continue}r.columns.records.forEach((function(e){p[e.datafield]=t[c][e.datafield]})),l.push(p)}}var f=r._getChartDataFields(l);if(f.stringOnly){if(r.showheader){var m=r.element.querySelector("#"+e);r.toolbar[0].firstElementChild.classList.add("warning"),m&&m.classList.add("warning"),setTimeout((function(){r.toolbar[0].firstElementChild.classList.remove("warning"),m&&m.classList.remove("warning")}),1e3)}}else{i=f.series;var g={title:"",description:"",showLegend:!0,showBorderLine:!1,padding:{left:5,top:10,right:5,bottom:5}};if(g.source=l,g.xAxis={dataField:f.xAxisDataField,gridLines:{visible:!0}},g.valueAxis={displayValueAxis:!0,description:r.charting.description,axisSize:"auto",formatSettings:r.charting.formatSettings},g.colorScheme=r.charting.colorScheme,g.seriesGroups=[d],d.formatSettings=r.charting.formatSettings,d.series=i,"line"===e)i.forEach((function(e){e.symbolSize=8,e.symbolType="square"}));else if("pie"===e){var v=i[0].dataField;delete d.formatSettings,d.formatFunction=function(e,t){return isNaN(e)&&"object"==typeof e?t:e},d.showLabels=!0,i.length=0,i.push({dataField:v,displayText:f.xAxisDataField,initialAngle:0})}else if("bar"===e)e="column",d.orientation="horizontal",g.xAxis.textRotationAngle=90,g.valueAxis.textRotationAngle=30,g.valueAxis.flip=!0;else if("area"===e){var w=1;for(c=0;c<i.length;c++)i[c].opacity=w,w-=.2,w=Math.max(.3,w)}if(d.type=e,r.charting.ready&&r.charting.ready(g),r.charting.appendTo){var y="string"===r.charting.appendTo?document.querySelector(r.charting.appendTo):r.charting.appendTo;y&&(new jqxChart(a,g),y.appendChild(a))}else r._openChartDialog(a,e,g)}},_openChartDialog:function(e,t,i){if(!this.charting.dialog.enabled)return!1;var r=document.createElement("div");r.innerHTML="<div>"+this.charting.dialog.header+'</div><div style="overflow:hidden;"></div>',t.substring(0,1).toUpperCase(),t.substring(1),e.style.width="100%",e.style.height="100%";var n=new jqxWindow(r,{width:this.charting.dialog.width,height:this.charting.dialog.height,position:this.charting.dialog.position,isModal:!0});n.open(),setTimeout((function(){r.querySelector(".jqx-widget-content").appendChild(e),new jqxChart(e,i)}),100),n.on("close",(function(){n.destroy()}))}})}(jqxBaseFramework)},yrH0:function(e,t){var i;(i=jqxBaseFramework).extend(i.jqx._jqxGrid.prototype,{getcolumnindex:function(e){var t=this.getcolumn(e);return this.columns.records.indexOf(t)},setcolumnindex:function(e,t,r){if(!((c=this.getcolumn(e)).pinned||c.hidden||c.checkboxcolumn||c.grouped)){var n=this.columns.records.indexOf(c);this.columns.records.splice(n,1),this.columns.records.splice(t,0,c);var s=0,o=this.headerZIndex;this.columnsrow.children().detach();var a=this.toThemeProperty("jqx-grid-cell");a+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),this.filterrow&&(i(this.filterrow.children()[0]).children().detach(),this.filterrow[0].cells=[]);var l=this,d=null;null!=l.filterrow&&(d=i(l.filterrow.children()[0])),this.columnsrow[0].cells=[];var h=!1;if(i.each(this.columns.records,(function(e,t){var r=this.uielement;l.columnsrow.append(r),r.css("z-index",l.rtl?o++:o--);var n=this.width;if(r.css("left",s),l.columnsrow[0].cells[l.columnsrow[0].cells.length]=r[0],l.filterrow){var u=i('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+a+'"></div>');d.append(u),u.css("left",s),u.css("z-index",o+1),u.width(this.width),u[0].left=s,u.append(this._filterwidget),l.filterrow[0].cells[l.filterrow[0].cells.length]=u[0]}this.hidden&&(h=!0),this.hidden&&this.hideable||(s+=n)})),this.groupable){var u=this.groups.length;u>0&&n-u>=0&&(n-=u,t-=u)}this.rowdetails&&n-1>=0&&(n--,t--),"checkbox"==this.selectionmode&&n-1>=0&&(n--,t--);var c=this._columns[n];this._columns.splice(n,1),this._columns.splice(t,0,c),this._raiseEvent(24,{columntext:c.text,datafield:c.datafield,oldindex:n,newindex:t}),0!=r&&(h||"checkbox"==c.columntype?(this.prerenderrequired=!0,this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths()):(this._updatecolumnwidths(),this._updatecellwidths()),this._updatefilterrowui&&this.filterable&&this.showfilterrow&&this._updatefilterrowui(),this.showeverpresentrow&&this._updateaddnewrowui(),this._rendercolumngroups(),this._renderrows(this.virtualsizeinfo))}},_pinnedColumnsLength:function(){var e=0;return i.each(this.columns.records,(function(){this.pinned&&e++,this.grouped&&e++})),"checkbox"==this.selectionmode&&e++,e},_handlecolumnsreorder:function(){var e=this,t=-1,r=!1;if(e.columnsreorder){var n="mousemove.reorder"+this.element.id,s="mousedown.reorder"+this.element.id,o="mouseup.reorder"+this.element.id,a=!1;this.isTouchDevice()&&!0!==this.touchmode&&(a=!0,n=i.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,s=i.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,o=i.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id),this.removeHandler(i(document),n),this.addHandler(i(document),n,(function(i){if(e.resizing)return!0;if(null!=e.reordercolumn){var n=parseInt(i.pageX),s=parseInt(i.pageY);if(a){var o=e.getTouches(i)[0];null!=o&&(n=parseInt(o.pageX),s=parseInt(o.pageY))}var l=e.host.coord(),d=parseInt(l.left),h=parseInt(l.top);null!=e.dragmousedownoffset&&null!=e.dragmousedownoffset||(e.dragmousedownoffset={left:0,top:0});var u=parseInt(n)-parseInt(e.dragmousedownoffset.left),c=parseInt(s)-parseInt(e.dragmousedownoffset.top);if(e.reordercolumn.css({left:u+"px",top:c+"px"}),r=!1,n>=d&&n<=d+e.host.width()&&s>=h&&s<=h+e.host.height()&&(r=!0),t=-1,r){e.reordercolumnicon.removeClass(e.toThemeProperty("jqx-grid-dragcancel-icon")),e.reordercolumnicon.addClass(e.toThemeProperty("jqx-grid-drag-icon"));var p=e.columnsheader.coord(),f=p.top+e.columnsheader.height();null!=e.columnsdropline&&(s>=p.top&&s<=f?t=e._handlereordercolumnsdroplines(n):e.columnsdropline.fadeOut("slow"))}else null!=e.columnsdropline&&e.columnsdropline.fadeOut("slow"),e.reordercolumnicon.removeClass(e.toThemeProperty("jqx-grid-drag-icon")),e.reordercolumnicon.addClass(e.toThemeProperty("jqx-grid-dragcancel-icon"));if(a)return i.preventDefault(),i.stopPropagation(),!1}})),this.columnsbounds=new Array,this.removeHandler(i(document),s),this.addHandler(i(document),s,(function(t){if(e.resizing)return!0;e.columnsbounds=new Array;var r=e.host.coord().left,n=e.host.coord().top;e.showtoolbar&&(n+=e.toolbarheight),e.groupable&&e.showgroupsheader&&(n+=e.groupsheaderheight);var s=0;i.each(e.columns.records,(function(t){var o=this;if(o.hidden)return e.columnsbounds[e.columnsbounds.length]={top:n,column:o,left:r,width:0,height:2+e.rowsheight},!0;0==s&&(r=e.rtl?"hidden"!=e.hScrollBar.css("visibility")?parseInt(e.host.coord().left)-e.hScrollInstance.max+e.hScrollInstance.value:"hidden"==e.vScrollBar.css("visibility")?i(o.element).coord().left:i(o.element).coord().left-e.vScrollBar.width()-e.host.offset().left:parseInt(e.host.coord().left)-e.hScrollInstance.value),s++;var a=2+e.columnsheight;e.columnshierarchy&&(n=i(o.uielement).coord().top,a=i(o.uielement).height()),e.columnsbounds[e.columnsbounds.length]={top:n,column:o,left:r,width:o.width,height:a},r+=o.width}))})),this.removeHandler(i(document),o),this.addHandler(i(document),o,(function(n){if(e.resizing)return!0;if(e.__drag=!1,i(document.body).removeClass("jqx-disableselect"),parseInt(n.pageX),parseInt(n.pageY),a){var s=e.getTouches(n)[0];parseInt(s.pageX),parseInt(s.pageY)}var o=e.host.coord();if(parseInt(o.left),parseInt(o.top),e.groupsheader.height(),e.columndragstarted=!1,e.dragmousedown=null,null!=e.reordercolumn){var l=i.data(e.reordercolumn[0],"reorderrecord"),d=e.columns.records.indexOf(e.getcolumn(l));e.reordercolumn.remove(),e.reordercolumn=null;var h=0;if(h+=e._pinnedColumnsLength(),null!=l){if(r&&-1!=t){var u=t.index;if(u>=h){var c=e.columns.records[u];if(null!=c){var p=e.columns.records.indexOf(e.getcolumn(c.datafield));if(null==c.datafield&&(p=e.columns.records.indexOf(e.getcolumnbytext(c.text))),e.columngroups){var f=c;if(d<p&&"before"==t.position&&(f=e.columns.records[p-1]),f.columngroup!=e.getcolumn(l).columngroup)return void(null!=e.columnsdropline&&(e.columnsdropline.remove(),e.columnsdropline=null))}d<p?e.setcolumnindex(l,"before"==t.position?p-1:p):d>p&&e.setcolumnindex(l,p),e.autosavestate&&e.savestate&&e.savestate()}}}null!=e.columnsdropline&&(e.columnsdropline.remove(),e.columnsdropline=null)}}}))}},getcolumnbytext:function(e){var t=null;return this.columns.records&&i.each(this.columns.records,(function(){if(this.text==e)return t=this,!1})),t},_handlereordercolumnsdroplines:function(e){var t=this,r=-1,n=t._pinnedColumnsLength(),s=parseInt(t.host.coord().left)+t.host.width(),o="hidden"!=t.vScrollBar.css("visibility")?19:0;return t.rtl||(o=0),i.each(t.columnsbounds,(function(i){if(i>=n){if(0==this.width)return!0;if(e<=this.left+this.width/2)return e>s?(t.columnsdropline.fadeOut(),!1):(t.columnsdropline.css("left",o+parseInt(this.left)+"px"),t.columnsdropline.css("top",parseInt(this.top)+"px"),t.columnsdropline.height(this.height),t.columnsdropline.fadeIn("slow"),r={index:i,position:"before"},!1);if(e>=this.left+this.width/2){if(this.left+this.width>s)return t.columnsdropline.fadeOut(),!1;t.columnsdropline.css("left",o+1+this.left+this.width),t.columnsdropline.css("top",this.top),t.columnsdropline.height(this.height),t.columnsdropline.fadeIn("slow"),r={index:i,position:"after"}}}})),r},_createreordercolumn:function(e,t,r){var n=this,s=t;n.reordercolumn&&n.reordercolumn.remove(),n.columnsdropline&&n.columnsdropline.remove(),n.reordercolumn=i("<div></div>");var o=e.clone();n.reordercolumn.css("z-index",999999),o.css("border-width","1px"),o.css("opacity","0.4");var a=i(o.find("."+n.toThemeProperty("jqx-grid-column-menubutton")));a.length>0&&a.css("display","none");var l=i(o.find(".jqx-icon-close"));l.length>0&&l.css("display","none"),n.reordercolumnicon=i('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),n.reordercolumnicon.addClass(n.toThemeProperty("jqx-grid-drag-icon")),n.reordercolumn.css("float","left"),n.reordercolumn.css("position","absolute"),n.host.coord(),o.width(e.width()+16),n.reordercolumn.append(o),n.reordercolumn.height(e.height()),n.reordercolumn.width(o.width()),n.reordercolumn.append(n.reordercolumnicon),i(document.body).append(n.reordercolumn),o.css("margin-left",0),o.css("left",0),o.css("top",0),n.reordercolumn.css("left",s.left+n.dragmousedown.left),n.reordercolumn.css("top",s.top+n.dragmousedown.top),null!=r&&r&&(n.columnsdropline=i('<div style="z-index: 9999; display: none; position: absolute;"></div>'),n.columnsdropline.width(2),n.columnsdropline.addClass(n.toThemeProperty("jqx-grid-group-drag-line")),i(document.body).append(n.columnsdropline))},_handlecolumnsdragreorder:function(e,t){this.reordercolumn&&this.reordercolumn.remove(),this.columnsdropline&&this.columnsdropline.remove(),this.dragmousedown=null,this.dragmousedownoffset=null,this.columndragstarted=!1,this.reordercolumn=null;var r=this,n=!1;this.isTouchDevice()&&!0!==this.touchmode&&(n=!0);var s="mousedown.drag",o="mousemove.drag";n?(s=i.jqx.mobile.getTouchEventName("touchstart")+".drag",o=i.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(t,"dragstart",(function(e){return!1})),this.addHandler(t,s,(function(t){if(0==e.draggable)return!0;if(r.resizing)return!0;r.__drag=!0;var s=t.pageX,o=t.pageY;if(n){var a=r.getTouches(t)[0];s=a.pageX,o=a.pageY}r.dragmousedown={left:s,top:o};var l=i(t.target).coord();return r.dragmousedownoffset={left:parseInt(s)-parseInt(l.left),top:parseInt(o-l.top)},!0})),this.addHandler(t,o,(function(s){if(!e.draggable)return!0;if(null==e.datafield)return!0;if(e.pinned)return!0;if(r.resizing)return!0;if(r.dragmousedown){var a=s.pageX,l=s.pageY;if(n){var d=r.getTouches(s)[0];null!=d&&(a=d.pageX,l=d.pageY)}if(o={left:a,top:l},!r.columndragstarted&&null==r.reordercolumn){var h=Math.abs(o.left-r.dragmousedown.left),u=Math.abs(o.top-r.dragmousedown.top);(h>3||u>3)&&(r._createreordercolumn(t,o,!0),i(document.body).addClass("jqx-disableselect"),i.data(r.reordercolumn[0],"reorderrecord",e.datafield))}}}))}})},zUnb:function(e,t,i){"use strict";function r(e){return"function"==typeof e}i.r(t),i("hN/g");var n=!1,s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else n&&console.log("RxJS: Back to a better error behavior. Thank you. <3");n=e},get useDeprecatedSynchronousErrorHandling(){return n}};function o(e){setTimeout((function(){throw e}),0)}var a={closed:!0,next:function(e){},error:function(e){if(s.useDeprecatedSynchronousErrorHandling)throw e;o(e)},complete:function(){}},l=Array.isArray||function(e){return e&&"number"==typeof e.length};function d(e){return null!==e&&"object"==typeof e}var h,u=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),c=((h=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var i=this._parentOrParents,n=this._unsubscribe,s=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i instanceof e)i.remove(this);else if(null!==i)for(var o=0;o<i.length;++o)i[o].remove(this);if(r(n))try{n.call(this)}catch(f){t=f instanceof u?p(f.errors):[f]}if(l(s))for(var a=-1,h=s.length;++a<h;){var c=s[a];if(d(c))try{c.unsubscribe()}catch(f){t=t||[],f instanceof u?t=t.concat(p(f.errors)):t.push(f)}}if(t)throw new u(t)}}},{key:"add",value:function(t){var i=t;if(!t)return e.EMPTY;switch(typeof t){case"function":i=new e(t);case"object":if(i===this||i.closed||"function"!=typeof i.unsubscribe)return i;if(this.closed)return i.unsubscribe(),i;if(!(i instanceof e)){var r=i;(i=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var n=i._parentOrParents;if(null===n)i._parentOrParents=this;else if(n instanceof e){if(n===this)return i;i._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return i;n.push(this)}var s=this._subscriptions;return null===s?this._subscriptions=[i]:s.push(i),i}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var i=t.indexOf(e);-1!==i&&t.splice(i,1)}}}]),e}()).EMPTY=function(e){return e.closed=!0,e}(new h),h);function p(e){return e.reduce((function(e,t){return e.concat(t instanceof u?t.errors:t)}),[])}var f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),m=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r,n){var s;switch(_classCallCheck(this,i),(s=t.call(this)).syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=a;break;case 1:if(!e){s.destination=a;break}if("object"==typeof e){e instanceof i?(s.syncErrorThrowable=e.syncErrorThrowable,s.destination=e,e.add(_assertThisInitialized(s))):(s.syncErrorThrowable=!0,s.destination=new g(_assertThisInitialized(s),e));break}default:s.syncErrorThrowable=!0,s.destination=new g(_assertThisInitialized(s),e,r,n)}return s}return _createClass(i,[{key:f,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(i.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,r){var n=new i(e,t,r);return n.syncErrorThrowable=!1,n}}]),i}(c),g=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,s,o){var l,d;_classCallCheck(this,i),(l=t.call(this))._parentSubscriber=e;var h=_assertThisInitialized(l);return r(n)?d=n:n&&(d=n.next,s=n.error,o=n.complete,n!==a&&(r((h=Object.create(n)).unsubscribe)&&l.add(h.unsubscribe.bind(h)),h.unsubscribe=l.unsubscribe.bind(_assertThisInitialized(l)))),l._context=h,l._next=d,l._error=s,l._complete=o,l}return _createClass(i,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,i=s.useDeprecatedSynchronousErrorHandling;if(this._error)i&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)i?(t.syncErrorValue=e,t.syncErrorThrown=!0):o(e),this.unsubscribe();else{if(this.unsubscribe(),i)throw e;o(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var i=function(){return e._complete.call(e._context)};s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,i),this.unsubscribe()):(this.__tryOrUnsub(i),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(i){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw i;o(i)}}},{key:"__tryOrSetError",value:function(e,t,i){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,i)}catch(r){return s.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(o(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),i}(m),v="function"==typeof Symbol&&Symbol.observable||"@@observable";function w(e){return e}function y(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return b(t)}function b(e){return 0===e.length?w:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var x,_=((x=function(){function e(t){_classCallCheck(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass(e,[{key:"lift",value:function(t){var i=new e;return i.source=this,i.operator=t,i}},{key:"subscribe",value:function(e,t,i){var r=this.operator,n=function(e,t,i){if(e){if(e instanceof m)return e;if(e[f])return e[f]()}return e||t||i?new m(e,t,i):new m(a)}(e,t,i);if(n.add(r?r.call(n,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!n.syncErrorThrowable?this._subscribe(n):this._trySubscribe(n)),s.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable&&(n.syncErrorThrowable=!1,n.syncErrorThrown))throw n.syncErrorValue;return n}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){s.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,i=t.closed,r=t.destination,n=t.isStopped;if(i||n)return!1;e=r&&r instanceof m?r:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var i=this;return new(t=C(t))((function(t,r){var n;n=i.subscribe((function(t){try{e(t)}catch(i){r(i),n&&n.unsubscribe()}}),r,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:v,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return 0===t.length?this:b(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=C(e))((function(e,i){var r;t.subscribe((function(e){return r=e}),(function(e){return i(e)}),(function(){return e(r)}))}))}}]),e}()).create=function(e){return new x(e)},x);function C(e){if(e||(e=s.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var j,q=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),k=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r){var n;return _classCallCheck(this,i),(n=t.call(this)).subject=e,n.subscriber=r,n.closed=!1,n}return _createClass(i,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var i=t.indexOf(this.subscriber);-1!==i&&t.splice(i,1)}}}}]),i}(c),T=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var r;return _classCallCheck(this,i),(r=t.call(this,e)).destination=e,r}return i}(m),S=((j=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _createClass(i,[{key:f,value:function(){return new T(this)}},{key:"lift",value:function(e){var t=new I(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new q;if(!this.isStopped)for(var t=this.observers,i=t.length,r=t.slice(),n=0;n<i;n++)r[n].next(e)}},{key:"error",value:function(e){if(this.closed)throw new q;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,i=t.length,r=t.slice(),n=0;n<i;n++)r[n].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new q;this.isStopped=!0;for(var e=this.observers,t=e.length,i=e.slice(),r=0;r<t;r++)i[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new q;return _get(_getPrototypeOf(i.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new q;return this.hasError?(e.error(this.thrownError),c.EMPTY):this.isStopped?(e.complete(),c.EMPTY):(this.observers.push(e),new k(this,e))}},{key:"asObservable",value:function(){var e=new _;return e.source=this,e}}]),i}(_)).create=function(e,t){return new I(e,t)},j),I=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r){var n;return _classCallCheck(this,i),(n=t.call(this)).destination=e,n.source=r,n}return _createClass(i,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):c.EMPTY}}]),i}(S);function D(e){return e&&"function"==typeof e.schedule}var P=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r,n){var s;return _classCallCheck(this,i),(s=t.call(this)).parent=e,s.outerValue=r,s.outerIndex=n,s.index=0,s}return _createClass(i,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),i}(m),E=function(e){return function(t){for(var i=0,r=e.length;i<r&&!t.closed;i++)t.next(e[i]);t.complete()}};var M="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",A=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function H(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var O=function(e){if(e&&"function"==typeof e[v])return r=e,function(e){var t=r[v]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(A(e))return E(e);if(H(e))return i=e,function(e){return i.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,o),e};if(e&&"function"==typeof e[M])return t=e,function(e){for(var i=t[M]();;){var r=i.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof i.return&&e.add((function(){i.return&&i.return()})),e};var t,i,r,n=d(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(n," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.")};function B(e,t,i,r){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new P(e,i,r);if(!n.closed)return t instanceof _?t.subscribe(n):O(t)(n)}var z=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"notifyNext",value:function(e,t,i,r,n){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),i}(m);function N(e,t){return function(i){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new L(e,t))}}var L=function(){function e(t,i){_classCallCheck(this,e),this.project=t,this.thisArg=i}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new F(e,this.project,this.thisArg))}}]),e}(),F=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r,n){var s;return _classCallCheck(this,i),(s=t.call(this,e)).project=r,s.count=0,s.thisArg=n||_assertThisInitialized(s),s}return _createClass(i,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}]),i}(m);function R(e,t){return new _((function(i){var r=new c,n=0;return r.add(t.schedule((function(){n!==e.length?(i.next(e[n++]),i.closed||r.add(this.schedule())):i.complete()}))),r}))}function V(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[v]}(e))return function(e,t){return new _((function(i){var r=new c;return r.add(t.schedule((function(){var n=e[v]();r.add(n.subscribe({next:function(e){r.add(t.schedule((function(){return i.next(e)})))},error:function(e){r.add(t.schedule((function(){return i.error(e)})))},complete:function(){r.add(t.schedule((function(){return i.complete()})))}}))}))),r}))}(e,t);if(H(e))return function(e,t){return new _((function(i){var r=new c;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){i.next(e),r.add(t.schedule((function(){return i.complete()})))})))}),(function(e){r.add(t.schedule((function(){return i.error(e)})))}))}))),r}))}(e,t);if(A(e))return R(e,t);if(function(e){return e&&"function"==typeof e[M]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new _((function(i){var r,n=new c;return n.add((function(){r&&"function"==typeof r.return&&r.return()})),n.add(t.schedule((function(){r=e[M](),n.add(t.schedule((function(){if(!i.closed){var e,t;try{var n=r.next();e=n.value,t=n.done}catch(s){return void i.error(s)}t?i.complete():(i.next(e),this.schedule())}})))}))),n}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof _?e:new _(O(e))}function W(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(W((function(i,r){return V(e(i,r)).pipe(N((function(e,n){return t(i,e,r,n)})))}),i))}:("number"==typeof t&&(i=t),function(t){return t.lift(new G(e,i))})}var G=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=i}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new U(e,this.project,this.concurrent))}}]),e}(),U=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r){var n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,i),(n=t.call(this,e)).project=r,n.concurrent=s,n.hasCompleted=!1,n.buffer=[],n.active=0,n.index=0,n}return _createClass(i,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,i=this.index++;try{t=this.project(e,i)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,i)}},{key:"_innerSub",value:function(e,t,i){var r=new P(this,t,i),n=this.destination;n.add(r);var s=B(this,e,void 0,void 0,r);s!==r&&n.add(s)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,i,r,n){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),i}(z);function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return W(w,e)}function Z(e,t){return t?R(e,t):new _(E(e))}function K(){return function(e){return e.lift(new Q(e))}}var X,Q=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var i=this.connectable;i._refCount++;var r=new J(e,i),n=t.subscribe(r);return r.closed||(r.connection=i.connect()),n}}]),e}(),J=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r){var n;return _classCallCheck(this,i),(n=t.call(this,e)).connectable=r,n}return _createClass(i,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var i=this.connection,r=e._connection;this.connection=null,!r||i&&r!==i||r.unsubscribe()}}else this.connection=null}}]),i}(m),$={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(X=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r){var n;return _classCallCheck(this,i),(n=t.call(this)).source=e,n.subjectFactory=r,n._refCount=0,n._isComplete=!1,n}return _createClass(i,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new c).add(this.source.subscribe(new ee(this.getSubject(),this))),e.closed&&(this._connection=null,e=c.EMPTY)),e}},{key:"refCount",value:function(){return K()(this)}}]),i}(_).prototype)._subscribe},_isComplete:{value:X._isComplete,writable:!0},getSubject:{value:X.getSubject},connect:{value:X.connect},refCount:{value:X.refCount}},ee=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r){var n;return _classCallCheck(this,i),(n=t.call(this,e)).connectable=r,n}return _createClass(i,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf(i.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(i.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),i}(T);function te(){return new S}function ie(e){return{toString:e}.toString()}function re(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var i in t)this[i]=t[i]}}}function ne(e,t,i){return ie((function(){var r=re(t);function n(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(this instanceof n)return r.apply(this,t),this;var s=_construct(n,t);return o.annotation=s,o;function o(e,t,i){for(var r=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(s),e}}return i&&(n.prototype=Object.create(i.prototype)),n.prototype.ngMetadataName=e,n.annotationCls=n,n}))}function se(e,t,i,r){return ie((function(){var n=re(t);function s(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(this instanceof s)return n.apply(this,t),this;var o=_construct(s,t);return function(e,i){var n=e.constructor,s=n.hasOwnProperty("__prop__metadata__")?n.__prop__metadata__:Object.defineProperty(n,"__prop__metadata__",{value:{}}).__prop__metadata__;s[i]=s.hasOwnProperty(i)&&s[i]||[],s[i].unshift(o),r&&r.apply(void 0,[e,i].concat(t))}}return i&&(s.prototype=Object.create(i.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s}))}var oe=ne("Inject",(function(e){return{token:e}})),ae=ne("Optional"),le=ne("Self"),de=ne("SkipSelf"),he=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function ue(e){for(var t in e)if(e[t]===ue)return t;throw Error("Could not find renamed property on target object.")}function ce(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function pe(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function fe(e){return me(e,e[ve])||me(e,e[be])}function me(e,t){return t&&t.token===e?t:null}function ge(e){return e&&(e.hasOwnProperty(we)||e.hasOwnProperty(xe))?e[we]:null}var ve=ue({"\u0275prov":ue}),we=ue({"\u0275inj":ue}),ye=ue({"\u0275provFallback":ue}),be=ue({ngInjectableDef:ue}),xe=ue({ngInjectorDef:ue});function _e(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(_e).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var i=t.indexOf("\n");return-1===i?t:t.substring(0,i)}function Ce(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var je=ue({__forward_ref__:ue});function qe(e){return e.__forward_ref__=qe,e.toString=function(){return _e(this())},e}function ke(e){return"function"==typeof(t=e)&&t.hasOwnProperty(je)&&t.__forward_ref__===qe?e():e;var t}var Te,Se="undefined"!=typeof globalThis&&globalThis,Ie="undefined"!=typeof window&&window,De="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Pe="undefined"!=typeof global&&global,Ee=Se||Pe||Ie||De,Me=ue({"\u0275cmp":ue}),Ae=ue({"\u0275dir":ue}),He=ue({"\u0275pipe":ue}),Oe=ue({"\u0275mod":ue}),Be=ue({"\u0275loc":ue}),ze=ue({"\u0275fac":ue}),Ne=ue({__NG_ELEMENT_ID__:ue}),Le=function(){function e(t,i){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=ce({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),Fe=new Le("INJECTOR",-1),Re={},Ve=/\n/gm,We=ue({provide:String,useValue:ue}),Ge=void 0;function Ue(e){var t=Ge;return Ge=e,t}function Ye(e){var t=Te;return Te=e,t}function Ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he.Default;if(void 0===Ge)throw new Error("inject() must be called from an injection context");return null===Ge?Xe(e,void 0,t):Ge.get(e,t&he.Optional?null:void 0,t)}function Ke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he.Default;return(Te||Ze)(ke(e),t)}function Xe(e,t,i){var r=fe(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(i&he.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND [".concat(_e(e),"]"))}function Qe(e){for(var t=[],i=0;i<e.length;i++){var r=ke(e[i]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var n=void 0,s=he.Default,o=0;o<r.length;o++){var a=r[o];a instanceof ae||"Optional"===a.ngMetadataName||a===ae?s|=he.Optional:a instanceof de||"SkipSelf"===a.ngMetadataName||a===de?s|=he.SkipSelf:a instanceof le||"Self"===a.ngMetadataName||a===le?s|=he.Self:n=a instanceof oe||a===oe?a.token:a}t.push(Ke(n,s))}else t.push(Ke(r))}return t}var Je=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Re;if(t===Re){var i=new Error("NullInjectorError: No provider for ".concat(_e(e),"!"));throw i.name="NullInjectorError",i}return t}}]),e}(),$e=function e(){_classCallCheck(this,e)},et=function e(){_classCallCheck(this,e)};function tt(e,t){e.forEach((function(e){return Array.isArray(e)?tt(e,t):t(e)}))}function it(e,t,i){t>=e.length?e.push(i):e.splice(t,0,i)}function rt(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function nt(e,t){for(var i=[],r=0;r<e;r++)i.push(t);return i}var st=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),ot=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),at={},lt=[],dt=0;function ht(e){return ie((function(){var t=e.type,i=t.prototype,r={},n={type:t,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:i.ngOnInit||null,doCheck:i.ngDoCheck||null,afterContentInit:i.ngAfterContentInit||null,afterContentChecked:i.ngAfterContentChecked||null,afterViewInit:i.ngAfterViewInit||null,afterViewChecked:i.ngAfterViewChecked||null,onDestroy:i.ngOnDestroy||null,onPush:e.changeDetection===st.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||lt,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||ot.Emulated,id:"c",styles:e.styles||lt,_:null,setInput:null,schemas:e.schemas||null,tView:null},s=e.directives,o=e.features,a=e.pipes;return n.id+=dt++,n.inputs=mt(e.inputs,r),n.outputs=mt(e.outputs),o&&o.forEach((function(e){return e(n)})),n.directiveDefs=s?function(){return("function"==typeof s?s():s).map(ut)}:null,n.pipeDefs=a?function(){return("function"==typeof a?a():a).map(ct)}:null,n}))}function ut(e){return vt(e)||function(e){return e[Ae]||null}(e)}function ct(e){return function(e){return e[He]||null}(e)}var pt={};function ft(e){var t={type:e.type,bootstrap:e.bootstrap||lt,declarations:e.declarations||lt,imports:e.imports||lt,exports:e.exports||lt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&ie((function(){pt[e.id]=e.type})),t}function mt(e,t){if(null==e)return at;var i={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r],s=n;Array.isArray(n)&&(s=n[1],n=n[0]),i[n]=r,t&&(t[n]=s)}return i}var gt=ht;function vt(e){return e[Me]||null}function wt(e,t){return e.hasOwnProperty(ze)?e[ze]:null}function yt(e,t){var i=e[Oe]||null;if(!i&&!0===t)throw new Error("Type ".concat(_e(e)," does not have '\u0275mod' property."));return i}function bt(e){return Array.isArray(e)&&"object"==typeof e[1]}function xt(e){return Array.isArray(e)&&!0===e[1]}function _t(e){return 0!=(8&e.flags)}function Ct(e){return 2==(2&e.flags)}function jt(e){return 1==(1&e.flags)}function qt(e){return null!==e.template}function kt(e){return 0!=(512&e[2])}var Tt=void 0;function St(e){return!!e.listen}var It={createRenderer:function(e,t){return void 0!==Tt?Tt:"undefined"!=typeof document?document:void 0}};function Dt(e){for(;Array.isArray(e);)e=e[0];return e}function Pt(e,t){return Dt(t[e.index])}function Et(e,t){return e.data[t+20]}function Mt(e,t){var i=t[e];return bt(i)?i:i[0]}function At(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Ht(e){return 4==(4&e[2])}function Ot(e){return 128==(128&e[2])}function Bt(e,t){return null===e||null==t?null:e[t]}function zt(e){e[18]=0}function Nt(e,t){e[5]+=t;for(var i=e,r=e[3];null!==r&&(1===t&&1===i[5]||-1===t&&0===i[5]);)r[5]+=t,i=r,r=r[3]}var Lt={lFrame:ni(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Ft(){return Lt.bindingsEnabled}function Rt(){return Lt.lFrame.lView}function Vt(){return Lt.lFrame.tView}function Wt(){return Lt.lFrame.previousOrParentTNode}function Gt(e,t){Lt.lFrame.previousOrParentTNode=e,Lt.lFrame.isParent=t}function Ut(){return Lt.lFrame.isParent}function Yt(){Lt.lFrame.isParent=!1}function Zt(){return Lt.checkNoChangesMode}function Kt(e){Lt.checkNoChangesMode=e}function Xt(){return Lt.lFrame.bindingIndex++}function Qt(e,t){var i=Lt.lFrame;i.bindingIndex=i.bindingRootIndex=e,Jt(t)}function Jt(e){Lt.lFrame.currentDirectiveIndex=e}function $t(){return Lt.lFrame.currentQueryIndex}function ei(e){Lt.lFrame.currentQueryIndex=e}function ti(e,t){var i=ri();Lt.lFrame=i,i.previousOrParentTNode=t,i.lView=e}function ii(e,t){var i=ri(),r=e[1];Lt.lFrame=i,i.previousOrParentTNode=t,i.lView=e,i.tView=r,i.contextLView=e,i.bindingIndex=r.bindingStartIndex}function ri(){var e=Lt.lFrame,t=null===e?null:e.child;return null===t?ni(e):t}function ni(e){var t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function si(){var e=Lt.lFrame;return Lt.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}var oi=si;function ai(){var e=si();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.currentSanitizer=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function li(){return Lt.lFrame.selectedIndex}function di(e){Lt.lFrame.selectedIndex=e}function hi(){var e=Lt.lFrame;return Et(e.tView,e.selectedIndex)}function ui(e,t){for(var i=t.directiveStart,r=t.directiveEnd;i<r;i++){var n=e.data[i];n.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-i,n.afterContentInit),n.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(i,n.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(i,n.afterContentChecked)),n.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-i,n.afterViewInit),n.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(i,n.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(i,n.afterViewChecked)),null!=n.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(i,n.onDestroy)}}function ci(e,t,i){mi(e,t,3,i)}function pi(e,t,i,r){(3&e[2])===i&&mi(e,t,i,r)}function fi(e,t){var i=e[2];(3&i)===t&&(i&=2047,i+=1,e[2]=i)}function mi(e,t,i,r){for(var n=null!=r?r:-1,s=0,o=void 0!==r?65535&e[18]:0;o<t.length;o++)if("number"==typeof t[o+1]){if(s=t[o],null!=r&&s>=r)break}else t[o]<0&&(e[18]+=65536),(s<n||-1==n)&&(gi(e,i,t,o),e[18]=(4294901760&e[18])+o+2),o++}function gi(e,t,i,r){var n=i[r]<0,s=i[r+1],o=e[n?-i[r]:i[r]];n?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,s.call(o)):s.call(o)}var vi=function e(t,i,r){_classCallCheck(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=r};function wi(e,t,i){for(var r=St(e),n=0;n<i.length;){var s=i[n];if("number"==typeof s){if(0!==s)break;n++;var o=i[n++],a=i[n++],l=i[n++];r?e.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{var d=s,h=i[++n];bi(d)?r&&e.setProperty(t,d,h):r?e.setAttribute(t,d,h):t.setAttribute(d,h),n++}}return n}function yi(e){return 3===e||4===e||6===e}function bi(e){return 64===e.charCodeAt(0)}function xi(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var i=-1,r=0;r<t.length;r++){var n=t[r];"number"==typeof n?i=n:0===i||_i(e,i,n,null,-1===i||2===i?t[++r]:null)}return e}function _i(e,t,i,r,n){var s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){var a=e[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<e.length;){var l=e[s];if("number"==typeof l)break;if(l===i){if(null===r)return void(null!==n&&(e[s+1]=n));if(r===e[s+1])return void(e[s+2]=n)}s++,null!==r&&s++,null!==n&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,i),null!==r&&e.splice(s++,0,r),null!==n&&e.splice(s++,0,n)}function Ci(e){return-1!==e}function ji(e){return 32767&e}function qi(e){return e>>16}function ki(e,t){for(var i=qi(e),r=t;i>0;)r=r[15],i--;return r}function Ti(e){return"string"==typeof e?e:null==e?"":""+e}function Si(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ti(e)}var Ii=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ee);function Di(e){return e instanceof Function?e():e}var Pi=!0;function Ei(e){var t=Pi;return Pi=e,t}var Mi=0;function Ai(e,t){var i=Oi(e,t);if(-1!==i)return i;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Hi(r.data,e),Hi(t,null),Hi(r.blueprint,null));var n=Bi(e,t),s=e.injectorIndex;if(Ci(n))for(var o=ji(n),a=ki(n,t),l=a[1].data,d=0;d<8;d++)t[s+d]=a[o+d]|l[o+d];return t[s+8]=n,s}function Hi(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Oi(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function Bi(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var i=t[6],r=1;i&&-1===i.injectorIndex;)i=(t=t[15])?t[6]:null,r++;return i?i.injectorIndex|r<<16:-1}function zi(e,t,i){!function(e,t,i){var r="string"!=typeof i?i[Ne]:i.charCodeAt(0)||0;null==r&&(r=i[Ne]=Mi++);var n=255&r,s=1<<n,o=64&n,a=32&n,l=t.data;128&n?o?a?l[e+7]|=s:l[e+6]|=s:a?l[e+5]|=s:l[e+4]|=s:o?a?l[e+3]|=s:l[e+2]|=s:a?l[e+1]|=s:l[e]|=s}(e,t,i)}function Ni(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:he.Default,n=arguments.length>4?arguments[4]:void 0;if(null!==e){var s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e[Ne];return"number"==typeof t&&t>0?255&t:t}(i);if("function"==typeof s){ti(t,e);try{var o=s();if(null!=o||r&he.Optional)return o;throw new Error("No provider for ".concat(Si(i),"!"))}finally{oi()}}else if("number"==typeof s){if(-1===s)return new Ui(e,t);var a=null,l=Oi(e,t),d=-1,h=r&he.Host?t[16][6]:null;for((-1===l||r&he.SkipSelf)&&(d=-1===l?Bi(e,t):t[l+8],Gi(r,!1)?(a=t[1],l=ji(d),t=ki(d,t)):l=-1);-1!==l;){d=t[l+8];var u=t[1];if(Wi(s,l,u.data)){var c=Fi(l,t,i,a,r,h);if(c!==Li)return c}Gi(r,t[1].data[l+8]===h)&&Wi(s,l,t)?(a=u,l=ji(d),t=ki(d,t)):l=-1}}}if(r&he.Optional&&void 0===n&&(n=null),0==(r&(he.Self|he.Host))){var p=t[9],f=Ye(void 0);try{return p?p.get(i,n,r&he.Optional):Xe(i,n,r&he.Optional)}finally{Ye(f)}}if(r&he.Optional)return n;throw new Error("NodeInjector: NOT_FOUND [".concat(Si(i),"]"))}var Li={};function Fi(e,t,i,r,n,s){var o=t[1],a=o.data[e+8],l=Ri(a,o,i,null==r?Ct(a)&&Pi:r!=o&&3===a.type,n&he.Host&&s===a);return null!==l?Vi(t,o,l,a):Li}function Ri(e,t,i,r,n){for(var s=e.providerIndexes,o=t.data,a=65535&s,l=e.directiveStart,d=s>>16,h=n?a+d:e.directiveEnd,u=r?a:a+d;u<h;u++){var c=o[u];if(u<l&&i===c||u>=l&&c.type===i)return u}if(n){var p=o[l];if(p&&qt(p)&&p.type===i)return l}return null}function Vi(e,t,i,r){var n=e[i],s=t.data;if(n instanceof vi){var o=n;if(o.resolving)throw new Error("Circular dep for ".concat(Si(s[i])));var a,l=Ei(o.canSeeViewProviders);o.resolving=!0,o.injectImpl&&(a=Ye(o.injectImpl)),ti(e,r);try{n=e[i]=o.factory(void 0,s,e,r),t.firstCreatePass&&i>=r.directiveStart&&function(e,t,i){var r=t.onChanges,n=t.onInit,s=t.doCheck;r&&((i.preOrderHooks||(i.preOrderHooks=[])).push(e,r),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e,r)),n&&(i.preOrderHooks||(i.preOrderHooks=[])).push(-e,n),s&&((i.preOrderHooks||(i.preOrderHooks=[])).push(e,s),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e,s))}(i,s[i],t)}finally{o.injectImpl&&Ye(a),Ei(l),o.resolving=!1,oi()}}return n}function Wi(e,t,i){var r=64&e,n=32&e;return!!((128&e?r?n?i[t+7]:i[t+6]:n?i[t+5]:i[t+4]:r?n?i[t+3]:i[t+2]:n?i[t+1]:i[t])&1<<e)}function Gi(e,t){return!(e&he.Self||e&he.Host&&t)}var Ui=function(){function e(t,i){_classCallCheck(this,e),this._tNode=t,this._lView=i}return _createClass(e,[{key:"get",value:function(e,t){return Ni(this._tNode,this._lView,e,void 0,t)}}]),e}();function Yi(e){return e.ngDebugContext}function Zi(e){return e.ngOriginalError}function Ki(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];e.error.apply(e,i)}var Xi=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),i=this._findContext(e),r=function(e){return e.ngErrorLogger||Ki}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),i&&r(this._console,"ERROR CONTEXT",i)}},{key:"_findContext",value:function(e){return e?Yi(e)?Yi(e):this._findContext(Zi(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=Zi(e);t&&Zi(t);)t=Zi(t);return t}}]),e}(),Qi=function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see http://g.co/ng/security#xss)"}}]),e}();function Ji(){return!0,!0}var $i=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,er=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,tr=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}();function ir(e){var t,i,r,n=(t=Rt())&&t[12];return n?n.sanitize(tr.URL,e)||"":function(e,t){var i=function(e){return e instanceof Qi&&e.getTypeName()||null}(e);if(null!=i&&"URL"!==i){if("ResourceURL"===i)return!0;throw new Error("Required a safe ".concat("URL",", got a ").concat(i," (see http://g.co/ng/security#xss)"))}return"URL"===i}(e)?(r=e)instanceof Qi?r.changingThisBreaksApplicationSecurity:r:(i=Ti(e),(i=String(i)).match($i)||i.match(er)?i:(Ji()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(i," (see http://g.co/ng/security#xss)")),"unsafe:"+i))}function rr(e,t){e.__ngContext__=t}function nr(e){throw new Error("Multiple components match node with tagname ".concat(e.tagName))}function sr(){throw new Error("Cannot mix multi providers and regular providers")}function or(e,t,i){for(var r=e.length;;){var n=e.indexOf(t,i);if(-1===n)return n;if(0===n||e.charCodeAt(n-1)<=32){var s=t.length;if(n+s===r||e.charCodeAt(n+s)<=32)return n}i=n+1}}function ar(e,t,i){for(var r=0;r<e.length;){var n=e[r++];if(i&&"class"===n){if(-1!==or((n=e[r]).toLowerCase(),t,0))return!0}else if(1===n){for(;r<e.length&&"string"==typeof(n=e[r++]);)if(n.toLowerCase()===t)return!0;return!1}}return!1}function lr(e){return 0===e.type&&"ng-template"!==e.tagName}function dr(e,t,i){return t===(0!==e.type||i?e.tagName:"ng-template")}function hr(e,t,i){for(var r=4,n=e.attrs||[],s=function(e){for(var t=0;t<e.length;t++)if(yi(e[t]))return t;return e.length}(n),o=!1,a=0;a<t.length;a++){var l=t[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!dr(e,l,i)||""===l&&1===t.length){if(ur(r))return!1;o=!0}}else{var d=8&r?l:t[++a];if(8&r&&null!==e.attrs){if(!ar(e.attrs,d,i)){if(ur(r))return!1;o=!0}continue}var h=cr(8&r?"class":l,n,lr(e),i);if(-1===h){if(ur(r))return!1;o=!0;continue}if(""!==d){var u;u=h>s?"":n[h+1].toLowerCase();var c=8&r?u:null;if(c&&-1!==or(c,d,0)||2&r&&d!==u){if(ur(r))return!1;o=!0}}}}else{if(!o&&!ur(r)&&!ur(l))return!1;if(o&&ur(l))continue;o=!1,r=l|1&r}}return ur(r)||o}function ur(e){return 0==(1&e)}function cr(e,t,i,r){if(null===t)return-1;var n=0;if(r||!i){for(var s=!1;n<t.length;){var o=t[n];if(o===e)return n;if(3===o||6===o)s=!0;else{if(1===o||2===o){for(var a=t[++n];"string"==typeof a;)a=t[++n];continue}if(4===o)break;if(0===o){n+=4;continue}}n+=s?1:2}return-1}return function(e,t){var i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){var r=e[i];if("number"==typeof r)return-1;if(r===t)return i;i++}return-1}(t,e)}function pr(e,t){for(var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(hr(e,t[r],i))return!0;return!1}function fr(e,t){return e?":not("+t.trim()+")":t}function mr(e){for(var t=e[0],i=1,r=2,n="",s=!1;i<e.length;){var o=e[i];if("string"==typeof o)if(2&r){var a=e[++i];n+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?n+="."+o:4&r&&(n+=" "+o);else""===n||ur(o)||(t+=fr(s,n),n=""),r=o,s=s||!ur(r);i++}return""!==n&&(t+=fr(s,n)),t}var gr={};function vr(e){var t=e[3];return xt(t)?t[3]:t}function wr(e){return br(e[13])}function yr(e){return br(e[4])}function br(e){for(;null!==e&&!xt(e);)e=e[4];return e}function xr(e,t,i,r){if(!r)if(3==(3&t[2])){var n=e.preOrderCheckHooks;null!==n&&ci(t,n,i)}else{var s=e.preOrderHooks;null!==s&&pi(t,s,0,i)}di(i)}function _r(e,t){var i=e.contentQueries;if(null!==i)for(var r=0;r<i.length;r+=2){var n=i[r],s=i[r+1];if(-1!==s){var o=e.data[s];ei(n),o.contentQueries(2,t[s],s)}}}function Cr(e,t,i){return St(t)?t.createElement(e,i):null===i?t.createElement(e):t.createElementNS(i,e)}function jr(e,t,i,r,n,s,o,a,l,d){var h=t.blueprint.slice();return h[0]=n,h[2]=140|r,zt(h),h[3]=h[15]=e,h[8]=i,h[10]=o||e&&e[10],h[11]=a||e&&e[11],h[12]=l||e&&e[12]||null,h[9]=d||e&&e[9]||null,h[6]=s,h[16]=2==t.type?e[16]:h,h}function qr(e,t,i,r,n,s){var o=i+20,a=e.data[o]||function(e,t,i,r,n,s){var o=Wt(),a=Ut(),l=a?o:o&&o.parent,d=e.data[i]=Er(0,l&&l!==t?l:null,r,i,n,s);return null===e.firstChild&&(e.firstChild=d),o&&(!a||null!=o.child||null===d.parent&&2!==o.type?a||(o.next=d):o.child=d),d}(e,t,o,r,n,s);return Gt(a,!0),a}function kr(e,t,i){ii(t,t[6]);try{var r=e.viewQuery;null!==r&&Jr(1,r,i);var n=e.template;null!==n&&Ir(e,t,n,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&_r(e,t),e.staticViewQueries&&Jr(2,e.viewQuery,i);var s=e.components;null!==s&&function(e,t){for(var i=0;i<t.length;i++)Yr(e,t[i])}(t,s)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),o}finally{t[2]&=-5,ai()}}function Tr(e,t,i,r){var n=t[2];if(256!=(256&n)){ii(t,t[6]);var s=Zt();try{zt(t),Lt.lFrame.bindingIndex=e.bindingStartIndex,null!==i&&Ir(e,t,i,2,r);var o=3==(3&n);if(!s)if(o){var a=e.preOrderCheckHooks;null!==a&&ci(t,a,null)}else{var l=e.preOrderHooks;null!==l&&pi(t,l,0,null),fi(t,0)}if(function(e){for(var t=wr(e);null!==t;t=yr(t))if(t[2])for(var i=t[9],r=0;r<i.length;r++){var n=i[r],s=n[3];0==(1024&n[2])&&Nt(s,1),n[2]|=1024}}(t),function(e){for(var t=wr(e);null!==t;t=yr(t))for(var i=10;i<t.length;i++){var r=t[i],n=r[1];Ot(r)&&Tr(n,r,n.template,r[8])}}(t),null!==e.contentQueries&&_r(e,t),!s)if(o){var d=e.contentCheckHooks;null!==d&&ci(t,d)}else{var h=e.contentHooks;null!==h&&pi(t,h,1),fi(t,1)}!function(e,t){try{var i=e.expandoInstructions;if(null!==i)for(var r=e.expandoStartIndex,n=-1,s=0;s<i.length;s++){var o=i[s];"number"==typeof o?o<=0?(di(0-o),n=r+=9+i[++s]):r+=o:(null!==o&&(Qt(r,n),o(2,t[n])),n++)}}finally{di(-1)}}(e,t);var u=e.components;null!==u&&function(e,t){for(var i=0;i<t.length;i++)Ur(e,t[i])}(t,u);var c=e.viewQuery;if(null!==c&&Jr(2,c,r),!s)if(o){var p=e.viewCheckHooks;null!==p&&ci(t,p)}else{var f=e.viewHooks;null!==f&&pi(t,f,2),fi(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Nt(t[3],-1))}finally{ai()}}}function Sr(e,t,i,r){var n=t[10],s=!Zt(),o=Ht(t);try{s&&!o&&n.begin&&n.begin(),o&&kr(e,t,r),Tr(e,t,i,r)}finally{s&&!o&&n.end&&n.end()}}function Ir(e,t,i,r,n){var s=li();try{di(-1),2&r&&t.length>20&&xr(e,t,0,Zt()),i(r,n)}finally{di(s)}}function Dr(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Pr(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Pr(e,t,i,r,n,s,o,a,l,d){var h=20+r,u=h+n,c=function(e,t){for(var i=[],r=0;r<t;r++)i.push(r<e?null:gr);return i}(h,u);return c[1]={type:e,id:t,blueprint:c,template:i,queries:null,viewQuery:a,node:null,data:c.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:u,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:d,incompleteFirstPass:!1}}function Er(e,t,i,r,n,s){return{type:i,index:r,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:n,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Mr(e,t,i){for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];(i=null===i?{}:i).hasOwnProperty(r)?i[r].push(t,n):i[r]=[t,n]}return i}function Ar(e,t,i,r,n,s,o,a){var l,d=Pt(t,i),h=t.inputs;!a&&null!=h&&(l=h[r])?(nn(e,i,l,r,n),Ct(t)&&function(e,t){var i=Mt(t,e);16&i[2]||(i[2]|=64)}(i,t.index)):3===t.type&&(r=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),n=null!=o?o(n,t.tagName||"",r):n,St(s)?s.setProperty(d,r,n):bi(r)||(d.setProperty?d.setProperty(r,n):d[r]=n))}function Hr(e,t){var i=e.expandoInstructions;i.push(t.hostBindings),0!==t.hostVars&&i.push(t.hostVars)}function Or(e,t,i){for(var r=0;r<i;r++)t.push(gr),e.blueprint.push(gr),e.data.push(null)}function Br(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function zr(e,t,i){var r=20-t.index,n=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(r,n,i)}function Nr(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Lr(e,t,i){if(i){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)i[t.exportAs[r]]=e;qt(t)&&(i[""]=e)}}function Fr(e,t,i){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+i,e.providerIndexes=t}function Rr(e,t,i){e.data.push(i);var r=i.factory||(i.factory=wt(i.type)),n=new vi(r,qt(i),null);e.blueprint.push(n),t.push(n)}function Vr(e,t,i){var r=Pt(t,e),n=Dr(i),s=e[10],o=Zr(e,jr(e,n,null,i.onPush?64:16,r,t,s,s.createRenderer(r,i)));e[t.index]=o}function Wr(e,t,i,r,n,s){var o=s[t];if(null!==o)for(var a=r.setInput,l=0;l<o.length;){var d=o[l++],h=o[l++],u=o[l++];null!==a?r.setInput(i,u,d,h):i[h]=u}}function Gr(e,t){for(var i=null,r=0;r<t.length;){var n=t[r];if(0!==n)if(5!==n){if("number"==typeof n)break;e.hasOwnProperty(n)&&(null===i&&(i=[]),i.push(n,e[n],t[r+1])),r+=2}else r+=2;else r+=4}return i}function Ur(e,t){var i=Mt(t,e);if(Ot(i)){var r=i[1];80&i[2]?Tr(r,i,r.template,i[8]):i[5]>0&&function e(t){for(var i=wr(t);null!==i;i=yr(i))for(var r=10;r<i.length;r++){var n=i[r];if(1024&n[2]){var s=n[1];Tr(s,n,s.template,n[8])}else n[5]>0&&e(n)}var o=t[1].components;if(null!==o)for(var a=0;a<o.length;a++){var l=Mt(o[a],t);Ot(l)&&l[5]>0&&e(l)}}(i)}}function Yr(e,t){var i=Mt(t,e),r=i[1];!function(e,t){for(var i=t.length;i<e.blueprint.length;i++)t.push(e.blueprint[i])}(r,i),kr(r,i,i[8])}function Zr(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Kr(e){for(;e;){e[2]|=64;var t=vr(e);if(kt(e)&&!t)return e;e=t}return null}function Xr(e,t,i){var r=t[10];r.begin&&r.begin();try{Tr(e,t,e.template,i)}catch(n){throw rn(t,n),n}finally{r.end&&r.end()}}function Qr(e){!function(e){for(var t=0;t<e.components.length;t++){var i=e.components[t],r=At(i),n=r[1];Sr(n,r,n.template,i)}}(e[8])}function Jr(e,t,i){ei(0),t(e,i)}var $r=Promise.resolve(null);function en(e){return e[7]||(e[7]=[])}function tn(e){return e.cleanup||(e.cleanup=[])}function rn(e,t){var i=e[9],r=i?i.get(Xi,null):null;r&&r.handleError(t)}function nn(e,t,i,r,n){for(var s=0;s<i.length;){var o=i[s++],a=i[s++],l=t[o],d=e.data[o];null!==d.setInput?d.setInput(l,n,r,a):l[a]=n}}function sn(e,t){var i=t[3];return-1===e.index?xt(i)?i:null:i}function on(e,t){var i=sn(e,t);return i?wn(t[11],i[7]):null}function an(e,t,i,r,n){if(null!=r){var s,o=!1;xt(r)?s=r:bt(r)&&(o=!0,r=r[0]);var a=Dt(r);0===e&&null!==i?null==n?gn(t,i,a):mn(t,i,a,n||null):1===e&&null!==i?mn(t,i,a,n||null):2===e?function(e,t,i){var r=wn(e,t);r&&function(e,t,i,r){St(e)?e.removeChild(t,i,r):t.removeChild(i)}(e,r,t,i)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,i,r,n){var s=i[7];s!==Dt(i)&&an(t,e,r,s,n);for(var o=10;o<i.length;o++){var a=i[o];Cn(a[1],a,e,t,r,s)}}(t,e,s,i,n)}}function ln(e,t,i,r){var n=on(e.node,t);n&&Cn(e,t,t[11],i?1:2,n,r)}function dn(e,t){var i=e[9],r=i.indexOf(t);1024&t[2]&&Nt(t[3],-1),i.splice(r,1)}function hn(e,t){if(!(e.length<=10)){var i=10+t,r=e[i];if(r){var n=r[17];null!==n&&n!==e&&dn(n,r),t>0&&(e[i-1][4]=r[4]);var s=rt(e,10+t);ln(r[1],r,!1,null);var o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function un(e,t){if(!(256&t[2])){var i=t[11];St(i)&&i.destroyNode&&Cn(e,t,i,3,null,null),function(e){var t=e[13];if(!t)return pn(e[1],e);for(;t;){var i=null;if(bt(t))i=t[13];else{var r=t[10];r&&(i=r)}if(!i){for(;t&&!t[4]&&t!==e;)bt(t)&&pn(t[1],t),t=cn(t,e);null===t&&(t=e),bt(t)&&pn(t[1],t),i=t&&t[4]}t=i}}(t)}}function cn(e,t){var i;return bt(e)&&(i=e[6])&&2===i.type?sn(i,e):e[3]===t?null:e[3]}function pn(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var i;if(null!=e&&null!=(i=e.destroyHooks))for(var r=0;r<i.length;r+=2){var n=t[i[r]];if(!(n instanceof vi)){var s=i[r+1];if(Array.isArray(s))for(var o=0;o<s.length;o+=2)s[o+1].call(n[s[o]]);else s.call(n)}}}(e,t),function(e,t){var i=e.cleanup;if(null!==i){for(var r=t[7],n=0;n<i.length-1;n+=2)if("string"==typeof i[n]){var s=i[n+1],o="function"==typeof s?s(t):Dt(t[s]),a=r[i[n+2]],l=i[n+3];"boolean"==typeof l?o.removeEventListener(i[n],a,l):l>=0?r[l]():r[-l].unsubscribe(),n+=2}else i[n].call(r[i[n+1]]);t[7]=null}}(e,t);var i=t[6];i&&3===i.type&&St(t[11])&&t[11].destroy();var r=t[17];if(null!==r&&xt(t[3])){r!==t[3]&&dn(r,t);var n=t[19];null!==n&&n.detachView(e)}}}function fn(e,t,i){for(var r=t.parent;null!=r&&(4===r.type||5===r.type);)r=(t=r).parent;if(null==r){var n=i[6];return 2===n.type?on(n,i):i[0]}if(t&&5===t.type&&4&t.flags)return Pt(t,i).parentNode;if(2&r.flags){var s=e.data,o=s[s[r.index].directiveStart].encapsulation;if(o!==ot.ShadowDom&&o!==ot.Native)return null}return Pt(r,i)}function mn(e,t,i,r){St(e)?e.insertBefore(t,i,r):t.insertBefore(i,r,!0)}function gn(e,t,i){St(e)?e.appendChild(t,i):t.appendChild(i)}function vn(e,t,i,r){null!==r?mn(e,t,i,r):gn(e,t,i)}function wn(e,t){return St(e)?e.parentNode(t):t.parentNode}function yn(e,t){if(2===e.type){var i=sn(e,t);return null===i?null:xn(i.indexOf(t,10)-10,i)}return 4===e.type||5===e.type?Pt(e,t):null}function bn(e,t,i,r){var n=fn(e,r,t);if(null!=n){var s=t[11],o=yn(r.parent||t[6],t);if(Array.isArray(i))for(var a=0;a<i.length;a++)vn(s,n,i[a],o);else vn(s,n,i,o)}}function xn(e,t){var i=10+e+1;if(i<t.length){var r=t[i],n=r[1].firstChild;if(null!==n)return function e(t,i){if(null!==i){var r=i.type;if(3===r)return Pt(i,t);if(0===r)return xn(-1,t[i.index]);if(4===r||5===r){var n=i.child;if(null!==n)return e(t,n);var s=t[i.index];return xt(s)?xn(-1,s):Dt(s)}var o=t[16],a=o[6],l=vr(o),d=a.projection[i.projection];return null!=d?e(l,d):e(t,i.next)}return null}(r,n)}return t[7]}function _n(e,t,i,r,n,s,o){for(;null!=i;){var a=r[i.index],l=i.type;o&&0===t&&(a&&rr(Dt(a),r),i.flags|=4),64!=(64&i.flags)&&(4===l||5===l?(_n(e,t,i.child,r,n,s,!1),an(t,e,n,a,s)):1===l?jn(e,t,r,i,n,s):an(t,e,n,a,s)),i=o?i.projectionNext:i.next}}function Cn(e,t,i,r,n,s){_n(i,r,e.node.child,t,n,s,!1)}function jn(e,t,i,r,n,s){var o=i[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(var l=0;l<a.length;l++)an(t,e,n,a[l],s);else _n(e,t,a,o[3],n,s,!0)}function qn(e,t,i){St(e)?e.setAttribute(t,"style",i):t.style.cssText=i}function kn(e,t,i){St(e)?""===i?e.removeAttribute(t,"class"):e.setAttribute(t,"class",i):t.className=i}var Tn,Sn,In,Dn=function(){function e(t,i){_classCallCheck(this,e),this._lView=t,this._cdRefInjectingView=i,this._appRef=null,this._viewContainerRef=null}return _createClass(e,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}un(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){var t,i,r;t=this._lView[1],r=e,en(i=this._lView).push(r),t.firstCreatePass&&tn(t).push(i[7].length-1,null)}},{key:"markForCheck",value:function(){Kr(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Xr(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,i){Kt(!0);try{Xr(e,t,i)}finally{Kt(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,Cn(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"rootNodes",get:function(){var e=this._lView;return null==e[0]?function e(t,i,r,n){for(var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var o=i[r.index];if(null!==o&&n.push(Dt(o)),xt(o))for(var a=10;a<o.length;a++){var l=o[a],d=l[1].firstChild;null!==d&&e(l[1],l,d,n)}var h=r.type;if(4===h||5===h)e(t,i,r.child,n);else if(1===h){var u=i[16],c=u[6].projection[r.projection];if(Array.isArray(c))n.push.apply(n,_toConsumableArray(c));else{var p=vr(u);e(p[1],p,c,n,!0)}}r=s?r.projectionNext:r.next}return n}(e[1],e,e[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),e}(),Pn=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var r;return _classCallCheck(this,i),(r=t.call(this,e))._view=e,r}return _createClass(i,[{key:"detectChanges",value:function(){Qr(this._view)}},{key:"checkNoChanges",value:function(){!function(e){Kt(!0);try{Qr(e)}finally{Kt(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),i}(Dn);function En(e,t,i){return Tn||(Tn=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return i}(e)),new Tn(Pt(t,i))}function Mn(e,t,i,r){return Sn||(Sn=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r,n){var s;return _classCallCheck(this,i),(s=t.call(this))._declarationView=e,s._declarationTContainer=r,s.elementRef=n,s}return _createClass(i,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,i=jr(this._declarationView,t,e,16,null,t.node);i[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(i[19]=r.createEmbeddedView(t)),kr(t,i,e),new Dn(i)}}]),i}(e)),0===i.type?new Sn(r,i,En(t,i,r)):null}function An(e,t,i,r){var n;In||(In=function(e){_inherits(r,e);var i=_createSuper(r);function r(e,t,n){var s;return _classCallCheck(this,r),(s=i.call(this))._lContainer=e,s._hostTNode=t,s._hostView=n,s}return _createClass(r,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}},{key:"createEmbeddedView",value:function(e,t,i){var r=e.createEmbeddedView(t||{});return this.insert(r,i),r}},{key:"createComponent",value:function(e,t,i,r,n){var s=i||this.parentInjector;if(!n&&null==e.ngModule&&s){var o=s.get($e,null);o&&(n=o)}var a=e.create(s,r,void 0,n);return this.insert(a.hostView,t),a}},{key:"insert",value:function(e,t){var i=e._lView,r=i[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),xt(i[3])){var n=this.indexOf(e);if(-1!==n)this.detach(n);else{var s=i[3],o=new In(s,s[6],s[3]);o.detach(o.indexOf(e))}}var a=this._adjustIndex(t);return function(e,t,i,r){var n=10+r,s=i.length;r>0&&(i[n-1][4]=t),r<s-10?(t[4]=i[n],it(i,10+r,t)):(i.push(t),t[4]=null),t[3]=i;var o=t[17];null!==o&&i!==o&&function(e,t){var i=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===i?e[9]=[t]:i.push(t)}(o,t);var a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,i,this._lContainer,a),ln(r,i,!0,xn(a,this._lContainer)),e.attachToViewContainerRef(this),it(this._lContainer[8],a,e),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=this._lContainer[8];return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1);!function(e,t){var i=hn(e,t);i&&un(i[1],i)}(this._lContainer,t),rt(this._lContainer[8],t)}},{key:"detach",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1),i=hn(this._lContainer,t);return i&&null!=rt(this._lContainer[8],t)?new Dn(i):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return En(t,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new Ui(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var e=Bi(this._hostTNode,this._hostView),t=ki(e,this._hostView),i=function(e,t,i){if(i.parent&&-1!==i.parent.injectorIndex){for(var r=i.parent.injectorIndex,n=i.parent;null!=n.parent&&r==n.parent.injectorIndex;)n=n.parent;return n}for(var s=qi(e),o=t,a=t[6];s>1;)a=(o=o[15])[6],s--;return a}(e,this._hostView,this._hostTNode);return Ci(e)&&null!=i?new Ui(i,t):new Ui(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),r}(e));var s=r[i.index];if(xt(s))n=s;else{var o;if(4===i.type)o=Dt(s);else if(o=r[11].createComment(""),kt(r)){var a=r[11],l=Pt(i,r);mn(a,wn(a,l),o,function(e,t){return St(e)?e.nextSibling(t):t.nextSibling}(a,l))}else bn(r[1],r,o,i);r[i.index]=n=new Array(s,!0,!1,r,null,0,i,o,null,null),Zr(r,n)}return new In(n,i,r)}var Hn=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return On()},e}(),On=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t,i){if(!i&&Ct(e)){var r=Mt(e.index,t);return new Dn(r,r)}return 3===e.type||0===e.type||4===e.type||5===e.type?new Dn(t[16],t):null}(Wt(),Rt(),e)},Bn=new Le("Set Injector scope."),zn={},Nn={},Ln=[],Fn=void 0;function Rn(){return void 0===Fn&&(Fn=new Je),Fn}function Vn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Wn(e,i,t||Rn(),r)}var Wn=function(){function e(t,i,r){var n=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var o=[];i&&tt(i,(function(e){return n.processProvider(e,t,i)})),tt([t],(function(e){return n.processInjectorType(e,[],o)})),this.records.set(Fe,Un(void 0,this));var a=this.records.get(Bn);this.scope=null!=a?a.value:null,this.source=s||("object"==typeof t?null:_e(t))}return _createClass(e,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(e){return e.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Re,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:he.Default;this.assertNotDestroyed();var r,n=Ue(this);try{if(!(i&he.SkipSelf)){var s=this.records.get(e);if(void 0===s){var o=("function"==typeof(r=e)||"object"==typeof r&&r instanceof Le)&&fe(e);s=o&&this.injectableDefInScope(o)?Un(Gn(e),zn):null,this.records.set(e,s)}if(null!=s)return this.hydrate(e,s)}return(i&he.Self?Rn():this.parent).get(e,t=i&he.Optional&&t===Re?null:t)}catch(a){if("NullInjectorError"===a.name){if((a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(_e(e)),n)throw a;return function(e,t,i,r){var n=e.ngTempTokenPath;throw t.__source&&n.unshift(t.__source),e.message=function(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var n=_e(t);if(Array.isArray(t))n=t.map(_e).join(" -> ");else if("object"==typeof t){var s=[];for(var o in t)if(t.hasOwnProperty(o)){var a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):_e(a)))}n="{".concat(s.join(", "),"}")}return"".concat(i).concat(r?"("+r+")":"","[").concat(n,"]: ").concat(e.replace(Ve,"\n  "))}("\n"+e.message,n,"R3InjectorError",r),e.ngTokenPath=n,e.ngTempTokenPath=null,e}(a,e,0,this.source)}throw a}finally{Ue(n)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach((function(t){return e.get(t)}))}},{key:"toString",value:function(){var e=[];return this.records.forEach((function(t,i){return e.push(_e(i))})),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,i){var r=this;if(!(e=ke(e)))return!1;var n=ge(e),s=null==n&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==i.indexOf(o);if(void 0!==s&&(n=ge(s)),null==n)return!1;if(null!=n.imports&&!a){var l;i.push(o);try{tt(n.imports,(function(e){r.processInjectorType(e,t,i)&&(void 0===l&&(l=[]),l.push(e))}))}finally{}if(void 0!==l)for(var d=function(e){var t=l[e],i=t.ngModule,n=t.providers;tt(n,(function(e){return r.processProvider(e,i,n||Ln)}))},h=0;h<l.length;h++)d(h)}this.injectorDefTypes.add(o),this.records.set(o,Un(n.factory,zn));var u=n.providers;if(null!=u&&!a){var c=e;tt(u,(function(e){return r.processProvider(e,c,u)}))}return void 0!==s&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,i){var r=Zn(e=ke(e))?e:ke(e&&e.provide),n=function(e,t,i){return Yn(e)?Un(void 0,e.useValue):Un(function(e,t,i){var r,n=void 0;if(Zn(e)){var s=ke(e);return wt(s)||Gn(s)}if(Yn(e))n=function(){return ke(e.useValue)};else if((r=e)&&r.useFactory)n=function(){return e.useFactory.apply(e,_toConsumableArray(Qe(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))n=function(){return Ke(ke(e.useExisting))};else{var o=ke(e&&(e.useClass||e.provide));if(o||function(e,t,i){var r="";throw e&&t&&(r=" - only instances of Provider and Type are allowed, got: [".concat(t.map((function(e){return e==i?"?"+i+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(_e(e),"'")+r)}(t,i,e),!function(e){return!!e.deps}(e))return wt(o)||Gn(o);n=function(){return _construct(o,_toConsumableArray(Qe(e.deps)))}}return n}(e,t,i),zn)}(e,t,i);if(Zn(e)||!0!==e.multi){var s=this.records.get(r);s&&void 0!==s.multi&&sr()}else{var o=this.records.get(r);o?void 0===o.multi&&sr():((o=Un(void 0,zn,!0)).factory=function(){return Qe(o.multi)},this.records.set(r,o)),r=e,o.multi.push(e)}this.records.set(r,n)}},{key:"hydrate",value:function(e,t){var i;return t.value===Nn?function(e){throw new Error("Cannot instantiate cyclic dependency! ".concat(e))}(_e(e)):t.value===zn&&(t.value=Nn,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(i=t.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();function Gn(e){var t=fe(e),i=null!==t?t.factory:wt(e);if(null!==i)return i;var r=ge(e);if(null!==r)return r.factory;if(e instanceof Le)throw new Error("Token ".concat(_e(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var i=nt(t,"?");throw new Error("Can't resolve all parameters for ".concat(_e(e),": (").concat(i.join(", "),")."))}var r=function(e){var t=e&&(e[ve]||e[be]||e[ye]&&e[ye]());if(t){var i=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(i,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in v10. Please add @Injectable() to the "'.concat(i,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function Un(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:i?[]:void 0}}function Yn(e){return null!==e&&"object"==typeof e&&We in e}function Zn(e){return"function"==typeof e}var Kn=function(e,t,i){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,n=Vn(e,t,i,r);return n._resolveInjectorDefTypes(),n}({name:i},t,e,i)},Xn=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?Kn(e,t,""):Kn(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=Re,e.NULL=new Je,e.\u0275prov=ce({token:e,providedIn:"any",factory:function(){return Ke(Fe)}}),e.__NG_ELEMENT_ID__=-1,e}(),Qn=new Le("AnalyzeForEntryComponents"),Jn=new Map,$n=new Set;function es(e){return"string"==typeof e?e:e.text()}function ts(e,t,i){var r=i?e.styles:null,n=i?e.classes:null,s=0;if(null!==t)for(var o=0;o<t.length;o++){var a=t[o];"number"==typeof a?s=a:1==s?n=Ce(n,a):2==s&&(r=Ce(r,a+": "+t[++o]+";"))}i?e.styles=r:e.stylesWithoutHost=r,i?e.classes=n:e.classesWithoutHost=n}var is=null;function rs(){if(!is){var e=Ee.Symbol;if(e&&e.iterator)is=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),i=0;i<t.length;++i){var r=t[i];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(is=r)}}return is}function ns(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function ss(e){return!!os(e)&&(Array.isArray(e)||!(e instanceof Map)&&rs()in e)}function os(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function as(e,t,i){return!Object.is(e[t],i)&&(e[t]=i,!0)}function ls(e,t,i,r){var n=Rt();return as(n,Xt(),t)&&(Vt(),function(e,t,i,r,n,s){var o=Pt(e,t),a=t[11];if(null==r)St(a)?a.removeAttribute(o,i,s):o.removeAttribute(i);else{var l=null==n?Ti(r):n(r,e.tagName||"",i);St(a)?a.setAttribute(o,i,l,s):s?o.setAttributeNS(s,i,l):o.setAttribute(i,l)}}(hi(),n,e,t,i,r)),ls}function ds(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he.Default,i=Rt();return null==i?Ke(e,t):Ni(Wt(),i,ke(e),t)}function hs(){throw new Error("invalid")}function us(e,t,i){var r=Rt();return as(r,Xt(),t)&&Ar(Vt(),hi(),r,e,t,r[11],i,!1),us}function cs(e,t,i,r,n){var s=n?"class":"style";nn(e,i,t.inputs[s],s,r)}function ps(e,t,i,r){var n=Rt(),s=Vt(),o=20+e,a=n[11],l=n[o]=Cr(t,a,Lt.lFrame.currentNamespace),d=s.firstCreatePass?function(e,t,i,r,n,s,o){var a=t.consts,l=Bt(a,s),d=qr(t,i[6],e,3,n,l);return function(e,t,i,r){if(Ft()){var n=function(e,t,i){var r=e.directiveRegistry,n=null;if(r)for(var s=0;s<r.length;s++){var o=r[s];pr(i,o.selectors,!1)&&(n||(n=[]),zi(Ai(i,t),e,o.type),qt(o)?(2&i.flags&&nr(i),Nr(e,i),n.unshift(o)):n.push(o))}return n}(e,t,i),s=null===r?null:{"":-1};if(null!==n){var o=0;!0,Fr(i,e.data.length,n.length);for(var a=0;a<n.length;a++){var l=n[a];l.providersResolver&&l.providersResolver(l)}zr(e,i,n.length);for(var d=!1,h=!1,u=0;u<n.length;u++){var c=n[u];i.mergedAttrs=xi(i.mergedAttrs,c.hostAttrs),Rr(e,t,c),Lr(e.data.length-1,c,s),null!==c.contentQueries&&(i.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(i.flags|=128),!d&&(c.onChanges||c.onInit||c.doCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(i.index-20),d=!0),h||!c.onChanges&&!c.doCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(i.index-20),h=!0),Hr(e,c),o+=c.hostVars}!function(e,t){for(var i=t.directiveEnd,r=e.data,n=t.attrs,s=[],o=null,a=null,l=t.directiveStart;l<i;l++){var d=r[l],h=d.inputs,u=null===n||lr(t)?null:Gr(h,n);s.push(u),o=Mr(h,l,o),a=Mr(d.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=o,t.outputs=a}(e,i),Or(e,t,o)}s&&function(e,t,i){if(t)for(var r=e.localNames=[],n=0;n<t.length;n+=2){var s=i[t[n+1]];if(null==s)throw new Error("Export of name '".concat(t[n+1],"' not found!"));r.push(t[n],s)}}(i,r,s)}i.mergedAttrs=xi(i.mergedAttrs,i.attrs)}(t,i,d,Bt(a,o)),null!==d.attrs&&ts(d,d.attrs,!1),null!==d.mergedAttrs&&ts(d,d.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,d),d}(e,s,n,0,t,i,r):s.data[o];Gt(d,!0);var h=d.mergedAttrs;null!==h&&wi(a,l,h);var u=d.classes;null!==u&&kn(a,l,u);var c=d.styles;null!==c&&qn(a,l,c),bn(s,n,l,d),0===Lt.lFrame.elementDepthCount&&rr(l,n),Lt.lFrame.elementDepthCount++,jt(d)&&(function(e,t,i){Ft()&&(function(e,t,i,r){var n=i.directiveStart,s=i.directiveEnd;e.firstCreatePass||Ai(i,t),rr(r,t);for(var o=i.initialInputs,a=n;a<s;a++){var l=e.data[a],d=qt(l);d&&Vr(t,i,l);var h=Vi(t,e,a,i);rr(h,t),null!==o&&Wr(0,a-n,h,l,0,o),d&&(Mt(i.index,t)[8]=h)}}(e,t,i,Pt(i,t)),128==(128&i.flags)&&function(e,t,i){var r=i.directiveStart,n=i.directiveEnd,s=e.expandoInstructions,o=e.firstCreatePass,a=i.index-20,l=Lt.lFrame.currentDirectiveIndex;try{di(a);for(var d=r;d<n;d++){var h=e.data[d],u=t[d];Jt(d),null!==h.hostBindings||0!==h.hostVars||null!==h.hostAttrs?Br(h,u):o&&s.push(null)}}finally{di(-1),Jt(l)}}(e,t,i))}(s,n,d),function(e,t,i){if(_t(t))for(var r=t.directiveEnd,n=t.directiveStart;n<r;n++){var s=e.data[n];s.contentQueries&&s.contentQueries(1,i[n],n)}}(s,d,n)),null!==r&&function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pt,r=t.localNames;if(null!==r)for(var n=t.index+1,s=0;s<r.length;s+=2){var o=r[s+1],a=-1===o?i(t,e):e[o];e[n++]=a}}(n,d)}function fs(){var e=Wt();Ut()?Yt():Gt(e=e.parent,!1);var t=e;Lt.lFrame.elementDepthCount--;var i=Vt();i.firstCreatePass&&(ui(i,e),_t(e)&&i.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&cs(i,t,Rt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&cs(i,t,Rt(),t.stylesWithoutHost,!1)}function ms(e,t,i,r){ps(e,t,i,r),fs()}function gs(e){return!!e&&"function"==typeof e.then}function vs(e){return!!e&&"function"==typeof e.subscribe}function ws(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,n=Rt(),s=Vt(),o=Wt();return function(e,t,i,r,n,s){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7?arguments[7]:void 0,l=jt(r),d=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),h=en(t),u=!0;if(3===r.type){var c=Pt(r,t),p=a?a(c):at,f=p.target||c,m=h.length,g=a?function(e){return a(Dt(e[r.index])).target}:r.index;if(St(i)){var v=null;if(!a&&l&&(v=function(e,t,i,r){var n=e.cleanup;if(null!=n)for(var s=0;s<n.length-1;s+=2){var o=n[s];if(o===i&&n[s+1]===r){var a=t[7],l=n[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(e,t,n,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,u=!1;else{s=bs(r,t,s,!1);var w=i.listen(p.name||f,n,s);h.push(s,w),d&&d.push(n,g,m,m+1)}}else s=bs(r,t,s,!0),f.addEventListener(n,s,o),h.push(s),d&&d.push(n,g,m,o)}var y,b=r.outputs;if(u&&null!==b&&(y=b[n])){var x=y.length;if(x)for(var _=0;_<x;_+=2){var C=t[y[_]][y[_+1]].subscribe(s),j=h.length;h.push(s,C),d&&d.push(n,r.index,j,-(j+1))}}}(s,n,n[11],o,e,t,i,r),ws}function ys(e,t,i){try{return!1!==t(i)}catch(r){return rn(e,r),!1}}function bs(e,t,i,r){return function n(s){if(s===Function)return i;var o=2&e.flags?Mt(e.index,t):t;0==(32&t[2])&&Kr(o);for(var a=ys(t,i,s),l=n.__ngNextListenerFn__;l;)a=ys(t,l,s)&&a,l=l.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function xs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=Rt(),r=Vt(),n=e+20,s=r.firstCreatePass?qr(r,i[6],e,3,null,null):r.data[n],o=i[n]=function(e,t){return St(t)?t.createText(e):t.createTextNode(e)}(t,i[11]);bn(r,i,o,s),Gt(s,!1)}function _s(e,t,i){var r=Rt();return as(r,Xt(),t)&&Ar(Vt(),hi(),r,e,t,r[11],i,!0),_s}function Cs(e,t){var i=At(e)[1],r=i.data.length-1;ui(i,{directiveStart:r,directiveEnd:r+1})}var js=function(){function e(t,i,r){_classCallCheck(this,e),this.previousValue=t,this.currentValue=i,this.firstChange=r}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function qs(e){e.type.prototype.ngOnChanges&&(e.setInput=ks,e.onChanges=function(){var e=Ts(this),t=e&&e.current;if(t){var i=e.previous;if(i===at)e.previous=t;else for(var r in t)i[r]=t[r];e.current=null,this.ngOnChanges(t)}})}function ks(e,t,i,r){var n=Ts(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:at,current:null}),s=n.current||(n.current={}),o=n.previous,a=this.declaredInputs[i],l=o[a];s[a]=new js(l&&l.currentValue,t,o===at),e[r]=t}function Ts(e){return e.__ngSimpleChanges__||null}qs.ngInherit=!0;var Ss=function e(){_classCallCheck(this,e)},Is=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(_e(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),Ds=function(){var e=function e(){_classCallCheck(this,e)};return e.NULL=new Is,e}(),Ps=function(){var e=function e(t){_classCallCheck(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return Es(e)},e}(),Es=function(e){return En(e,Wt(),Rt())},Ms=function e(){_classCallCheck(this,e)},As=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),Hs=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275prov=ce({token:e,providedIn:"root",factory:function(){return null}}),e}(),Os=new function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}("9.1.11"),Bs=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return ss(e)}},{key:"create",value:function(e){return new Ns(e)}}]),e}(),zs=function(e,t){return t},Ns=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||zs}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,i=this._removalsHead,r=0,n=null;t||i;){var s=!i||t&&t.currentIndex<Vs(i,r,n)?t:i,o=Vs(s,r,n),a=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{n||(n=[]);var l=o-r,d=a-r;if(l!=d){for(var h=0;h<l;h++){var u=h<n.length?n[h]:n[h]=0,c=u+h;d<=c&&c<l&&(n[h]=u+1)}n[s.previousIndex]=d-l}}o!==a&&e(s,o,a)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!ss(e))throw new Error("Error trying to diff '".concat(_e(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var i,r,n,s=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(var a=0;a<this.length;a++)r=e[a],n=this._trackByFn(a,r),null!==s&&ns(s.trackById,n)?(o&&(s=this._verifyReinsertion(s,r,n,a)),ns(s.item,r)||this._addIdentityChange(s,r)):(s=this._mismatch(s,r,n,a),o=!0),s=s._next}else i=0,function(e,t){if(Array.isArray(e))for(var i=0;i<e.length;i++)t(e[i]);else for(var r,n=e[rs()]();!(r=n.next()).done;)t(r.value)}(e,(function(e){n=t._trackByFn(i,e),null!==s&&ns(s.trackById,n)?(o&&(s=t._verifyReinsertion(s,e,n,i)),ns(s.item,e)||t._addIdentityChange(s,e)):(s=t._mismatch(s,e,n,i),o=!0),s=s._next,i++})),this.length=i;return this._truncate(s),this.collection=e,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,i,r){var n;return null===e?n=this._itTail:(n=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(ns(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,n,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(ns(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,n,r)):e=this._addAfter(new Ls(t,i),n,r),e}},{key:"_verifyReinsertion",value:function(e,t,i,r){var n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==n?e=this._reinsertAfter(n,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,n=e._nextRemoved;return null===r?this._removalsHead=n:r._nextRemoved=n,null===n?this._removalsTail=r:n._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}},{key:"_moveAfter",value:function(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}},{key:"_addAfter",value:function(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,i){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Rs),this._linkedRecords.put(e),e.currentIndex=i,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Rs),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),e}(),Ls=function e(t,i){_classCallCheck(this,e),this.item=t,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Fs=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&ns(i.trackById,e))return i;return null}},{key:"remove",value:function(e){var t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}]),e}(),Rs=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,i=this.map.get(t);i||(i=new Fs,this.map.set(t,i)),i.add(e)}},{key:"get",value:function(e,t){var i=this.map.get(e);return i?i.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),e}();function Vs(e,t,i){var r=e.previousIndex;if(null===r)return r;var n=0;return i&&r<i.length&&(n=i[r]),r+t+n}var Ws=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||os(e)}},{key:"create",value:function(){return new Gs}}]),e}(),Gs=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||os(e)))throw new Error("Error trying to diff '".concat(_e(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var i=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,r){if(i&&i.key===r)t._maybeAddToChanges(i,e),t._appendAfter=i,i=i._next;else{var n=t._getOrCreateRecordForKey(r,e);i=t._insertBeforeOrAppend(i,n)}})),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(var r=i;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var i=this._records.get(e);this._maybeAddToChanges(i,t);var r=i._prev,n=i._next;return r&&(r._next=n),n&&(n._prev=r),i._next=null,i._prev=null,i}var s=new Us(e);return this._records.set(e,s),s.currentValue=t,this._addToAdditions(s),s}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){ns(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(i){return t(e[i],i)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),e}(),Us=function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Ys=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t,i=this.factories.find((function(t){return t.supports(e)}));if(null!=i)return i;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,i){if(null!=i){var r=i.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(i){if(!i)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,i)},deps:[[e,new de,new ae]]}}}]),e}();return e.\u0275prov=ce({token:e,providedIn:"root",factory:function(){return new e([new Bs])}}),e}(),Zs=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,i){if(i){var r=i.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(i){if(!i)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,i)},deps:[[e,new de,new ae]]}}}]),e}();return e.\u0275prov=ce({token:e,providedIn:"root",factory:function(){return new e([new Ws])}}),e}(),Ks=[new Ws],Xs=new Ys([new Bs]),Qs=new Zs(Ks),Js=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return $s(e,Ps)},e}(),$s=function(e,t){return Mn(e,t,Wt(),Rt())},eo=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return to(e,Ps)},e}(),to=function(e,t){return An(e,t,Wt(),Rt())},io={},ro=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var r;return _classCallCheck(this,i),(r=t.call(this)).ngModule=e,r}return _createClass(i,[{key:"resolveComponentFactory",value:function(e){var t=vt(e);return new oo(t,this.ngModule)}}]),i}(Ds);function no(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push({propName:e[i],templateName:i});return t}var so=new Le("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Ii}}),oo=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r){var n;return _classCallCheck(this,i),(n=t.call(this)).componentDef=e,n.ngModule=r,n.componentType=e.type,n.selector=e.selectors.map(mr).join(","),n.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],n.isBoundToModule=!!r,n}return _createClass(i,[{key:"create",value:function(e,t,i,r){var n,s,o=(r=r||this.ngModule)?function(e,t){return{get:function(i,r,n){var s=e.get(i,io,n);return s!==io||r===io?s:t.get(i,r,n)}}}(e,r.injector):e,a=o.get(Ms,It),l=o.get(Hs,null),d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",u=i?function(e,t,i){if(St(e))return e.selectRootElement(t,i===ot.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(d,i,this.componentDef.encapsulation):Cr(h,a.createRenderer(null,this.componentDef),function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(h)),c=this.componentDef.onPush?576:528,p="string"==typeof i&&/^#root-ng-internal-isolated-\d+/.test(i),f={components:[],scheduler:Ii,clean:$r,playerHandler:null,flags:0},m=Pr(0,-1,null,1,0,null,null,null,null,null),g=jr(null,m,f,c,null,null,a,d,l,o);ii(g,null);try{var v=function(e,t,i,r,n,s){var o=i[1];i[20]=e;var a=qr(o,null,0,3,null,null),l=a.mergedAttrs=t.hostAttrs;null!==l&&(ts(a,l,!0),null!==e&&(wi(n,e,l),null!==a.classes&&kn(n,e,a.classes),null!==a.styles&&qn(n,e,a.styles)));var d=r.createRenderer(e,t),h=jr(i,Dr(t),null,t.onPush?64:16,i[20],a,r,d,void 0);return o.firstCreatePass&&(zi(Ai(a,i),o,t.type),Nr(o,a),Fr(a,i.length,1)),Zr(i,h),i[20]=h}(u,this.componentDef,g,a,d);if(u)if(i)wi(d,u,["ng-version",Os.full]);else{var w=function(e){for(var t=[],i=[],r=1,n=2;r<e.length;){var s=e[r];if("string"==typeof s)2===n?""!==s&&t.push(s,e[++r]):8===n&&i.push(s);else{if(!ur(n))break;n=s}r++}return{attrs:t,classes:i}}(this.componentDef.selectors[0]),y=w.attrs,b=w.classes;y&&wi(d,u,y),b&&b.length>0&&kn(d,u,b.join(" "))}if(s=Et(m,0),void 0!==t)for(var x=s.projection=[],_=0;_<this.ngContentSelectors.length;_++){var C=t[_];x.push(null!=C?Array.from(C):null)}n=function(e,t,i,r,n){var s=i[1],o=function(e,t,i){var r=Wt();e.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),zr(e,r,1),Rr(e,t,i));var n=Vi(t,e,t.length-1,r);rr(n,t);var s=Pt(r,t);return s&&rr(s,t),n}(s,i,t);r.components.push(o),e[8]=o,n&&n.forEach((function(e){return e(o,t)})),t.contentQueries&&t.contentQueries(1,o,i.length-1);var a=Wt();if(s.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){di(a.index-20);var l=i[1];Hr(l,t),Or(l,i,t.hostVars),Br(t,o)}return o}(v,this.componentDef,g,f,[Cs]),kr(m,g,null)}finally{ai()}var j=new ao(this.componentType,n,En(Ps,s,g),g,s);return i&&!p||(m.node.child=s),j}},{key:"inputs",get:function(){return no(this.componentDef.inputs)}},{key:"outputs",get:function(){return no(this.componentDef.outputs)}}]),i}(Ss),ao=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r,n,s,o){var a,l,d,h;return _classCallCheck(this,i),(a=t.call(this)).location=n,a._rootLView=s,a._tNode=o,a.destroyCbs=[],a.instance=r,a.hostView=a.changeDetectorRef=new Pn(s),l=s[1],d=s,null==(h=l.node)&&(l.node=h=Er(0,null,2,-1,null,null)),d[6]=h,a.componentType=e,a}return _createClass(i,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(e){this.destroyCbs&&this.destroyCbs.push(e)}},{key:"injector",get:function(){return new Ui(this._tNode,this._rootLView)}}]),i}(function(){return function e(){_classCallCheck(this,e)}}()),lo=void 0,ho=["en",[["a","p"],["AM","PM"],lo],[["AM","PM"],lo,lo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lo,"{1} 'at' {0}",lo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}],uo={};function co(e){return e in uo||(uo[e]=Ee.ng&&Ee.ng.common&&Ee.ng.common.locales&&Ee.ng.common.locales[e]),uo[e]}var po=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencyCode]="CurrencyCode",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.Directionality]="Directionality",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}();function fo(e){var t;null==(t=e)&&function(e,t,i,r){throw new Error("ASSERTION ERROR: ".concat("Expected localeId to be defined")+" [Expected=> null != ".concat(t," <=Actual]"))}(0,t),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}var mo=new Map,go=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r){var n;_classCallCheck(this,i),(n=t.call(this))._parent=r,n._bootstrapComponents=[],n.injector=_assertThisInitialized(n),n.destroyCbs=[],n.componentFactoryResolver=new ro(_assertThisInitialized(n));var s=yt(e),o=e[Be]||null;return o&&fo(o),n._bootstrapComponents=Di(s.bootstrap),n._r3Injector=Vn(e,r,[{provide:$e,useValue:_assertThisInitialized(n)},{provide:Ds,useValue:n.componentFactoryResolver}],_e(e)),n._r3Injector._resolveInjectorDefTypes(),n.instance=n.get(e),n}return _createClass(i,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xn.THROW_IF_NOT_FOUND,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:he.Default;return e===Xn||e===$e||e===Fe?this:this._r3Injector.get(e,t,i)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),i}($e),vo=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var r;return _classCallCheck(this,i),(r=t.call(this)).moduleType=e,null!==yt(e)&&function e(t){if(null!==t.\u0275mod.id){var i=t.\u0275mod.id;(function(e,t,i){if(t&&t!==i)throw new Error("Duplicate module registered for ".concat(e," - ").concat(_e(t)," vs ").concat(_e(t.name)))})(i,mo.get(i),t),mo.set(i,t)}var r=t.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(t){return e(t)}))}(e),r}return _createClass(i,[{key:"create",value:function(e){return new go(this.moduleType,e)}}]),i}(et),wo=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,i),(e=t.call(this)).__isAsync=r,e}return _createClass(i,[{key:"emit",value:function(e){_get(_getPrototypeOf(i.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,r){var n,s=function(e){return null},o=function(){return null};e&&"object"==typeof e?(n=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(s=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(o=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(n=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},t&&(s=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)}),r&&(o=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var a=_get(_getPrototypeOf(i.prototype),"subscribe",this).call(this,n,s,o);return e instanceof c&&e.add(a),a}}]),i}(S);function yo(){return this._results[rs()]()}var bo=function(){function e(){_classCallCheck(this,e),this.dirty=!0,this._results=[],this.changes=new wo,this.length=0;var t=rs(),i=e.prototype;i[t]||(i[t]=yo)}return _createClass(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=function e(t,i){void 0===i&&(i=t);for(var r=0;r<t.length;r++){var n=t[r];Array.isArray(n)?(i===t&&(i=t.slice(0,r)),e(n,i)):i!==t&&i.push(n)}return i}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),xo=function(){function e(t){_classCallCheck(this,e),this.queryList=t,this.matches=null}return _createClass(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),_o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"createEmbeddedView",value:function(t){var i=t.queries;if(null!==i){for(var r=null!==t.contentQueries?t.contentQueries[0]:i.length,n=[],s=0;s<r;s++){var o=i.getByIndex(s);n.push(this.queries[o.indexInDeclarationView].clone())}return new e(n)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==Io(e,t).matches&&this.queries[t].setDirty()}}]),e}(),Co=function e(t,i,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.predicate=t,this.descendants=i,this.isStatic=r,this.read=n},jo=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"elementStart",value:function(e,t){for(var i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var i=null,r=0;r<this.length;r++){var n=null!==i?i.length:0,s=this.getByIndex(r).embeddedTView(t,n);s&&(s.indexInDeclarationView=r,null!==i?i.push(s):i=[s])}return null!==i?new e(i):null}},{key:"template",value:function(e,t){for(var i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"track",value:function(e){this.queries.push(e)}},{key:"length",get:function(){return this.queries.length}}]),e}(),qo=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}return _createClass(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,i){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,i),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var t=this._declarationNodeIndex,i=e.parent;null!==i&&4===i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){if(Array.isArray(this.metadata.predicate))for(var i=this.metadata.predicate,r=0;r<i.length;r++)this.matchTNodeWithReadOption(e,t,ko(t,i[r]));else{var n=this.metadata.predicate;n===Js?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ri(t,e,n,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(e,t,i){if(null!==i){var r=this.metadata.read;if(null!==r)if(r===Ps||r===eo||r===Js&&0===t.type)this.addMatch(t.index,-2);else{var n=Ri(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,i)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function ko(e,t){var i=e.localNames;if(null!==i)for(var r=0;r<i.length;r+=2)if(i[r]===t)return i[r+1];return null}function To(e,t,i,r){return-1===i?function(e,t){return 3===e.type||4===e.type?En(Ps,e,t):0===e.type?Mn(Js,Ps,e,t):null}(t,e):-2===i?function(e,t,i){return i===Ps?En(Ps,t,e):i===Js?Mn(Js,Ps,t,e):i===eo?An(eo,Ps,t,e):void 0}(e,t,r):Vi(e,e[1],i,t)}function So(e,t,i,r){var n=t[19].queries[r];if(null===n.matches){for(var s=e.data,o=i.matches,a=[],l=0;l<o.length;l+=2){var d=o[l];a.push(d<0?null:To(t,s[d],o[l+1],i.metadata.read))}n.matches=a}return n.matches}function Io(e,t){return e.queries.getByIndex(t)}var Do=se("Input",(function(e){return{bindingPropertyName:e}})),Po=se("Output",(function(e){return{bindingPropertyName:e}})),Eo=new Le("Application Initializer"),Mo=function(){var e=function(){function e(t){var i=this;_classCallCheck(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){i.resolve=e,i.reject=t}))}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],i=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var n=this.appInits[r]();gs(n)&&t.push(n)}Promise.all(t).then((function(){i()})).catch((function(t){e.reject(t)})),0===t.length&&i(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ke(Eo,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}(),Ao=new Le("AppId"),Ho={provide:Ao,useFactory:function(){return"".concat(Oo()).concat(Oo()).concat(Oo())},deps:[]};function Oo(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Bo=new Le("Platform Initializer"),zo=new Le("Platform ID"),No=new Le("appBootstrapListener"),Lo=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}(),Fo=new Le("LocaleId"),Ro=new Le("DefaultCurrencyCode"),Vo=function e(t,i){_classCallCheck(this,e),this.ngModuleFactory=t,this.componentFactories=i},Wo=function(e){return new vo(e)},Go=Wo,Uo=function(e){return Promise.resolve(Wo(e))},Yo=function(e){var t=Wo(e),i=Di(yt(e).declarations).reduce((function(e,t){var i=vt(t);return i&&e.push(new oo(i)),e}),[]);return new Vo(t,i)},Zo=Yo,Ko=function(e){return Promise.resolve(Yo(e))},Xo=function(){var e=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=Go,this.compileModuleAsync=Uo,this.compileModuleAndAllComponentsSync=Zo,this.compileModuleAndAllComponentsAsync=Ko}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}(),Qo=new Le("compilerOptions"),Jo=Promise.resolve(0);function $o(e){"undefined"==typeof Zone?Jo.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var ea=function(){function e(t){var i,r,n=t.enableLongStackTrace,s=void 0!==n&&n,o=t.shouldCoalesceEventChangeDetection,a=void 0!==o&&o;if(_classCallCheck(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wo(!1),this.onMicrotaskEmpty=new wo(!1),this.onStable=new wo(!1),this.onError=new wo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=a,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=Ee.requestAnimationFrame,t=Ee.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,r=!!(i=this).shouldCoalesceEventChangeDetection&&i.nativeRequestAnimationFrame&&function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ee,(function(){e.lastRequestAnimationFrameId=-1,na(e),ra(e)})),na(e))}(i)},i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(e,t,n,s,o,a){try{return sa(i),e.invokeTask(n,s,o,a)}finally{r&&"eventTask"===s.type&&r(),oa(i)}},onInvoke:function(e,t,r,n,s,o,a){try{return sa(i),e.invoke(r,n,s,o,a)}finally{oa(i)}},onHasTask:function(e,t,r,n){e.hasTask(r,n),t===r&&("microTask"==n.change?(i._hasPendingMicrotasks=n.microTask,na(i),ra(i)):"macroTask"==n.change&&(i.hasPendingMacrotasks=n.macroTask))},onHandleError:function(e,t,r,n){return e.handleError(r,n),i.runOutsideAngular((function(){return i.onError.emit(n)})),!1}})}return _createClass(e,[{key:"run",value:function(e,t,i){return this._inner.run(e,t,i)}},{key:"runTask",value:function(e,t,i,r){var n=this._inner,s=n.scheduleEventTask("NgZoneEvent: "+r,e,ia,ta,ta);try{return n.runTask(s,t,i)}finally{n.cancelTask(s)}}},{key:"runGuarded",value:function(e,t,i){return this._inner.runGuarded(e,t,i)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function ta(){}var ia={};function ra(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function na(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function sa(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function oa(e){e._nesting--,ra(e)}var aa,la=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wo,this.onMicrotaskEmpty=new wo,this.onStable=new wo,this.onError=new wo}return _createClass(e,[{key:"run",value:function(e,t,i){return e.apply(t,i)}},{key:"runGuarded",value:function(e,t,i){return e.apply(t,i)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,i,r){return e.apply(t,i)}}]),e}(),da=function(){var e=function(){function e(t){var i=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){i.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){ea.assertNotInAngularZone(),$o((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())$o((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,i){var r=this,n=-1;t&&t>0&&(n=setTimeout((function(){r._callbacks=r._callbacks.filter((function(e){return e.timeoutId!==n})),e(r._didWork,r.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:n,updateCb:i})}},{key:"whenStable",value:function(e,t,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,i),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,i){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ke(ea))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}(),ha=function(){var e=function(){function e(){_classCallCheck(this,e),this._applications=new Map,ua.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return ua.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}(),ua=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,i){return null}}]),e}()),ca=function(e,t,i){var r=e.get(Qo,[]).concat(t),n=new vo(i);if(0===Jn.size)return Promise.resolve(n);var s,o,a=(s=r.map((function(e){return e.providers})),o=[],s.forEach((function(e){return e&&o.push.apply(o,_toConsumableArray(e))})),o);if(0===a.length)return Promise.resolve(n);var l=function(){var e=Ee.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}(),d=Xn.create({providers:a}).get(l.ResourceLoader);return function(e){var t=[],i=new Map;function r(e){var t=i.get(e);if(!t){var r=function(e){return Promise.resolve(d.get(e))}(e);i.set(e,t=r.then(es))}return t}return Jn.forEach((function(e,i){var n=[];e.templateUrl&&n.push(r(e.templateUrl).then((function(t){e.template=t})));var s=e.styleUrls,o=e.styles||(e.styles=[]),a=e.styles.length;s&&s.forEach((function(t,i){o.push(""),n.push(r(t).then((function(r){o[a+i]=r,s.splice(s.indexOf(t),1),0==s.length&&(e.styleUrls=void 0)})))}));var l=Promise.all(n).then((function(){return function(e){$n.delete(e)}(i)}));t.push(l)})),Jn=new Map,Promise.all(t).then((function(){}))}().then((function(){return n}))},pa=new Le("AllowMultipleToken"),fa=function e(t,i){_classCallCheck(this,e),this.name=t,this.token=i};function ma(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(t),n=new Le(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=ga();if(!s||s.injector.get(pa,!1))if(e)e(i.concat(t).concat({provide:n,useValue:!0}));else{var o=i.concat(t).concat({provide:n,useValue:!0},{provide:Bn,useValue:"platform"});!function(e){if(aa&&!aa.destroyed&&!aa.injector.get(pa,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");aa=e.get(va);var t=e.get(Bo,null);t&&t.forEach((function(e){return e()}))}(Xn.create({providers:o,name:r}))}return function(e){var t=ga();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(n)}}function ga(){return aa&&!aa.destroyed?aa:null}var va=function(){var e=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var i,r,n=this,s=(i=t?t.ngZone:void 0,r=t&&t.ngZoneEventCoalescing||!1,"noop"===i?new la:("zone.js"===i?void 0:i)||new ea({enableLongStackTrace:Ji(),shouldCoalesceEventChangeDetection:r})),o=[{provide:ea,useValue:s}];return s.run((function(){var t=Xn.create({providers:o,parent:n.injector,name:e.moduleType.name}),i=e.create(t),r=i.injector.get(Xi,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy((function(){return xa(n._modules,i)})),s.runOutsideAngular((function(){return s.onError.subscribe({next:function(e){r.handleError(e)}})})),function(e,t,r){try{var s=((o=i.injector.get(Mo)).runInitializers(),o.donePromise.then((function(){return fo(i.injector.get(Fo,"en-US")||"en-US"),n._moduleDoBootstrap(i),i})));return gs(s)?s.catch((function(i){throw t.runOutsideAngular((function(){return e.handleError(i)})),i})):s}catch(a){throw t.runOutsideAngular((function(){return e.handleError(a)})),a}var o}(r,s)}))}},{key:"bootstrapModule",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=wa({},i);return ca(this.injector,r,e).then((function(e){return t.bootstrapModuleFactory(e,r)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(ba);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(_e(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ke(Xn))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}();function wa(e,t){return Array.isArray(t)?t.reduce(wa,e):Object.assign(Object.assign({},e),t)}var ya,ba=((ya=function(){function e(t,i,r,n,s,o){var a=this;_classCallCheck(this,e),this._zone=t,this._console=i,this._injector=r,this._exceptionHandler=n,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Ji(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run((function(){a.tick()}))}});var l=new _((function(e){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular((function(){e.next(a._stable),e.complete()}))})),d=new _((function(e){var t;a._zone.runOutsideAngular((function(){t=a._zone.onStable.subscribe((function(){ea.assertNotInAngularZone(),$o((function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,e.next(!0))}))}))}));var i=a._zone.onUnstable.subscribe((function(){ea.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),i.unsubscribe()}}));this.isStable=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=Number.POSITIVE_INFINITY,n=null,s=t[t.length-1];return D(s)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof s&&(r=t.pop()),null===n&&1===t.length&&t[0]instanceof _?t[0]:Y(r)(Z(t,n))}(l,d.pipe((function(e){return K()((t=te,function(e){var i;i="function"==typeof t?t:function(){return t};var r=Object.create(e,$);return r.source=e,r.subjectFactory=i,r})(e));var t})))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var i,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");i=e instanceof Ss?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(i.componentType);var n=i.isBoundToModule?void 0:this._injector.get($e),s=i.create(Xn.NULL,[],t||i.selector,n);s.onDestroy((function(){r._unloadComponent(s)}));var o=s.injector.get(da,null);return o&&s.injector.get(ha).registerApplication(s.location.nativeElement,o),this._loadComponent(s),Ji()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),s}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(t=i.n()).done;)t.value.detectChanges()}catch(s){i.e(s)}finally{i.f()}if(this._enforceNoNewChanges){var r,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(r=n.n()).done;)r.value.checkNoChanges()}catch(s){n.e(s)}finally{n.f()}}}catch(o){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(o)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;xa(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(No,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),xa(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}()).\u0275fac=function(e){return new(e||ya)(Ke(ea),Ke(Lo),Ke(Xn),Ke(Xi),Ke(Ds),Ke(Mo))},ya.\u0275prov=ce({token:ya,factory:ya.\u0275fac}),ya);function xa(e,t){var i=e.indexOf(t);i>-1&&e.splice(i,1)}var _a=function e(){_classCallCheck(this,e)},Ca=function e(){_classCallCheck(this,e)},ja={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},qa=function(){var e=function(){function e(t,i){_classCallCheck(this,e),this._compiler=t,this._config=i||ja}return _createClass(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,r=_slicedToArray(e.split("#"),2),n=r[0],s=r[1];return void 0===s&&(s="default"),i("zn8P")(n).then((function(e){return e[s]})).then((function(e){return ka(e,n,s)})).then((function(e){return t._compiler.compileModuleAsync(e)}))}},{key:"loadFactory",value:function(e){var t=_slicedToArray(e.split("#"),2),r=t[0],n=t[1],s="NgFactory";return void 0===n&&(n="default",s=""),i("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(e){return e[n+s]})).then((function(e){return ka(e,r,n)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ke(Xo),Ke(Ca,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e}();function ka(e,t,i){if(!e)throw new Error("Cannot find '".concat(i,"' in '").concat(t,"'"));return e}var Ta=ma(null,"core",[{provide:zo,useValue:"unknown"},{provide:va,deps:[Xn]},{provide:ha,deps:[]},{provide:Lo,deps:[]}]),Sa=[{provide:ba,useClass:ba,deps:[ea,Lo,Xn,Xi,Ds,Mo]},{provide:so,deps:[ea],useFactory:function(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}},{provide:Mo,useClass:Mo,deps:[[new ae,Eo]]},{provide:Xo,useClass:Xo,deps:[]},Ho,{provide:Ys,useFactory:function(){return Xs},deps:[]},{provide:Zs,useFactory:function(){return Qs},deps:[]},{provide:Fo,useFactory:function(e){return fo(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new oe(Fo),new ae,new de]]},{provide:Ro,useValue:"USD"}],Ia=function(){var e=function e(t){_classCallCheck(this,e)};return e.\u0275mod=ft({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)(Ke(ba))},providers:Sa}),e}(),Da=null;function Pa(){return Da}var Ea,Ma=new Le("DocumentToken"),Aa=((Ea=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Ea)},Ea.\u0275prov=ce({factory:Ha,token:Ea,providedIn:"platform"}),Ea);function Ha(){return Ke(za)}var Oa,Ba=new Le("Location Initialized"),za=((Oa=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var r;return _classCallCheck(this,i),(r=t.call(this))._doc=e,r._init(),r}return _createClass(i,[{key:"_init",value:function(){this.location=Pa().getLocation(),this._history=Pa().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return Pa().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){Pa().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){Pa().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"pushState",value:function(e,t,i){Na()?this._history.pushState(e,t,i):this.location.hash=i}},{key:"replaceState",value:function(e,t,i){Na()?this._history.replaceState(e,t,i):this.location.hash=i}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),i}(Aa)).\u0275fac=function(e){return new(e||Oa)(Ke(Ma))},Oa.\u0275prov=ce({factory:La,token:Oa,providedIn:"platform"}),Oa);function Na(){return!!window.history.pushState}function La(){return new za(Ke(Ma))}function Fa(e,t){if(0==e.length)return t;if(0==t.length)return e;var i=0;return e.endsWith("/")&&i++,t.startsWith("/")&&i++,2==i?e+t.substring(1):1==i?e+t:e+"/"+t}function Ra(e){var t=e.match(/#|\?|$/),i=t&&t.index||e.length;return e.slice(0,i-("/"===e[i-1]?1:0))+e.slice(i)}function Va(e){return e&&"?"!==e[0]?"?"+e:e}var Wa,Ga=((Wa=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Wa)},Wa.\u0275prov=ce({factory:Ua,token:Wa,providedIn:"root"}),Wa);function Ua(e){var t=Ke(Ma).location;return new Qa(Ke(Aa),t&&t.origin||"")}var Ya,Za,Ka,Xa=new Le("appBaseHref"),Qa=((Ka=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r){var n;if(_classCallCheck(this,i),(n=t.call(this))._platformLocation=e,null==r&&(r=n._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return n._baseHref=r,_possibleConstructorReturn(n)}return _createClass(i,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return Fa(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+Va(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?"".concat(t).concat(i):t}},{key:"pushState",value:function(e,t,i,r){var n=this.prepareExternalUrl(i+Va(r));this._platformLocation.pushState(e,t,n)}},{key:"replaceState",value:function(e,t,i,r){var n=this.prepareExternalUrl(i+Va(r));this._platformLocation.replaceState(e,t,n)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),i}(Ga)).\u0275fac=function(e){return new(e||Ka)(Ke(Aa),Ke(Xa,8))},Ka.\u0275prov=ce({token:Ka,factory:Ka.\u0275fac}),Ka),Ja=((Za=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r){var n;return _classCallCheck(this,i),(n=t.call(this))._platformLocation=e,n._baseHref="",null!=r&&(n._baseHref=r),n}return _createClass(i,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=Fa(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,i,r){var n=this.prepareExternalUrl(i+Va(r));0==n.length&&(n=this._platformLocation.pathname),this._platformLocation.pushState(e,t,n)}},{key:"replaceState",value:function(e,t,i,r){var n=this.prepareExternalUrl(i+Va(r));0==n.length&&(n=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,n)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),i}(Ga)).\u0275fac=function(e){return new(e||Za)(Ke(Aa),Ke(Xa,8))},Za.\u0275prov=ce({token:Za,factory:Za.\u0275fac}),Za),$a=((Ya=function(){function e(t,i){var r=this;_classCallCheck(this,e),this._subject=new wo,this._urlChangeListeners=[],this._platformStrategy=t;var n=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Ra(tl(n)),this._platformStrategy.onPopState((function(e){r._subject.emit({url:r.path(!0),pop:!0,state:e.state,type:e.type})}))}return _createClass(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+Va(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,tl(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(i,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Va(t)),i)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(i,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Va(t)),i)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(i){return i(e,t)}))}},{key:"subscribe",value:function(e,t,i){return this._subject.subscribe({next:e,error:t,complete:i})}}]),e}()).\u0275fac=function(e){return new(e||Ya)(Ke(Ga),Ke(Aa))},Ya.normalizeQueryParams=Va,Ya.joinWithSlash=Fa,Ya.stripTrailingSlash=Ra,Ya.\u0275prov=ce({factory:el,token:Ya,providedIn:"root"}),Ya);function el(){return new $a(Ke(Ga),Ke(Aa))}function tl(e){return e.replace(/\/index.html$/,"")}var il,rl,nl,sl,ol,al,ll,dl=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),hl=function e(){_classCallCheck(this,e)},ul=((nl=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var r;return _classCallCheck(this,i),(r=t.call(this)).locale=e,r}return _createClass(i,[{key:"getPluralCategory",value:function(e,t){switch(function(e){return function(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),i=co(t);if(i)return i;var r=t.split("-")[0];if(i=co(r))return i;if("en"===r)return ho;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}(e)[po.PluralCase]}(t||this.locale)(e)){case dl.Zero:return"zero";case dl.One:return"one";case dl.Two:return"two";case dl.Few:return"few";case dl.Many:return"many";default:return"other"}}}]),i}(hl)).\u0275fac=function(e){return new(e||nl)(Ke(Fo))},nl.\u0275prov=ce({token:nl,factory:nl.\u0275fac}),nl),cl=((rl=function e(){_classCallCheck(this,e)}).\u0275mod=ft({type:rl}),rl.\u0275inj=pe({factory:function(e){return new(e||rl)},providers:[{provide:hl,useClass:ul}]}),rl),pl=((il=function e(){_classCallCheck(this,e)}).\u0275prov=ce({token:il,providedIn:"root",factory:function(){return new fl(Ke(Ma),window,Ke(Xi))}}),il),fl=function(){function e(t,i,r){_classCallCheck(this,e),this.document=t,this.window=i,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var t=this.document.querySelector("#".concat(e));if(t)return void this.scrollToElement(t);var i=this.document.querySelector("[name='".concat(e,"']"));if(i)return void this.scrollToElement(i)}catch(r){this.errorHandler.handleError(r)}}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,n=this.offset();this.window.scrollTo(i-n[0],r-n[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}]),e}(),ml=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,i){return e.addEventListener(t,i,!1),function(){e.removeEventListener(t,i,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,i=gl||(gl=document.querySelector("base"))?gl.getAttribute("href"):null;return null==i?null:(t=i,sl||(sl=document.createElement("a")),sl.setAttribute("href",t),"/"===sl.pathname.charAt(0)?sl.pathname:"/"+sl.pathname)}},{key:"resetBaseElement",value:function(){gl=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return function(e,t){t=encodeURIComponent(t);var i,r=_createForOfIteratorHelper(e.split(";"));try{for(r.s();!(i=r.n()).done;){var n=i.value,s=n.indexOf("="),o=_slicedToArray(-1==s?[n,""]:[n.slice(0,s),n.slice(s+1)],2),a=o[0],l=o[1];if(a.trim()===t)return decodeURIComponent(l)}}catch(d){r.e(d)}finally{r.f()}return null}(document.cookie,e)}}],[{key:"makeCurrent",value:function(){var e;e=new i,Da||(Da=e)}}]),i}(function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.call(this)}return _createClass(i,[{key:"supportsDOMEvents",value:function(){return!0}}]),i}(function(){return function e(){_classCallCheck(this,e)}}())),gl=null,vl=new Le("TRANSITION_ID"),wl=[{provide:Eo,useFactory:function(e,t,i){return function(){i.get(Mo).donePromise.then((function(){var i=Pa();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter((function(t){return t.getAttribute("ng-transition")===e})).forEach((function(e){return i.remove(e)}))}))}},deps:[vl,Ma,Xn],multi:!0}],yl=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){Ee.getAngularTestability=function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,i);if(null==r)throw new Error("Could not find testability for element.");return r},Ee.getAllAngularTestabilities=function(){return e.getAllTestabilities()},Ee.getAllAngularRootElements=function(){return e.getAllRootElements()},Ee.frameworkStabilizers||(Ee.frameworkStabilizers=[]),Ee.frameworkStabilizers.push((function(e){var t=Ee.getAllAngularTestabilities(),i=t.length,r=!1,n=function(t){r=r||t,0==--i&&e(r)};t.forEach((function(e){e.whenStable(n)}))}))}},{key:"findTestabilityInTree",value:function(e,t,i){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:i?Pa().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){var t;t=new e,ua=t}}]),e}(),bl=new Le("EventManagerPlugins"),xl=((ol=function(){function e(t,i){var r=this;_classCallCheck(this,e),this._zone=i,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=r})),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,i){return this._findPluginFor(t).addEventListener(e,t,i)}},{key:"addGlobalEventListener",value:function(e,t,i){return this._findPluginFor(t).addGlobalEventListener(e,t,i)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var i=this._plugins,r=0;r<i.length;r++){var n=i[r];if(n.supports(e))return this._eventNameToPlugin.set(e,n),n}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}()).\u0275fac=function(e){return new(e||ol)(Ke(bl),Ke(ea))},ol.\u0275prov=ce({token:ol,factory:ol.\u0275fac}),ol),_l=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,i){var r=Pa().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,i)}}]),e}(),Cl=((ll=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,i=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),i.add(e))})),this.onStylesAdded(i)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}()).\u0275fac=function(e){return new(e||ll)},ll.\u0275prov=ce({token:ll,factory:ll.\u0275fac}),ll),jl=((al=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var r;return _classCallCheck(this,i),(r=t.call(this))._doc=e,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(e.head),r}return _createClass(i,[{key:"_addStylesToHost",value:function(e,t){var i=this;e.forEach((function(e){var r=i._doc.createElement("style");r.textContent=e,i._styleNodes.add(t.appendChild(r))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(i){return t._addStylesToHost(e,i)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return Pa().remove(e)}))}}]),i}(Cl)).\u0275fac=function(e){return new(e||al)(Ke(Ma))},al.\u0275prov=ce({token:al,factory:al.\u0275fac}),al),ql={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},kl=/%COMP%/g;function Tl(e,t,i){for(var r=0;r<t.length;r++){var n=t[r];Array.isArray(n)?Tl(e,n,i):(n=n.replace(kl,e),i.push(n))}return i}function Sl(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var Il,Dl,Pl,El,Ml=((Il=function(){function e(t,i,r){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Al(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case ot.Emulated:var i=this.rendererByCompId.get(t.id);return i||(i=new Hl(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,i)),i.applyToHost(e),i;case ot.Native:case ot.ShadowDom:return new Ol(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=Tl(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Il)(Ke(xl),Ke(jl),Ke(Ao))},Il.\u0275prov=ce({token:Il,factory:Il.\u0275fac}),Il),Al=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(ql[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,i){e&&e.insertBefore(t,i)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(i.textContent=""),i}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,i,r){if(r){t=r+":"+t;var n=ql[r];n?e.setAttributeNS(n,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}},{key:"removeAttribute",value:function(e,t,i){if(i){var r=ql[i];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(i,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,i,r){r&As.DashCase?e.style.setProperty(t,i,r&As.Important?"important":""):e.style[t]=i}},{key:"removeStyle",value:function(e,t,i){i&As.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,i){e[t]=i}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Sl(i)):this.eventManager.addEventListener(e,t,Sl(i))}}]),e}(),Hl=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r,n,s){var o;_classCallCheck(this,i),(o=t.call(this,e)).component=n;var a,l=Tl(s+"-"+n.id,n.styles,[]);return r.addStyles(l),o.contentAttr="_ngcontent-%COMP%".replace(kl,s+"-"+n.id),o.hostAttr=(a=s+"-"+n.id,"_nghost-%COMP%".replace(kl,a)),o}return _createClass(i,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf(i.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=_get(_getPrototypeOf(i.prototype),"createElement",this).call(this,e,t);return _get(_getPrototypeOf(i.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),i}(Al),Ol=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r,n,s){var o;_classCallCheck(this,i),(o=t.call(this,e)).sharedStylesHost=r,o.hostEl=n,o.component=s,o.shadowRoot=s.encapsulation===ot.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var a=Tl(s.id,s.styles,[]),l=0;l<a.length;l++){var d=document.createElement("style");d.textContent=a[l],o.shadowRoot.appendChild(d)}return o}return _createClass(i,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return _get(_getPrototypeOf(i.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return _get(_getPrototypeOf(i.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return _get(_getPrototypeOf(i.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf(i.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),i}(Al),Bl=((Dl=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){return _classCallCheck(this,i),t.call(this,e)}return _createClass(i,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,i){var r=this;return e.addEventListener(t,i,!1),function(){return r.removeEventListener(e,t,i)}}},{key:"removeEventListener",value:function(e,t,i){return e.removeEventListener(t,i)}}]),i}(_l)).\u0275fac=function(e){return new(e||Dl)(Ke(Ma))},Dl.\u0275prov=ce({token:Dl,factory:Dl.\u0275fac}),Dl),zl=["alt","control","meta","shift"],Nl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ll={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Fl={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},Rl=((Pl=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){return _classCallCheck(this,i),t.call(this,e)}return _createClass(i,[{key:"supports",value:function(e){return null!=i.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var n=i.parseEventName(t),s=i.eventCallback(n.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Pa().onAndCancel(e,n.domEventName,s)}))}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var n=i._normalizeKey(t.pop()),s="";if(zl.forEach((function(e){var i=t.indexOf(e);i>-1&&(t.splice(i,1),s+=e+".")})),s+=n,0!=t.length||0===n.length)return null;var o={};return o.domEventName=r,o.fullKey=s,o}},{key:"getEventFullKey",value:function(e){var t="",i=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Ll.hasOwnProperty(t)&&(t=Ll[t]))}return Nl[t]||t}(e);return" "===(i=i.toLowerCase())?i="space":"."===i&&(i="dot"),zl.forEach((function(r){r!=i&&(0,Fl[r])(e)&&(t+=r+".")})),t+=i}},{key:"eventCallback",value:function(e,t,r){return function(n){i.getEventFullKey(n)===e&&r.runGuarded((function(){return t(n)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),i}(_l)).\u0275fac=function(e){return new(e||Pl)(Ke(Ma))},Pl.\u0275prov=ce({token:Pl,factory:Pl.\u0275fac}),Pl),Vl=ma(Ta,"browser",[{provide:zo,useValue:"browser"},{provide:Bo,useValue:function(){ml.makeCurrent(),yl.init()},multi:!0},{provide:Ma,useFactory:function(){return function(e){Tt=e}(document),document},deps:[]}]),Wl=[[],{provide:Bn,useValue:"root"},{provide:Xi,useFactory:function(){return new Xi},deps:[]},{provide:bl,useClass:Bl,multi:!0,deps:[Ma,ea,zo]},{provide:bl,useClass:Rl,multi:!0,deps:[Ma]},[],{provide:Ml,useClass:Ml,deps:[xl,jl,Ao]},{provide:Ms,useExisting:Ml},{provide:Cl,useExisting:jl},{provide:jl,useClass:jl,deps:[Ma]},{provide:da,useClass:da,deps:[ea]},{provide:xl,useClass:xl,deps:[bl,ea]},[]],Gl=((El=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:Ao,useValue:t.appId},{provide:vl,useExisting:Ao},wl]}}}]),e}()).\u0275mod=ft({type:El}),El.\u0275inj=pe({factory:function(e){return new(e||El)(Ke(El,12))},providers:Wl,imports:[cl,Ia]}),El);function Ul(e,t){return new _((function(i){var r=e.length;if(0!==r)for(var n=new Array(r),s=0,o=0,a=function(a){var l=V(e[a]),d=!1;i.add(l.subscribe({next:function(e){d||(d=!0,o++),n[a]=e},error:function(e){return i.error(e)},complete:function(){++s!==r&&d||(o===r&&i.next(t?t.reduce((function(e,t,i){return e[t]=n[i],e}),{}):n),i.complete())}}))},l=0;l<r;l++)a(l);else i.complete()}))}function Yl(e){return null==e||0===e.length}"undefined"!=typeof window&&window;var Zl=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Kl=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"min",value:function(e){return function(t){if(Yl(t.value)||Yl(e))return null;var i=parseFloat(t.value);return!isNaN(i)&&i<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(Yl(t.value)||Yl(e))return null;var i=parseFloat(t.value);return!isNaN(i)&&i>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return Yl(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return Yl(e.value)||Zl.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){if(Yl(t.value))return null;var i=t.value?t.value.length:0;return i<e?{minlength:{requiredLength:e,actualLength:i}}:null}}},{key:"maxLength",value:function(e){return function(t){var i=t.value?t.value.length:0;return i>e?{maxlength:{requiredLength:e,actualLength:i}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),i=new RegExp(r)):(r=t.toString(),i=t),function(e){if(Yl(e.value))return null;var t=e.value;return i.test(t)?null:{pattern:{requiredPattern:r,actualValue:t}}}):e.nullValidator;var i,r}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(Xl);return 0==t.length?null:function(e){return Jl(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(Xl);return 0==t.length?null:function(e){return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(1===t.length){var r=t[0];if(l(r))return Ul(r,null);if(d(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return Ul(n.map((function(e){return r[e]})),n)}}if("function"==typeof t[t.length-1]){var s=t.pop();return Ul(t=1===t.length&&l(t[0])?t[0]:t,null).pipe(N((function(e){return s.apply(void 0,_toConsumableArray(e))})))}return Ul(t,null)}(function(e,t){return t.map((function(t){return t(e)}))}(e,t).map(Ql)).pipe(N(Jl))}}}]),e}();function Xl(e){return null!=e}function Ql(e){var t=gs(e)?V(e):e;if(!vs(t))throw new Error("Expected validator to return Promise or Observable.");return t}function Jl(e){var t={};return e.forEach((function(e){t=null!=e?Object.assign(Object.assign({},t),e):t})),0===Object.keys(t).length?null:t}function $l(e){return e.validate?function(t){return e.validate(t)}:e}function ed(e){return e.validate?function(t){return e.validate(t)}:e}var td,id=((td=function(){function e(){_classCallCheck(this,e),this._accessors=[]}return _createClass(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(i){t._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}()).\u0275fac=function(e){return new(e||td)},td.\u0275prov=ce({token:td,factory:td.\u0275fac}),td);function rd(e){var t,i=sd(e)?e.validators:e;return Array.isArray(i)?null!=(t=i)?Kl.compose(t.map($l)):null:i||null}function nd(e,t){var i,r=sd(t)?t.asyncValidators:e;return Array.isArray(r)?null!=(i=r)?Kl.composeAsync(i.map(ed)):null:r||null}function sd(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var od,ad,ld,dd,hd=function(){function e(t,i){_classCallCheck(this,e),this.validator=t,this.asyncValidator=i,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(e,[{key:"setValidators",value:function(e){this.validator=rd(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=nd(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var i=Ql(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe((function(i){return t.setErrors(i,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,i){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var r=e;return t.forEach((function(e){r=r instanceof cd?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof pd&&r.at(e)||null})),r}(this,e)}},{key:"getError",value:function(e,t){var i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new wo,this.statusChanges=new wo}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){sd(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}}]),e}(),ud=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,i),(e=t.call(this,rd(n),nd(s,n)))._onChange=[],e._applyFormState(r),e._setUpdateStrategy(n),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return _createClass(i,[{key:"setValue",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==i.emitViewToModelChange)})),this.updateValueAndValidity(i)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),i}(hd),cd=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r,n){var s;return _classCallCheck(this,i),(s=t.call(this,rd(r),nd(n,r))).controls=e,s._initObservables(),s._setUpdateStrategy(r),s._setUpControls(),s.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),s}return _createClass(i,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:i.emitEvent})})),this.updateValueAndValidity(i)}},{key:"patchValue",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:i.emitEvent})})),this.updateValueAndValidity(i)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(i,r){i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,i){return e[i]=t instanceof ud?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(i){return e(t.controls[i],i)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){var t=this,i=!1;return this._forEachChild((function(r,n){i=i||t.contains(n)&&e(r)})),i}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,i,r){return(i.enabled||e.disabled)&&(t[r]=i.value),t}))}},{key:"_reduceChildren",value:function(e,t){var i=e;return this._forEachChild((function(e,r){i=t(i,e,r)})),i}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var i=t[e];if(this.controls[i].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,i){if(void 0===e[i])throw new Error("Must supply a value for form control with name: '".concat(i,"'."))}))}}]),i}(hd),pd=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r,n){var s;return _classCallCheck(this,i),(s=t.call(this,rd(r),nd(n,r))).controls=e,s._initObservables(),s._setUpdateStrategy(r),s._setUpControls(),s.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),s}return _createClass(i,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:i.emitEvent})})),this.updateValueAndValidity(i)}},{key:"patchValue",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:i.emitEvent})})),this.updateValueAndValidity(i)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(i,r){i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof ud?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,i){e(t,i)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,i){if(void 0===e[i])throw new Error("Must supply a value for form control at index: ".concat(i,"."))}))}},{key:"_allControlsDisabled",value:function(){var e,t=_createForOfIteratorHelper(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(i){t.e(i)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),i}(hd),fd=new Le("NgModelWithFormControlWarning"),md=((dd=function e(){_classCallCheck(this,e)}).\u0275mod=ft({type:dd}),dd.\u0275inj=pe({factory:function(e){return new(e||dd)}}),dd),gd=((ld=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"group",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this._reduceControls(e),r=null,n=null,s=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(r=null!=t.validators?t.validators:null,n=null!=t.asyncValidators?t.asyncValidators:null,s=null!=t.updateOn?t.updateOn:void 0):(r=null!=t.validator?t.validator:null,n=null!=t.asyncValidator?t.asyncValidator:null)),new cd(i,{asyncValidators:n,updateOn:s,validators:r})}},{key:"control",value:function(e,t,i){return new ud(e,t,i)}},{key:"array",value:function(e,t,i){var r=this,n=e.map((function(e){return r._createControl(e)}));return new pd(n,t,i)}},{key:"_reduceControls",value:function(e){var t=this,i={};return Object.keys(e).forEach((function(r){i[r]=t._createControl(e[r])})),i}},{key:"_createControl",value:function(e){return e instanceof ud||e instanceof cd||e instanceof pd?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}]),e}()).\u0275fac=function(e){return new(e||ld)},ld.\u0275prov=ce({token:ld,factory:ld.\u0275fac}),ld),vd=((ad=function e(){_classCallCheck(this,e)}).\u0275mod=ft({type:ad}),ad.\u0275inj=pe({factory:function(e){return new(e||ad)},providers:[id],imports:[md]}),ad),wd=((od=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:fd,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}()).\u0275mod=ft({type:od}),od.\u0275inj=pe({factory:function(e){return new(e||od)},providers:[gd,id],imports:[md]}),od);function yd(e,t){var i=new Array;null==e&&(e=100);for(var r=["Andrew","Nancy","Shelley","Regina","Yoshi","Antoni","Mayumi","Ian","Peter","Lars","Petra","Martin","Sven","Elio","Beate","Cheryl","Michael","Guylene"],n=["Fuller","Davolio","Burke","Murphy","Nagase","Saavedra","Ohno","Devling","Wilson","Peterson","Winkler","Bein","Petersen","Rossi","Vileid","Saylor","Bjorn","Nodier"],s=["Black Tea","Green Tea","Caffe Espresso","Doubleshot Espresso","Caffe Latte","White Chocolate Mocha","Caramel Latte","Caffe Americano","Cappuccino","Espresso Truffle","Espresso con Panna","Peppermint Mocha Twist"],o=["2.25","1.5","3.0","3.3","4.5","3.6","3.8","2.5","5.0","1.75","3.25","4.0"],a=0;a<e;a++){var l={},d=Math.floor(Math.random()*s.length),h=parseFloat(o[d]),u=1+Math.round(10*Math.random());if(l.id=a,l.reportsto=Math.floor(Math.random()*r.length),a%Math.floor(Math.random()*r.length)==0&&(l.reportsto=null),l.available=d%2==0,1==t&&d%2!=0){var c=Math.floor(Math.random()*e);l.available=a%c==0&&null}l.firstname=r[Math.floor(Math.random()*r.length)],l.lastname=n[Math.floor(Math.random()*n.length)],l.name=l.firstname+" "+l.lastname,l.productname=s[d],l.price=h,l.quantity=u,l.total=h*u;var p=new Date;p.setFullYear(2016,Math.floor(11*Math.random()),Math.floor(27*Math.random())),p.setHours(0,0,0,0),l.date=p,i[a]=l}return i}function bd(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=t[t.length-1];return D(r)?(t.pop(),R(t,r)):Z(t)}var xd=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var r;return _classCallCheck(this,i),(r=t.call(this))._value=e,r}return _createClass(i,[{key:"_subscribe",value:function(e){var t=_get(_getPrototypeOf(i.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new q;return this._value}},{key:"next",value:function(e){_get(_getPrototypeOf(i.prototype),"next",this).call(this,this._value=e)}},{key:"value",get:function(){return this.getValue()}}]),i}(S),_d=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),Cd={},jd=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new qd(e,this.resultSelector))}}]),e}(),qd=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r){var n;return _classCallCheck(this,i),(n=t.call(this,e)).resultSelector=r,n.active=0,n.values=[],n.observables=[],n}return _createClass(i,[{key:"_next",value:function(e){this.values.push(Cd),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var i=0;i<t;i++){var r=e[i];this.add(B(this,r,r,i))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,i,r,n){var s=this.values,o=this.toRespond?s[i]===Cd?--this.toRespond:this.toRespond:0;s[i]=t,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}]),i}(z),kd=new _((function(e){return e.complete()}));function Td(e){return e?function(e){return new _((function(t){return e.schedule((function(){return t.complete()}))}))}(e):kd}function Sd(e){return new _((function(t){var i;try{i=e()}catch(r){return void t.error(r)}return(i?V(i):Td()).subscribe(t)}))}function Id(){return Y(1)}function Dd(e,t){return function(i){return i.lift(new Pd(e,t))}}var Pd=function(){function e(t,i){_classCallCheck(this,e),this.predicate=t,this.thisArg=i}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ed(e,this.predicate,this.thisArg))}}]),e}(),Ed=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r,n){var s;return _classCallCheck(this,i),(s=t.call(this,e)).predicate=r,s.thisArg=n,s.count=0,s}return _createClass(i,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}t&&this.destination.next(e)}}]),i}(m),Md=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();function Ad(e){return function(t){return 0===e?Td():t.lift(new Hd(e))}}var Hd=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new Md}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Od(e,this.total))}}]),e}(),Od=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r){var n;return _classCallCheck(this,i),(n=t.call(this,e)).total=r,n.ring=new Array,n.count=0,n}return _createClass(i,[{key:"_next",value:function(e){var t=this.ring,i=this.total,r=this.count++;t.length<i?t.push(e):t[r%i]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var i=this.count>=this.total?this.total:this.count,r=this.ring,n=0;n<i;n++){var s=t++%i;e.next(r[s])}e.complete()}}]),i}(m);function Bd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ld;return function(t){return t.lift(new zd(e))}}var zd=function(){function e(t){_classCallCheck(this,e),this.errorFactory=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Nd(e,this.errorFactory))}}]),e}(),Nd=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r){var n;return _classCallCheck(this,i),(n=t.call(this,e)).errorFactory=r,n.hasValue=!1,n}return _createClass(i,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),i}(m);function Ld(){return new _d}function Fd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new Rd(e))}}var Rd=function(){function e(t){_classCallCheck(this,e),this.defaultValue=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Vd(e,this.defaultValue))}}]),e}(),Vd=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r){var n;return _classCallCheck(this,i),(n=t.call(this,e)).defaultValue=r,n.isEmpty=!0,n}return _createClass(i,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),i}(m);function Wd(e,t){var i=arguments.length>=2;return function(r){return r.pipe(e?Dd((function(t,i){return e(t,i,r)})):w,Ad(1),i?Fd(t):Bd((function(){return new _d})))}}function Gd(e){return function(t){var i=new Ud(e),r=t.lift(i);return i.caught=r}}var Ud=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Yd(e,this.selector,this.caught))}}]),e}(),Yd=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r,n){var s;return _classCallCheck(this,i),(s=t.call(this,e)).selector=r,s.caught=n,s}return _createClass(i,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(s){return void _get(_getPrototypeOf(i.prototype),"error",this).call(this,s)}this._unsubscribeAndRecycle();var r=new P(this,void 0,void 0);this.add(r);var n=B(this,t,void 0,void 0,r);n!==r&&this.add(n)}}}]),i}(z);function Zd(e){return function(t){return 0===e?Td():t.lift(new Kd(e))}}var Kd=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new Md}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Xd(e,this.total))}}]),e}(),Xd=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r){var n;return _classCallCheck(this,i),(n=t.call(this,e)).total=r,n.count=0,n}return _createClass(i,[{key:"_next",value:function(e){var t=this.total,i=++this.count;i<=t&&(this.destination.next(e),i===t&&(this.destination.complete(),this.unsubscribe()))}}]),i}(m);function Qd(e,t){var i=arguments.length>=2;return function(r){return r.pipe(e?Dd((function(t,i){return e(t,i,r)})):w,Zd(1),i?Fd(t):Bd((function(){return new _d})))}}var Jd=function(){function e(t,i,r){_classCallCheck(this,e),this.predicate=t,this.thisArg=i,this.source=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new $d(e,this.predicate,this.thisArg,this.source))}}]),e}(),$d=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r,n,s){var o;return _classCallCheck(this,i),(o=t.call(this,e)).predicate=r,o.thisArg=n,o.source=s,o.index=0,o.thisArg=n||_assertThisInitialized(o),o}return _createClass(i,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(i){return void this.destination.error(i)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),i}(m);function eh(e,t){return"function"==typeof t?function(i){return i.pipe(eh((function(i,r){return V(e(i,r)).pipe(N((function(e,n){return t(i,e,r,n)})))})))}:function(t){return t.lift(new th(e))}}var th=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ih(e,this.project))}}]),e}(),ih=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r){var n;return _classCallCheck(this,i),(n=t.call(this,e)).project=r,n.index=0,n}return _createClass(i,[{key:"_next",value:function(e){var t,i=this.index++;try{t=this.project(e,i)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,i)}},{key:"_innerSub",value:function(e,t,i){var r=this.innerSubscription;r&&r.unsubscribe();var n=new P(this,t,i),s=this.destination;s.add(n),this.innerSubscription=B(this,e,void 0,void 0,n),this.innerSubscription!==n&&s.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get(_getPrototypeOf(i.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(i.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,i,r,n){this.destination.next(t)}}]),i}(z);function rh(){return Id()(bd.apply(void 0,arguments))}function nh(e,t){var i=!1;return arguments.length>=2&&(i=!0),function(r){return r.lift(new sh(e,t,i))}}var sh=function(){function e(t,i){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.accumulator=t,this.seed=i,this.hasSeed=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new oh(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),oh=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r,n,s){var o;return _classCallCheck(this,i),(o=t.call(this,e)).accumulator=r,o._seed=n,o.hasSeed=s,o.index=0,o}return _createClass(i,[{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,i=this.index++;try{t=this.accumulator(this.seed,e,i)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}},{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}}]),i}(m);function ah(e,t){return W(e,t,1)}function lh(){}function dh(e,t,i){return function(r){return r.lift(new uh(e,t,i))}}var hh,uh=function(){function e(t,i,r){_classCallCheck(this,e),this.nextOrObserver=t,this.error=i,this.complete=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ch(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),ch=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,s,o){var a;return _classCallCheck(this,i),(a=t.call(this,e))._tapNext=lh,a._tapError=lh,a._tapComplete=lh,a._tapError=s||lh,a._tapComplete=o||lh,r(n)?(a._context=_assertThisInitialized(a),a._tapNext=n):n&&(a._context=n,a._tapNext=n.next||lh,a._tapError=n.error||lh,a._tapComplete=n.complete||lh),a}return _createClass(i,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),i}(m),ph=function(){function e(t){_classCallCheck(this,e),this.callback=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new fh(e,this.callback))}}]),e}(),fh=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r){var n;return _classCallCheck(this,i),(n=t.call(this,e)).add(new c(r)),n}return i}(m),mh=function e(t,i){_classCallCheck(this,e),this.id=t,this.url=i},gh=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r){var n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,i),(n=t.call(this,e,r)).navigationTrigger=s,n.restoredState=o,n}return _createClass(i,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),i}(mh),vh=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r,n){var s;return _classCallCheck(this,i),(s=t.call(this,e,r)).urlAfterRedirects=n,s}return _createClass(i,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),i}(mh),wh=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r,n){var s;return _classCallCheck(this,i),(s=t.call(this,e,r)).reason=n,s}return _createClass(i,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),i}(mh),yh=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r,n){var s;return _classCallCheck(this,i),(s=t.call(this,e,r)).error=n,s}return _createClass(i,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),i}(mh),bh=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r,n,s){var o;return _classCallCheck(this,i),(o=t.call(this,e,r)).urlAfterRedirects=n,o.state=s,o}return _createClass(i,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),i}(mh),xh=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r,n,s){var o;return _classCallCheck(this,i),(o=t.call(this,e,r)).urlAfterRedirects=n,o.state=s,o}return _createClass(i,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),i}(mh),_h=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r,n,s,o){var a;return _classCallCheck(this,i),(a=t.call(this,e,r)).urlAfterRedirects=n,a.state=s,a.shouldActivate=o,a}return _createClass(i,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),i}(mh),Ch=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r,n,s){var o;return _classCallCheck(this,i),(o=t.call(this,e,r)).urlAfterRedirects=n,o.state=s,o}return _createClass(i,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),i}(mh),jh=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r,n,s){var o;return _classCallCheck(this,i),(o=t.call(this,e,r)).urlAfterRedirects=n,o.state=s,o}return _createClass(i,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),i}(mh),qh=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),kh=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),Th=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Sh=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Ih=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Dh=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Ph=function(){function e(t,i,r){_classCallCheck(this,e),this.routerEvent=t,this.position=i,this.anchor=r}return _createClass(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),Eh=((hh=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||hh)},hh.\u0275cmp=ht({type:hh,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&ms(0,"router-outlet")},directives:function(){return[Nc]},encapsulation:2}),hh),Mh=function(){function e(t){_classCallCheck(this,e),this.params=t||{}}return _createClass(e,[{key:"has",value:function(e){return this.params.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function Ah(e){return new Mh(e)}function Hh(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function Oh(e,t,i){var r=i.path.split("/");if(r.length>e.length)return null;if("full"===i.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var n={},s=0;s<r.length;s++){var o=r[s],a=e[s];if(o.startsWith(":"))n[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:n}}var Bh=function e(t,i){_classCallCheck(this,e),this.routes=t,this.module=i};function zh(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=0;i<e.length;i++){var r=e[i];Nh(r,Lh(t,r))}}function Nh(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&zh(e.children,t)}function Lh(e,t){return t?e||t.path?e&&!t.path?"".concat(e,"/"):!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function Fh(e){var t=e.children&&e.children.map(Fh),i=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!i.component&&(t||i.loadChildren)&&i.outlet&&"primary"!==i.outlet&&(i.component=Eh),i}function Rh(e,t){var i,r=Object.keys(e),n=Object.keys(t);if(!r||!n||r.length!=n.length)return!1;for(var s=0;s<r.length;s++)if(!Vh(e[i=r[s]],t[i]))return!1;return!0}function Vh(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every((function(e){return t.indexOf(e)>-1})):e===t}function Wh(e){return Array.prototype.concat.apply([],e)}function Gh(e){return e.length>0?e[e.length-1]:null}function Uh(e,t){for(var i in e)e.hasOwnProperty(i)&&t(e[i],i)}function Yh(e){return vs(e)?e:gs(e)?V(Promise.resolve(e)):bd(e)}function Zh(e,t,i){return i?function(e,t){return Rh(e,t)}(e.queryParams,t.queryParams)&&function e(t,i){if(!Jh(t.segments,i.segments))return!1;if(t.numberOfChildren!==i.numberOfChildren)return!1;for(var r in i.children){if(!t.children[r])return!1;if(!e(t.children[r],i.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(i){return Vh(e[i],t[i])}))}(e.queryParams,t.queryParams)&&function e(t,i){return function t(i,r,n){if(i.segments.length>n.length)return!!Jh(i.segments.slice(0,n.length),n)&&!r.hasChildren();if(i.segments.length===n.length){if(!Jh(i.segments,n))return!1;for(var s in r.children){if(!i.children[s])return!1;if(!e(i.children[s],r.children[s]))return!1}return!0}var o=n.slice(0,i.segments.length),a=n.slice(i.segments.length);return!!Jh(i.segments,o)&&!!i.children.primary&&t(i.children.primary,r,a)}(t,i,i.segments)}(e.root,t.root)}var Kh=function(){function e(t,i,r){_classCallCheck(this,e),this.root=t,this.queryParams=i,this.fragment=r}return _createClass(e,[{key:"toString",value:function(){return iu.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Ah(this.queryParams)),this._queryParamMap}}]),e}(),Xh=function(){function e(t,i){var r=this;_classCallCheck(this,e),this.segments=t,this.children=i,this.parent=null,Uh(i,(function(e,t){return e.parent=r}))}return _createClass(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return ru(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),e}(),Qh=function(){function e(t,i){_classCallCheck(this,e),this.path=t,this.parameters=i}return _createClass(e,[{key:"toString",value:function(){return du(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Ah(this.parameters)),this._parameterMap}}]),e}();function Jh(e,t){return e.length===t.length&&e.every((function(e,i){return e.path===t[i].path}))}function $h(e,t){var i=[];return Uh(e.children,(function(e,r){"primary"===r&&(i=i.concat(t(e,r)))})),Uh(e.children,(function(e,r){"primary"!==r&&(i=i.concat(t(e,r)))})),i}var eu=function e(){_classCallCheck(this,e)},tu=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e){var t=new fu(e);return new Kh(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){var t,i,r;return"".concat("/".concat(function e(t,i){if(!t.hasChildren())return ru(t);if(i){var r=t.children.primary?e(t.children.primary,!1):"",n=[];return Uh(t.children,(function(t,i){"primary"!==i&&n.push("".concat(i,":").concat(e(t,!1)))})),n.length>0?"".concat(r,"(").concat(n.join("//"),")"):r}var s=$h(t,(function(i,r){return"primary"===r?[e(t.children.primary,!1)]:["".concat(r,":").concat(e(i,!1))]}));return"".concat(ru(t),"/(").concat(s.join("//"),")")}(e.root,!0)),(i=e.queryParams,r=Object.keys(i).map((function(e){var t=i[e];return Array.isArray(t)?t.map((function(t){return"".concat(su(e),"=").concat(su(t))})).join("&"):"".concat(su(e),"=").concat(su(t))})),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof e.fragment?"#".concat((t=e.fragment,encodeURI(t))):"")}}]),e}(),iu=new tu;function ru(e){return e.segments.map((function(e){return du(e)})).join("/")}function nu(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function su(e){return nu(e).replace(/%3B/gi,";")}function ou(e){return nu(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function au(e){return decodeURIComponent(e)}function lu(e){return au(e.replace(/\+/g,"%20"))}function du(e){return"".concat(ou(e.path)).concat((t=e.parameters,Object.keys(t).map((function(e){return";".concat(ou(e),"=").concat(ou(t[e]))})).join("")));var t}var hu=/^[^\/()?;=#]+/;function uu(e){var t=e.match(hu);return t?t[0]:""}var cu=/^[^=?&#]+/,pu=/^[^?&#]+/,fu=function(){function e(t){_classCallCheck(this,e),this.url=t,this.remaining=t}return _createClass(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xh([],{}):new Xh([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i.primary=new Xh(e,t)),i}},{key:"parseSegment",value:function(){var e=uu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new Qh(au(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=uu(this.remaining);if(t){this.capture(t);var i="";if(this.consumeOptional("=")){var r=uu(this.remaining);r&&(i=r,this.capture(i))}e[au(t)]=au(i)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(cu);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var i="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(pu);return t?t[0]:""}(this.remaining);r&&(i=r,this.capture(i))}var n=lu(t),s=lu(i);if(e.hasOwnProperty(n)){var o=e[n];Array.isArray(o)||(o=[o],e[n]=o),o.push(s)}else e[n]=s}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var i=uu(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var n=void 0;i.indexOf(":")>-1?(n=i.substr(0,i.indexOf(":")),this.capture(n),this.capture(":")):e&&(n="primary");var s=this.parseChildren();t[n]=1===Object.keys(s).length?s.primary:new Xh([],s),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),mu=function(){function e(t){_classCallCheck(this,e),this._root=t}return _createClass(e,[{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=gu(e,this._root);return t?t.children.map((function(e){return e.value})):[]}},{key:"firstChild",value:function(e){var t=gu(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=vu(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))}},{key:"pathFromRoot",value:function(e){return vu(e,this._root).map((function(e){return e.value}))}},{key:"root",get:function(){return this._root.value}}]),e}();function gu(e,t){if(e===t.value)return t;var i,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(i=r.n()).done;){var n=gu(e,i.value);if(n)return n}}catch(s){r.e(s)}finally{r.f()}return null}function vu(e,t){if(e===t.value)return[t];var i,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(i=r.n()).done;){var n=vu(e,i.value);if(n.length)return n.unshift(t),n}}catch(s){r.e(s)}finally{r.f()}return[]}var wu=function(){function e(t,i){_classCallCheck(this,e),this.value=t,this.children=i}return _createClass(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function yu(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var bu=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r){var n;return _classCallCheck(this,i),(n=t.call(this,e)).snapshot=r,ku(_assertThisInitialized(n),e),n}return _createClass(i,[{key:"toString",value:function(){return this.snapshot.toString()}}]),i}(mu);function xu(e,t){var i=function(e,t){var i=new ju([],{},{},"",{},"primary",t,null,e.root,-1,{});return new qu("",new wu(i,[]))}(e,t),r=new xd([new Qh("",{})]),n=new xd({}),s=new xd({}),o=new xd({}),a=new xd(""),l=new _u(r,n,o,a,s,"primary",t,i.root);return l.snapshot=i.root,new bu(new wu(l,[]),i)}var _u=function(){function e(t,i,r,n,s,o,a,l){_classCallCheck(this,e),this.url=t,this.params=i,this.queryParams=r,this.fragment=n,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}return _createClass(e,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(N((function(e){return Ah(e)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(N((function(e){return Ah(e)})))),this._queryParamMap}}]),e}();function Cu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",i=e.pathFromRoot,r=0;if("always"!==t)for(r=i.length-1;r>=1;){var n=i[r],s=i[r-1];if(n.routeConfig&&""===n.routeConfig.path)r--;else{if(s.component)break;r--}}return function(e){return e.reduce((function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}}),{params:{},data:{},resolve:{}})}(i.slice(r))}var ju=function(){function e(t,i,r,n,s,o,a,l,d,h,u){_classCallCheck(this,e),this.url=t,this.params=i,this.queryParams=r,this.fragment=n,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=d,this._lastPathIndex=h,this._resolve=u}return _createClass(e,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(e){return e.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Ah(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Ah(this.queryParams)),this._queryParamMap}}]),e}(),qu=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,r){var n;return _classCallCheck(this,i),(n=t.call(this,r)).url=e,ku(_assertThisInitialized(n),r),n}return _createClass(i,[{key:"toString",value:function(){return Tu(this._root)}}]),i}(mu);function ku(e,t){t.value._routerState=e,t.children.forEach((function(t){return ku(e,t)}))}function Tu(e){var t=e.children.length>0?" { ".concat(e.children.map(Tu).join(", ")," } "):"";return"".concat(e.value).concat(t)}function Su(e){if(e.snapshot){var t=e.snapshot,i=e._futureSnapshot;e.snapshot=i,Rh(t.queryParams,i.queryParams)||e.queryParams.next(i.queryParams),t.fragment!==i.fragment&&e.fragment.next(i.fragment),Rh(t.params,i.params)||e.params.next(i.params),function(e,t){if(e.length!==t.length)return!1;for(var i=0;i<e.length;++i)if(!Rh(e[i],t[i]))return!1;return!0}(t.url,i.url)||e.url.next(i.url),Rh(t.data,i.data)||e.data.next(i.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Iu(e,t){var i,r;return Rh(e.params,t.params)&&Jh(i=e.url,r=t.url)&&i.every((function(e,t){return Rh(e.parameters,r[t].parameters)}))&&!(!e.parent!=!t.parent)&&(!e.parent||Iu(e.parent,t.parent))}function Du(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Pu(e,t,i,r,n){var s={};return r&&Uh(r,(function(e,t){s[t]=Array.isArray(e)?e.map((function(e){return"".concat(e)})):"".concat(e)})),new Kh(i.root===e?t:function e(t,i,r){var n={};return Uh(t.children,(function(t,s){n[s]=t===i?r:e(t,i,r)})),new Xh(t.segments,n)}(i.root,e,t),s,n)}var Eu=function(){function e(t,i,r){if(_classCallCheck(this,e),this.isAbsolute=t,this.numberOfDoubleDots=i,this.commands=r,t&&r.length>0&&Du(r[0]))throw new Error("Root segment cannot have matrix parameters");var n=r.find((function(e){return"object"==typeof e&&null!=e&&e.outlets}));if(n&&n!==Gh(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),Mu=function e(t,i,r){_classCallCheck(this,e),this.segmentGroup=t,this.processChildren=i,this.index=r};function Au(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:"".concat(e)}function Hu(e,t,i){if(e||(e=new Xh([],{})),0===e.segments.length&&e.hasChildren())return Ou(e,t,i);var r=function(e,t,i){for(var r=0,n=t,s={match:!1,pathIndex:0,commandIndex:0};n<e.segments.length;){if(r>=i.length)return s;var o=e.segments[n],a=Au(i[r]),l=r<i.length-1?i[r+1]:null;if(n>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!Lu(a,l,o))return s;r+=2}else{if(!Lu(a,{},o))return s;r++}n++}return{match:!0,pathIndex:n,commandIndex:r}}(e,t,i),n=i.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var s=new Xh(e.segments.slice(0,r.pathIndex),{});return s.children.primary=new Xh(e.segments.slice(r.pathIndex),e.children),Ou(s,0,n)}return r.match&&0===n.length?new Xh(e.segments,{}):r.match&&!e.hasChildren()?Bu(e,t,i):r.match?Ou(e,0,n):Bu(e,t,i)}function Ou(e,t,i){if(0===i.length)return new Xh(e.segments,{});var r=function(e){return"object"!=typeof e[0]||void 0===e[0].outlets?{primary:e}:e[0].outlets}(i),n={};return Uh(r,(function(i,r){null!==i&&(n[r]=Hu(e.children[r],t,i))})),Uh(e.children,(function(e,t){void 0===r[t]&&(n[t]=e)})),new Xh(e.segments,n)}function Bu(e,t,i){for(var r=e.segments.slice(0,t),n=0;n<i.length;){if("object"==typeof i[n]&&void 0!==i[n].outlets){var s=zu(i[n].outlets);return new Xh(r,s)}if(0===n&&Du(i[0]))r.push(new Qh(e.segments[t].path,i[0])),n++;else{var o=Au(i[n]),a=n<i.length-1?i[n+1]:null;o&&a&&Du(a)?(r.push(new Qh(o,Nu(a))),n+=2):(r.push(new Qh(o,{})),n++)}}return new Xh(r,{})}function zu(e){var t={};return Uh(e,(function(e,i){null!==e&&(t[i]=Bu(new Xh([],{}),0,e))})),t}function Nu(e){var t={};return Uh(e,(function(e,i){return t[i]="".concat(e)})),t}function Lu(e,t,i){return e==i.path&&Rh(t,i.parameters)}var Fu=function(){function e(t,i,r,n){_classCallCheck(this,e),this.routeReuseStrategy=t,this.futureState=i,this.currState=r,this.forwardEvent=n}return _createClass(e,[{key:"activate",value:function(e){var t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Su(this.futureState.root),this.activateChildRoutes(t,i,e)}},{key:"deactivateChildRoutes",value:function(e,t,i){var r=this,n=yu(t);e.children.forEach((function(e){var t=e.value.outlet;r.deactivateRoutes(e,n[t],i),delete n[t]})),Uh(n,(function(e,t){r.deactivateRouteAndItsChildren(e,i)}))}},{key:"deactivateRoutes",value:function(e,t,i){var r=e.value,n=t?t.value:null;if(r===n)if(r.component){var s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else n&&this.deactivateRouteAndItsChildren(t,i)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var i=t.getContext(e.value.outlet);if(i&&i.outlet){var r=i.outlet.detach(),n=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:n})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var i=this,r=t.getContext(e.value.outlet);if(r){var n=yu(e),s=e.value.component?r.children:t;Uh(n,(function(e,t){return i.deactivateRouteAndItsChildren(e,s)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,i){var r=this,n=yu(t);e.children.forEach((function(e){r.activateRoutes(e,n[e.value.outlet],i),r.forwardEvent(new Dh(e.value.snapshot))})),e.children.length&&this.forwardEvent(new Sh(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,i){var r=e.value,n=t?t.value:null;if(Su(r),r===n)if(r.component){var s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){var o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Ru(a.route)}else{var l=function(e){for(var t=e.parent;t;t=t.parent){var i=t.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig;if(i&&i.component)return null}return null}(r.snapshot),d=l?l.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=d,o.outlet&&o.outlet.activateWith(r,d),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}]),e}();function Ru(e){Su(e.value),e.children.forEach(Ru)}function Vu(e){return"function"==typeof e}function Wu(e){return e instanceof Kh}var Gu=function e(t){_classCallCheck(this,e),this.segmentGroup=t||null},Uu=function e(t){_classCallCheck(this,e),this.urlTree=t};function Yu(e){return new _((function(t){return t.error(new Gu(e))}))}function Zu(e){return new _((function(t){return t.error(new Uu(e))}))}function Ku(e){return new _((function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}))}var Xu=function(){function e(t,i,r,n,s){_classCallCheck(this,e),this.configLoader=i,this.urlSerializer=r,this.urlTree=n,this.config=s,this.allowRedirects=!0,this.ngModule=t.get($e)}return _createClass(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(N((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(Gd((function(t){if(t instanceof Uu)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof Gu)throw e.noMatchError(t);throw t})))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(N((function(i){return t.createUrlTree(i,e.queryParams,e.fragment)}))).pipe(Gd((function(e){if(e instanceof Gu)throw t.noMatchError(e);throw e})))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,i){var r=e.segments.length>0?new Xh([],{primary:e}):e;return new Kh(r,t,i)}},{key:"expandSegmentGroup",value:function(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(N((function(e){return new Xh([],e)}))):this.expandSegment(e,i,t,i.segments,r,!0)}},{key:"expandChildren",value:function(e,t,i){var r=this;return function(i,n){if(0===Object.keys(i).length)return bd({});var s=[],o=[],a={};return Uh(i,(function(i,n){var l,d,h=(l=n,d=i,r.expandSegmentGroup(e,t,d,l)).pipe(N((function(e){return a[n]=e})));"primary"===n?s.push(h):o.push(h)})),bd.apply(null,s.concat(o)).pipe(Id(),Wd(),N((function(){return a})))}(i.children)}},{key:"expandSegment",value:function(e,t,i,r,n,s){var o=this;return bd.apply(void 0,_toConsumableArray(i)).pipe(N((function(a){return o.expandSegmentAgainstRoute(e,t,i,a,r,n,s).pipe(Gd((function(e){if(e instanceof Gu)return bd(null);throw e})))})),Id(),Qd((function(e){return!!e})),Gd((function(e,i){if(e instanceof _d||"EmptyError"===e.name){if(o.noLeftoversInUrl(t,r,n))return bd(new Xh([],{}));throw new Gu(t)}throw e})))}},{key:"noLeftoversInUrl",value:function(e,t,i){return 0===t.length&&!e.children[i]}},{key:"expandSegmentAgainstRoute",value:function(e,t,i,r,n,s,o){return ec(r)!==s?Yu(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,n):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,n,s):Yu(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,i,r,n,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,n,s)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,i,r){var n=this,s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Zu(s):this.lineralizeSegments(i,s).pipe(W((function(i){var s=new Xh(i,{});return n.expandSegment(e,s,t,i,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,i,r,n,s){var o=this,a=Qu(t,r,n),l=a.matched,d=a.consumedSegments,h=a.lastChild,u=a.positionalParamSegments;if(!l)return Yu(t);var c=this.applyRedirectCommands(d,r.redirectTo,u);return r.redirectTo.startsWith("/")?Zu(c):this.lineralizeSegments(r,c).pipe(W((function(r){return o.expandSegment(e,t,i,r.concat(n.slice(h)),s,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(e,t,i,r){var n=this;if("**"===i.path)return i.loadChildren?this.configLoader.load(e.injector,i).pipe(N((function(e){return i._loadedConfig=e,new Xh(r,{})}))):bd(new Xh(r,{}));var s=Qu(t,i,r),o=s.matched,a=s.consumedSegments,l=s.lastChild;if(!o)return Yu(t);var d=r.slice(l);return this.getChildConfig(e,i,r).pipe(W((function(e){var i=e.module,r=e.routes,s=function(e,t,i,r){return i.length>0&&function(e,t,i){return i.some((function(i){return $u(e,t,i)&&"primary"!==ec(i)}))}(e,i,r)?{segmentGroup:Ju(new Xh(t,function(e,t){var i={};i.primary=t;var r,n=_createForOfIteratorHelper(e);try{for(n.s();!(r=n.n()).done;){var s=r.value;""===s.path&&"primary"!==ec(s)&&(i[ec(s)]=new Xh([],{}))}}catch(o){n.e(o)}finally{n.f()}return i}(r,new Xh(i,e.children)))),slicedSegments:[]}:0===i.length&&function(e,t,i){return i.some((function(i){return $u(e,t,i)}))}(e,i,r)?{segmentGroup:Ju(new Xh(e.segments,function(e,t,i,r){var n,s={},o=_createForOfIteratorHelper(i);try{for(o.s();!(n=o.n()).done;){var a=n.value;$u(e,t,a)&&!r[ec(a)]&&(s[ec(a)]=new Xh([],{}))}}catch(l){o.e(l)}finally{o.f()}return Object.assign(Object.assign({},r),s)}(e,i,r,e.children))),slicedSegments:i}:{segmentGroup:e,slicedSegments:i}}(t,a,d,r),o=s.segmentGroup,l=s.slicedSegments;return 0===l.length&&o.hasChildren()?n.expandChildren(i,r,o).pipe(N((function(e){return new Xh(a,e)}))):0===r.length&&0===l.length?bd(new Xh(a,{})):n.expandSegment(i,o,r,l,"primary",!0).pipe(N((function(e){return new Xh(a.concat(e.segments),e.children)})))})))}},{key:"getChildConfig",value:function(e,t,i){var r=this;return t.children?bd(new Bh(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?bd(t._loadedConfig):function(e,t,i){var r,n=t.canLoad;return n&&0!==n.length?V(n).pipe(N((function(r){var n,s=e.get(r);if(function(e){return e&&Vu(e.canLoad)}(s))n=s.canLoad(t,i);else{if(!Vu(s))throw new Error("Invalid CanLoad guard");n=s(t,i)}return Yh(n)}))).pipe(Id(),(r=function(e){return!0===e},function(e){return e.lift(new Jd(r,void 0,e))})):bd(!0)}(e.injector,t,i).pipe(W((function(i){return i?r.configLoader.load(e.injector,t).pipe(N((function(e){return t._loadedConfig=e,e}))):function(e){return new _((function(t){return t.error(Hh("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}))}(t)}))):bd(new Bh([],e))}},{key:"lineralizeSegments",value:function(e,t){for(var i=[],r=t.root;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return bd(i);if(r.numberOfChildren>1||!r.children.primary)return Ku(e.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,i,r){var n=this.createSegmentGroup(e,t.root,i,r);return new Kh(n,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var i={};return Uh(e,(function(e,r){if("string"==typeof e&&e.startsWith(":")){var n=e.substring(1);i[r]=t[n]}else i[r]=e})),i}},{key:"createSegmentGroup",value:function(e,t,i,r){var n=this,s=this.createSegments(e,t.segments,i,r),o={};return Uh(t.children,(function(t,s){o[s]=n.createSegmentGroup(e,t,i,r)})),new Xh(s,o)}},{key:"createSegments",value:function(e,t,i,r){var n=this;return t.map((function(t){return t.path.startsWith(":")?n.findPosParam(e,t,r):n.findOrReturn(t,i)}))}},{key:"findPosParam",value:function(e,t,i){var r=i[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var i,r=0,n=_createForOfIteratorHelper(t);try{for(n.s();!(i=n.n()).done;){var s=i.value;if(s.path===e.path)return t.splice(r),s;r++}}catch(o){n.e(o)}finally{n.f()}return e}}]),e}();function Qu(e,t,i){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||i.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(t.matcher||Oh)(i,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Ju(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new Xh(e.segments.concat(t.segments),t.children)}return e}function $u(e,t,i){return(!(e.hasChildren()||t.length>0)||"full"!==i.pathMatch)&&""===i.path&&void 0!==i.redirectTo}function ec(e){return e.outlet||"primary"}var tc=function e(t){_classCallCheck(this,e),this.path=t,this.route=this.path[this.path.length-1]},ic=function e(t,i){_classCallCheck(this,e),this.component=t,this.route=i};function rc(e,t,i){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var i=t.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig}return null}(t);return(r?r.module.injector:i).get(e)}function nc(e,t,i){var r=yu(e),n=e.value;Uh(r,(function(e,r){nc(e,n.component?t?t.children.getContext(r):null:t,i)})),i.canDeactivateChecks.push(new ic(n.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,n))}var sc=Symbol("INITIAL_VALUE");function oc(){return eh((function(e){return(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=null,n=null;return D(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),Z(t,n).lift(new jd(r))}).apply(void 0,_toConsumableArray(e.map((function(e){return e.pipe(Zd(1),function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=t[t.length-1];return D(r)?(t.pop(),function(e){return rh(t,e,r)}):function(e){return rh(t,e)}}(sc))})))).pipe(nh((function(e,t){var i=!1;return t.reduce((function(e,r,n){if(e!==sc)return e;if(r===sc&&(i=!0),!i){if(!1===r)return r;if(n===t.length-1||Wu(r))return r}return e}),e)}),sc),Dd((function(e){return e!==sc})),N((function(e){return Wu(e)?e:!0===e})),Zd(1))}))}function ac(e,t){return null!==e&&t&&t(new Ih(e)),bd(!0)}function lc(e,t){return null!==e&&t&&t(new Th(e)),bd(!0)}function dc(e,t,i){var r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?bd(r.map((function(r){return Sd((function(){var n,s=rc(r,t,i);if(function(e){return e&&Vu(e.canActivate)}(s))n=Yh(s.canActivate(t,e));else{if(!Vu(s))throw new Error("Invalid CanActivate guard");n=Yh(s(t,e))}return n.pipe(Qd())}))}))).pipe(oc()):bd(!0)}function hc(e,t,i){var r=t[t.length-1],n=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return Sd((function(){return bd(t.guards.map((function(n){var s,o=rc(n,t.node,i);if(function(e){return e&&Vu(e.canActivateChild)}(o))s=Yh(o.canActivateChild(r,e));else{if(!Vu(o))throw new Error("Invalid CanActivateChild guard");s=Yh(o(r,e))}return s.pipe(Qd())}))).pipe(oc())}))}));return bd(n).pipe(oc())}var uc=function e(){_classCallCheck(this,e)},cc=function(){function e(t,i,r,n,s,o){_classCallCheck(this,e),this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=n,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}return _createClass(e,[{key:"recognize",value:function(){try{var e=mc(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),i=new ju([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new wu(i,t),n=new qu(this.url,r);return this.inheritParamsAndData(n._root),bd(n)}catch(s){return new _((function(e){return e.error(s)}))}}},{key:"inheritParamsAndData",value:function(e){var t=this,i=e.value,r=Cu(i,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))}},{key:"processSegmentGroup",value:function(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}},{key:"processChildren",value:function(e,t){var i,r=this,n=$h(t,(function(t,i){return r.processSegmentGroup(e,t,i)}));return i={},n.forEach((function(e){var t=i[e.value.outlet];if(t){var r=t.url.map((function(e){return e.toString()})).join("/"),n=e.value.url.map((function(e){return e.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(n,"'."))}i[e.value.outlet]=e.value})),n.sort((function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)})),n}},{key:"processSegment",value:function(e,t,i,r){var n,s=_createForOfIteratorHelper(e);try{for(s.s();!(n=s.n()).done;){var o=n.value;try{return this.processSegmentAgainstRoute(o,t,i,r)}catch(a){if(!(a instanceof uc))throw a}}}catch(l){s.e(l)}finally{s.f()}if(this.noLeftoversInUrl(t,i,r))return[];throw new uc}},{key:"noLeftoversInUrl",value:function(e,t,i){return 0===t.length&&!e.children[i]}},{key:"processSegmentAgainstRoute",value:function(e,t,i,r){if(e.redirectTo)throw new uc;if((e.outlet||"primary")!==r)throw new uc;var n,s=[],o=[];if("**"===e.path){var a=i.length>0?Gh(i).parameters:{};n=new ju(i,a,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,wc(e),r,e.component,e,pc(t),fc(t)+i.length,yc(e))}else{var l=function(e,t,i){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||i.length>0))throw new uc;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(t.matcher||Oh)(i,e,t);if(!r)throw new uc;var n={};Uh(r.posParams,(function(e,t){n[t]=e.path}));var s=r.consumed.length>0?Object.assign(Object.assign({},n),r.consumed[r.consumed.length-1].parameters):n;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(t,e,i);s=l.consumedSegments,o=i.slice(l.lastChild),n=new ju(s,l.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,wc(e),r,e.component,e,pc(t),fc(t)+s.length,yc(e))}var d=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),h=mc(t,s,o,d,this.relativeLinkResolution),u=h.segmentGroup,c=h.slicedSegments;if(0===c.length&&u.hasChildren()){var p=this.processChildren(d,u);return[new wu(n,p)]}if(0===d.length&&0===c.length)return[new wu(n,[])];var f=this.processSegment(d,u,c,"primary");return[new wu(n,f)]}}]),e}();function pc(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function fc(e){for(var t=e,i=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)i+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return i-1}function mc(e,t,i,r,n){if(i.length>0&&function(e,t,i){return i.some((function(i){return gc(e,t,i)&&"primary"!==vc(i)}))}(e,i,r)){var s=new Xh(t,function(e,t,i,r){var n={};n.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var s,o=_createForOfIteratorHelper(i);try{for(o.s();!(s=o.n()).done;){var a=s.value;if(""===a.path&&"primary"!==vc(a)){var l=new Xh([],{});l._sourceSegment=e,l._segmentIndexShift=t.length,n[vc(a)]=l}}}catch(d){o.e(d)}finally{o.f()}return n}(e,t,r,new Xh(i,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===i.length&&function(e,t,i){return i.some((function(i){return gc(e,t,i)}))}(e,i,r)){var o=new Xh(e.segments,function(e,t,i,r,n,s){var o,a={},l=_createForOfIteratorHelper(r);try{for(l.s();!(o=l.n()).done;){var d=o.value;if(gc(e,i,d)&&!n[vc(d)]){var h=new Xh([],{});h._sourceSegment=e,h._segmentIndexShift="legacy"===s?e.segments.length:t.length,a[vc(d)]=h}}}catch(u){l.e(u)}finally{l.f()}return Object.assign(Object.assign({},n),a)}(e,t,i,r,e.children,n));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:i}}var a=new Xh(e.segments,e.children);return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:i}}function gc(e,t,i){return(!(e.hasChildren()||t.length>0)||"full"!==i.pathMatch)&&""===i.path&&void 0===i.redirectTo}function vc(e){return e.outlet||"primary"}function wc(e){return e.data||{}}function yc(e){return e.resolve||{}}function bc(e,t,i,r){var n=rc(e,t,r);return Yh(n.resolve?n.resolve(t,i):n(t,i))}function xc(e){return function(t){return t.pipe(eh((function(t){var i=e(t);return i?V(i).pipe(N((function(){return t}))):V([t])})))}}var _c=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}(),Cc=new Le("ROUTES"),jc=function(){function e(t,i,r,n){_classCallCheck(this,e),this.loader=t,this.compiler=i,this.onLoadStartListener=r,this.onLoadEndListener=n}return _createClass(e,[{key:"load",value:function(e,t){var i=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(N((function(r){i.onLoadEndListener&&i.onLoadEndListener(t);var n=r.create(e);return new Bh(Wh(n.injector.get(Cc)).map(Fh),n)})))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?V(this.loader.load(e)):Yh(e()).pipe(W((function(e){return e instanceof et?bd(e):V(t.compiler.compileModuleAsync(e))})))}}]),e}(),qc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function kc(e){throw e}function Tc(e,t,i){return t.parse("/")}function Sc(e,t){return bd(null)}var Ic,Dc,Pc=((Dc=function(){function e(t,i,r,n,s,o,a,l){var d=this;_classCallCheck(this,e),this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=n,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new S,this.errorHandler=kc,this.malformedUriErrorHandler=Tc,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Sc,afterPreactivation:Sc},this.urlHandlingStrategy=new qc,this.routeReuseStrategy=new _c,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get($e),this.console=s.get(Lo);var h=s.get(ea);this.isNgZoneEnabled=h instanceof ea,this.resetConfig(l),this.currentUrlTree=new Kh(new Xh([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new jc(o,a,(function(e){return d.triggerEvent(new qh(e))}),(function(e){return d.triggerEvent(new kh(e))})),this.routerState=xu(this.currentUrlTree,this.rootComponentType),this.transitions=new xd({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(e,[{key:"setupNavigations",value:function(e){var t=this,i=this.events;return e.pipe(Dd((function(e){return 0!==e.id})),N((function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),eh((function(e){var r,n,s,o,a=!1,l=!1;return bd(e).pipe(dh((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}})),eh((function(e){var r,n,s,o,a=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||a)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return bd(e).pipe(eh((function(e){var r=t.transitions.getValue();return i.next(new gh(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?kd:[e]})),eh((function(e){return Promise.resolve(e)})),(r=t.ngModule.injector,n=t.configLoader,s=t.urlSerializer,o=t.config,function(e){return e.pipe(eh((function(e){return function(e,t,i,r,n){return new Xu(e,t,i,r,n).apply()}(r,n,s,e.extractedUrl,o).pipe(N((function(t){return Object.assign(Object.assign({},e),{urlAfterRedirects:t})})))})))}),dh((function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})})),function(e,i,r,n,s){return function(r){return r.pipe(W((function(r){return function(e,t,i,r){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new cc(e,t,i,r,n,s).recognize()}(e,i,r.urlAfterRedirects,(o=r.urlAfterRedirects,t.serializeUrl(o)),n,s).pipe(N((function(e){return Object.assign(Object.assign({},r),{targetSnapshot:e})})));var o})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),dh((function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),dh((function(e){var r=new bh(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);i.next(r)})));if(a&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var l=e.id,d=e.extractedUrl,h=e.source,u=e.restoredState,c=e.extras,p=new gh(l,t.serializeUrl(d),h,u);i.next(p);var f=xu(d,t.rootComponentType).snapshot;return bd(Object.assign(Object.assign({},e),{targetSnapshot:f,urlAfterRedirects:d,extras:Object.assign(Object.assign({},c),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),kd})),xc((function(e){var i=e.targetSnapshot,r=e.id,n=e.extractedUrl,s=e.rawUrl,o=e.extras,a=o.skipLocationChange,l=o.replaceUrl;return t.hooks.beforePreactivation(i,{navigationId:r,appliedUrlTree:n,rawUrlTree:s,skipLocationChange:!!a,replaceUrl:!!l})})),dh((function(e){var i=new xh(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(i)})),N((function(e){return Object.assign(Object.assign({},e),{guards:(i=e.targetSnapshot,r=e.currentSnapshot,n=t.rootContexts,s=i._root,function e(t,i,r,n){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=yu(i);return t.children.forEach((function(t){!function(t,i,r,n){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=t.value,a=i?i.value:null,l=r?r.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var d=function(e,t,i){if("function"==typeof i)return i(e,t);switch(i){case"pathParamsChange":return!Jh(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Jh(e.url,t.url)||!Rh(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Iu(e,t)||!Rh(e.queryParams,t.queryParams);case"paramsChange":default:return!Iu(e,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);d?s.canActivateChecks.push(new tc(n)):(o.data=a.data,o._resolvedData=a._resolvedData),e(t,i,o.component?l?l.children:null:r,n,s),d&&s.canDeactivateChecks.push(new ic(l&&l.outlet&&l.outlet.component||null,a))}else a&&nc(i,l,s),s.canActivateChecks.push(new tc(n)),e(t,null,o.component?l?l.children:null:r,n,s)}(t,o[t.value.outlet],r,n.concat([t.value]),s),delete o[t.value.outlet]})),Uh(o,(function(e,t){return nc(e,r.getContext(t),s)})),s}(s,r?r._root:null,n,[s.value]))});var i,r,n,s})),function(e,t){return function(i){return i.pipe(W((function(i){var r=i.targetSnapshot,n=i.currentSnapshot,s=i.guards,o=s.canActivateChecks,a=s.canDeactivateChecks;return 0===a.length&&0===o.length?bd(Object.assign(Object.assign({},i),{guardsResult:!0})):function(e,t,i,r){return V(e).pipe(W((function(e){return function(e,t,i,r,n){var s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?bd(s.map((function(s){var o,a=rc(s,t,n);if(function(e){return e&&Vu(e.canDeactivate)}(a))o=Yh(a.canDeactivate(e,t,i,r));else{if(!Vu(a))throw new Error("Invalid CanDeactivate guard");o=Yh(a(e,t,i,r))}return o.pipe(Qd())}))).pipe(oc()):bd(!0)}(e.component,e.route,i,t,r)})),Qd((function(e){return!0!==e}),!0))}(a,r,n,e).pipe(W((function(i){return i&&"boolean"==typeof i?function(e,t,i,r){return V(t).pipe(ah((function(t){return V([lc(t.route.parent,r),ac(t.route,r),hc(e,t.path,i),dc(e,t.route,i)]).pipe(Id(),Qd((function(e){return!0!==e}),!0))})),Qd((function(e){return!0!==e}),!0))}(r,o,e,t):bd(i)})),N((function(e){return Object.assign(Object.assign({},i),{guardsResult:e})})))})))}}(t.ngModule.injector,(function(e){return t.triggerEvent(e)})),dh((function(e){if(Wu(e.guardsResult)){var i=Hh('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw i.url=e.guardsResult,i}})),dh((function(e){var i=new _h(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(i)})),Dd((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new wh(e.id,t.serializeUrl(e.extractedUrl),"");return i.next(r),e.resolve(!1),!1}return!0})),xc((function(e){if(e.guards.canActivateChecks.length)return bd(e).pipe(dh((function(e){var i=new Ch(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(i)})),(i=t.paramsInheritanceStrategy,r=t.ngModule.injector,function(e){return e.pipe(W((function(e){var t=e.targetSnapshot,n=e.guards.canActivateChecks;return n.length?V(n).pipe(ah((function(e){return function(e,t,i,r){return function(e,t,i,r){var n=Object.keys(e);if(0===n.length)return bd({});if(1===n.length){var s=n[0];return bc(e[s],t,i,r).pipe(N((function(e){return _defineProperty({},s,e)})))}var o={};return V(n).pipe(W((function(n){return bc(e[n],t,i,r).pipe(N((function(e){return o[n]=e,e})))}))).pipe(Wd(),N((function(){return o})))}(e._resolve,e,t,r).pipe(N((function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Cu(e,i).resolve),null})))}(e.route,t,i,r)})),function(e,t){return arguments.length>=2?function(i){return y(nh(e,t),Ad(1),Fd(t))(i)}:function(t){return y(nh((function(t,i,r){return e(t,i,r+1)})),Ad(1))(t)}}((function(e,t){return e})),N((function(t){return e}))):bd(e)})))}),dh((function(e){var i=new jh(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(i)})));var i,r})),xc((function(e){var i=e.targetSnapshot,r=e.id,n=e.extractedUrl,s=e.rawUrl,o=e.extras,a=o.skipLocationChange,l=o.replaceUrl;return t.hooks.afterPreactivation(i,{navigationId:r,appliedUrlTree:n,rawUrlTree:s,skipLocationChange:!!a,replaceUrl:!!l})})),N((function(e){var i=function(e,t,i){var r=function e(t,i,r){if(r&&t.shouldReuseRoute(i.value,r.value.snapshot)){var n=r.value;n._futureSnapshot=i.value;var s=function(t,i,r){return i.children.map((function(i){var n,s=_createForOfIteratorHelper(r.children);try{for(s.s();!(n=s.n()).done;){var o=n.value;if(t.shouldReuseRoute(o.value.snapshot,i.value))return e(t,i,o)}}catch(a){s.e(a)}finally{s.f()}return e(t,i)}))}(t,i,r);return new wu(n,s)}var o=t.retrieve(i.value);if(o){var a=o.route;return function e(t,i){if(t.value.routeConfig!==i.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==i.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");i.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],i.children[r])}(i,a),a}var l,d=new _u(new xd((l=i.value).url),new xd(l.params),new xd(l.queryParams),new xd(l.fragment),new xd(l.data),l.outlet,l.component,l),h=i.children.map((function(i){return e(t,i)}));return new wu(d,h)}(e,t._root,i?i._root:void 0);return new bu(r,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:i})})),dh((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),(n=t.rootContexts,s=t.routeReuseStrategy,o=function(e){return t.triggerEvent(e)},N((function(e){return new Fu(s,e.targetRouterState,e.currentRouterState,o).activate(n),e}))),dh({next:function(){a=!0},complete:function(){a=!0}}),(r=function(){if(!a&&!l){t.resetUrlToCurrentUrlTree();var r=new wh(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));i.next(r),e.resolve(!1)}t.currentNavigation=null},function(e){return e.lift(new ph(r))}),Gd((function(r){if(l=!0,(a=r)&&a.ngNavigationCancelingError){var n=Wu(r.url);n||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var s=new wh(e.id,t.serializeUrl(e.extractedUrl),r.message);i.next(s),n?setTimeout((function(){var i=t.urlHandlingStrategy.merge(r.url,t.rawUrlTree);return t.scheduleNavigation(i,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})}),0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var o=new yh(e.id,t.serializeUrl(e.extractedUrl),r);i.next(o);try{e.resolve(t.errorHandler(r))}catch(d){e.reject(d)}}var a;return kd})))})))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var i=e.parseUrl(t.url),r="popstate"===t.type?"popstate":"hashchange",n=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(i,r,n,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){zh(e),this.config=e.map(Fh),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.relativeTo,r=t.queryParams,n=t.fragment,s=t.preserveQueryParams,o=t.queryParamsHandling,a=t.preserveFragment;Ji()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var l=i||this.routerState.root,d=a?this.currentUrlTree.fragment:n,h=null;if(o)switch(o){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}else h=s?this.currentUrlTree.queryParams:r||null;return null!==h&&(h=this.removeEmptyProps(h)),function(e,t,i,r,n){if(0===i.length)return Pu(t.root,t.root,t,r,n);var s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Eu(!0,0,e);var t=0,i=!1,r=e.reduce((function(e,r,n){if("object"==typeof r&&null!=r){if(r.outlets){var s={};return Uh(r.outlets,(function(e,t){s[t]="string"==typeof e?e.split("/"):e})),[].concat(_toConsumableArray(e),[{outlets:s}])}if(r.segmentPath)return[].concat(_toConsumableArray(e),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(e),[r]):0===n?(r.split("/").forEach((function(r,n){0==n&&"."===r||(0==n&&""===r?i=!0:".."===r?t++:""!=r&&e.push(r))})),e):[].concat(_toConsumableArray(e),[r])}),[]);return new Eu(i,t,r)}(i);if(s.toRoot())return Pu(t.root,new Xh([],{}),t,r,n);var o=function(e,t,i){if(e.isAbsolute)return new Mu(t.root,!0,0);if(-1===i.snapshot._lastPathIndex)return new Mu(i.snapshot._urlSegment,!0,0);var r=Du(e.commands[0])?0:1;return function(e,t,i){for(var r=e,n=t,s=i;s>n;){if(s-=n,!(r=r.parent))throw new Error("Invalid number of '../'");n=r.segments.length}return new Mu(r,!1,n-s)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?Ou(o.segmentGroup,o.index,s.commands):Hu(o.segmentGroup,o.index,s.commands);return Pu(o.segmentGroup,a,t,r,n)}(l,this.currentUrlTree,e,h,d)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Ji()&&this.isNgZoneEnabled&&!ea.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var i=Wu(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var i=e[t];if(null==i)throw new Error("The requested path contains ".concat(i," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(i){t=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(Wu(e))return Zh(this.currentUrlTree,e,t);var i=this.parseUrl(e);return Zh(this.currentUrlTree,i,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce((function(t,i){var r=e[i];return null!=r&&(t[i]=r),t}),{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new vh(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(e,t,i,r,n){var s,o,a,l=this.getTransition();if(l&&"imperative"!==t&&"imperative"===l.source&&l.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(l&&"hashchange"==t&&"popstate"===l.source&&l.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(l&&"popstate"==t&&"hashchange"===l.source&&l.rawUrl.toString()===e.toString())return Promise.resolve(!0);n?(s=n.resolve,o=n.reject,a=n.promise):a=new Promise((function(e,t){s=e,o=t}));var d=++this.navigationId;return this.setTransition({id:d,source:t,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:s,reject:o,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch((function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,i,r){var n=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(n)||t?this.location.replaceState(n,"",Object.assign(Object.assign({},r),{navigationId:i})):this.location.go(n,"",Object.assign(Object.assign({},r),{navigationId:i}))}},{key:"resetStateAndUrl",value:function(e,t,i){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),e}()).\u0275fac=function(e){hs()},Dc.\u0275dir=gt({type:Dc}),Dc),Ec=((Ic=function(){function e(t,i,r){var n=this;_classCallCheck(this,e),this.router=t,this.route=i,this.locationStrategy=r,this.commands=[],this.subscription=t.events.subscribe((function(e){e instanceof vh&&n.updateTargetUrlAndHref()}))}return _createClass(e,[{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,i,r){if(0!==e||t||i||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var n={skipLocationChange:Mc(this.skipLocationChange),replaceUrl:Mc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,n),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Ji()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Mc(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Mc(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||Ic)(ds(Pc),ds(_u),ds(Ga))},Ic.\u0275dir=gt({type:Ic,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&ws("click",(function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)})),2&e&&(_s("href",t.href,ir),ls("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[qs]}),Ic);function Mc(e){return""===e||!!e}var Ac,Hc,Oc,Bc=function e(){_classCallCheck(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new zc,this.attachRef=null},zc=function(){function e(){_classCallCheck(this,e),this.contexts=new Map}return _createClass(e,[{key:"onChildOutletCreated",value:function(e,t){var i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new Bc,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),Nc=((Ac=function(){function e(t,i,r,n,s){_classCallCheck(this,e),this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new wo,this.deactivateEvents=new wo,this.name=n||"primary",t.onChildOutletCreated(this.name,this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var i=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,n=new Lc(e,r,this.location.injector);this.activated=this.location.createComponent(i,this.location.length,n),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),e}()).\u0275fac=function(e){return new(e||Ac)(ds(zc),ds(eo),ds(Ds),function(e,t){var i=e.attrs;if(i)for(var r=i.length,n=0;n<r;){var s=i[n];if(yi(s))break;if(0===s)n+=2;else if("number"==typeof s)for(n++;n<r&&"string"==typeof i[n];)n++;else{if("name"===s)return i[n+1];n+=2}}return null}(Wt()),ds(Hn))},Ac.\u0275dir=gt({type:Ac,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),Ac),Lc=function(){function e(t,i,r){_classCallCheck(this,e),this.route=t,this.childContexts=i,this.parent=r}return _createClass(e,[{key:"get",value:function(e,t){return e===_u?this.route:e===zc?this.childContexts:this.parent.get(e,t)}}]),e}(),Fc=function e(){_classCallCheck(this,e)},Rc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return bd(null)}}]),e}(),Vc=((Oc=function(){function e(t,i,r,n,s){_classCallCheck(this,e),this.router=t,this.injector=n,this.preloadingStrategy=s,this.loader=new jc(i,r,(function(e){return t.triggerEvent(new qh(e))}),(function(e){return t.triggerEvent(new kh(e))}))}return _createClass(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(Dd((function(e){return e instanceof vh})),ah((function(){return e.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var e=this.injector.get($e);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var i,r=[],n=_createForOfIteratorHelper(t);try{for(n.s();!(i=n.n()).done;){var s=i.value;if(s.loadChildren&&!s.canLoad&&s._loadedConfig){var o=s._loadedConfig;r.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(e,s)):s.children&&r.push(this.processRoutes(e,s.children))}}catch(a){n.e(a)}finally{n.f()}return V(r).pipe(Y(),N((function(e){})))}},{key:"preloadConfig",value:function(e,t){var i=this;return this.preloadingStrategy.preload(t,(function(){return i.loader.load(e.injector,t).pipe(W((function(e){return t._loadedConfig=e,i.processRoutes(e.module,e.routes)})))}))}}]),e}()).\u0275fac=function(e){return new(e||Oc)(Ke(Pc),Ke(_a),Ke(Xo),Ke(Xn),Ke(Fc))},Oc.\u0275prov=ce({token:Oc,factory:Oc.\u0275fac}),Oc),Wc=((Hc=function(){function e(t,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof gh?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof vh&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof Ph&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new Ph(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){hs()},Hc.\u0275dir=gt({type:Hc}),Hc),Gc=new Le("ROUTER_CONFIGURATION"),Uc=new Le("ROUTER_FORROOT_GUARD"),Yc=[$a,{provide:eu,useClass:tu},{provide:Pc,useFactory:function(e,t,i,r,n,s,o){var a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},l=arguments.length>8?arguments[8]:void 0,d=arguments.length>9?arguments[9]:void 0,h=new Pc(null,e,t,i,r,n,s,Wh(o));if(l&&(h.urlHandlingStrategy=l),d&&(h.routeReuseStrategy=d),a.errorHandler&&(h.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(h.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){var u=Pa();h.events.subscribe((function(e){u.logGroup("Router Event: ".concat(e.constructor.name)),u.log(e.toString()),u.log(e),u.logGroupEnd()}))}return a.onSameUrlNavigation&&(h.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(h.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(h.relativeLinkResolution=a.relativeLinkResolution),h},deps:[eu,zc,$a,Xn,_a,Xo,Cc,Gc,[function(){return function e(){_classCallCheck(this,e)}}(),new ae],[function(){return function e(){_classCallCheck(this,e)}}(),new ae]]},zc,{provide:_u,useFactory:function(e){return e.routerState.root},deps:[Pc]},{provide:_a,useClass:qa},Vc,Rc,function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return t().pipe(Gd((function(){return bd(null)})))}}]),e}(),{provide:Gc,useValue:{enableTracing:!1}}];function Zc(){return new fa("Router",Pc)}var Kc,Xc=((Kc=function(){function e(t,i){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t,i){return{ngModule:e,providers:[Yc,ep(t),{provide:Uc,useFactory:$c,deps:[[Pc,new ae,new de]]},{provide:Gc,useValue:i||{}},{provide:Ga,useFactory:Jc,deps:[Aa,[new oe(Xa),new ae],Gc]},{provide:Wc,useFactory:Qc,deps:[Pc,pl,Gc]},{provide:Fc,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Rc},{provide:fa,multi:!0,useFactory:Zc},[ip,{provide:Eo,multi:!0,useFactory:rp,deps:[ip]},{provide:op,useFactory:np,deps:[ip]},{provide:No,multi:!0,useExisting:op}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[ep(t)]}}}]),e}()).\u0275mod=ft({type:Kc}),Kc.\u0275inj=pe({factory:function(e){return new(e||Kc)(Ke(Uc,8),Ke(Pc,8))}}),Kc);function Qc(e,t,i){return i.scrollOffset&&t.setOffset(i.scrollOffset),new Wc(e,t,i)}function Jc(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.useHash?new Ja(e,t):new Qa(e,t)}function $c(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ep(e){return[{provide:Qn,multi:!0,useValue:e},{provide:Cc,multi:!0,useValue:e}]}var tp,ip=((tp=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new S}return _createClass(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(Ba,Promise.resolve(null)).then((function(){var t=null,i=new Promise((function(e){return t=e})),r=e.injector.get(Pc),n=e.injector.get(Gc);if(e.isLegacyDisabled(n)||e.isLegacyEnabled(n))t(!0);else if("disabled"===n.initialNavigation)r.setUpLocationChangeListener(),t(!0);else{if("enabled"!==n.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(n.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return e.initNavigation?bd(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()}return i}))}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(Gc),i=this.injector.get(Vc),r=this.injector.get(Wc),n=this.injector.get(Pc),s=this.injector.get(ba);e===s.components[0]&&(this.isLegacyEnabled(t)?n.initialNavigation():this.isLegacyDisabled(t)&&n.setUpLocationChangeListener(),i.setUpPreloading(),r.init(),n.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),e}()).\u0275fac=function(e){return new(e||tp)(Ke(Xn))},tp.\u0275prov=ce({token:tp,factory:tp.\u0275fac}),tp);function rp(e){return e.appInitializer.bind(e)}function np(e){return e.bootstrapListener.bind(e)}var sp,op=new Le("Router Initializer"),ap=((sp=function(){function e(){_classCallCheck(this,e),this.data=yd(500,!1),this.source={localdata:yd(500,!1),datafields:[{name:"name",type:"string"},{name:"productname",type:"string"},{name:"available",type:"bool"},{name:"date",type:"date"},{name:"quantity",type:"number"}],datatype:"array"},this.dataAdapter=new jqx.dataAdapter(this.source),this.columns=[{text:"Name",columntype:"textbox",datafield:"name",width:"20%"},{text:"Product",datafield:"productname",width:"35%"},{text:"Ship Date",datafield:"date",filtertype:"date",width:"30%",cellsalign:"right",cellsformat:"d"},{text:"Qty.",datafield:"quantity",width:"15%",cellsalign:"right"}]}return _createClass(e,[{key:"getWidth",value:function(){return document.body.offsetWidth<850?"90%":850}}]),e}()).\u0275fac=function(e){return new(e||sp)},sp.\u0275cmp=ht({type:sp,selectors:[["app-root"]],decls:11,vars:0,consts:[["routerLink","home"],["routerLink","home1"],["routerLink","home2"]],template:function(e,t){1&e&&(ps(0,"ul"),ps(1,"li"),ps(2,"a",0),xs(3,"Home"),fs(),fs(),ps(4,"li"),ps(5,"a",1),xs(6,"Home 1"),fs(),fs(),ps(7,"li"),ps(8,"a",2),xs(9,"Home 2"),fs(),fs(),fs(),ms(10,"router-outlet"))},directives:[Ec,Nc],styles:["p{font-family:Lato}ul li{display:inline-block;margin:0 5px}"],encapsulation:2}),sp);function lp(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o}function dp(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}i("aif6"),i("8/F6"),i("3Vay"),i("o6h3"),i("XVdp"),i("m8ln"),i("oUPQ"),i("HhK0"),i("zo9f"),i("MqFM"),i("QvPE"),i("OO9A"),i("/eVi"),i("6cDQ"),i("osYp"),i("zblH"),i("c7Xc"),i("CwaN"),i("V/5F"),i("Llok"),i("SkuG"),i("YIBi"),i("iG1v"),i("iojg"),i("04mn"),i("yrH0"),i("bDid"),i("ypXO");var hp=function(){function e(t){_classCallCheck(this,e),this.autoCreate=!0,this.properties=["altrows","altstart","altstep","autoshowloadelement","autoshowfiltericon","autoshowcolumnsmenubutton","showcolumnlines","showrowlines","showcolumnheaderlines","adaptive","adaptivewidth","clipboard","closeablegroups","columnsmenuwidth","columnmenuopening","columnmenuclosing","cellhover","enablekeyboarddelete","enableellipsis","enablemousewheel","enableanimations","enabletooltips","enablehover","enablebrowserselection","everpresentrowposition","everpresentrowheight","everpresentrowactions","everpresentrowactionsmode","filterrowheight","filtermode","groupsrenderer","groupcolumnrenderer","groupsexpandedbydefault","handlekeyboardnavigation","pagerrenderer","rtl","showdefaultloadelement","showfiltercolumnbackground","showfiltermenuitems","showpinnedcolumnbackground","showsortcolumnbackground","showsortmenuitems","showgroupmenuitems","showrowdetailscolumn","showheader","showgroupsheader","showaggregates","showgroupaggregates","showeverpresentrow","showfilterrow","showemptyrow","showstatusbar","statusbarheight","showtoolbar","selectionmode","updatefilterconditions","updatefilterpanel","theme","toolbarheight","autoheight","autorowheight","columnsheight","deferreddatafields","groupsheaderheight","groupindentwidth","height","pagerheight","rowsheight","scrollbarsize","scrollmode","scrollfeedback","width","autosavestate","autoloadstate","columns","columngroups","columnsmenu","columnsresize","columnsautoresize","columnsreorder","charting","disabled","editable","editmode","filter","filterable","groupable","groups","horizontalscrollbarstep","horizontalscrollbarlargestep","initrowdetails","keyboardnavigation","localization","pagesize","pagesizeoptions","pagermode","pagerbuttonscount","pageable","rowdetails","rowdetailstemplate","ready","rendered","renderstatusbar","rendertoolbar","rendergridrows","sortable","sortmode","selectedrowindex","selectedrowindexes","source","sorttogglestates","updatedelay","virtualmode","verticalscrollbarstep","verticalscrollbarlargestep"],this.onBindingcomplete=new wo,this.onColumnresized=new wo,this.onColumnreordered=new wo,this.onColumnclick=new wo,this.onCellclick=new wo,this.onCelldoubleclick=new wo,this.onCellselect=new wo,this.onCellunselect=new wo,this.onCellvaluechanged=new wo,this.onCellbeginedit=new wo,this.onCellendedit=new wo,this.onFilter=new wo,this.onGroupschanged=new wo,this.onGroupexpand=new wo,this.onGroupcollapse=new wo,this.onPagechanged=new wo,this.onPagesizechanged=new wo,this.onRowclick=new wo,this.onRowdoubleclick=new wo,this.onRowselect=new wo,this.onRowunselect=new wo,this.onRowexpand=new wo,this.onRowcollapse=new wo,this.onSort=new wo,this.elementRef=t}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var e="",t={};if(JQXLite(this.elementRef.nativeElement.children).find("tr").length>0){this.container=document.createElement("div"),e=this.elementRef.nativeElement.innerHTML,this.container.appendChild(this.elementRef.nativeElement.firstChild),this.elementRef.nativeElement.innerHTML=e,this.content=e;var i=JQXLite.jqx.parseSourceTag(this.container);void 0!==this.attrColumns?t.source=i.source:(t.source=i.source,t.columns=i.columns)}this.autoCreate&&this.createComponent(t)}},{key:"ngAfterViewChecked",value:function(){if(this.container&&this.content!==this.container.innerHTML){this.content=this.container.innerHTML;var e=JQXLite.jqx.parseSourceTag(this.container),t=this.host.jqxGrid("columns");this.host.jqxGrid(0===t.length?{source:e.source,columns:e.columns}:{source:e.source})}}},{key:"ngOnChanges",value:function(e){if(this.host)for(var t=0;t<this.properties.length;t++){var i="attr"+this.properties[t].substring(0,1).toUpperCase()+this.properties[t].substring(1),r=!1;if(void 0!==this[i]){if("object"==typeof this[i]){if(this[i]instanceof Array&&(r=this.arraysEqual(this[i],this.host.jqxGrid(this.properties[t]))),r)return!1;this.host.jqxGrid(this.properties[t],this[i]);continue}this[i]!==this.host.jqxGrid(this.properties[t])&&this.host.jqxGrid(this.properties[t],this[i])}}}},{key:"arraysEqual",value:function(e,t){if(e&&!t||!e&&t)return!1;if(e.length!=t.length)return!1;for(var i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}},{key:"manageAttributes",value:function(){for(var e={},t=0;t<this.properties.length;t++){var i="attr"+this.properties[t].substring(0,1).toUpperCase()+this.properties[t].substring(1);void 0!==this[i]&&(e[this.properties[t]]=this[i])}return e}},{key:"moveClasses",value:function(e,t){var i,r=e.classList;r.length>0&&(i=t.classList).add.apply(i,_toConsumableArray(r)),e.className=""}},{key:"moveStyles",value:function(e,t){t.style.cssText=e.style.cssText,e.style.cssText=""}},{key:"createComponent",value:function(e){this.host||(e?JQXLite.extend(e,this.manageAttributes()):e=this.manageAttributes(),this.host=JQXLite(this.elementRef.nativeElement.firstChild),this.moveClasses(this.elementRef.nativeElement,this.host[0]),this.moveStyles(this.elementRef.nativeElement,this.host[0]),this.__wireEvents__(),this.widgetObject=jqwidgets.createInstance(this.host,"jqxGrid",e))}},{key:"createWidget",value:function(e){this.createComponent(e)}},{key:"__updateRect__",value:function(){this.host&&this.host.css({width:this.attrWidth,height:this.attrHeight})}},{key:"setOptions",value:function(e){this.host.jqxGrid("setOptions",e)}},{key:"altrows",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("altrows");this.host.jqxGrid("altrows",e)}},{key:"altstart",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("altstart");this.host.jqxGrid("altstart",e)}},{key:"altstep",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("altstep");this.host.jqxGrid("altstep",e)}},{key:"autoshowloadelement",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("autoshowloadelement");this.host.jqxGrid("autoshowloadelement",e)}},{key:"autoshowfiltericon",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("autoshowfiltericon");this.host.jqxGrid("autoshowfiltericon",e)}},{key:"autoshowcolumnsmenubutton",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("autoshowcolumnsmenubutton");this.host.jqxGrid("autoshowcolumnsmenubutton",e)}},{key:"showcolumnlines",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showcolumnlines");this.host.jqxGrid("showcolumnlines",e)}},{key:"showrowlines",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showrowlines");this.host.jqxGrid("showrowlines",e)}},{key:"showcolumnheaderlines",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showcolumnheaderlines");this.host.jqxGrid("showcolumnheaderlines",e)}},{key:"adaptive",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("adaptive");this.host.jqxGrid("adaptive",e)}},{key:"adaptivewidth",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("adaptivewidth");this.host.jqxGrid("adaptivewidth",e)}},{key:"clipboard",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("clipboard");this.host.jqxGrid("clipboard",e)}},{key:"closeablegroups",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("closeablegroups");this.host.jqxGrid("closeablegroups",e)}},{key:"columnsmenuwidth",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("columnsmenuwidth");this.host.jqxGrid("columnsmenuwidth",e)}},{key:"columnmenuopening",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("columnmenuopening");this.host.jqxGrid("columnmenuopening",e)}},{key:"columnmenuclosing",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("columnmenuclosing");this.host.jqxGrid("columnmenuclosing",e)}},{key:"cellhover",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("cellhover");this.host.jqxGrid("cellhover",e)}},{key:"enablekeyboarddelete",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("enablekeyboarddelete");this.host.jqxGrid("enablekeyboarddelete",e)}},{key:"enableellipsis",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("enableellipsis");this.host.jqxGrid("enableellipsis",e)}},{key:"enablemousewheel",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("enablemousewheel");this.host.jqxGrid("enablemousewheel",e)}},{key:"enableanimations",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("enableanimations");this.host.jqxGrid("enableanimations",e)}},{key:"enabletooltips",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("enabletooltips");this.host.jqxGrid("enabletooltips",e)}},{key:"enablehover",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("enablehover");this.host.jqxGrid("enablehover",e)}},{key:"enablebrowserselection",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("enablebrowserselection");this.host.jqxGrid("enablebrowserselection",e)}},{key:"everpresentrowposition",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("everpresentrowposition");this.host.jqxGrid("everpresentrowposition",e)}},{key:"everpresentrowheight",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("everpresentrowheight");this.host.jqxGrid("everpresentrowheight",e)}},{key:"everpresentrowactions",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("everpresentrowactions");this.host.jqxGrid("everpresentrowactions",e)}},{key:"everpresentrowactionsmode",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("everpresentrowactionsmode");this.host.jqxGrid("everpresentrowactionsmode",e)}},{key:"filterrowheight",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("filterrowheight");this.host.jqxGrid("filterrowheight",e)}},{key:"filtermode",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("filtermode");this.host.jqxGrid("filtermode",e)}},{key:"groupsrenderer",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("groupsrenderer");this.host.jqxGrid("groupsrenderer",e)}},{key:"groupcolumnrenderer",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("groupcolumnrenderer");this.host.jqxGrid("groupcolumnrenderer",e)}},{key:"groupsexpandedbydefault",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("groupsexpandedbydefault");this.host.jqxGrid("groupsexpandedbydefault",e)}},{key:"handlekeyboardnavigation",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("handlekeyboardnavigation");this.host.jqxGrid("handlekeyboardnavigation",e)}},{key:"pagerrenderer",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("pagerrenderer");this.host.jqxGrid("pagerrenderer",e)}},{key:"rtl",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("rtl");this.host.jqxGrid("rtl",e)}},{key:"showdefaultloadelement",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showdefaultloadelement");this.host.jqxGrid("showdefaultloadelement",e)}},{key:"showfiltercolumnbackground",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showfiltercolumnbackground");this.host.jqxGrid("showfiltercolumnbackground",e)}},{key:"showfiltermenuitems",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showfiltermenuitems");this.host.jqxGrid("showfiltermenuitems",e)}},{key:"showpinnedcolumnbackground",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showpinnedcolumnbackground");this.host.jqxGrid("showpinnedcolumnbackground",e)}},{key:"showsortcolumnbackground",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showsortcolumnbackground");this.host.jqxGrid("showsortcolumnbackground",e)}},{key:"showsortmenuitems",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showsortmenuitems");this.host.jqxGrid("showsortmenuitems",e)}},{key:"showgroupmenuitems",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showgroupmenuitems");this.host.jqxGrid("showgroupmenuitems",e)}},{key:"showrowdetailscolumn",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showrowdetailscolumn");this.host.jqxGrid("showrowdetailscolumn",e)}},{key:"showheader",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showheader");this.host.jqxGrid("showheader",e)}},{key:"showgroupsheader",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showgroupsheader");this.host.jqxGrid("showgroupsheader",e)}},{key:"showaggregates",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showaggregates");this.host.jqxGrid("showaggregates",e)}},{key:"showgroupaggregates",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showgroupaggregates");this.host.jqxGrid("showgroupaggregates",e)}},{key:"showeverpresentrow",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showeverpresentrow");this.host.jqxGrid("showeverpresentrow",e)}},{key:"showfilterrow",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showfilterrow");this.host.jqxGrid("showfilterrow",e)}},{key:"showemptyrow",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showemptyrow");this.host.jqxGrid("showemptyrow",e)}},{key:"showstatusbar",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showstatusbar");this.host.jqxGrid("showstatusbar",e)}},{key:"statusbarheight",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("statusbarheight");this.host.jqxGrid("statusbarheight",e)}},{key:"showtoolbar",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showtoolbar");this.host.jqxGrid("showtoolbar",e)}},{key:"selectionmode",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("selectionmode");this.host.jqxGrid("selectionmode",e)}},{key:"updatefilterconditions",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("updatefilterconditions");this.host.jqxGrid("updatefilterconditions",e)}},{key:"updatefilterpanel",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("updatefilterpanel");this.host.jqxGrid("updatefilterpanel",e)}},{key:"theme",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("theme");this.host.jqxGrid("theme",e)}},{key:"toolbarheight",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("toolbarheight");this.host.jqxGrid("toolbarheight",e)}},{key:"autoheight",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("autoheight");this.host.jqxGrid("autoheight",e)}},{key:"autorowheight",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("autorowheight");this.host.jqxGrid("autorowheight",e)}},{key:"columnsheight",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("columnsheight");this.host.jqxGrid("columnsheight",e)}},{key:"deferreddatafields",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("deferreddatafields");this.host.jqxGrid("deferreddatafields",e)}},{key:"groupsheaderheight",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("groupsheaderheight");this.host.jqxGrid("groupsheaderheight",e)}},{key:"groupindentwidth",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("groupindentwidth");this.host.jqxGrid("groupindentwidth",e)}},{key:"height",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("height");this.host.jqxGrid("height",e)}},{key:"pagerheight",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("pagerheight");this.host.jqxGrid("pagerheight",e)}},{key:"rowsheight",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("rowsheight");this.host.jqxGrid("rowsheight",e)}},{key:"scrollbarsize",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("scrollbarsize");this.host.jqxGrid("scrollbarsize",e)}},{key:"scrollmode",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("scrollmode");this.host.jqxGrid("scrollmode",e)}},{key:"scrollfeedback",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("scrollfeedback");this.host.jqxGrid("scrollfeedback",e)}},{key:"width",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("width");this.host.jqxGrid("width",e)}},{key:"autosavestate",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("autosavestate");this.host.jqxGrid("autosavestate",e)}},{key:"autoloadstate",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("autoloadstate");this.host.jqxGrid("autoloadstate",e)}},{key:"columns",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("columns");this.host.jqxGrid("columns",e)}},{key:"columngroups",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("columngroups");this.host.jqxGrid("columngroups",e)}},{key:"columnsmenu",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("columnsmenu");this.host.jqxGrid("columnsmenu",e)}},{key:"columnsresize",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("columnsresize");this.host.jqxGrid("columnsresize",e)}},{key:"columnsautoresize",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("columnsautoresize");this.host.jqxGrid("columnsautoresize",e)}},{key:"columnsreorder",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("columnsreorder");this.host.jqxGrid("columnsreorder",e)}},{key:"charting",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("charting");this.host.jqxGrid("charting",e)}},{key:"disabled",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("disabled");this.host.jqxGrid("disabled",e)}},{key:"editable",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("editable");this.host.jqxGrid("editable",e)}},{key:"editmode",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("editmode");this.host.jqxGrid("editmode",e)}},{key:"filter",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("filter");this.host.jqxGrid("filter",e)}},{key:"filterable",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("filterable");this.host.jqxGrid("filterable",e)}},{key:"groupable",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("groupable");this.host.jqxGrid("groupable",e)}},{key:"groups",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("groups");this.host.jqxGrid("groups",e)}},{key:"horizontalscrollbarstep",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("horizontalscrollbarstep");this.host.jqxGrid("horizontalscrollbarstep",e)}},{key:"horizontalscrollbarlargestep",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("horizontalscrollbarlargestep");this.host.jqxGrid("horizontalscrollbarlargestep",e)}},{key:"initrowdetails",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("initrowdetails");this.host.jqxGrid("initrowdetails",e)}},{key:"keyboardnavigation",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("keyboardnavigation");this.host.jqxGrid("keyboardnavigation",e)}},{key:"localization",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("localization");this.host.jqxGrid("localization",e)}},{key:"pagesize",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("pagesize");this.host.jqxGrid("pagesize",e)}},{key:"pagesizeoptions",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("pagesizeoptions");this.host.jqxGrid("pagesizeoptions",e)}},{key:"pagermode",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("pagermode");this.host.jqxGrid("pagermode",e)}},{key:"pagerbuttonscount",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("pagerbuttonscount");this.host.jqxGrid("pagerbuttonscount",e)}},{key:"pageable",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("pageable");this.host.jqxGrid("pageable",e)}},{key:"rowdetails",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("rowdetails");this.host.jqxGrid("rowdetails",e)}},{key:"rowdetailstemplate",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("rowdetailstemplate");this.host.jqxGrid("rowdetailstemplate",e)}},{key:"ready",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("ready");this.host.jqxGrid("ready",e)}},{key:"rendered",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("rendered");this.host.jqxGrid("rendered",e)}},{key:"renderstatusbar",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("renderstatusbar");this.host.jqxGrid("renderstatusbar",e)}},{key:"rendertoolbar",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("rendertoolbar");this.host.jqxGrid("rendertoolbar",e)}},{key:"rendergridrows",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("rendergridrows");this.host.jqxGrid("rendergridrows",e)}},{key:"sortable",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("sortable");this.host.jqxGrid("sortable",e)}},{key:"sortmode",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("sortmode");this.host.jqxGrid("sortmode",e)}},{key:"selectedrowindex",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("selectedrowindex");this.host.jqxGrid("selectedrowindex",e)}},{key:"selectedrowindexes",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("selectedrowindexes");this.host.jqxGrid("selectedrowindexes",e)}},{key:"source",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("source");this.host.jqxGrid("source",e)}},{key:"sorttogglestates",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("sorttogglestates");this.host.jqxGrid("sorttogglestates",e)}},{key:"updatedelay",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("updatedelay");this.host.jqxGrid("updatedelay",e)}},{key:"virtualmode",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("virtualmode");this.host.jqxGrid("virtualmode",e)}},{key:"verticalscrollbarstep",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("verticalscrollbarstep");this.host.jqxGrid("verticalscrollbarstep",e)}},{key:"verticalscrollbarlargestep",value:function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("verticalscrollbarlargestep");this.host.jqxGrid("verticalscrollbarlargestep",e)}},{key:"autoresizecolumns",value:function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("autoresizecolumns",e)}},{key:"autoresizecolumn",value:function(e,t){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("autoresizecolumn",e,t)}},{key:"beginupdate",value:function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("beginupdate")}},{key:"clear",value:function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("clear")}},{key:"createChart",value:function(e,t){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("createChart",e,t)}},{key:"destroy",value:function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("destroy")}},{key:"endupdate",value:function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("endupdate")}},{key:"ensurerowvisible",value:function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("ensurerowvisible",e)}},{key:"focus",value:function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("focus")}},{key:"getcolumnindex",value:function(e){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getcolumnindex",e)}},{key:"getcolumn",value:function(e){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getcolumn",e)}},{key:"getcolumnproperty",value:function(e,t){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getcolumnproperty",e,t)}},{key:"getrowid",value:function(e){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getrowid",e)}},{key:"getrowdata",value:function(e){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getrowdata",e)}},{key:"getrowdatabyid",value:function(e){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getrowdatabyid",e)}},{key:"getrowboundindexbyid",value:function(e){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getrowboundindexbyid",e)}},{key:"getrowboundindex",value:function(e){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getrowboundindex",e)}},{key:"getrows",value:function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getrows")}},{key:"getboundrows",value:function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getboundrows")}},{key:"getdisplayrows",value:function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getdisplayrows")}},{key:"getdatainformation",value:function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getdatainformation")}},{key:"getsortinformation",value:function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getsortinformation")}},{key:"getpaginginformation",value:function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getpaginginformation")}},{key:"hidecolumn",value:function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("hidecolumn",e)}},{key:"hideloadelement",value:function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("hideloadelement")}},{key:"hiderowdetails",value:function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("hiderowdetails",e)}},{key:"iscolumnvisible",value:function(e){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("iscolumnvisible",e)}},{key:"iscolumnpinned",value:function(e){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("iscolumnpinned",e)}},{key:"localizestrings",value:function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("localizestrings",e)}},{key:"pincolumn",value:function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("pincolumn",e)}},{key:"refreshdata",value:function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("refreshdata")}},{key:"refresh",value:function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("refresh")}},{key:"render",value:function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("render")}},{key:"scrolloffset",value:function(e,t){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("scrolloffset",e,t)}},{key:"scrollposition",value:function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("scrollposition")}},{key:"showloadelement",value:function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("showloadelement")}},{key:"showrowdetails",value:function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("showrowdetails",e)}},{key:"setcolumnindex",value:function(e,t){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("setcolumnindex",e,t)}},{key:"setcolumnproperty",value:function(e,t,i){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("setcolumnproperty",e,t,i)}},{key:"showcolumn",value:function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("showcolumn",e)}},{key:"unpincolumn",value:function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("unpincolumn",e)}},{key:"updatebounddata",value:function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("updatebounddata",e)}},{key:"updating",value:function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("updating")}},{key:"getsortcolumn",value:function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getsortcolumn")}},{key:"removesort",value:function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("removesort")}},{key:"sortby",value:function(e,t){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("sortby",e,t)}},{key:"addgroup",value:function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("addgroup",e)}},{key:"cleargroups",value:function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("cleargroups")}},{key:"collapsegroup",value:function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("collapsegroup",e)}},{key:"collapseallgroups",value:function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("collapseallgroups")}},{key:"expandallgroups",value:function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("expandallgroups")}},{key:"expandgroup",value:function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("expandgroup",e)}},{key:"getrootgroupscount",value:function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getrootgroupscount")}},{key:"getgroup",value:function(e){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getgroup",e)}},{key:"insertgroup",value:function(e,t){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("insertgroup",e,t)}},{key:"iscolumngroupable",value:function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("iscolumngroupable")}},{key:"removegroupat",value:function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("removegroupat",e)}},{key:"removegroup",value:function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("removegroup",e)}},{key:"addfilter",value:function(e,t,i){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("addfilter",e,t,i)}},{key:"applyfilters",value:function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("applyfilters")}},{key:"clearfilters",value:function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("clearfilters")}},{key:"getfilterinformation",value:function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getfilterinformation")}},{key:"getcolumnat",value:function(e){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getcolumnat",e)}},{key:"removefilter",value:function(e,t){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("removefilter",e,t)}},{key:"refreshfilterrow",value:function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("refreshfilterrow")}},{key:"gotopage",value:function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("gotopage",e)}},{key:"gotoprevpage",value:function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("gotoprevpage")}},{key:"gotonextpage",value:function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("gotonextpage")}},{key:"addrow",value:function(e,t,i){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("addrow",e,t,i)}},{key:"begincelledit",value:function(e,t){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("begincelledit",e,t)}},{key:"beginrowedit",value:function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("beginrowedit",e)}},{key:"closemenu",value:function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("closemenu")}},{key:"deleterow",value:function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("deleterow",e)}},{key:"endcelledit",value:function(e,t,i){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("endcelledit",e,t,i)}},{key:"endrowedit",value:function(e,t){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("endrowedit",e,t)}},{key:"getcell",value:function(e,t){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getcell",e,t)}},{key:"getcellatposition",value:function(e,t){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getcellatposition",e,t)}},{key:"getcelltext",value:function(e,t){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getcelltext",e,t)}},{key:"getcelltextbyid",value:function(e,t){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getcelltextbyid",e,t)}},{key:"getcellvaluebyid",value:function(e,t){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getcellvaluebyid",e,t)}},{key:"getcellvalue",value:function(e,t){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getcellvalue",e,t)}},{key:"isBindingCompleted",value:function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("isBindingCompleted")}},{key:"openmenu",value:function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("openmenu",e)}},{key:"setcellvalue",value:function(e,t,i){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("setcellvalue",e,t,i)}},{key:"setcellvaluebyid",value:function(e,t,i){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("setcellvaluebyid",e,t,i)}},{key:"showvalidationpopup",value:function(e,t,i){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("showvalidationpopup",e,t,i)}},{key:"updaterow",value:function(e,t){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("updaterow",e,t)}},{key:"clearselection",value:function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("clearselection")}},{key:"getselectedrowindex",value:function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getselectedrowindex")}},{key:"getselectedrowindexes",value:function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getselectedrowindexes")}},{key:"getselectedcell",value:function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getselectedcell")}},{key:"getselectedcells",value:function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getselectedcells")}},{key:"selectcell",value:function(e,t){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("selectcell",e,t)}},{key:"selectallrows",value:function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("selectallrows")}},{key:"selectrow",value:function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("selectrow",e)}},{key:"unselectrow",value:function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("unselectrow",e)}},{key:"unselectcell",value:function(e,t){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("unselectcell",e,t)}},{key:"getcolumnaggregateddata",value:function(e,t){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getcolumnaggregateddata",e,t)}},{key:"refreshaggregates",value:function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("refreshaggregates")}},{key:"renderaggregates",value:function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("renderaggregates")}},{key:"exportdata",value:function(e,t,i,r,n,s,o){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("exportdata",e,t,i,r,n,s,o)}},{key:"exportview",value:function(e,t){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("exportview",e,t)}},{key:"openColumnChooser",value:function(e,t){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("openColumnChooser",e,t)}},{key:"getstate",value:function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getstate")}},{key:"loadstate",value:function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("loadstate",e)}},{key:"savestate",value:function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("savestate")}},{key:"__wireEvents__",value:function(){var e=this;this.host.on("bindingcomplete",(function(t){e.onBindingcomplete.emit(t)})),this.host.on("columnresized",(function(t){e.onColumnresized.emit(t)})),this.host.on("columnreordered",(function(t){e.onColumnreordered.emit(t)})),this.host.on("columnclick",(function(t){e.onColumnclick.emit(t)})),this.host.on("cellclick",(function(t){e.onCellclick.emit(t)})),this.host.on("celldoubleclick",(function(t){e.onCelldoubleclick.emit(t)})),this.host.on("cellselect",(function(t){e.onCellselect.emit(t)})),this.host.on("cellunselect",(function(t){e.onCellunselect.emit(t)})),this.host.on("cellvaluechanged",(function(t){e.onCellvaluechanged.emit(t)})),this.host.on("cellbeginedit",(function(t){e.onCellbeginedit.emit(t)})),this.host.on("cellendedit",(function(t){e.onCellendedit.emit(t)})),this.host.on("filter",(function(t){e.onFilter.emit(t)})),this.host.on("groupschanged",(function(t){e.onGroupschanged.emit(t)})),this.host.on("groupexpand",(function(t){e.onGroupexpand.emit(t)})),this.host.on("groupcollapse",(function(t){e.onGroupcollapse.emit(t)})),this.host.on("pagechanged",(function(t){e.onPagechanged.emit(t)})),this.host.on("pagesizechanged",(function(t){e.onPagesizechanged.emit(t)})),this.host.on("rowclick",(function(t){e.onRowclick.emit(t)})),this.host.on("rowdoubleclick",(function(t){e.onRowdoubleclick.emit(t)})),this.host.on("rowselect",(function(t){e.onRowselect.emit(t)})),this.host.on("rowunselect",(function(t){e.onRowunselect.emit(t)})),this.host.on("rowexpand",(function(t){e.onRowexpand.emit(t)})),this.host.on("rowcollapse",(function(t){e.onRowcollapse.emit(t)})),this.host.on("sort",(function(t){e.onSort.emit(t)}))}}]),e}();hp.\u0275fac=function(e){return new(e||hp)(ds(Ps))},hp.\u0275cmp=ht({type:hp,selectors:[["jqxGrid"]],inputs:{autoCreate:["auto-create","autoCreate"],attrAltrows:["altrows","attrAltrows"],attrAltstart:["altstart","attrAltstart"],attrAltstep:["altstep","attrAltstep"],attrAutoshowloadelement:["autoshowloadelement","attrAutoshowloadelement"],attrAutoshowfiltericon:["autoshowfiltericon","attrAutoshowfiltericon"],attrAutoshowcolumnsmenubutton:["autoshowcolumnsmenubutton","attrAutoshowcolumnsmenubutton"],attrShowcolumnlines:["showcolumnlines","attrShowcolumnlines"],attrShowrowlines:["showrowlines","attrShowrowlines"],attrShowcolumnheaderlines:["showcolumnheaderlines","attrShowcolumnheaderlines"],attrAdaptive:["adaptive","attrAdaptive"],attrAdaptivewidth:["adaptivewidth","attrAdaptivewidth"],attrClipboard:["clipboard","attrClipboard"],attrCloseablegroups:["closeablegroups","attrCloseablegroups"],attrColumnsmenuwidth:["columnsmenuwidth","attrColumnsmenuwidth"],attrColumnmenuopening:["columnmenuopening","attrColumnmenuopening"],attrColumnmenuclosing:["columnmenuclosing","attrColumnmenuclosing"],attrCellhover:["cellhover","attrCellhover"],attrEnablekeyboarddelete:["enablekeyboarddelete","attrEnablekeyboarddelete"],attrEnableellipsis:["enableellipsis","attrEnableellipsis"],attrEnablemousewheel:["enablemousewheel","attrEnablemousewheel"],attrEnableanimations:["enableanimations","attrEnableanimations"],attrEnabletooltips:["enabletooltips","attrEnabletooltips"],attrEnablehover:["enablehover","attrEnablehover"],attrEnablebrowserselection:["enablebrowserselection","attrEnablebrowserselection"],attrEverpresentrowposition:["everpresentrowposition","attrEverpresentrowposition"],attrEverpresentrowheight:["everpresentrowheight","attrEverpresentrowheight"],attrEverpresentrowactions:["everpresentrowactions","attrEverpresentrowactions"],attrEverpresentrowactionsmode:["everpresentrowactionsmode","attrEverpresentrowactionsmode"],attrFilterrowheight:["filterrowheight","attrFilterrowheight"],attrFiltermode:["filtermode","attrFiltermode"],attrGroupsrenderer:["groupsrenderer","attrGroupsrenderer"],attrGroupcolumnrenderer:["groupcolumnrenderer","attrGroupcolumnrenderer"],attrGroupsexpandedbydefault:["groupsexpandedbydefault","attrGroupsexpandedbydefault"],attrHandlekeyboardnavigation:["handlekeyboardnavigation","attrHandlekeyboardnavigation"],attrPagerrenderer:["pagerrenderer","attrPagerrenderer"],attrRtl:["rtl","attrRtl"],attrShowdefaultloadelement:["showdefaultloadelement","attrShowdefaultloadelement"],attrShowfiltercolumnbackground:["showfiltercolumnbackground","attrShowfiltercolumnbackground"],attrShowfiltermenuitems:["showfiltermenuitems","attrShowfiltermenuitems"],attrShowpinnedcolumnbackground:["showpinnedcolumnbackground","attrShowpinnedcolumnbackground"],attrShowsortcolumnbackground:["showsortcolumnbackground","attrShowsortcolumnbackground"],attrShowsortmenuitems:["showsortmenuitems","attrShowsortmenuitems"],attrShowgroupmenuitems:["showgroupmenuitems","attrShowgroupmenuitems"],attrShowrowdetailscolumn:["showrowdetailscolumn","attrShowrowdetailscolumn"],attrShowheader:["showheader","attrShowheader"],attrShowgroupsheader:["showgroupsheader","attrShowgroupsheader"],attrShowaggregates:["showaggregates","attrShowaggregates"],attrShowgroupaggregates:["showgroupaggregates","attrShowgroupaggregates"],attrShoweverpresentrow:["showeverpresentrow","attrShoweverpresentrow"],attrShowfilterrow:["showfilterrow","attrShowfilterrow"],attrShowemptyrow:["showemptyrow","attrShowemptyrow"],attrShowstatusbar:["showstatusbar","attrShowstatusbar"],attrStatusbarheight:["statusbarheight","attrStatusbarheight"],attrShowtoolbar:["showtoolbar","attrShowtoolbar"],attrSelectionmode:["selectionmode","attrSelectionmode"],attrUpdatefilterconditions:["updatefilterconditions","attrUpdatefilterconditions"],attrUpdatefilterpanel:["updatefilterpanel","attrUpdatefilterpanel"],attrTheme:["theme","attrTheme"],attrToolbarheight:["toolbarheight","attrToolbarheight"],attrAutoheight:["autoheight","attrAutoheight"],attrAutorowheight:["autorowheight","attrAutorowheight"],attrColumnsheight:["columnsheight","attrColumnsheight"],attrDeferreddatafields:["deferreddatafields","attrDeferreddatafields"],attrGroupsheaderheight:["groupsheaderheight","attrGroupsheaderheight"],attrGroupindentwidth:["groupindentwidth","attrGroupindentwidth"],attrPagerheight:["pagerheight","attrPagerheight"],attrRowsheight:["rowsheight","attrRowsheight"],attrScrollbarsize:["scrollbarsize","attrScrollbarsize"],attrScrollmode:["scrollmode","attrScrollmode"],attrScrollfeedback:["scrollfeedback","attrScrollfeedback"],attrAutosavestate:["autosavestate","attrAutosavestate"],attrAutoloadstate:["autoloadstate","attrAutoloadstate"],attrColumns:["columns","attrColumns"],attrColumngroups:["columngroups","attrColumngroups"],attrColumnsmenu:["columnsmenu","attrColumnsmenu"],attrColumnsresize:["columnsresize","attrColumnsresize"],attrColumnsautoresize:["columnsautoresize","attrColumnsautoresize"],attrColumnsreorder:["columnsreorder","attrColumnsreorder"],attrCharting:["charting","attrCharting"],attrDisabled:["disabled","attrDisabled"],attrEditable:["editable","attrEditable"],attrEditmode:["editmode","attrEditmode"],attrFilter:["filter","attrFilter"],attrFilterable:["filterable","attrFilterable"],attrGroupable:["groupable","attrGroupable"],attrGroups:["groups","attrGroups"],attrHorizontalscrollbarstep:["horizontalscrollbarstep","attrHorizontalscrollbarstep"],attrHorizontalscrollbarlargestep:["horizontalscrollbarlargestep","attrHorizontalscrollbarlargestep"],attrInitrowdetails:["initrowdetails","attrInitrowdetails"],attrKeyboardnavigation:["keyboardnavigation","attrKeyboardnavigation"],attrLocalization:["localization","attrLocalization"],attrPagesize:["pagesize","attrPagesize"],attrPagesizeoptions:["pagesizeoptions","attrPagesizeoptions"],attrPagermode:["pagermode","attrPagermode"],attrPagerbuttonscount:["pagerbuttonscount","attrPagerbuttonscount"],attrPageable:["pageable","attrPageable"],attrRowdetails:["rowdetails","attrRowdetails"],attrRowdetailstemplate:["rowdetailstemplate","attrRowdetailstemplate"],attrReady:["ready","attrReady"],attrRendered:["rendered","attrRendered"],attrRenderstatusbar:["renderstatusbar","attrRenderstatusbar"],attrRendertoolbar:["rendertoolbar","attrRendertoolbar"],attrRendergridrows:["rendergridrows","attrRendergridrows"],attrSortable:["sortable","attrSortable"],attrSortmode:["sortmode","attrSortmode"],attrSelectedrowindex:["selectedrowindex","attrSelectedrowindex"],attrSelectedrowindexes:["selectedrowindexes","attrSelectedrowindexes"],attrSource:["source","attrSource"],attrSorttogglestates:["sorttogglestates","attrSorttogglestates"],attrUpdatedelay:["updatedelay","attrUpdatedelay"],attrVirtualmode:["virtualmode","attrVirtualmode"],attrVerticalscrollbarstep:["verticalscrollbarstep","attrVerticalscrollbarstep"],attrVerticalscrollbarlargestep:["verticalscrollbarlargestep","attrVerticalscrollbarlargestep"],attrWidth:["width","attrWidth"],attrHeight:["height","attrHeight"]},outputs:{onBindingcomplete:"onBindingcomplete",onColumnresized:"onColumnresized",onColumnreordered:"onColumnreordered",onColumnclick:"onColumnclick",onCellclick:"onCellclick",onCelldoubleclick:"onCelldoubleclick",onCellselect:"onCellselect",onCellunselect:"onCellunselect",onCellvaluechanged:"onCellvaluechanged",onCellbeginedit:"onCellbeginedit",onCellendedit:"onCellendedit",onFilter:"onFilter",onGroupschanged:"onGroupschanged",onGroupexpand:"onGroupexpand",onGroupcollapse:"onGroupcollapse",onPagechanged:"onPagechanged",onPagesizechanged:"onPagesizechanged",onRowclick:"onRowclick",onRowdoubleclick:"onRowdoubleclick",onRowselect:"onRowselect",onRowunselect:"onRowunselect",onRowexpand:"onRowexpand",onRowcollapse:"onRowcollapse",onSort:"onSort"},features:[qs],ngContentSelectors:["*"],decls:2,vars:0,template:function(e,t){1&e&&(function(e){var t=Rt()[16][6];if(!t.projection)for(var i=t.projection=nt(1,null),r=i.slice(),n=t.child;null!==n;){r[0]?r[0].projectionNext=n:i[0]=n,r[0]=n,n=n.next}}(),ps(0,"div"),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0,r=Rt(),n=Vt(),s=qr(n,r[6],e,1,null,i||null);null===s.projection&&(s.projection=t),Yt(),function(e,t,i){jn(t[11],0,t,i,fn(e,i,t),yn(i.parent||t[6],t))}(n,r,s)}(1),fs())},encapsulation:2}),hp.ctorParameters=function(){return[{type:Ps}]},lp([Do("altrows"),dp("design:type",Boolean)],hp.prototype,"attrAltrows",void 0),lp([Do("altstart"),dp("design:type",Number)],hp.prototype,"attrAltstart",void 0),lp([Do("altstep"),dp("design:type",Number)],hp.prototype,"attrAltstep",void 0),lp([Do("autoshowloadelement"),dp("design:type",Boolean)],hp.prototype,"attrAutoshowloadelement",void 0),lp([Do("autoshowfiltericon"),dp("design:type",Boolean)],hp.prototype,"attrAutoshowfiltericon",void 0),lp([Do("autoshowcolumnsmenubutton"),dp("design:type",Boolean)],hp.prototype,"attrAutoshowcolumnsmenubutton",void 0),lp([Do("showcolumnlines"),dp("design:type",Boolean)],hp.prototype,"attrShowcolumnlines",void 0),lp([Do("showrowlines"),dp("design:type",Boolean)],hp.prototype,"attrShowrowlines",void 0),lp([Do("showcolumnheaderlines"),dp("design:type",Boolean)],hp.prototype,"attrShowcolumnheaderlines",void 0),lp([Do("adaptive"),dp("design:type",Boolean)],hp.prototype,"attrAdaptive",void 0),lp([Do("adaptivewidth"),dp("design:type",Number)],hp.prototype,"attrAdaptivewidth",void 0),lp([Do("clipboard"),dp("design:type",Boolean)],hp.prototype,"attrClipboard",void 0),lp([Do("closeablegroups"),dp("design:type",Boolean)],hp.prototype,"attrCloseablegroups",void 0),lp([Do("columnsmenuwidth"),dp("design:type",Number)],hp.prototype,"attrColumnsmenuwidth",void 0),lp([Do("columnmenuopening"),dp("design:type",Function)],hp.prototype,"attrColumnmenuopening",void 0),lp([Do("columnmenuclosing"),dp("design:type",Function)],hp.prototype,"attrColumnmenuclosing",void 0),lp([Do("cellhover"),dp("design:type",Function)],hp.prototype,"attrCellhover",void 0),lp([Do("enablekeyboarddelete"),dp("design:type",Boolean)],hp.prototype,"attrEnablekeyboarddelete",void 0),lp([Do("enableellipsis"),dp("design:type",Boolean)],hp.prototype,"attrEnableellipsis",void 0),lp([Do("enablemousewheel"),dp("design:type",Boolean)],hp.prototype,"attrEnablemousewheel",void 0),lp([Do("enableanimations"),dp("design:type",Boolean)],hp.prototype,"attrEnableanimations",void 0),lp([Do("enabletooltips"),dp("design:type",Boolean)],hp.prototype,"attrEnabletooltips",void 0),lp([Do("enablehover"),dp("design:type",Boolean)],hp.prototype,"attrEnablehover",void 0),lp([Do("enablebrowserselection"),dp("design:type",Boolean)],hp.prototype,"attrEnablebrowserselection",void 0),lp([Do("everpresentrowposition"),dp("design:type",String)],hp.prototype,"attrEverpresentrowposition",void 0),lp([Do("everpresentrowheight"),dp("design:type",Number)],hp.prototype,"attrEverpresentrowheight",void 0),lp([Do("everpresentrowactions"),dp("design:type",String)],hp.prototype,"attrEverpresentrowactions",void 0),lp([Do("everpresentrowactionsmode"),dp("design:type",String)],hp.prototype,"attrEverpresentrowactionsmode",void 0),lp([Do("filterrowheight"),dp("design:type",Number)],hp.prototype,"attrFilterrowheight",void 0),lp([Do("filtermode"),dp("design:type",String)],hp.prototype,"attrFiltermode",void 0),lp([Do("groupsrenderer"),dp("design:type",Function)],hp.prototype,"attrGroupsrenderer",void 0),lp([Do("groupcolumnrenderer"),dp("design:type",Function)],hp.prototype,"attrGroupcolumnrenderer",void 0),lp([Do("groupsexpandedbydefault"),dp("design:type",Boolean)],hp.prototype,"attrGroupsexpandedbydefault",void 0),lp([Do("handlekeyboardnavigation"),dp("design:type",Function)],hp.prototype,"attrHandlekeyboardnavigation",void 0),lp([Do("pagerrenderer"),dp("design:type",Function)],hp.prototype,"attrPagerrenderer",void 0),lp([Do("rtl"),dp("design:type",Boolean)],hp.prototype,"attrRtl",void 0),lp([Do("showdefaultloadelement"),dp("design:type",Boolean)],hp.prototype,"attrShowdefaultloadelement",void 0),lp([Do("showfiltercolumnbackground"),dp("design:type",Boolean)],hp.prototype,"attrShowfiltercolumnbackground",void 0),lp([Do("showfiltermenuitems"),dp("design:type",Boolean)],hp.prototype,"attrShowfiltermenuitems",void 0),lp([Do("showpinnedcolumnbackground"),dp("design:type",Boolean)],hp.prototype,"attrShowpinnedcolumnbackground",void 0),lp([Do("showsortcolumnbackground"),dp("design:type",Boolean)],hp.prototype,"attrShowsortcolumnbackground",void 0),lp([Do("showsortmenuitems"),dp("design:type",Boolean)],hp.prototype,"attrShowsortmenuitems",void 0),lp([Do("showgroupmenuitems"),dp("design:type",Boolean)],hp.prototype,"attrShowgroupmenuitems",void 0),lp([Do("showrowdetailscolumn"),dp("design:type",Boolean)],hp.prototype,"attrShowrowdetailscolumn",void 0),lp([Do("showheader"),dp("design:type",Boolean)],hp.prototype,"attrShowheader",void 0),lp([Do("showgroupsheader"),dp("design:type",Boolean)],hp.prototype,"attrShowgroupsheader",void 0),lp([Do("showaggregates"),dp("design:type",Boolean)],hp.prototype,"attrShowaggregates",void 0),lp([Do("showgroupaggregates"),dp("design:type",Boolean)],hp.prototype,"attrShowgroupaggregates",void 0),lp([Do("showeverpresentrow"),dp("design:type",Boolean)],hp.prototype,"attrShoweverpresentrow",void 0),lp([Do("showfilterrow"),dp("design:type",Boolean)],hp.prototype,"attrShowfilterrow",void 0),lp([Do("showemptyrow"),dp("design:type",Boolean)],hp.prototype,"attrShowemptyrow",void 0),lp([Do("showstatusbar"),dp("design:type",Boolean)],hp.prototype,"attrShowstatusbar",void 0),lp([Do("statusbarheight"),dp("design:type",Number)],hp.prototype,"attrStatusbarheight",void 0),lp([Do("showtoolbar"),dp("design:type",Boolean)],hp.prototype,"attrShowtoolbar",void 0),lp([Do("selectionmode"),dp("design:type",String)],hp.prototype,"attrSelectionmode",void 0),lp([Do("updatefilterconditions"),dp("design:type",Function)],hp.prototype,"attrUpdatefilterconditions",void 0),lp([Do("updatefilterpanel"),dp("design:type",Function)],hp.prototype,"attrUpdatefilterpanel",void 0),lp([Do("theme"),dp("design:type",String)],hp.prototype,"attrTheme",void 0),lp([Do("toolbarheight"),dp("design:type",Number)],hp.prototype,"attrToolbarheight",void 0),lp([Do("autoheight"),dp("design:type",Boolean)],hp.prototype,"attrAutoheight",void 0),lp([Do("autorowheight"),dp("design:type",Boolean)],hp.prototype,"attrAutorowheight",void 0),lp([Do("columnsheight"),dp("design:type",Number)],hp.prototype,"attrColumnsheight",void 0),lp([Do("deferreddatafields"),dp("design:type",Array)],hp.prototype,"attrDeferreddatafields",void 0),lp([Do("groupsheaderheight"),dp("design:type",Number)],hp.prototype,"attrGroupsheaderheight",void 0),lp([Do("groupindentwidth"),dp("design:type",Number)],hp.prototype,"attrGroupindentwidth",void 0),lp([Do("pagerheight"),dp("design:type",Object)],hp.prototype,"attrPagerheight",void 0),lp([Do("rowsheight"),dp("design:type",Number)],hp.prototype,"attrRowsheight",void 0),lp([Do("scrollbarsize"),dp("design:type",Object)],hp.prototype,"attrScrollbarsize",void 0),lp([Do("scrollmode"),dp("design:type",String)],hp.prototype,"attrScrollmode",void 0),lp([Do("scrollfeedback"),dp("design:type",Function)],hp.prototype,"attrScrollfeedback",void 0),lp([Do("autosavestate"),dp("design:type",Boolean)],hp.prototype,"attrAutosavestate",void 0),lp([Do("autoloadstate"),dp("design:type",Boolean)],hp.prototype,"attrAutoloadstate",void 0),lp([Do("columns"),dp("design:type",Array)],hp.prototype,"attrColumns",void 0),lp([Do("columngroups"),dp("design:type",Array)],hp.prototype,"attrColumngroups",void 0),lp([Do("columnsmenu"),dp("design:type",Boolean)],hp.prototype,"attrColumnsmenu",void 0),lp([Do("columnsresize"),dp("design:type",Boolean)],hp.prototype,"attrColumnsresize",void 0),lp([Do("columnsautoresize"),dp("design:type",Boolean)],hp.prototype,"attrColumnsautoresize",void 0),lp([Do("columnsreorder"),dp("design:type",Boolean)],hp.prototype,"attrColumnsreorder",void 0),lp([Do("charting"),dp("design:type",Object)],hp.prototype,"attrCharting",void 0),lp([Do("disabled"),dp("design:type",Boolean)],hp.prototype,"attrDisabled",void 0),lp([Do("editable"),dp("design:type",Boolean)],hp.prototype,"attrEditable",void 0),lp([Do("editmode"),dp("design:type",String)],hp.prototype,"attrEditmode",void 0),lp([Do("filter"),dp("design:type",Function)],hp.prototype,"attrFilter",void 0),lp([Do("filterable"),dp("design:type",Boolean)],hp.prototype,"attrFilterable",void 0),lp([Do("groupable"),dp("design:type",Boolean)],hp.prototype,"attrGroupable",void 0),lp([Do("groups"),dp("design:type",Array)],hp.prototype,"attrGroups",void 0),lp([Do("horizontalscrollbarstep"),dp("design:type",Number)],hp.prototype,"attrHorizontalscrollbarstep",void 0),lp([Do("horizontalscrollbarlargestep"),dp("design:type",Number)],hp.prototype,"attrHorizontalscrollbarlargestep",void 0),lp([Do("initrowdetails"),dp("design:type",Function)],hp.prototype,"attrInitrowdetails",void 0),lp([Do("keyboardnavigation"),dp("design:type",Boolean)],hp.prototype,"attrKeyboardnavigation",void 0),lp([Do("localization"),dp("design:type",Object)],hp.prototype,"attrLocalization",void 0),lp([Do("pagesize"),dp("design:type",Number)],hp.prototype,"attrPagesize",void 0),lp([Do("pagesizeoptions"),dp("design:type",Array)],hp.prototype,"attrPagesizeoptions",void 0),lp([Do("pagermode"),dp("design:type",String)],hp.prototype,"attrPagermode",void 0),lp([Do("pagerbuttonscount"),dp("design:type",Number)],hp.prototype,"attrPagerbuttonscount",void 0),lp([Do("pageable"),dp("design:type",Boolean)],hp.prototype,"attrPageable",void 0),lp([Do("rowdetails"),dp("design:type",Boolean)],hp.prototype,"attrRowdetails",void 0),lp([Do("rowdetailstemplate"),dp("design:type",Object)],hp.prototype,"attrRowdetailstemplate",void 0),lp([Do("ready"),dp("design:type",Function)],hp.prototype,"attrReady",void 0),lp([Do("rendered"),dp("design:type",Function)],hp.prototype,"attrRendered",void 0),lp([Do("renderstatusbar"),dp("design:type",Function)],hp.prototype,"attrRenderstatusbar",void 0),lp([Do("rendertoolbar"),dp("design:type",Function)],hp.prototype,"attrRendertoolbar",void 0),lp([Do("rendergridrows"),dp("design:type",Function)],hp.prototype,"attrRendergridrows",void 0),lp([Do("sortable"),dp("design:type",Boolean)],hp.prototype,"attrSortable",void 0),lp([Do("sortmode"),dp("design:type",String)],hp.prototype,"attrSortmode",void 0),lp([Do("selectedrowindex"),dp("design:type",Number)],hp.prototype,"attrSelectedrowindex",void 0),lp([Do("selectedrowindexes"),dp("design:type",Array)],hp.prototype,"attrSelectedrowindexes",void 0),lp([Do("source"),dp("design:type",Object)],hp.prototype,"attrSource",void 0),lp([Do("sorttogglestates"),dp("design:type",String)],hp.prototype,"attrSorttogglestates",void 0),lp([Do("updatedelay"),dp("design:type",Number)],hp.prototype,"attrUpdatedelay",void 0),lp([Do("virtualmode"),dp("design:type",Boolean)],hp.prototype,"attrVirtualmode",void 0),lp([Do("verticalscrollbarstep"),dp("design:type",Number)],hp.prototype,"attrVerticalscrollbarstep",void 0),lp([Do("verticalscrollbarlargestep"),dp("design:type",Number)],hp.prototype,"attrVerticalscrollbarlargestep",void 0),lp([Do("width"),dp("design:type",Object)],hp.prototype,"attrWidth",void 0),lp([Do("height"),dp("design:type",Object)],hp.prototype,"attrHeight",void 0),lp([Do("auto-create"),dp("design:type",Boolean)],hp.prototype,"autoCreate",void 0),lp([Po(),dp("design:type",Object)],hp.prototype,"onBindingcomplete",void 0),lp([Po(),dp("design:type",Object)],hp.prototype,"onColumnresized",void 0),lp([Po(),dp("design:type",Object)],hp.prototype,"onColumnreordered",void 0),lp([Po(),dp("design:type",Object)],hp.prototype,"onColumnclick",void 0),lp([Po(),dp("design:type",Object)],hp.prototype,"onCellclick",void 0),lp([Po(),dp("design:type",Object)],hp.prototype,"onCelldoubleclick",void 0),lp([Po(),dp("design:type",Object)],hp.prototype,"onCellselect",void 0),lp([Po(),dp("design:type",Object)],hp.prototype,"onCellunselect",void 0),lp([Po(),dp("design:type",Object)],hp.prototype,"onCellvaluechanged",void 0),lp([Po(),dp("design:type",Object)],hp.prototype,"onCellbeginedit",void 0),lp([Po(),dp("design:type",Object)],hp.prototype,"onCellendedit",void 0),lp([Po(),dp("design:type",Object)],hp.prototype,"onFilter",void 0),lp([Po(),dp("design:type",Object)],hp.prototype,"onGroupschanged",void 0),lp([Po(),dp("design:type",Object)],hp.prototype,"onGroupexpand",void 0),lp([Po(),dp("design:type",Object)],hp.prototype,"onGroupcollapse",void 0),lp([Po(),dp("design:type",Object)],hp.prototype,"onPagechanged",void 0),lp([Po(),dp("design:type",Object)],hp.prototype,"onPagesizechanged",void 0),lp([Po(),dp("design:type",Object)],hp.prototype,"onRowclick",void 0),lp([Po(),dp("design:type",Object)],hp.prototype,"onRowdoubleclick",void 0),lp([Po(),dp("design:type",Object)],hp.prototype,"onRowselect",void 0),lp([Po(),dp("design:type",Object)],hp.prototype,"onRowunselect",void 0),lp([Po(),dp("design:type",Object)],hp.prototype,"onRowexpand",void 0),lp([Po(),dp("design:type",Object)],hp.prototype,"onRowcollapse",void 0),lp([Po(),dp("design:type",Object)],hp.prototype,"onSort",void 0),hp=lp([dp("design:paramtypes",[Ps])],hp);var up=function e(){_classCallCheck(this,e)};up.\u0275mod=ft({type:up}),up.\u0275inj=pe({factory:function(e){return new(e||up)},imports:[[]]});var cp,pp,fp,mp,gp,vp,wp=["gridRef"],yp=((cp=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){this.settings={width:this.width,height:this.height,source:this.source,columns:this.columns,showfilterrow:this.showfilterrow,filterable:this.filterable,selectionmode:this.selectionmode}}},{key:"ngAfterViewInit",value:function(){this.gridRef.createComponent(this.settings)}}]),e}()).\u0275fac=function(e){return new(e||cp)},cp.\u0275cmp=ht({type:cp,selectors:[["app-grid"]],viewQuery:function(e,t){var i,r,n,s;1&e&&(s=wp,function(e,t,i,r,n,s){e.firstCreatePass&&function(e,t,i){null===e.queries&&(e.queries=new jo),e.queries.track(new qo(t,-1))}(e,new Co(i,!0,!1,void 0)),function(e,t){var i=new bo;!function(e,t,i,r){var n=en(t);n.push(i),e.firstCreatePass&&tn(e).push(r,n.length-1)}(e,t,i,i.destroy),null===t[19]&&(t[19]=new _o),t[19].queries.push(new xo(i))}(e,t)}(Vt(),Rt(),s)),2&e&&function(e){var t=Rt(),i=Vt(),r=$t();ei(r+1);var n=Io(i,r);if(e.dirty&&Ht(t)===n.metadata.isStatic){if(null===n.matches)e.reset([]);else{var s=n.crossesNgTemplate?function e(t,i,r,n){var s=t.queries.getByIndex(r),o=s.matches;if(null!==o)for(var a=So(t,i,s,r),l=0;l<o.length;l+=2){var d=o[l];if(d>0)n.push(a[l/2]);else{for(var h=o[l+1],u=i[-d],c=10;c<u.length;c++){var p=u[c];p[17]===p[3]&&e(p[1],p,h,n)}if(null!==u[9])for(var f=u[9],m=0;m<f.length;m++){var g=f[m];e(g[1],g,h,n)}}}return n}(i,t,r,[]):So(i,t,n,r);e.reset(s),e.notifyOnChanges()}return!0}return!1}((r=Rt(),n=$t(),i=r[19].queries[n].queryList))&&(t.gridRef=i.first)},inputs:{width:"width",height:"height",source:"source",columns:"columns",showfilterrow:"showfilterrow",filterable:"filterable",selectionmode:"selectionmode"},decls:2,vars:2,consts:[[3,"theme","auto-create"],["gridRef",""]],template:function(e,t){1&e&&ms(0,"jqxGrid",0,1),2&e&&us("theme","material")("auto-create",!1)},directives:[hp],encapsulation:2}),cp),bp=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(mp=function(){function e(){_classCallCheck(this,e),this.data=yd(500,!1),this.source={localdata:yd(500,!1),datafields:[{name:"name",type:"string"},{name:"productname",type:"string"},{name:"available",type:"bool"},{name:"date",type:"date"},{name:"quantity",type:"number"}],datatype:"array"},this.dataAdapter=new jqx.dataAdapter(this.source),this.columns=[{text:"Name",columntype:"textbox",datafield:"name",width:"20%"},{text:"Product",datafield:"productname",width:"35%",filtertype:"checkedlist"},{text:"Ship Date",datafield:"date",filtertype:"date",width:"30%",cellsalign:"right",cellsformat:"d"},{text:"Qty.",datafield:"quantity",width:"15%",cellsalign:"right"}]}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"getWidth",value:function(){return document.body.offsetWidth<850?"90%":850}}]),e}(),mp.\u0275fac=function(e){return new(e||mp)},mp.\u0275cmp=ht({type:mp,selectors:[["app-test1"]],decls:2,vars:14,consts:[[3,"width","height","source","columns","showfilterrow","filterable","selectionmode"]],template:function(e,t){1&e&&(ms(0,"app-grid",0),ms(1,"app-grid",0)),2&e&&(us("width","100%")("height","90%")("source",t.dataAdapter)("columns",t.columns)("showfilterrow",!0)("filterable",!0)("selectionmode","multiplecellsadvanced"),xr(Vt(),Rt(),li()+1,Zt()),us("width","100%")("height","90%")("source",t.dataAdapter)("columns",t.columns)("showfilterrow",!0)("filterable",!0)("selectionmode","multiplecellsadvanced"))},directives:[yp],styles:[""]}),mp)},{path:"home1",component:(fp=function(){function e(){_classCallCheck(this,e),this.data=yd(500,!1),this.source={localdata:yd(500,!1),datafields:[{name:"name",type:"string"},{name:"productname",type:"string"},{name:"available",type:"bool"},{name:"date",type:"date"},{name:"quantity",type:"number"}],datatype:"array"},this.dataAdapter=new jqx.dataAdapter(this.source),this.columns=[{text:"Name",columntype:"textbox",datafield:"name",width:"20%"},{text:"Product",datafield:"productname",width:"35%"},{text:"Ship Date",datafield:"date",filtertype:"date",width:"30%",cellsalign:"right",cellsformat:"d"},{text:"Qty.",datafield:"quantity",width:"15%",cellsalign:"right"}]}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"getWidth",value:function(){return document.body.offsetWidth<850?"90%":850}}]),e}(),fp.\u0275fac=function(e){return new(e||fp)},fp.\u0275cmp=ht({type:fp,selectors:[["app-test2"]],decls:1,vars:7,consts:[[3,"width","height","source","columns","showfilterrow","filterable","selectionmode"]],template:function(e,t){1&e&&ms(0,"app-grid",0),2&e&&us("width","100%")("height","90%")("source",t.dataAdapter)("columns",t.columns)("showfilterrow",!0)("filterable",!0)("selectionmode","multiplecellsadvanced")},directives:[yp],styles:[""]}),fp)},{path:"home2",component:(pp=function(){function e(){_classCallCheck(this,e),this.data=yd(500,!1),this.source={localdata:yd(500,!1),datafields:[{name:"name",type:"string"},{name:"productname",type:"string"},{name:"available",type:"bool"},{name:"date",type:"date"},{name:"quantity",type:"number"}],datatype:"array"},this.dataAdapter=new jqx.dataAdapter(this.source),this.columns=[{text:"Name",columntype:"textbox",datafield:"name",width:"20%"},{text:"Product",datafield:"productname",width:"35%"},{text:"Ship Date",datafield:"date",filtertype:"date",width:"30%",cellsalign:"right",cellsformat:"d"},{text:"Qty.",datafield:"quantity",width:"15%",cellsalign:"right"}]}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"getWidth",value:function(){return document.body.offsetWidth<850?"90%":850}}]),e}(),pp.\u0275fac=function(e){return new(e||pp)},pp.\u0275cmp=ht({type:pp,selectors:[["app-test3"]],decls:1,vars:7,consts:[[3,"width","height","source","columns","showfilterrow","filterable","selectionmode"]],template:function(e,t){1&e&&ms(0,"app-grid",0),2&e&&us("width","100%")("height","90%")("source",t.dataAdapter)("columns",t.columns)("showfilterrow",!0)("filterable",!0)("selectionmode","multiplecellsadvanced")},directives:[yp],styles:[""]}),pp)}],xp=((vp=function e(){_classCallCheck(this,e)}).\u0275mod=ft({type:vp}),vp.\u0275inj=pe({factory:function(e){return new(e||vp)},imports:[[Xc.forRoot(bp)],Xc]}),vp),_p=((gp=function e(){_classCallCheck(this,e)}).\u0275mod=ft({type:gp,bootstrap:[ap]}),gp.\u0275inj=pe({factory:function(e){return new(e||gp)},providers:[],imports:[[Gl,wd,vd,up,xp]]}),gp);Vl().bootstrapModule(_p).then((function(e){window.ngRef&&window.ngRef.destroy(),window.ngRef=e})).catch((function(e){return console.error(e)}))},zblH:function(e,t,i){!function(e){function t(t,i){return this.owner=t,this.datafield=null,this.displayfield=null,this.text="",this.createfilterpanel=null,this.sortable=!0,this.hideable=!0,this.editable=!0,this.hidden=!1,this.adaptivehidden=!1,this.groupable=!0,this.renderer=null,this.cellsrenderer=null,this.checkchange=null,this.threestatecheckbox=!1,this.buttonclick=null,this.columntype=null,this.cellsformat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.filteritems=[],this.resizable=!0,this.initeditor=null,this.createeditor=null,this.createwidget=null,this.initwidget=null,this.destroywidget=null,this.destroyeditor=null,this.geteditorvalue=null,this.validation=null,this.classname="",this.cellclassname="",this.cellendedit=null,this.cellbeginedit=null,this.cellvaluechanging=null,this.aggregates=null,this.aggregatesrenderer=null,this.menu=!0,this.createfilterwidget=null,this.filtertype="default",this.filtercondition=null,this.rendered=null,this.exportable=!0,this.exporting=!1,this.draggable=!0,this.nullable=!0,this.clipboard=!0,this.selectable=!1,this._applyStyle=function(){var e=this;return e.hovered?(e.style.headerBackgroundHoveredColor&&(e.element.style.backgroundColor=e.style.headerBackgroundHoveredColor),void(e.style.headerHoveredColor&&(e.element.style.color=e.style.headerHoveredColor))):e.selected?(e.style.headerBackgroundSelectedColor&&(e.element.style.backgroundColor=e.style.headerBackgroundSelectedColor),void(e.style.headerSelectedColor&&(e.element.style.color=e.style.headerSelectedColor))):(e.element.style.backgroundColor=e.style.headerBackgroundColor?e.style.headerBackgroundColor:"",void(e.element.style.color=e.style.headerColor?e.style.headerColor:""))},this._applyCellStyle=function(e){var t=this,i=!1;if(e.length)for(var r=0;r<e.length;r++)this._applyCellStyle(e[r]);else if((t.style.backgroundColor||t.style.color||t.style.hoveredColor||t.style.hoveredColor||t.style.backgroundSelectedColor||t.style.selectedColor)&&(i=!0),i){if(e.className.indexOf("hover")>=0)return t.style.backgroundHoveredColor&&(e.style.backgroundColor=t.style.backgroundHoveredColor),void(t.style.hoveredColor&&(e.style.color=t.style.hoveredColor));if(e.className.indexOf("selected")>=0)return t.style.backgroundSelectedColor&&(e.style.backgroundColor=t.style.backgroundSelectedColor),void(t.style.selectedColor&&(e.style.color=t.style.selectedColor));t.style.backgroundColor&&(e.style.backgroundColor=t.style.backgroundColor),t.style.color&&(e.style.color=t.style.color)}},this.style={headerBackgroundColor:"",headerColor:"",headerBackgroundHoveredColor:"",headerHoveredColor:"",headerBackgroundSelectedColor:"",headerSelectedColor:"",backgroundColor:"",color:"",backgroundHoveredColor:"",hoveredColor:"",backgroundSelectedColor:"",selectedColor:""},this.enabletooltips=!0,this.columngroup=null,this.filterdelay=800,this.reseteverpresentrowwidgetvalue=null,this.geteverpresentrowwidgetvalue=null,this.createeverpresentrowwidget=null,this.initeverpresentrowwidget=null,this.validateeverpresentrowwidgetvalue=null,this.destroyeverpresentrowwidget=null,this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hideable:this.hideable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsformat:this.cellsformat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){if(this[e]){var i=this[e];this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)}else this[e.toLowerCase()]&&(i=this[e.toLowerCase()],this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i))},this._initfields=function(i){if(null!=i){var r=this.that;if(e.jqx.hasProperty(i,"dataField")&&(this.datafield=e.jqx.get(i,"dataField")),e.jqx.hasProperty(i,"selectable")&&(this.selectable=e.jqx.get(i,"selectable")),this.displayfield=e.jqx.hasProperty(i,"displayField")?e.jqx.get(i,"displayField"):this.datafield,e.jqx.hasProperty(i,"enableTooltips")&&(this.enabletooltips=e.jqx.get(i,"enableTooltips")),this.text=e.jqx.hasProperty(i,"text")?e.jqx.get(i,"text"):this.displayfield,e.jqx.hasProperty(i,"style")&&(this.style=e.jqx.get(i,"style")),e.jqx.hasProperty(i,"createfilterpanel")&&(this.createfilterpanel=e.jqx.get(i,"createfilterpanel")),e.jqx.hasProperty(i,"sortable")&&(this.sortable=e.jqx.get(i,"sortable")),e.jqx.hasProperty(i,"hideable")&&(this.hideable=e.jqx.get(i,"hideable")),e.jqx.hasProperty(i,"hidden")&&(this.hidden=e.jqx.get(i,"hidden")),e.jqx.hasProperty(i,"adaptivehidden")&&(this.adaptivehidden=e.jqx.get(i,"adaptivehidden")),e.jqx.hasProperty(i,"groupable")&&(this.groupable=e.jqx.get(i,"groupable")),e.jqx.hasProperty(i,"renderer")&&(this.renderer=e.jqx.get(i,"renderer")),e.jqx.hasProperty(i,"align")&&(this.align=e.jqx.get(i,"align")),e.jqx.hasProperty(i,"cellsAlign")&&(this.cellsalign=e.jqx.get(i,"cellsAlign")),e.jqx.hasProperty(i,"clipboard")&&(this.clipboard=e.jqx.get(i,"clipboard")),e.jqx.hasProperty(i,"cellsFormat")&&(this.cellsformat=e.jqx.get(i,"cellsFormat")),e.jqx.hasProperty(i,"width")&&(this.width=e.jqx.get(i,"width")),e.jqx.hasProperty(i,"minWidth")&&(this.minwidth=parseInt(e.jqx.get(i,"minWidth")),isNaN(this.minwidth)&&(this.minwidth=25)),e.jqx.hasProperty(i,"maxWidth")&&(this.maxwidth=parseInt(e.jqx.get(i,"maxWidth")),isNaN(this.maxwidth)&&(this.maxwidth="auto")),e.jqx.hasProperty(i,"cellsRenderer")?this.cellsrenderer=e.jqx.get(i,"cellsRenderer"):i.cellsRenderer&&(this.cellsrenderer=i.cellsRenderer),e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"checkChange")&&(this.checkchange=e.jqx.get(i,"checkChange")),e.jqx.hasProperty(i,"buttonClick")?this.buttonclick=e.jqx.get(i,"buttonClick"):i.buttonClick&&(this.buttonclick=i.buttonClick),e.jqx.hasProperty(i,"pinned")&&(this.pinned=e.jqx.get(i,"pinned")),e.jqx.hasProperty(i,"visibleIndex")&&(this.visibleindex=e.jqx.get(i,"visibleIndex")),e.jqx.hasProperty(i,"filterable")&&(this.filterable=e.jqx.get(i,"filterable")),e.jqx.hasProperty(i,"filter")&&(this.filter=e.jqx.get(i,"filter")),e.jqx.hasProperty(i,"resizable")&&(this.resizable=e.jqx.get(i,"resizable")),e.jqx.hasProperty(i,"editable")&&(this.editable=e.jqx.get(i,"editable")),e.jqx.hasProperty(i,"initEditor")?this.initeditor=e.jqx.get(i,"initEditor"):i.initEditor&&(this.initeditor=i.initEditor),e.jqx.hasProperty(i,"createEditor")?this.createeditor=e.jqx.get(i,"createEditor"):i.createEditor&&(this.createeditor=i.createEditor),e.jqx.hasProperty(i,"initWidget")?this.initwidget=e.jqx.get(i,"initWidget"):i.initWidget&&(this.initwidget=i.initWidget),e.jqx.hasProperty(i,"createWidget")?this.createwidget=e.jqx.get(i,"createWidget"):i.createWidget&&(this.createwidget=i.createWidget),e.jqx.hasProperty(i,"destroyWidget")?this.destroywidget=e.jqx.get(i,"destroyWidget"):i.destroyWidget&&(this.destroywidget=i.destroyWidget),e.jqx.hasProperty(i,"reseteverpresentrowwidgetvalue")||e.jqx.hasFunction(i,"reseteverpresentrowwidgetvalue")?this.reseteverpresentrowwidgetvalue=e.jqx.get(i,"reseteverpresentrowwidgetvalue"):i.resetEverPresentRowWidgetValue&&(this.reseteverpresentrowwidgetvalue=i.resetEverPresentRowWidgetValue),e.jqx.hasProperty(i,"geteverpresentrowwidgetvalue")||e.jqx.hasFunction(i,"geteverpresentrowwidgetvalue")?this.geteverpresentrowwidgetvalue=e.jqx.get(i,"geteverpresentrowwidgetvalue"):i.getEverPresentRowWidgetValue&&(this.geteverpresentrowwidgetvalue=i.getEverPresentRowWidgetValue),e.jqx.hasProperty(i,"createeverpresentrowwidget")||e.jqx.hasFunction(i,"createeverpresentrowwidget")?this.createeverpresentrowwidget=e.jqx.get(i,"createeverpresentrowwidget"):i.createEverPresentRowWidget&&(this.createeverpresentrowwidget=i.createEverPresentRowWidget),e.jqx.hasProperty(i,"initeverpresentrowwidget")||e.jqx.hasFunction(i,"initeverpresentrowwidget")?this.initeverpresentrowwidget=e.jqx.get(i,"initeverpresentrowwidget"):i.initEverPresentRowWidget&&(this.initeverpresentrowwidget=i.initEverPresentRowWidget),e.jqx.hasProperty(i,"validateeverpresentrowwidgetvalue")?this.validateeverpresentrowwidgetvalue=e.jqx.get(i,"validateeverpresentrowwidgetvalue"):i.validateEverPresentRowWidgetValue&&(this.validateeverpresentrowwidgetvalue=i.validateEverPresentRowWidgetValue),e.jqx.hasProperty(i,"destroyeverpresentrowwidget")||e.jqx.hasFunction(i,"destroyeverpresentrowwidget")?this.destroyeverpresentrowwidget=e.jqx.get(i,"destroyeverpresentrowwidget"):i.destroyEverPresentRowWidget&&(this.destroyEverPresentRowWidget=i.destroyEverPresentRowWidget),e.jqx.hasProperty(i,"destroyEditor")?this.destroyeditor=e.jqx.get(i,"destroyEditor"):i.destroyEditor&&(this.destroyeditor=i.destroyEditor),e.jqx.hasProperty(i,"getEditorValue")?this.geteditorvalue=e.jqx.get(i,"getEditorValue"):i.getEditorValue&&(this.geteditorvalue=i.getEditorValue),e.jqx.hasProperty(i,"validation")?this.validation=e.jqx.get(i,"validation"):i.validation&&(this.validation=i.validation),e.jqx.hasProperty(i,"cellBeginEdit")?this.cellbeginedit=e.jqx.get(i,"cellBeginEdit"):i.cellBeginEdit&&(this.cellbeginedit=i.cellBeginEdit),e.jqx.hasProperty(i,"cellEndEdit")?this.cellendedit=e.jqx.get(i,"cellEndEdit"):i.cellEndEdit&&(this.cellendedit=i.cellEndEdit),e.jqx.hasProperty(i,"className")&&(this.classname=e.jqx.get(i,"className")),e.jqx.hasProperty(i,"cellClassName")?this.cellclassname=e.jqx.get(i,"cellClassName"):i.cellClassName&&(this.cellclassname=i.cellClassName),e.jqx.hasProperty(i,"menu")&&(this.menu=e.jqx.get(i,"menu")),e.jqx.hasProperty(i,"aggregates")&&(this.aggregates=e.jqx.get(i,"aggregates")),e.jqx.hasProperty(i,"aggregatesRenderer")&&(this.aggregatesrenderer=e.jqx.get(i,"aggregatesRenderer")),e.jqx.hasProperty(i,"createFilterWidget")&&(this.createfilterwidget=e.jqx.get(i,"createFilterWidget")),e.jqx.hasProperty(i,"filterType")&&(this.filtertype=e.jqx.get(i,"filterType")),e.jqx.hasProperty(i,"filterDelay")&&(this.filterdelay=e.jqx.get(i,"filterDelay")),e.jqx.hasProperty(i,"rendered")&&(this.rendered=e.jqx.get(i,"rendered")),e.jqx.hasProperty(i,"exportable")&&(this.exportable=e.jqx.get(i,"exportable")),e.jqx.hasProperty(i,"filterItems")&&(this.filteritems=e.jqx.get(i,"filterItems")),e.jqx.hasProperty(i,"cellValueChanging")&&(this.cellvaluechanging=e.jqx.get(i,"cellValueChanging")),e.jqx.hasProperty(i,"draggable")&&(this.draggable=e.jqx.get(i,"draggable")),e.jqx.hasProperty(i,"filterCondition")&&(this.filtercondition=e.jqx.get(i,"filterCondition")),e.jqx.hasProperty(i,"threeStateCheckbox")&&(this.threestatecheckbox=e.jqx.get(i,"threeStateCheckbox")),e.jqx.hasProperty(i,"nullable")&&(this.nullable=e.jqx.get(i,"nullable")),e.jqx.hasProperty(i,"columnGroup")&&(this.columngroup=e.jqx.get(i,"columnGroup")),!i instanceof String&&"string"!=typeof i)for(var n in i)if(!r.hasOwnProperty(n)&&!r.hasOwnProperty(n.toLowerCase()))throw t.host.remove(),new Error("jqxGrid: Invalid property name - "+n+".")}},this._initfields(i),this}function i(e,t){return this.setdata=function(e){null!=e&&(this.bounddata=e,this.boundindex=e.boundindex,this.visibleindex=e.visibleindex,this.group=e.group,this.parentbounddata=e.parentItem,this.uniqueid=e.uniqueid,this.level=e.level)},this.setdata(t),this.parentrow=null,this.subrows=new Array,this.owner=e,this.height=25,this.hidden=!1,this.rowdetails=null,this.rowdetailsheight=100,this.rowdetailshidden=!0,this.top=-1,this.setrowinfo=function(e){this.hidden=e.hidden,this.rowdetails=e.rowdetails,this.rowdetailsheight=e.rowdetailsheight,this.rowdetailshidden=!e.showdetails,this.height=e.height},this}e.jqx.jqxWidget("jqxGrid","",{}),e.extend(e.jqx._jqxGrid.prototype,{defineInstance:function(){var t={adaptive:!1,adaptivewidth:600,disabled:!1,width:600,height:400,pagerheight:40,groupsheaderheight:34,pagesize:10,pagesizeoptions:["5","10","20"],rowsheight:32,columnsheight:32,filterrowheight:36,groupindentwidth:30,rowdetails:!1,enablerowdetailsindent:!0,enablemousewheel:!0,initrowdetails:null,layoutrowdetails:null,editable:!1,editmode:"selectedcell",pageable:!1,pagermode:"default",pagerbuttonscount:5,groupable:!1,sortable:!1,sortmode:"one",filterable:!1,filtermode:"default",autoshowfiltericon:!0,showfiltercolumnbackground:!0,showpinnedcolumnbackground:!0,showsortcolumnbackground:!0,altrows:!1,altstart:1,altstep:1,showrowdetailscolumn:!0,showrowlines:!0,showcolumnlines:!0,showcolumnheaderlines:!0,showtoolbar:!1,toolbarheight:36,showstatusbar:!1,statusbarheight:36,enableellipsis:!0,groups:[],groupsrenderer:null,groupcolumnrenderer:null,groupsexpandedbydefault:!1,pagerrenderer:null,touchmode:"auto",columns:[],selectedrowindex:-1,selectedrowindexes:new Array,selectedcells:new Array,autobind:!0,selectedcell:null,tableZIndex:79,headerZIndex:29,updatefilterconditions:null,showgroupaggregates:!1,showaggregates:!1,showfilterrow:!1,showeverpresentrow:!1,everpresentrowposition:"top",everpresentrowactions:"add reset",everpresentrowactionsmode:"buttons",everpresentrowheight:30,autorowheight:!1,autokoupdates:!0,handlekeyboardnavigation:null,showsortmenuitems:!0,showfiltermenuitems:!0,showgroupmenuitems:!0,enablebrowserselection:!1,enablekeyboarddelete:!0,clipboard:!0,clipboardbegin:null,clipboardend:null,copytoclipboardwithheaders:!1,copytoclipboardhiddencolumns:!1,ready:null,updatefilterpanel:null,autogeneratecolumns:!1,rowdetailstemplate:null,scrollfeedback:null,rendertoolbar:null,renderstatusbar:null,rendered:null,multipleselectionbegins:null,columngroups:null,cellhover:null,source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},filter:null,dataview:null,updatedelay:null,autoheight:!1,autowidth:!1,showheader:!0,showgroupsheader:!0,closeablegroups:!0,scrollbarsize:e.jqx.utilities.scrollBarSize,touchscrollbarsize:e.jqx.utilities.touchScrollBarSize,scrollbarautoshow:e.jqx.utilities.scrollBarAutoShow,virtualmode:!1,sort:null,columnsmenu:!0,columnsresize:!1,columnsautoresize:!0,columnsreorder:!1,columnsmenuwidth:16,autoshowcolumnsmenubutton:!0,showcolumnsactionbutton:!1,popupwidth:"auto",popupheight:"auto",columnmenuopening:null,columnmenuclosing:null,sorttogglestates:2,rendergridrows:null,enableanimations:!0,enablecolumnsvirtualization:!0,enabletooltips:!1,selectionmode:"singlerow",enablehover:!0,loadingerrormessage:"The data is still loading. When the data binding is completed, the Grid raises the 'bindingcomplete' event. Call this function in the 'bindingcomplete' event handler.",verticalscrollbarstep:30,verticalscrollbarlargestep:400,horizontalscrollbarstep:10,horizontalscrollbarlargestep:50,keyboardnavigation:!0,keyboardmenunavigation:!0,touchModeStyle:"auto",autoshowloadelement:!0,showdefaultloadelement:!0,showemptyrow:!0,autosavestate:!1,autoloadstate:!1,_updating:!1,_pagescache:new Array,_pageviews:new Array,_cellscache:new Array,_rowdetailscache:new Array,_rowdetailselementscache:new Array,_requiresupdate:!1,_hasOpenedMenu:!1,scrollmode:"physical",deferreddatafields:null,localization:null,rtl:!1,menuitemsarray:[],charting:{appendTo:null,colorScheme:"scheme02",dialog:{header:"Data Visualization",height:400,width:400,position:"center",enabled:!0},ready:null,formatSettings:{}},events:["initialized","rowClick","rowSelect","rowUnselect","groupExpand","groupCollapse","sort","columnClick","cellClick","pageChanged","pageSizeChanged","bindingComplete","groupsChanged","filter","columnResized","cellSelect","cellUnselect","cellBeginEdit","cellEndEdit","cellValueChanged","rowExpand","rowCollapse","rowDoubleClick","cellDoubleClick","columnReordered","pageChanging"]};return this===e.jqx._jqxGrid.prototype||e.extend(!0,this,t),t},createInstance:function(t){this.that=this;var i=this;i.pagesize=parseInt(i.pagesize),i.toolbarheight=parseInt(i.toolbarheight),i.columnsheight=parseInt(i.columnsheight),i.filterrowheight=parseInt(i.filterrowheight),i.statusbarheight=parseInt(i.statusbarheight),i.groupsheaderheight=parseInt(i.groupsheaderheight),i.detailsVisibility=new Array,i.savedArgs=t&&t.length>0?t[0]:null;var r="<div class='jqx-clear jqx-border-reset jqx-overflow-hidden jqx-max-size jqx-position-relative'><div tabindex='1' class='jqx-clear jqx-max-size jqx-position-relative jqx-overflow-hidden jqx-background-reset' id='wrapper"+i.element.id+"'><div class='jqx-clear jqx-position-absolute' id='toolbar' style='visibility: hidden;'></div><div class='jqx-clear jqx-position-absolute' id='groupsheader' style='visibility: hidden;'></div><div class='jqx-clear jqx-overflow-hidden jqx-position-absolute jqx-border-reset jqx-background-reset' id='content"+i.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='verticalScrollBar"+i.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='horizontalScrollBar"+i.element.id+"'></div><div class='jqx-clear jqx-position-absolute jqx-border-reset' id='bottomRight'></div><div class='jqx-clear jqx-position-absolute' id='addrow'></div><div class='jqx-clear jqx-position-absolute' id='statusbar'></div><div class='jqx-clear jqx-position-absolute' id='pager' style='z-index: 20;'></div></div></div>";if(i.element.innerHTML="",i.source){if(!i.source.dataBind){if(!e.jqx.dataAdapter)throw new Error("jqxGrid: Missing reference to jqxdata.js");i.source=new e.jqx.dataAdapter(i.source)}(h=i.source._source.datafields)&&h.length>0&&(i.editmode=i.editmode.toLowerCase(),i.selectionmode=i.selectionmode.toLowerCase())}i.host.attr("role","grid"),i.host.attr("align","left"),i.element.innerHTML=r,i.host.addClass(i.toTP("jqx-grid")),i.host.addClass(i.toTP("jqx-reset")),i.host.addClass(i.toTP("jqx-rc-all")),i.host.addClass(i.toTP("jqx-widget")),i.host.addClass(i.toTP("jqx-widget-content")),i.wrapper=i.host.find("#wrapper"+i.element.id),i.content=i.host.find("#content"+i.element.id),i.content.addClass(i.toTP("jqx-reset"));var n=i.host.find("#verticalScrollBar"+i.element.id),s=i.host.find("#horizontalScrollBar"+i.element.id);if(i.bottomRight=i.host.find("#bottomRight").addClass(i.toTP("jqx-grid-bottomright jqx-scrollbar-state-normal")),!n.jqxScrollBar)throw new Error("jqxGrid: Missing reference to jqxscrollbar.js");if(i.editors=new Array,i.vScrollBar=n.jqxScrollBar({vertical:!0,rtl:i.rtl,touchMode:i.touchmode,step:i.verticalscrollbarstep,largestep:i.verticalscrollbarlargestep,theme:i.theme,_triggervaluechanged:!1}),i.hScrollBar=s.jqxScrollBar({vertical:!1,rtl:i.rtl,touchMode:i.touchmode,step:i.horizontalscrollbarstep,largestep:i.horizontalscrollbarlargestep,theme:i.theme,_triggervaluechanged:!1}),i.addnewrow=i.host.find("#addrow"),i.addnewrow[0].id="addrow"+i.element.id,i.addnewrow.addClass(i.toTP("jqx-widget-header")),i.pager=i.host.find("#pager"),i.pager[0].id="pager"+i.element.id,i.toolbar=i.host.find("#toolbar"),i.toolbar[0].id="toolbar"+i.element.id,i.toolbar.addClass(i.toTP("jqx-grid-toolbar")),i.toolbar.addClass(i.toTP("jqx-widget-header")),i.statusbar=i.host.find("#statusbar"),i.statusbar[0].id="statusbar"+i.element.id,i.statusbar.addClass(i.toTP("jqx-grid-statusbar")),i.statusbar.addClass(i.toTP("jqx-widget-header")),i.pager.addClass(i.toTP("jqx-grid-pager")),i.pager.addClass(i.toTP("jqx-widget-header")),i.groupsheader=i.host.find("#groupsheader"),i.groupsheader.addClass(i.toTP("jqx-grid-groups-header")),i.groupsheader.addClass(i.toTP("jqx-widget-header")),i.groupsheader[0].id="groupsheader"+i.element.id,i.vScrollBar.css("visibility","hidden"),i.hScrollBar.css("visibility","hidden"),i.vScrollInstance=e.data(i.vScrollBar[0],"jqxScrollBar").instance,i.hScrollInstance=e.data(i.hScrollBar[0],"jqxScrollBar").instance,i.gridtable=null,i.isNestedGrid=!!i.host.parent()&&299==i.host.parent().css("z-index"),i.touchdevice=i.isTouchDevice(),i.localizestrings&&(i.localizestrings(),null!=i.localization&&i.localizestrings(i.localization,!1)),i.rowdetailstemplate&&"function"!=typeof i.rowdetailstemplate&&(null==i.rowdetailstemplate.rowdetails&&(i.rowdetailstemplate.rowdetails="<div></div>"),null==i.rowdetailstemplate.rowdetailsheight&&(i.rowdetailstemplate.rowdetailsheight=200),null==i.rowdetailstemplate.rowdetailshidden&&(i.rowdetailstemplate.rowdetailshidden=!0)),i.showfilterrow&&!i.filterable)throw new Error('jqxGrid: "showfilterrow" requires setting the "filterable" property to true!');if(i.autorowheight&&!i.autoheight&&!i.pageable)throw new Error('jqxGrid: "autorowheight" requires setting the "autoheight" or "pageable" property to true!');if(i.virtualmode&&null==i.rendergridrows)throw new Error('jqxGrid: "virtualmode" requires setting the "rendergridrows"!');if(i.virtualmode&&!i.pageable&&i.groupable)throw new Error('jqxGrid: "grouping" in "virtualmode" without paging is not supported!');if(!i._testmodules()){if(i._builddataloadelement(),i._cachedcolumns=i.columns,i.columns&&i.columns.length>i.headerZIndex&&(i.headerZIndex=i.columns.length+100),i.theme&&i.theme.indexOf("material")>=0){var o=e("<span>Test</span>"),a=e("<span>Test</span>");o.addClass(i.toTP("jqx-grid-row-cell")),a.addClass(i.toTP("jqx-grid-column-header-cell")),i.host.append(o),i.host.append(a);var l=o.outerHeight(),d=a.outerHeight();l>this.rowsheight&&(i.rowsheight=l,this._cellheight=l),d>this.columnsheight&&(i.columnsheight=d,this._columnHeight=d),o.remove(),a.remove()}var h;if(31!=i.rowsheight&&i._measureElement("cell"),(32!=i.columnsheight||i.columngroups)&&i._measureElement("column"),i.source&&(null==(h=i.source.datafields)&&i.source._source&&(h=i.source._source.datafields),h))for(var u=0;u<i.columns.length;u++)if((a=i.columns[u])&&a.cellsformat&&a.cellsformat.length>2)for(var c=0;c<h.length;c++)if(h[c].name==a.datafield&&!h[c].format){h[c].format=a.cellsformat;break}i.databind(i.source),i.showtoolbar&&i.toolbar.css("visibility","inherit"),i.showstatusbar&&i.statusbar.css("visibility","inherit"),i._arrange(),i.pageable&&i._initpager&&i._initpager(),i.tableheight=null;var p=i.that,f=function(){p.content&&(p.content[0].scrollTop=0,p.content[0].scrollLeft=0),p.gridcontent&&(p.gridcontent[0].scrollLeft=0,p.gridcontent[0].scrollTop=0)};i.addHandler(i.content,"mousedown",(function(){f()})),i.addHandler(i.content,"scroll",(function(e){return f(),!1})),i.showfilterrow||(i.showstatusbar||i.showtoolbar||i.host.addClass("jqx-disableselect"),i.content.addClass("jqx-disableselect")),i.enablebrowserselection&&(i.content.removeClass("jqx-disableselect"),i.host.removeClass("jqx-disableselect")),i._resizeWindow(),i.disabled&&i.host.addClass(i.toThemeProperty("jqx-fill-state-disabled")),i.hasTransform=e.jqx.utilities.hasTransform(i.host),"logical"==i.scrollmode&&(i.vScrollInstance.thumbStep=i.rowsheight,i.vScrollInstance.step=i.rowsheight),e.jqx.isHidden(i.host)||(i.filterable||i.groupable||i.sortable)&&i._initmenu()}},_resizeWindow:function(){var t=this.that;if(null!=this.width&&-1!=this.width.toString().indexOf("%")||null!=this.height&&-1!=this.height.toString().indexOf("%")){this._updatesizeonwindowresize=!0,e.jqx.utilities.resize(this.host,(function(i){var r=e(window).width(),n=e(window).height(),s=t.host.width(),o=t.host.height();if(t.pageable){var a=t.host.find(".jqx-grid-pager-input");r<350?a.hide():a.show()}if(t.autoheight&&(t._lastHostWidth=n),t._lastHostWidth!=s||t._lastHostHeight!=o){if(t.touchdevice&&t.editcell&&"orientationchange"!==i)return;t._updatesize(t._lastHostWidth!=s,t._lastHostHeight!=o)}t._lastWidth=r,t._lastHeight=n,t._lastHostWidth=s,t._lastHostHeight=o}));var i=t.host.width(),r=t.host.height();t._lastHostWidth=i,t._lastHostHeight=r}},_builddataloadelement:function(){if(this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=e('<div style="overflow: hidden; position: absolute;"></div>'),this.showdefaultloadelement){var t=e('<div style="z-index: 99; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");t.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),t.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(t)}else this.dataloadelement.addClass(this.toTP("jqx-grid-load"));this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this.wrapper.prepend(this.dataloadelement)},_measureElement:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");i.addClass(this.toTP("jqx-widget")),e(document.body).append(i),"cell"==t?this._cellheight=i.height():this._columnheight=i.height(),i.remove()},_measureMenuElement:function(){var t=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");t.addClass(this.toTP("jqx-widget")),t.addClass(this.toTP("jqx-menu")),t.addClass(this.toTP("jqx-menu-item-top")),t.addClass(this.toTP("jqx-fill-state-normal")),this.isTouchDevice()&&t.addClass(this.toTP("jqx-grid-menu-item-touch")),e(document.body).append(t);var i=t.outerHeight();return t.remove(),i},_measureElementWidth:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>"+t+"</span>");i.addClass(this.toTP("jqx-widget")),i.addClass(this.toTP("jqx-grid")),i.addClass(this.toTP("jqx-grid-column-header")),i.addClass(this.toTP("jqx-widget-header")),e(document.body).append(i);var r=i.outerWidth()+20;return i.remove(),r},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},_testmodules:function(){var t="",i=this.that,r=function(){""!=t.length&&(t+=",")};if(this.columnsmenu&&!this.host.jqxMenu&&(this.sortable||this.groupable||this.filterable)&&(r(),t+=" jqxmenu.js"),this.host.jqxScrollBar||(r(),t+=" jqxscrollbar.js"),this.host.jqxButton||(r(),t+=" jqxbuttons.js"),e.jqx.dataAdapter||(r(),t+=" jqxdata.js"),this.pageable&&!this.gotopage&&(r(),t+="jqxgrid.pager.js"),this.filterable&&!this.applyfilters&&(r(),t+=" jqxgrid.filter.js"),this.groupable&&!this._initgroupsheader&&(r(),t+=" jqxgrid.grouping.js"),this.columnsresize&&!this.autoresizecolumns&&(r(),t+=" jqxgrid.columnsresize.js"),this.columnsreorder&&!this.setcolumnindex&&(r(),t+=" jqxgrid.columnsreorder.js"),this.sortable&&!this.sortby&&(r(),t+=" jqxgrid.sort.js"),this.editable&&!this.begincelledit&&(r(),t+=" jqxgrid.edit.js"),this.showaggregates&&!this.getcolumnaggregateddata&&(r(),t+=" jqxgrid.aggregates.js"),this.keyboardnavigation&&!this.selectrow&&(r(),t+=" jqxgrid.selection.js"),""!=t||this.editable||this.filterable||this.pageable){var n=[],s=function(e){switch(e){case"checkbox":i.host.jqxCheckBox||n.checkbox||(n.checkbox=!0,r(),t+=" jqxcheckbox.js");break;case"numberinput":i.host.jqxNumberInput||n.numberinput||(n.numberinput=!0,r(),t+=" jqxnumberinput.js");break;case"datetimeinput":i.host.jqxDateTimeInput||n.datetimeinput?i.host.jqxCalendar||n.calendar||(r(),t+=" jqxcalendar.js"):(r(),n.datetimeinput=!0,t+=" jqxdatetimeinput.js(requires: jqxcalendar.js)");break;case"combobox":i.host.jqxComboBox||n.combobox?i.host.jqxListBox||n.listbox||(r(),n.listbox=!0,t+=" jqxlistbox.js"):(r(),n.combobox=!0,t+=" jqxcombobox.js(requires: jqxlistbox.js)");break;case"dropdownlist":i.host.jqxDropDownList||n.dropdownlist?i.host.jqxListBox||n.listbox||(r(),n.listbox=!0,t+=" jqxlistbox.js"):(r(),n.dropdownlist=!0,t+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}};(this.filterable||this.pageable)&&s("dropdownlist");for(var o=0;o<this.columns.length;o++){var a;null!=this.columns[o]&&(s(a=this.columns[o].columntype),this.filterable&&this.showfilterrow&&("checkedlist"!=(a=this.columns[o].filtertype)&&"bool"!=a||s("checkbox"),"date"==a&&s("datetimeinput")))}if(""!=t)throw new Error("jqxGrid: Missing references to the following module(s): "+t)}return!1},focus:function(){try{this.wrapper.focus();var e=this.that;setTimeout((function(){e.wrapper.focus()}),25),this.focused=!0}catch(t){}},hiddenParent:function(){return e.jqx.isHidden(this.host)},resize:function(e,t){this.width=e,this.height=t,this._updatesize(!0,!0)},_updatesize:function(t,i){if(!this._loading){var r=this.that;r._newmax=null;var n=r.host.width(),s=r.host.height();if(r._oldWidth||(r._oldWidth=n),r._oldHeight||(r._oldHeight=s),r._resizeTimer&&clearTimeout(r._resizeTimer),r.resizingGrid=!0,!e.jqx.isHidden(r.host)){if(r.editcell&&(r.endcelledit(r.editcell.row,r.editcell.column,!0,!0),r._oldselectedcell=null),s!=r._oldHeight||1==i){var o=r.groupable&&r.groups.length>0,a=r.vScrollBar.css("visibility");if(!r.autoheight){if(r.virtualmode&&(r._pageviews=new Array),o||r.rowdetails||r.pageable){r._arrange(),r.prerenderrequired=!0,s=Math.round(r.host.height())+2*r.rowsheight,r._gettableheight();var l=Math.round(s/r.rowsheight),d=Math.max(r.dataview.totalrows,r.dataview.totalrecords);r.pageable&&(d=r.pagesize,r.pagesize>Math.max(r.dataview.totalrows,r.dataview.totalrecords)&&r.autoheight?d=Math.max(r.dataview.totalrows,r.dataview.totalrecords):r.autoheight||r.dataview.totalrows<r.pagesize&&(d=Math.max(r.dataview.totalrows,r.dataview.totalrecords))),r._getpagesize(),!r.pageable&&r.autoheight&&(l=d),r.virtualsizeinfo&&(r.virtualsizeinfo.visiblerecords=l),r.rendergridcontent(!0,!1),r._renderrows(r.virtualsizeinfo)}else r._arrange(),r.virtualsizeinfo=r._calculatevirtualheight(),s=Math.round(r.host.height())+2*r.rowsheight,parseInt(s)>=parseInt(r._oldHeight)&&(r.prerenderrequired=!0),r._renderrows(r.virtualsizeinfo),r.rtl&&(r._updatecolumnwidths(),r.table&&r.table.width(r.columnsheader.width()),r._updatecellwidths());a!=r.vScrollBar.css("visibility")&&(r.vScrollInstance.setPosition(0),r._arrange(),r._updatecolumnwidths(),r.table&&r.table.width(r.columnsheader.width()),r._updatecellwidths())}}if(n!=r._oldWidth||1==t){var h=!1;if(r.editcell&&r.editcell.editor)switch(r.editcell.columntype){case"dropdownlist":if(h=r.editcell.editor.jqxDropDownList("isOpened")||r.editcell.editor.jqxDropDownList("isanimating")&&!r.editcell.editor.jqxDropDownList("ishiding"))return r.editcell.editor.jqxDropDownList({openDelay:0}),r.editcell.editor.jqxDropDownList("open"),void r.editcell.editor.jqxDropDownList({openDelay:250});break;case"combobox":if(h=r.editcell.editor.jqxComboBox("isOpened")||r.editcell.editor.jqxComboBox("isanimating")&&!r.editcell.editor.jqxComboBox("ishiding"))return r.editcell.editor.jqxComboBox({openDelay:0}),r.editcell.editor.jqxComboBox("open"),void r.editcell.editor.jqxComboBox({openDelay:250});break;case"datetimeinput":if(h)return h=r.editcell.editor.jqxDateTimeInput("isOpened")||r.editcell.editor.jqxDateTimeInput("isanimating")&&!r.editcell.editor.jqxDateTimeInput("ishiding"),r.editcell.editor.jqxDateTimeInput({openDelay:0}),r.editcell.editor.jqxDateTimeInput("open"),void r.editcell.editor.jqxDateTimeInput({openDelay:250})}var u=r.hScrollBar.css("visibility");r._arrange(),r._updatecolumnwidths(),r.table&&r.table.width(r.columnsheader.width()),r._updatecellwidths(),0==t&&r._oldWidth>n||i&&0!=r.dataview.rows.length||r._renderrows(r.virtualsizeinfo),u!=r.hScrollBar.css("visibility")&&r.hScrollInstance.setPosition(0)}r._oldWidth=n,r._oldHeight=s,r.resizingGrid=!1}}},getTouches:function(t){return e.jqx.mobile.getTouches(t)},_updateTouchScrolling:function(){var t=this.that;if(t.isTouchDevice()){t.scrollmode="logical",t.vScrollInstance.thumbStep=t.rowsheight;var i=e.jqx.mobile.getTouchEventName("touchstart"),r=e.jqx.mobile.getTouchEventName("touchend"),n=e.jqx.mobile.getTouchEventName("touchmove");t.enablehover=!1,t.gridcontent&&(t.removeHandler(t.gridcontent,i+".touchScroll"),t.removeHandler(t.gridcontent,n+".touchScroll"),t.removeHandler(t.gridcontent,r+".touchScroll"),t.removeHandler(t.gridcontent,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t.gridcontent[0],t.vScrollInstance.max,(function(e,i){null!=i&&"visible"==t.vScrollBar.css("visibility")&&t.vScrollInstance.setPosition(i),null!=e&&"visible"==t.hScrollBar.css("visibility")&&t.hScrollInstance.setPosition(e),t.vScrollInstance.thumbCapture=!0,t._lastScroll=new Date}),this.element.id,this.hScrollBar,this.vScrollBar),t._overlayElement&&(t.removeHandler(t._overlayElement,i+".touchScroll"),t.removeHandler(t._overlayElement,n+".touchScroll"),t.removeHandler(t._overlayElement,r+".touchScroll"),t.removeHandler(t._overlayElement,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t._overlayElement[0],t.vScrollInstance.max,(function(e,i){null!=i&&"visible"==t.vScrollBar.css("visibility")&&t.vScrollInstance.setPosition(i),null!=e&&"visible"==t.hScrollBar.css("visibility")&&t.hScrollInstance.setPosition(e),t.vScrollInstance.thumbCapture=!0,t._lastScroll=new Date}),this.element.id,this.hScrollBar,this.vScrollBar),this.addHandler(this.host,i,(function(){t._overlayElement.css("visibility",t.editcell?"hidden":"visible")})),this.addHandler(this.host,r,(function(){t._overlayElement.css("visibility",t.editcell?"hidden":"visible")}))))}},_rendercelltexts:function(){if("75CE8878-FCD1-4EC7-9249-BA0F153A5DE8"!==e.jqx.credits){var t="www.jqwidgets.com";if(-1==location.hostname.indexOf(t.substring(4))){this._gridRenderElement&&e(this._gridRenderElement).remove();var i=String.fromCharCode(83,80,65,78),r=String.fromCharCode(72,84,84,80,58,47,47),n=document.createElement(i);n.id=e.jqx.utilities.createId(),n.innerHTML=t,n.style.position="absolute",n.style.right="5px",n.style.bottom="5px",n.style.color="#909090",n.style.cursor="pointer",n.style.zIndex="999999",n.style.display="none",n.style.fontSize="9px",n.onmousedown=function(){open(r+t)},this.content[0].appendChild(n),this._gridRenderElement=n}}},isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var t=e.jqx.mobile.isTouchDevice();if(this.touchDevice=t,1==this.touchmode){if(e.jqx.browser.msie&&e.jqx.browser.version<9)return this.enablehover=!1,!1;t=!0,e.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=t}else 0==this.touchmode&&(t=!1);return t&&0!=this.touchModeStyle&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollbarsize=this.touchscrollbarsize),t},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(t,i){if(this._cellscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null!=t){for(var r in t)r.toLowerCase()!==r&&(t[r.toLowerCase()]=t[r]);if(t.okstring&&(this.gridlocalization.okstring=t.okstring),t.cancelstring&&(this.gridlocalization.cancelstring=t.cancelstring),t.pagergotopagestring&&(this.gridlocalization.pagergotopagestring=t.pagergotopagestring),t.pagershowrowsstring&&(this.gridlocalization.pagershowrowsstring=t.pagershowrowsstring),t.pagerrangestring&&(this.gridlocalization.pagerrangestring=t.pagerrangestring),t.pagernextbuttonstring&&(this.gridlocalization.pagernextbuttonstring=t.pagernextbuttonstring),t.pagerpreviousbuttonstring&&(this.gridlocalization.pagerpreviousbuttonstring=t.pagerpreviousbuttonstring),t.pagerfirstbuttonstring&&(this.gridlocalization.pagerfirstbuttonstring=t.pagerfirstbuttonstring),t.pagerlastbuttonstring&&(this.gridlocalization.pagerlastbuttonstring=t.pagerlastbuttonstring),t.groupsheaderstring&&(this.gridlocalization.groupsheaderstring=t.groupsheaderstring),t.sortascendingstring&&(this.gridlocalization.sortascendingstring=t.sortascendingstring),t.sortdescendingstring&&(this.gridlocalization.sortdescendingstring=t.sortdescendingstring),t.sortremovestring&&(this.gridlocalization.sortremovestring=t.sortremovestring),t.groupbystring&&(this.gridlocalization.groupbystring=t.groupbystring),t.groupremovestring&&(this.gridlocalization.groupremovestring=t.groupremovestring),t.firstDay&&(this.gridlocalization.firstDay=t.firstDay),t.days&&(this.gridlocalization.days=t.days),t.months&&(this.gridlocalization.months=t.months),t.AM&&(this.gridlocalization.AM=t.AM),t.PM&&(this.gridlocalization.PM=t.PM),t.patterns&&(this.gridlocalization.patterns=t.patterns),t.percentsymbol&&(this.gridlocalization.percentsymbol=t.percentsymbol),t.currencysymbol&&(this.gridlocalization.currencysymbol=t.currencysymbol),t.currencysymbolposition&&(this.gridlocalization.currencysymbolposition=t.currencysymbolposition),null!=t.decimalseparator&&(this.gridlocalization.decimalseparator=t.decimalseparator),null!=t.thousandsseparator&&(this.gridlocalization.thousandsseparator=t.thousandsseparator),t.filterclearstring&&(this.gridlocalization.filterclearstring=t.filterclearstring),t.filterstring&&(this.gridlocalization.filterstring=t.filterstring),t.filtershowrowstring&&(this.gridlocalization.filtershowrowstring=t.filtershowrowstring),t.filtershowrowdatestring&&(this.gridlocalization.filtershowrowdatestring=t.filtershowrowdatestring),t.filterselectallstring&&(this.gridlocalization.filterselectallstring=t.filterselectallstring),t.filterchoosestring&&(this.gridlocalization.filterchoosestring=t.filterchoosestring),t.filterorconditionstring&&(this.gridlocalization.filterorconditionstring=t.filterorconditionstring),t.filterandconditionstring&&(this.gridlocalization.filterandconditionstring=t.filterandconditionstring),t.filterstringcomparisonoperators&&(this.gridlocalization.filterstringcomparisonoperators=t.filterstringcomparisonoperators),t.filternumericcomparisonoperators&&(this.gridlocalization.filternumericcomparisonoperators=t.filternumericcomparisonoperators),t.filterdatecomparisonoperators&&(this.gridlocalization.filterdatecomparisonoperators=t.filterdatecomparisonoperators),t.filterbooleancomparisonoperators&&(this.gridlocalization.filterbooleancomparisonoperators=t.filterbooleancomparisonoperators),t.emptydatastring&&(this.gridlocalization.emptydatastring=t.emptydatastring),t.filterselectstring&&(this.gridlocalization.filterselectstring=t.filterselectstring),t.todaystring&&(this.gridlocalization.todaystring=t.todaystring),t.clearstring&&(this.gridlocalization.clearstring=t.clearstring),t.validationstring&&(this.gridlocalization.validationstring=t.validationstring),t.loadtext&&(this.gridlocalization.loadtext=t.loadtext),t.addrowstring&&(this.gridlocalization.addrowstring=t.addrowstring),t.udpaterowstring&&(this.gridlocalization.udpaterowstring=t.udpaterowstring),t.deleterowstring&&(this.gridlocalization.deleterowstring=t.deleterowstring),t.resetrowstring&&(this.gridlocalization.resetrowstring=t.resetrowstring),t.everpresentrowplaceholder&&(this.gridlocalization.everpresentrowplaceholder=t.everpresentrowplaceholder),!1!==i){if(this._initpager&&this._initpager(),this._initgroupsheader&&this._initgroupsheader(),this._initmenu&&this._initmenu(),this._builddataloadelement(),e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"),this.filterable&&this.showfilterrow&&this._updatefilterrow){for(var r in this._filterrowcache)e(this._filterrowcache[r]).remove();this._filterrowcache=[],this._updatefilterrow()}this.showaggregates&&this.refresheaggregates&&this.refresheaggregates(),this._renderrows(this.virtualsizeinfo)}}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",groupsheaderstring:"Drag a column and drop it here to group by that column",sortascendingstring:"Sort Ascending",sortdescendingstring:"Sort Descending",sortremovestring:"Remove Sort",groupbystring:"Group By this column",groupremovestring:"Remove from groups",filterclearstring:"Clear",filterstring:"Filter",filtershowrowstring:"Show rows where:",filtershowrowdatestring:"Show rows where date:",filterorconditionstring:"Or",filterandconditionstring:"And",filterselectallstring:"(Select All)",filterchoosestring:"Please Choose:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",addrowstring:"Add",udpaterowstring:"Update",deleterowstring:"Delete",resetrowstring:"Reset",everpresentrowplaceholder:"Enter ",okstring:"Ok",cancelstring:"Cancel"}},_getmenudefaultheight:function(){var t=this,i=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(i=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(i+=2);var r=i*t._measureMenuElement()+9;return t.filterable&&!t.showfilterrow&&t.showfiltermenuitems&&(r+=194,e.jqx.browser.msie&&e.jqx.browser.version<8&&(r+=20)),r},_initmenu:function(){var t=this.that;if(this.host.jqxMenu){if(this.gridmenu){if(this._hasOpenedMenu)return;this.filterable&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu.removeData(),this.gridmenu.remove()}this.menuitemsarray=new Array;var i="";this.isTouchDevice()&&(i="jqx-grid-menu-item-touch"),this.gridmenu=e('<div tabindex=0 id="gridmenu'+this.element.id+'" style="z-index: 99;"></div>'),this.host.append(this.gridmenu);var r=e("<ul></ul>"),n=e('<li class="'+i+'"><div class="jqx-grid-sortasc-icon"></div>'+this.gridlocalization.sortascendingstring+"</li>"),s=e('<li class="'+i+'"><div class="jqx-grid-sortdesc-icon"></div>'+this.gridlocalization.sortdescendingstring+"</li>"),o=e('<li class="'+i+'"><div class="jqx-grid-sortremove-icon"></div>'+this.gridlocalization.sortremovestring+"</li>"),a='<div class="jqx-grid-groupby-icon"></div>',l=e('<li class="'+i+'">'+a+this.gridlocalization.groupbystring+"</li>"),d=e('<li class="'+i+'">'+a+this.gridlocalization.groupremovestring+"</li>"),h=e('<li type="separator"></li>'),u=e('<li class="filter '+i+'" style="height: 194px;" ignoretheme="true"><div class="filter"></div></li>'),c=this.gridlocalization.sortascendingstring.length,p=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>c&&(c=this.gridlocalization.sortdescendingstring.length,p=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>c&&(c=this.gridlocalization.sortremovestring.length,p=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(this.gridlocalization.groupbystring.length>c&&(c=this.gridlocalization.groupbystring.length,p=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>c&&(c=this.gridlocalization.groupremovestring.length,p=this.gridlocalization.groupremovestring));var f=200;p=e.trim(p).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"");var m=e("<span>"+p+"</span>");m.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(m),f=m.outerWidth()+60,m.remove();var g=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(r.append(n),this.menuitemsarray[0]=n[0],r.append(s),this.menuitemsarray[1]=s[0],r.append(o),this.menuitemsarray[2]=o[0],g=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(r.append(l),this.menuitemsarray[3]=l[0],r.append(d),this.menuitemsarray[4]=d[0],g+=2);var v=g*this._measureMenuElement()+9,w=!0;if(this.filterable&&!this.showfilterrow&&this.showfiltermenuitems){if(!this._initfilterpanel)throw new Error("jqxGrid: Missing reference to jqxgrid.filter.js.");this.menuitemsarray[5]=u[0],this.menuitemsarray[6]=u[0],r.append(h),r.append(u),v+=194,e.jqx.browser.msie&&e.jqx.browser.version<8&&(v+=20),this.isTouchDevice()&&(v+=30);var y=e(u).find("div:first");this.excelfilterpanel=e("<div></div>"),this.filterpanel=y,this.filtermenu=e(u),f+=20,this.adaptive&&this.element.offsetWidth<this.adaptivewidth&&(f=this.element.offsetWidth-50),this._initfilterpanel(this,y,"",f),this._initfilterpanel(this,this.excelfilterpanel,"",f,!0),w=!1,this.removeHandler(e(document),"click.menu"+t.element.id,t._closemenuafterclick,t),this.addHandler(e(document),"click.menu"+t.element.id,t._closemenuafterclick,t)}this.gridmenu.append(r),e.jqx.browser.msie&&e.jqx.browser.version<8&&this.filterable&&(e("#listBoxfilter1"+this.element.id).css("z-index",49),e("#listBoxfilter2"+this.element.id).css("z-index",49),e("#listBoxfilter3"+this.element.id).css("z-index",49),e("#gridmenu"+this.element.id).css("z-index",50),this.addHandler(e("#gridmenu"+this.element.id),"initialized",(function(){e("#menuWrappergridmenu"+t.element.id).css("z-index",49)}))),null==this.menuitemsarray[0]&&(v=65),this.removeHandler(e(window),"orientationchange.jqxgrid"+this.element.id),this.removeHandler(e(window),"orientationchanged.jqxgrid"+this.element.id),this.addHandler(e(window),"orientationchange.jqxgrid"+this.element.id,(function(){t.gridmenu.jqxMenu("close")})),this.addHandler(e(window),"orientationchanged.jqxgrid"+this.element.id,(function(){t.gridmenu.jqxMenu("close")})),this.removeHandler(this.gridmenu,"keydown"),this.addHandler(this.gridmenu,"keydown",(function(i){var r=e(t.gridmenu.find(".jqx-item")).toArray(),n=function(e){for(var t=r.indexOf(e)-1;t>=0;t--)if(!(r[t].className.indexOf("disabled")>=0))return r[t];return e},s=function(e){for(var t=r.indexOf(e)+1;t<r.length;t++)if(!(r[t].className.indexOf("disabled")>=0))return r[t];return e},o=function(){var e=r[r.length-1];return e.className.indexOf("disabled")>=0?n(e):e},a=function(t){e(r).removeClass("jqx-fill-state-focus");for(var i=0;i<r.length;i++)r[i].active=!1;t&&(e(t).addClass("jqx-fill-state-focus"),t.active=!0)};if((l=function(){for(var e=0;e<r.length;e++)if(r[e].active)return r[e];return null})()||t.filterable||(r[0].active=!0),t.keyboardmenunavigation&&t.keyboardnavigation){if(40===i.keyCode){var l=l();a(s(l))}else 38===i.keyCode&&(l=l(),a(n(l)));if(9===i.keyCode){if(!l())return i.shiftKey&&(document.activeElement===e.find("#filter1"+t.element.id)[0]?(a(o()),e(e.find("#filter1"+t.element.id)).removeClass("jqx-fill-state-focus"),t.gridmenu.focus(),i.stopPropagation(),i.preventDefault()):document.activeElement===e.find("#filter1"+t.element.id+"ex")[0]&&(a(o()),e(e.find("#filter1"+t.element.id)+"ex").removeClass("jqx-fill-state-focus"),t.gridmenu.focus(),i.stopPropagation(),i.preventDefault())),!0;i.shiftKey?(l=l(),a(n(l)),i.stopPropagation(),i.preventDefault()):((l=l())===o()&&t.filterable&&!t.showfilterrow?(a(null),e(e.find("#filter1"+t.element.id)).length>0?e(e.find("#filter1"+t.element.id)).jqxDropDownList("focus"):e(e.find("#filter1"+t.element.id+"ex")).length>0&&e(e.find("#filter1"+t.element.id+"ex")).jqxListBox("focus")):a(s(l)),i.stopPropagation(),i.preventDefault())}}if(27==i.keyCode)t.gridmenu.jqxMenu("close");else if(13==i.keyCode){if(r=t.gridmenu.find(".jqx-item"),l=l())e(l).trigger("click"),a(null);else if(t._buildfilter&&t.filterable&&!t.showfilterrow){if(e.find("#filter1"+t.element.id).length>0)var d="block"==e(e.find("#filter1"+t.element.id)).jqxDropDownList("container").css("display"),h="block"==e(e.find("#filter2"+t.element.id)).jqxDropDownList("container").css("display"),c="block"==e(e.find("#filter3"+t.element.id)).jqxDropDownList("container").css("display");var p=e(e.find("#filterclearbutton"+t.element.id)).hasClass("jqx-fill-state-focus"),f=e(e.find("#filterbutton"+t.element.id)).hasClass("jqx-fill-state-focus");if(p){var m=e.data(document.body,"contextmenu"+t.element.id).column;t._clearfilter(t,t.element,m),t.gridmenu.jqxMenu("close")}else!f||d||h||c||(m=e.data(document.body,"contextmenu"+t.element.id).column,t.gridmenu.jqxMenu("close"),t._buildfilter(t,u,m))}var g=t.selectedcells.length>0||t.selectedrowindexes.length>0;t.clearselection();var v=t.getdisplayrows()[0];if(v){var w=t.getboundindex(v);t.selectionmode.indexOf("cell")>=0?g&&t.selectcell(w,t.columns.records[0].displayfield):g&&t.selectrow(w)}}})),"auto"!=this.popupwidth&&(f=this.popupwidth),this.gridmenu.jqxMenu({popupZIndex:1e3,width:f,height:v,autoCloseOnClick:w,autoOpenPopup:!1,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0});var b=document.querySelectorAll(".jqx-menu-wrapper");if(this.gridmenu.parent().attr("tabindex",b.length-1),this.filterable&&this.gridmenu.jqxMenu("_setItemProperty",u[0].id,"closeOnClick",!1),this.rtl){var x=this.that;e.each(r.find("li"),(function(){e(this).addClass(x.toTP("jqx-rtl"))}));var _=function(e){var t=e.find("div");t.css("float","right"),t.css("margin-left","4px"),t.css("margin-right","-4px")};_(o),_(s),_(n),_(l),_(d)}this._handlemenueevents()}else this.columnsmenu=!1},_arrangemenu:function(){this.gridmenu||this._initmenu();var t=this.gridlocalization.sortascendingstring.length,i=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>t&&(t=this.gridlocalization.sortdescendingstring.length,i=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>t&&(t=this.gridlocalization.sortremovestring.length,i=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&(this.gridlocalization.groupbystring.length>t&&(t=this.gridlocalization.groupbystring.length,i=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>t&&(t=this.gridlocalization.groupremovestring.length,i=this.gridlocalization.groupremovestring));var r=200;i=e.trim(i).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"");var n=e("<span>"+i+"</span>");n.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(n),r=n.outerWidth()+60,n.remove();var s=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(s=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(s+=2);var o=s*this._measureMenuElement()+9;this.filterable&&this.showfiltermenuitems&&this._initfilterpanel&&(o+=194,r+=20,e.jqx.browser.msie&&e.jqx.browser.version<8&&(o+=20),this.isTouchDevice()&&(o+=30)),null==this.menuitemsarray[0]&&(o=65),"auto"!=this.popupwidth&&(r=this.popupwidth),"auto"!=this.popupheight&&(o=this.popupheight),this.gridmenu.jqxMenu({width:r,height:o})},_closemenuafterclick:function(t){var i=null!=t?t.data:this,r=!1;if(null==t.target||null!=t.target&&null==t.target.className.indexOf)i.gridmenu.jqxMenu("close");else if(-1==t.target.className.indexOf("filter")||-1!=t.target.className.indexOf("jqx-grid-cell-filter"))if(-1==t.target.className.indexOf("jqx-grid-cell")){if(!i._hasOpenedMenu||!e(t.target).ischildof(i.gridmenu)){i.host.coord();var n=i.gridmenu.coord(),s=t.pageX,o=t.pageY;if(e.each(e(t.target).parents(),(function(){return null!=this.id&&this.id.indexOf&&-1!=this.id.indexOf("filter")||this.className.indexOf&&-1!=this.className.indexOf("filter")&&-1==this.className.indexOf("jqx-grid-cell-filter")?(r=!0,!1):this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-cell")||this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-column")?(i.gridmenu.jqxMenu("close"),!1):void 0})),!r){try{if("default"===i.filtermode){var a=e(e.find("#filter1"+i.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup;if((l=new Date)-a<100)return;if(l-e(e.find("#filter3"+i.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup<100)return;if("block"==e(e.find("#filter3"+i.element.id)).jqxDropDownList("container").css("display"))return;if("block"==e(e.find("#filter1"+i.element.id)).jqxDropDownList("container").css("display"))return;if("block"==e(e.find("#filter2"+i.element.id)).jqxDropDownList("container").css("display"))return;if(i._hasdatefilter&&"div"==e(".filtertext1"+i.element.id)[0].nodeName.toLowerCase()){if("block"==e(".filtertext1"+i.element.id).jqxDateTimeInput("container").css("display"))return;if("block"==e(".filtertext2"+i.element.id).jqxDateTimeInput("container").css("display"))return}}else{var l;if(a=e(e.find("#filter1"+i.element.id)).data().jqxListBox.instance.vScrollInstance._mouseup,(l=new Date)-a<100)return;if(l-e(e.find("#filter1"+i.element.id)).data().jqxListBox.instance.hScrollInstance._mouseup<100)return}}catch(h){}if(!(s>=n.left&&s<=n.left+i.gridmenu.width()&&o>=n.top&&o<=n.top+i.gridmenu.height())){if(i.columnmenuclosing){var d=e.data(document.body,"contextmenu"+i.element.id);if(d||(d={column:{displayfield:null}}),!1===i.columnmenuclosing(i.gridmenu,d.column.displayfield,e(i.gridmenu).height()))return}i.gridmenu.jqxMenu("close")}}}}else i.gridmenu.jqxMenu("close")},openColumnChooser:function(t,i){var r=this;i||(i="Columns"),t&&!e.isEmptyObject(t)||(t=r.columns.records);for(var n=[],s=0;s<t.length;s++)n.push({label:t[s].text,value:t[s].datafield,checked:!t[s].hidden});var o=document.createElement("div");o.innerHTML="<div>"+i+'</div><div style="overflow:hidden;"></div>';var a=document.createElement("div");a.style.width="100%",a.style.height="calc(100% - 30px)";var l=new jqxListBox(a,{width:"100%",height:"calc(100% - 30px)",checkboxes:!0,source:n}),d=new jqxWindow(o,{width:400,height:400,position:"center",isModal:!0}),h=document.createElement("button");h.innerHTML=this.gridlocalization.okstring;var u=document.createElement("button");u.innerHTML=this.gridlocalization.cancelstring,h.style.width="50%",h.style.height="100%",u.style.width="50%",u.style.height="100%";var c=document.createElement("div");c.style.height="30px",d.open(),setTimeout((function(){o.querySelector(".jqx-widget-content").appendChild(a),o.querySelector(".jqx-widget-content").appendChild(c),c.appendChild(h),c.appendChild(u),h=new jqxButton(h,{theme:r.theme}),u=new jqxButton(u,{theme:r.theme}),h.element.style.borderTopRightRadius="0px",h.element.style.borderBottomRightRadius="0px",h.element.style.borderTopLeftRadius="0px",h.element.style.borderBottomLeftRadius="0px",u.element.style.borderTopLeftRadius="0px",u.element.style.borderBottomLeftRadius="0px",u.element.style.borderTopRightRadius="0px",u.element.style.borderBottomRightRadius="0px",u.element.style.marginLeft="-2px",l.on("checkChange",(function(){var e=l.getCheckedItems();h.disabled=0===e.length})),h.on("click",(function(){d.destroy(),r.beginupdate();for(var e=l.getItems(),t=0;t<e.length;t++){var i=e[t];!1===i.checked?r.hidecolumn(i.value):r.showcolumn(i.value)}r.endupdate()})),u.on("click",(function(){d.destroy()}))}),100),d.on("close",(function(){d.destroy()}))},_handlemenueevents:function(){var t=this.that;this.removeHandler(this.gridmenu,"closed"),this.addHandler(this.gridmenu,"closed",(function(e){t._closemenu()})),this.removeHandler(this.gridmenu,"itemclick"),this.addHandler(this.gridmenu,"itemclick",(function(i){for(var r=i.args,n=0;n<t.menuitemsarray.length;n++)if(r==t.menuitemsarray[n]){if(null!=e(r).attr("ignoretheme"))return;var s=e.data(document.body,"contextmenu"+t.element.id),o=s.column;t.filterable&&t.gridmenu.jqxMenu("close");var a=o.displayfield;if(null==a&&(a=o.datafield),null!=s)switch(n){case 0:t.sortby(a,"ascending",null);break;case 1:t.sortby(a,"descending",null);break;case 2:t.sortby(a,null,null);break;case 3:t.addgroup(a);break;case 4:t.removegroup(a);break;case 5:var l=e(t.menuitemsarray[6]);e(l).css("display","block")}break}}))},getdatainformation:function(){var e=this.dataview.totalrecords;return this.summaryrows&&(e+=this.summaryrows.length),{rowscount:e,sortinformation:this.getsortinformation(),paginginformation:this.getpaginginformation()}},getsortinformation:function(){return{sortcolumns:this.getsortcolumns?this.getsortcolumns():[],sortcolumn:this.sortcolumn,sortdirection:this.sortdirection}},getpaginginformation:function(){return{pagenum:this.dataview.pagenum,pagesize:this.pagesize,pagescount:Math.ceil(this.dataview.totalrecords/this.pagesize)}},_updaterowsproperties:function(){this._updatehiddenrows(),this._updaterowheights(),this._updaterowdetails()},_updatehiddenrows:function(){var t=this.that;this.hiddens=new Array,e.each(this.hiddenboundrows,(function(e){if(null!=this.index){var i=t.getrowvisibleindex(e);t.hiddens[i]=this.hidden}}))},_updaterowheights:function(){var t=this.that;this.heights=new Array,e.each(this.heightboundrows,(function(e){if(null!=this.index){var i=t.getrowvisibleindex(e);t.heights[i]=this.height}}))},_updaterowdetails:function(){var t=this.that;this.details=new Array,e.each(this.detailboundrows,(function(e){if(null!=this.index){var i=t.getrowvisibleindex(e);t.details[i]=this.details}}))},_getmenuitembyindex:function(e){return null==e?null:this.menuitemsarray[e]},openmenu:function(t){if(!this._openingmenu){this._openingmenu=!0,this.closemenu();var i=this.getcolumn(t);if(!i.menu)return!1;this.gridmenu||this._initmenu();var r=i.columnsmenu;e(i.element).trigger("mouseenter"),this.menuOwner=i;for(var n=this,s=0;s<n.columns.records.length;s++)n.columns.records[s].datafield!=t&&e(n.columns.records[s].element).trigger("mouseleave");setTimeout((function(){"block"==e(r)[0].style.display&&e(r).trigger("click"),n._openingmenu=!1}),200)}},closemenu:function(){this._closemenu()},_closemenu:function(){if(this._hasOpenedMenu){if(this.columnmenuclosing&&((t=e.data(document.body,"contextmenu"+this.element.id))||(t={column:{displayfield:null}}),!1===this.columnmenuclosing(this.gridmenu,t.column.displayfield,e(this.gridmenu).height())))return;var t;null!=this.gridmenu&&this.gridmenu.jqxMenu("close"),null!=(t=e.data(document.body,"contextmenu"+this.element.id))&&this.autoshowcolumnsmenubutton&&(this.enableanimations?(e(t.columnsmenu).animate({"margin-left":0},"fast",(function(){e(t.columnsmenu).css("display","none")})),t.column.iconscontainer.animate({"margin-left":this.rtl?0:-32},"fast")):(e(t.columnsmenu).css("display","none"),t.column.iconscontainer.css("margin-left",this.rtl?0:-32)),e.data(document.body,"contextmenu"+this.element.id,null)),this._hasOpenedMenu=!1,this.menuOwner=null;var i=this._getmenuitembyindex(5);if(i){var r=e(i).find("#filter1"+this.element.id),n=e(i).find("#filter2"+this.element.id),s=e(i).find("#filter3"+this.element.id);r.length>0&&"default"===this.filtermode&&(r.jqxDropDownList("hideListBox"),n.length>0&&n.jqxDropDownList("hideListBox"),s.length>0&&s.jqxDropDownList("hideListBox"))}this.focus()}},scrolloffset:function(e,t){null!=e&&null!=t&&null!=e&&null!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&null!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&null!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginupdate:function(e,t){this._updating=!0,this._datachanged=!1,!0===e&&(this._batchupdate=!0),!0===t&&(this._stopbindings=!0)},endupdate:function(){this.resumeupdate()},resumeupdate:function(){if(this._updating=!1,this._batchupdate)return this._batchupdate=!1,this._datachanged=!1,void(this._stopbindings?this.updatebounddata():this.render());if(this._stopbindings)this.updatebounddata("data");else{if(1==this._datachanged){var e=this.vScrollInstance.value;this.render(!0,!0,!1),this._datachanged=!1,0!=e&&e<this.vScrollInstance.max&&this.scrolltop(e)}else this.rendergridcontent(!0),this._renderrows(this.virtualsizeinfo);this.showaggregates&&this.renderaggregates&&this.renderaggregates(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}},updating:function(){return this._updating},showloadelement:function(){this.renderloadelement&&this.dataloadelement.html(this.renderloadelement()),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block")},hideloadelement:function(){e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none")},_updatefocusedfilter:function(){var e=this.that;e.focusedfilter&&(e.focusedfilter.focus(),setTimeout((function(){if(e.focusedfilter.focus(),"input"==e.focusedfilter[0].nodeName.toLowerCase()){var t=e.focusedfilter.val().length;try{if("selectionStart"in e.focusedfilter[0])e.focusedfilter[0].setSelectionRange(t,t);else{var i=e.focusedfilter[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select()}}catch(r){}}}),50))},databind:function(t,i){if(!0!==this.loadingstate&&!0!==this._stopbindings){var r=window;"block"==this.host.css("display")&&(this.autoshowloadelement?(e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this._hideemptyrow()):(e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"))),!this._initgroupsheader&&this.groups.length>0&&(this.groups=new Array);var n=this.that;null==t&&(t={}),t.recordstartindex||(t.recordstartindex=0),t.recordendindex||(t.recordendindex=0),null!=t.loadallrecords&&null!=t.loadallrecords||(t.loadallrecords=!0),null!=t.sortcomparer&&null!=t.sortcomparer||(t.sortcomparer=null),null!=t.filter&&null!=t.filter||(t.filter=null),null!=t.sort&&null!=t.sort||(t.sort=null),null!=t.data&&null!=t.data||(t.data=null);var s=null;if(null!=t&&(s=null!=t._source?t._source.url:t.url),this.dataview=this.dataview||new e.jqx.dataview,e.jqx.dataview.sort&&e.extend(this.dataview,new e.jqx.dataview.sort),e.jqx.dataview.grouping&&e.extend(this.dataview,new e.jqx.dataview.grouping),this.dataview.suspendupdate(),this.dataview.pageable=this.pageable,this.dataview.groupable=this.groupable,this.dataview.groups=this.groups,this.dataview.virtualmode=this.virtualmode,this.dataview.grid=this,this.dataview._clearcaches(),!this.pageable&&this.virtualmode&&(this.loadondemand=!0),!n.initializedcall){if(t._source&&this.sortable&&(null!=t._source.sortcolumn&&(this.sortcolumn=t._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=t._source.sortcolumn,t._source.sortcolumn=null),null!=t._source.sortdirection)){this.dataview.sortfielddirection=t._source.sortdirection;var o=t._source.sortdirection;if("a"==o||"asc"==o||"ascending"==o||1==o)var a=!0;else a=!1;this.sortdirection=null!=o?{ascending:a,descending:!a}:{ascending:!1,descending:!1}}this.pageable&&t._source&&(null!=t._source.pagenum&&(this.dataview.pagenum=t._source.pagenum),null!=t._source.pagesize?(this.pagesize=t._source.pagesize,this.dataview.pagesize=t._source.pagesize):(this.dataview.pagesize=t._source.pagesize,null==this.dataview.pagesize&&(this.dataview.pagesize=this.pagesize))),this.sortable&&(t.sortcolumn&&(this.dataview.sortfield=t.sortcolumn),t.sortdirection&&(this.dataview.sortfielddirection=t.sortdirection)),this.filterable&&this.columns&&e.each(this.columns,(function(){this.filter&&n.dataview.addfilter(this.datafield,this.filter)}))}this._loading=!0,this.dataview.update=function(t){if(!n.pageable&&n.virtualmode&&(n.loadondemand=!0),n._loading=!1,n.dataview.isupdating()&&n.dataview.resumeupdate(!1),n.pageable&&n.pagerrenderer){if(!n._initpager)throw new Error("jqxGrid: Missing reference to jqxgrid.pager.js.");n._initpager()}if(n.source&&n.source.sortcolumn&&n.sortby&&!n.virtualmode)n.render(),n.source._source.sort||n.sortby(n.source.sortcolumn,n.source.sortdirection,n.source.sortcomparer),n.source.sortcolumn=null,n._postrender("data");else{var s=n.vScrollInstance.value,o=n.hScrollInstance.value,a=n.source?n.source.datatype:"array";if("local"!=a||"array"!=a){var l=null==n.virtualsizeinfo||null!=n.virtualsizeinfo&&0==n.virtualsizeinfo.virtualheight;if("cells"==i){var d=!1;if(n.filterable&&n._initfilterpanel&&n.dataview.filters.length&&(d=!0),0==t)return n.vScrollInstance.isScrolling()||n.hScrollInstance.isScrolling()||(n._cellscache=new Array,n._pagescache=new Array,n._renderrows(n.virtualsizeinfo),n.showfilterrow&&n.filterable&&n.filterrow&&n._updatelistfilters(!0),n.showaggregates&&n._updateaggregates&&n._updateaggregates()),n.sortcolumn&&n.sortby(n.sortcolumn,n.dataview.sortfielddirection,n.source.sortcomparer),n.autoshowloadelement&&(e(n.dataloadelement).css("visibility","hidden"),e(n.dataloadelement).css("display","none")),n.virtualmode&&!n._loading&&(n.loadondemand=!0,n._renderrows(n.virtualsizeinfo)),void n._postrender("data");d?i="filter":null!=n.sortcolumn&&(i="sort")}if(!n.virtualmode||l||n.virtualmode&&n.pageable)if(1==n.initializedcall&&"pagechanged"==i)s=0,n.groupable&&n.groups.length>0?(n._render(!0,!0,!1,!1,!1),n._updatecolumnwidths(),n._updatecellwidths(),n._renderrows(n.virtualsizeinfo),n._postrender("data")):(n.rendergridcontent(!0),n.pageable&&n.updatepagerdetails&&(n.updatepagerdetails(),n.autoheight?(n._updatepageviews(),n.autorowheight&&n._renderrows(this.virtualsizeinfo)):n.autorowheight&&(n._updatepageviews(),n._renderrows(this.virtualsizeinfo)))),n.showaggregates&&n._updateaggregates&&n._updateaggregates(),n._postrender("data");else if("filter"==i)n._render(!0,!0,!1,!1,!1),n._updatecolumnwidths(),n._updatecellwidths(),n._renderrows(n.virtualsizeinfo),n._updatefocusedfilter(),n._postrender("data");else if("sort"==i){if(n.virtualmode)n.rendergridcontent(!0),n.showaggregates&&n._updateaggregates&&n._updateaggregates(),n._postrender("data");else{if(n._render(!0,!0,!1,!1,!1),"many"===n.sortmode)for(var h in n.sortcolumns)n.sortby(h,n.sortcolumns[h],n.source.sortcomparer);else n.sortcolumn&&!n.source.sort&&n.sortby(n.sortcolumn,n.dataview.sortfielddirection,n.source.sortcomparer);n._postrender("data")}n.source.sort&&n._updatefocusedfilter()}else"data"==i?(n._render(!0,!0,!1,!1,!1),n._postrender("data")):"state"==i?(n._render(!0,!0,!1,n.menuitemsarray&&n.menuitemsarray.length>0&&!n.virtualmode),n._postrender("data")):(n._render(!0,!0,!0,n.menuitemsarray&&n.menuitemsarray.length>0&&!n.virtualmode),n._postrender("data"));else n.virtualmode&&1==t&&!n.pageable?(n._render(!0,!0,!1,!1,!1),n._updatefocusedfilter(),n._updatecolumnwidths(),n._updatecellwidths(),n._renderrows(n.virtualsizeinfo),n._postrender("data")):n.virtualmode&&!n.pageable&&0==t&&null!=i?(n.rendergridcontent(!0),n.showaggregates&&n._updateaggregates&&n._updateaggregates(),n._postrender("data")):n.virtualmode&&0==n.dataview.totalrecords&&n.dataview.filters.length>0?(n._render(!0,!0,!0,n.menuitemsarray&&!n.virtualmode),n._postrender("data")):(n._pagescache=new Array,n._renderrows(n.virtualsizeinfo),n._postrender("data"));n.vScrollInstance.value!=s&&s<=n.vScrollInstance.max&&n.vScrollInstance.setPosition(s),n.hScrollInstance.value!=o&&o<=n.hScrollInstance.max&&n.hScrollInstance.setPosition(o)}}if(n.autoshowloadelement&&(e(n.dataloadelement).css("visibility","hidden"),e(n.dataloadelement).css("display","none")),n.pageable&&(n.pagerrightbutton&&(n.pagerrightbutton.jqxButton({disabled:!1}),n.pagerleftbutton.jqxButton({disabled:!1}),n.pagershowrowscombo.jqxDropDownList({disabled:!1})),n.pagerfirstbutton&&(n.pagerfirstbutton.jqxButton({disabled:!1}),n.pagerlastbutton.jqxButton({disabled:!1}))),n._raiseEvent(11),n.initializedcall)n._updateTouchScrolling();else{var u=function(){if(n._raiseEvent(0),n.initializedcall=!0,n.isInitialized=!0,n.ready&&n.ready(),"many"===n.sortmode&&n.sortable&&n.source&&n.source.sortcolumns)for(var t=n.source.sortcolumns,i=0;i<t.length;i++)n.sortby(t[i],"asc"===n.source.sortdirections[i]);if(n.renderstatusbar&&n.renderstatusbar(n.statusbar),n.rendertoolbar&&n.rendertoolbar(n.toolbar),n._rendercelltexts&&n._rendercelltexts(),n._gridRenderElement){e(n._gridRenderElement).show("slow");var s=6e3+Math.floor(4e3*Math.random()+1),o=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase();r[e.camelCase(o)]((function(){e(n._gridRenderElement).hide("slow",(function(){e(n._gridRenderElement).remove()}))}),s)}n.autoloadstate&&n.loadstate&&n.loadstate(null,!0)};e.jqx.isHidden(n.host)?(n.readyInterval&&clearInterval(n.readyInterval),n.readyInterval=setInterval((function(){e.jqx.isHidden(n.host)||n.__isRendered&&(clearInterval(n.readyInterval),n.readyInterval=null,u(),n._initmenu())}),200)):u(),null!=n.width&&-1!=n.width.toString().indexOf("%")||null!=n.height&&n.height.toString().indexOf("%"),"hidden"==n.host.css("visibility")&&("visible"==n.vScrollBar.css("visibility")&&n.vScrollBar.css("visibility","inherit"),n.autowidth||"visible"==n.hScrollBar.css("visibility")&&n.hScrollBar.css("visibility","inherit"),n._intervalTimer=setInterval((function(){"visible"==n.host.css("visibility")&&(n._updatesize(!0),clearInterval(n._intervalTimer))}),100))}},this.dataview.databind(t),this.dataview.isupdating()&&(null!=s?this.dataview.suspend=!1:this.dataview.resumeupdate(!1)),this._initializeRows()}},scrollto:function(e,t){null!=e&&this.hScrollInstance.setPosition(e),null!=t&&this.vScrollInstance.setPosition(t)},scrollposition:function(){return{top:this.vScrollInstance.value,left:this.hScrollInstance.value}},ensurerowvisible:function(e){var t=this;if(this.autoheight&&!this.pageable)return!0;var i,r=this._getpagesize(),n=Math.floor(e/r);if(this._pageviews[n]||this.pageable||this._updatepageviews(),this.groupable&&this.groups.length>0){for(var s=this.getdisplayrows(),o=0,a=0;a<s.length;a++){var l=s[a];if(l.boundindex===e){var d=this.vScrollInstance.value,h=this._gettableheight()-this.rowsheight;(o<d||o>d+h)&&this.scrolltop(o-this.rowsheight),o===d&&this.scrolltop(o-this.rowsheight);break}for(var u=l.parentItem,c=!0;u;){if(u&&(!(i=u).group||!(t.expandedgroups[i.uniqueid]?t.expandedgroups[i.uniqueid].expanded:void 0))){c=!1;break}u=u.parentItem}c&&(o+=this.rowsheight,this.details[a]&&0==this.details[a].rowdetailshidden&&(o+=this.details[a].rowdetailsheight))}return!0}var p=!1;if(this.pageable&&this.gotopage&&!this.virtualmode&&(n=Math.floor(e/r),this.dataview.pagenum!=n)){if(this.groupable&&this.groups.length>0)return!0;if(this.editcell)return setTimeout((function(){t.pagerpageinput.focus()}),25),!1;this.gotopage(n),p=!0}d=this.vScrollInstance.value,h=this._gettableheight()-this.rowsheight;var f=r*(e/r-n);if(f=Math.round(f),this._pageviews[n]){var m=(o=this._pageviews[n].top)+f*this.rowsheight;if(this.rowdetails)for(a=r*n;a<e;a++)this.details[a]&&0==this.details[a].rowdetailshidden&&(m+=this.details[a].rowdetailsheight);"deferred"==this.scrollmode&&this.vScrollInstance.max<=m+this.rowsheight&&(m=this.vScrollInstance.max),m<d?(this.scrolltop(m),p=!0):m>d+h+2&&(this.scrolltop(m-h),p=!0)}else if(this.pageable){if(m=f*this.rowsheight,this.rowdetails)for(a=r*n;a<r*n+f;a++)this.details[a]&&0==this.details[a].rowdetailshidden&&(m+=this.details[a].rowdetailsheight);(m<d||m>d+h)&&(this.scrollto(0,m),p=!0)}return p},ensurecellvisible:function(t,i){var r=this.that,n=this.hScrollBar.jqxScrollBar("value"),s=r.hScrollInstance.max;r.rtl&&"visible"!=this.hScrollBar.css("visibility")&&(s=0);var o=this.ensurerowvisible(t),a=0;if(this.columns.records){var l=n;if("hidden"==this.hScrollBar.css("visibility"))return;var d=this.host.width(),h=0,u="visible"==this.vScrollBar.css("visibility")?20:0,c=!1;e.each(this.columns.records,(function(){if(this.hidden)return!0;if(this.datafield==i){var e=0,t=r.rtl?s-n:l;return a+this.width>t+d-u?(e=a+this.width-d+u,r.rtl&&(e=s-e),r.scrollleft(e),c=!0):a<=t&&(e=a-this.width,r.rtl&&(e=s-e),r.scrollleft(e),c=!0),0==h?(r.scrollleft(r.rtl?s:0),c=!0):h==r.columns.records.length-1&&"visible"==r.hScrollBar.css("visibility")&&(r.scrollleft(r.hScrollBar.jqxScrollBar(r.rtl?"min":"max")),c=!0),!1}h++,a+=this.width})),c||r.scrollleft(l)}return o},setrowheight:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==e||null==t)return!1;if(this.heightboundrows[e]={index:e,height:t},(e=this.getrowvisibleindex(e))<0)return!1;if(this.rows.records[e])this.rows.records[e].height=t;else{var r=new i(this,null);r.height=t,this.rows.replace(e,r)}return this.heights[e]=t,this.rendergridcontent(!0),!0},getrowheight:function(e){return null==e?null:!((e=this.getrowvisibleindex(e))<0)&&(this.rows.records[e]?this.rows.records[e].height:void 0)},setrowdetails:function(t,i,r,n){if(!(null==t||null==t||t<0)){var s=t+"_";this._rowdetailscache[s]&&(e(this._rowdetailscache[s].element).remove(),this._rowdetailscache[s]=null);var o=this.dataview.generatekey();return this.detailboundrows[t]={index:t,details:{rowdetails:i,rowdetailsheight:r,rowdetailshidden:n,key:o}},!((t=this.getrowvisibleindex(t))<0)&&this._setrowdetails(t,i,r,n,o)}},getcolumn:function(t){var i=null;return this.columns.records?e.each(this.columns.records,(function(){if(this.datafield==t||this.displayfield==t)return i=this,!1})):this.columns&&e.each(this.columns,(function(){if(this.datafield==t||this.displayfield==t)return i=this,!1})),i},_getcolumnindex:function(t){var i=-1;return this.columns.records&&e.each(this.columns.records,(function(){if(i++,this.datafield==t)return!1})),i},_getcolumnat:function(e){return this.columns.records[e]},_getprevvisiblecolumn:function(e){for(var t=this.that;e>0;){e--;var i=t.getcolumnat(e);if(!i)return null;if(!i.hidden)return i}return null},_getnextvisiblecolumn:function(e){for(var t=this.that;e<this.columns.records.length;){e++;var i=t.getcolumnat(e);if(!i)return null;if(!i.hidden)return i}return null},getcolumnat:function(e){return isNaN(e)?null:this.columns.records[e]},_getcolumn:function(t){var i=null;return e.each(this._columns,(function(){if(this.datafield==t||this.displayfield==t)return i=this,!1})),i},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;t=t.toLowerCase();var r=this.getcolumn(e);if(null!=r){var n=r[t];r[t]=i;var s=this._getcolumn(e);switch(null!=s&&(s[t]=i),this._cellscache=new Array,t){case"filteritems":this.filterable&&this.showfilterrow&&this._updatelistfilters(!0,!0);break;case"text":this.prerenderrequired=!0,this._rendercolumnheaders(),this._updatecellwidths(),this._groupsheader()&&this._initgroupsheader&&this._initgroupsheader(),this._renderrows(this.virtualsizeinfo),this.filterable&&this.showfilterrow&&this.refreshfilterrow();break;case"editable":case"resizable":case"draggable":if("editable"==t&&i!=n){if(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),"checkbox"==r.columntype&&(this.prerenderrequired=!0,this.rendergridcontent(!0,!1),this.updating()))return!1;if(this.updating())return!1;this._renderrows(this.virtualsizeinfo)}break;case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"classname":case"class":if(this.prerenderrequired=!0,"pinned"==t&&(this._initializeColumns(),this._preparecolumngroups()),this.rendergridcontent(!0),this.updating())return!1;"hidden"==t&&(this._updatecolumnwidths(),this._updatecellwidths()),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updateaggregates&&this._updateaggregates();break;case"width":case"minwidth":case"maxwidth":if(this.updating())return!1;r._width=null,r._percentagewidth=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}}},_getcolumnproperty:function(e,t){return null==e||null==t?null:(t=t.toLowerCase(),this.getcolumn(e)[t])},setcolumnproperty:function(e,t,i){this._setcolumnproperty(e,t,i)},getcolumnproperty:function(e,t){return this._getcolumnproperty(e,t)},hidecolumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showcolumn:function(e){this._setcolumnproperty(e,"hidden",!1)},iscolumnvisible:function(e){return!this._getcolumnproperty(e,"hidden")},pincolumn:function(e){this._setcolumnproperty(e,"pinned",!0)},unpincolumn:function(e){this._setcolumnproperty(e,"pinned",!1)},iscolumnpinned:function(e){return this._getcolumnproperty(e,"pinned")},_setrowdetails:function(e,t,i,r,n){if(0==i&&(i=100),null==e||null==i)return!1;if(null!=n)this.details[e]={rowdetails:t,rowdetailsheight:i,rowdetailshidden:r,detailskey:n};else{for(var s=null!=this.details[e]?this.details[e].detailskey:null,o={rowdetails:t,rowdetailsheight:i,rowdetailshidden:r,detailskey:s},a=0;a<this.detailboundrows.length;a++)if(null!=this.detailboundrows[a]){var l=this.detailboundrows[a];if(l.details.detailskey==s){l.details.rowdetailsheight=o.rowdetailsheight,l.details.rowdetailshidden=o.rowdetailshidden,l.details.rowdetails=o.rowdetails;break}}this.details[e]=o}return this._detailsUpdate?void 0:(this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),!0)},getrowdetails:function(e){return null!=e&&(e=this.getrowvisibleindex(e),this._getrowdetails(e))},_getrowdetails:function(e){if(null==e)return!1;if(e<0)return!1;if(this.details[e])return this.details[e];if(this.rowdetailstemplate){if("function"==typeof this.rowdetailstemplate){var t=this.rowdetailstemplate(e);return void 0===t.rowdetailshidden&&(t.rowdetailshidden=!0),void 0===t.rowdetailsheight&&(t.rowdetailsheight=200),void 0===t.rowdetails&&(t.rowdetails="<div></div>"),t}return this.rowdetailstemplate}},getrecordscount:function(){return this.dataview.totalrecords},showrowdetails:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==e)return!1;if(this.detailsVisibility||(this.detailsVisibility=new Array),this.detailsVisibility[e]=!1,(e=this.getrowvisibleindex(e))<0)return!1;var t=this._getrowdetails(e);return this._setrowdetailsvisibility(e,t,!1)},hiderowdetails:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(this.detailsVisibility||(this.detailsVisibility=new Array),this.detailsVisibility[e]=!0,(e=this.getrowvisibleindex(e))<0)return!1;var t=this._getrowdetails(e);return this._setrowdetailsvisibility(e,t,!0)},_togglerowdetails:function(e){this.detailsVisibility||(this.detailsVisibility=new Array);var t=e.visibleindex,i=this._getrowdetails(t);if(null!=i){var r=this.vScrollInstance.value,n=!i.rowdetailshidden,s=this.getboundindex(e);null!=s&&(this.detailsVisibility[s]=n);var o=this._setrowdetailsvisibility(t,i,n);return 0!==r&&"hidden"!==this.vScrollBar.css("visibility")&&this.vScrollInstance.setPosition(r<=this.vScrollInstance.max?r:this.vScrollInstance.max),o}return!1},_setrowdetailsvisibility:function(e,t,i){if(this.rowdetailstemplate&&(this.details||(this.details=new Array),!this.details[e])){var r="function"==typeof this.rowdetailstemplate?this.rowdetailstemplate(e):this.rowdetailstemplate;void 0===r.rowdetailshidden&&(r.rowdetailshidden=!0),void 0===r.rowdetailsheight&&(r.rowdetailsheight=200),void 0===r.rowdetails&&(r.rowdetails="<div></div>"),this.details[e]={rowdetailshidden:r.rowdetailshidden,rowdetailsheight:r.rowdetailsheight,rowdetails:r.rowdetails};var n=this.dataview.generatekey();this.details[e].detailskey=n,this.detailboundrows[e]={index:e,details:this.details[e]}}if(null==t)return!1;this.details[e].rowdetailshidden=i;var s=this.details[e];return this._raiseEvent(i?21:20,{rowindex:e,details:s.rowdetails,height:s.rowdetailsheight}),this._setrowdetails(e,s.rowdetails,s.rowdetailsheight,s.rowdetailshidden)},getrowvisibleindex:function(e){if(null==e||null==e||e<0)return!1;if(this.virtualmode){var t=this.dataview.loadedrecords[e];return null==t?-1:t.visibleindex}return this.getrowdisplayindex(e)},hiderow:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return!(null==e||null==e||e<0)&&null!=e&&(this.hiddenboundrows[e]={index:e,hidden:!0},e=this.getrowvisibleindex(e),this._setrowvisibility(e,!0))},showrow:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return!(null==e||null==e||e<0)&&null!=e&&(this.hiddenboundrows[e]={index:e,hidden:!1},e=this.getrowvisibleindex(e),this._setrowvisibility(e,!1))},isrowhiddenat:function(e){return null==e?null:(e=this.getrowvisibleindex(e),this.rows.records[e]?this.rows.records[e].hidden:void 0)},_setrowvisibility:function(e,t,i){return null!=e&&(this.hiddens[e]=t,!(null!=i&&!i||(this.rendergridcontent(!0),0)))},_loadrows:function(){if(this._pageviews[this.dataview.pagenum]||this.pageable){var e=this.pageable?0:this._pageviews[this.dataview.pagenum].top;if(!this.pageable&&null!=this._pagescache[this.dataview.pagenum])return null;if(this.virtualsizeinfo){var t=this.that,r=new Array,n=new Array,s=t.groupable&&t.groups.length>0,o=0;this.rows.beginupdate();var a=this.dataview.pagesize;this.pageable&&s&&(a=this.dataview.rows.length);for(var l=0;l<a&&!(l>=this.dataview.rows.length);l++){var d=this.dataview.rows[l],h=null;if(t.rows.records[d.visibleindex]?(h=t.rows.records[d.visibleindex]).setdata(d):h=new i(t,d),h.hidden=this.hiddens[h.visibleindex],this.rowdetailstemplate){var u="function"==typeof this.rowdetailstemplate?this.rowdetailstemplate(h.boundindex):this.rowdetailstemplate;h.rowdetails=u.rowdetails,h.rowdetailsheight=u.rowdetailsheight,h.rowdetailshidden=u.rowdetailshidden,void 0===h.rowdetailshidden&&(h.rowdetailshidden=!0),void 0===h.rowdetailsheight&&(h.rowdetailsheight=200),void 0===h.rowdetails&&(h.rowdetails="<div></div>")}var c=this.details[h.visibleindex];if(c?(h.rowdetails=c.rowdetails,h.rowdetailsheight=c.rowdetailsheight,h.rowdetailshidden=c.rowdetailshidden,void 0===h.rowdetailshidden&&(h.rowdetailshidden=!0),void 0===h.rowdetailsheight&&(h.rowdetailsheight=200),void 0===h.rowdetails&&(h.rowdetails="<div></div>")):this.rowdetailstemplate||(h.rowdetails=null),s&&this.pageable&&null!=h.parentbounddata){var p=r[h.parentbounddata.uniqueid];if(null!=p){var f=this._findgroupstate(p.uniqueid);this._setsubgroupsvisibility&&this._setsubgroupsvisibility(this,h.parentbounddata,!f,!1),h.hidden=this.hiddens[h.visibleindex]}null!=p&&null!=p&&(h.parentrow=p,p.subrows[p.subrows.length++]=h)}if(!h.hidden){var m=d.visibleindex;this.heights[m]||(this.heights[m]=this.rowsheight),h.height=this.heights[m],this.rowdetails&&h.rowdetails&&!h.rowdetailshidden&&(h.height+=h.rowdetailsheight),r[h.uniqueid]=h,n[o++]=h,h.top=e,e+=h.height,t.rows.replace(m,h)}}(this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews&&this._pageviews.length>0&&(this._pageviews[0].height=e),this.rows.resumeupdate(),n.length>0&&(this._pagescache[this.dataview.pagenum]=n)}}},_updateaddnewrowui:function(t){for(var i=this,r="bottom"!=i.everpresentrowposition?i.addnewrowtop:i.addnewrowbottom,n=i.columns.records.length,s=0,o=0;o<n;o++)(a=i.columns.records[o]).addnewrowwidget&&e(a.addnewrowwidget).detach();for(o=0;o<n;o++){var a,l=(a=i.columns.records[o]).width;l<a.minwidth&&(l=a.minwidth),l>a.maxwidth&&(l=a.maxwidth);var d=e(r[0].cells[o]);d.css("left",s),d.width(),d.width(l),d[0].left=s,a.addnewrowwidget&&(d.html(""),d.append(a.addnewrowwidget)),a.hidden&&a.hideable||a.adaptivehidden?d.css("display","none"):s+=l}var h=i.everpresentrowactions.split(" ");i.addnewrowbutton.show(),i.addnewrowupdatebutton.show(),i.addnewrowresetbutton.show(),i.addnewrowdeletebutton.show(),-1==h.indexOf("add")&&-1==h.indexOf("addBottom")&&i.addnewrowbutton.hide(),-1==h.indexOf("update")&&i.addnewrowupdatebutton.hide(),-1==h.indexOf("reset")&&i.addnewrowresetbutton.hide(),-1==h.indexOf("delete")&&i.addnewrowdeletebutton.hide();var u=e(r.children()[0]);u.width(parseInt(s)+2),u.height(i.everpresentrowheight),u.css("max-height",i.everpresentrowheight+"px")},_removeaddnewrow:function(){for(var e=this,t=e.columns.records.length,i=0;i<t;i++){var r=e.columns.records[i];r.addnewrowwidget&&(r.destroyeverpresentrowwidget?r.destroyeverpresentrowwidget(r.addnewrowwidget):r.addnewrowwidget.remove(),r.addnewrowwidget=null)}e.addnewrowbutton&&e.addnewrowbutton.remove(),e.addnewrowupdatebutton&&e.addnewrowupdatebutton.remove(),e.addnewrowdeletebutton&&e.addnewrowdeletebutton.remove(),e.addnewrowresetbutton&&e.addnewrowresetbutton.remove(),e.addnewrowpopup&&(e.addnewrowpopup.remove(),e.addnewrowpopup=null),e.addnewrowtop&&(e.addnewrowtop.remove(),e.addnewrowtop=null),e.addnewrowbottom&&(e.addnewrowbottom.remove(),e.addnewrowbottom=null)},_updateaddnewrow:function(){var t=this,i="bottom"!=t.everpresentrowposition?t.addnewrowtop:t.addnewrowbottom,r=e('<div style="position: relative;" id="row000'+t.element.id+'"></div>'),n=0,s=t.columns.records.length,o=t.toThemeProperty("jqx-grid-cell");o+=" "+t.toThemeProperty("jqx-grid-cell-add-new-row"),o+=" "+t.toThemeProperty("jqx-grid-cell-filter-row");var a=s+10,l=new Array;i[0].cells=l,r.height(t.everpresentrowheight),t.showfilterrow||"bottom"==t.everpresentrowposition?t.showfilterrow&&"bottom"!=t.everpresentrowposition&&i.css("max-height",t.everpresentrowheight-3+"px"):i.css("max-height",t.everpresentrowheight-1+"px"),r.css("max-height",t.everpresentrowheight+"px"),i.append(r);var d=e("<div style='border-width: 1px; border-style: solid; padding: 5px; z-index: 99; display: none; position: absolute;'><div>").appendTo(e(document.body)),h=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.addrowstring+"</button>"),u=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.udpaterowstring+"</button>"),c=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.deleterowstring+"</button>"),p=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.resetrowstring+"</button>");d.addClass(t.toThemeProperty("jqx-popup")),d.addClass(t.toThemeProperty("jqx-rc-all")),d.addClass(t.toThemeProperty("jqx-fill-state-normal")),d.addClass(t.toThemeProperty("jqx-shadow")),d.append(h),d.append(u),d.append(c),d.append(p);var f=t.everpresentrowactions.split(" ");-1==f.indexOf("add")&&-1==f.indexOf("addBottom")&&h.hide(),-1==f.indexOf("update")&&u.hide(),-1==f.indexOf("reset")&&p.hide(),-1==f.indexOf("delete")&&c.hide(),t.addnewrowpopup=d,t.addnewrowbutton=h,t.addnewrowupdatebutton=u,t.addnewrowdeletebutton=c,t.addnewrowresetbutton=p,h.jqxButton({template:"success",theme:t.theme}),c.jqxButton({template:"danger",theme:t.theme}),u.jqxButton({template:"primary",theme:t.theme}),p.jqxButton({template:"warning",theme:t.theme}),u.mousedown((function(e){for(var i={},r={},n=0;n<s;n++)if((u=t.columns.records[n]).geteverpresentrowwidgetvalue){var o=u.geteverpresentrowwidgetvalue(u.displayfield,u.addnewrowwidget);r[u.datafield]=o,u.datafield!=u.displayfield&&(r[u.datafield]=o.value,r[u.displayfield]=o.label)}var a=!1;for(n=0;n<s;n++)if((u=t.columns.records[n]).geteverpresentrowwidgetvalue){if(o=u.geteverpresentrowwidgetvalue(u.displayfield,u.addnewrowwidget),u.createeverpresentrowwidget&&u.validateeverpresentrowwidgetvalue){var l=u.validateeverpresentrowwidgetvalue(u.displayfield,o,r),h=t.gridlocalization.validationstring;null!=l.message&&(h=l.message),("boolean"==typeof l?l:l.result)?(u.addnewrowwidget.attr("title",""),u.addnewrowwidget.removeClass(t.toThemeProperty("jqx-input-invalid"))):(o="invalid editor state",u.addnewrowwidget.attr("title",h),u.addnewrowwidget.addClass(t.toThemeProperty("jqx-input-invalid")))}"invalid editor state"!==o||(e.preventDefault(),e.stopPropagation(),a=!0)}if(a)return d.hide(),void t.focus();for(n=0;n<s;n++){var u;(u=t.columns.records[n]).geteverpresentrowwidgetvalue&&(o=u.geteverpresentrowwidgetvalue(u.displayfield,u.addnewrowwidget),i[u.datafield]=o,u.datafield!=u.displayfield&&(i[u.datafield]=o.value,i[u.displayfield]=o.label),u.reseteverpresentrowwidgetvalue&&u.reseteverpresentrowwidgetvalue(u.displayfield,u.addnewrowwidget))}if(t.selectedcells.length>0||t.selectedrowindexes.length>0){if(t.selectionmode.indexOf("cell")>=0)var c=t.getselectedcells()[0].rowindex;else c=t.selectedrowindexes[0];var p=t.getrowdata(c);p&&t.updaterow(p.uid,i)}d.hide(),t.focus()})),c.mousedown((function(e){if(t.selectedcells.length>0||t.selectedrowindexes.length>0){if(t.selectionmode.indexOf("cell")>=0)var i=t.getselectedcells()[0].rowindex;else i=t.selectedrowindexes[0];var r=t.getrowdata(i);r&&t.deleterow(r.uid)}for(var n=0;n<s;n++){var o=t.columns.records[n];o.reseteverpresentrowwidgetvalue&&o.reseteverpresentrowwidgetvalue(o.displayfield,o.addnewrowwidget)}d.hide(),t.focus(),t.updateeverpresentrow()})),h.mousedown((function(e){for(var i={},r={},n=0;n<s;n++)if((u=t.columns.records[n]).geteverpresentrowwidgetvalue){var o=u.geteverpresentrowwidgetvalue(u.displayfield,u.addnewrowwidget);r[u.datafield]=o,u.datafield!=u.displayfield&&(r[u.datafield]=o.value,r[u.displayfield]=o.label),u.datafield!=u.displayfield&&(r[u.datafield]=o.label,r[u.displayfield]=o.value)}var a=!1;for(n=0;n<s;n++)if((u=t.columns.records[n]).geteverpresentrowwidgetvalue){if(o=u.geteverpresentrowwidgetvalue(u.displayfield,u.addnewrowwidget),u.createeverpresentrowwidget&&u.validateeverpresentrowwidgetvalue){var l=u.validateeverpresentrowwidgetvalue(u.displayfield,o,r),h=t.gridlocalization.validationstring;null!=l.message&&(h=l.message),("boolean"==typeof l?l:l.result)?(u.addnewrowwidget.attr("title",""),u.addnewrowwidget.removeClass(t.toThemeProperty("jqx-input-invalid"))):(o="invalid editor state",u.addnewrowwidget.attr("title",h),u.addnewrowwidget.addClass(t.toThemeProperty("jqx-input-invalid")))}"invalid editor state"!==o||(e.preventDefault(),e.stopPropagation(),a=!0)}if(a)return d.hide(),void t.focus();for(n=0;n<s;n++){var u;(u=t.columns.records[n]).geteverpresentrowwidgetvalue&&(o=u.geteverpresentrowwidgetvalue(u.displayfield,u.addnewrowwidget),i[u.datafield]=o,u.datafield!=u.displayfield&&(r[u.datafield]=o.label,r[u.displayfield]=o.value),u.reseteverpresentrowwidgetvalue&&u.reseteverpresentrowwidgetvalue(u.displayfield,u.addnewrowwidget))}var c=t.everpresentrowactions.indexOf("addBottom")>=0?"last":"first";t.addrow(null,i,c),d.hide(),t.focus()})),p.mousedown((function(e){for(var i=0;i<s;i++){var r=t.columns.records[i];r.reseteverpresentrowwidgetvalue&&r.reseteverpresentrowwidgetvalue(r.displayfield,r.addnewrowwidget),r.addnewrowwidget&&(r.addnewrowwidget.attr("title",""),r.addnewrowwidget.removeClass(t.toThemeProperty("jqx-input-invalid")))}d.hide(),t.focus()}));for(var m=0;m<s;m++){var g=t.columns.records[m],v=g.width;v<g.minwidth&&(v=g.minwidth),v>g.maxwidth&&(v=g.maxwidth);var w=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+o+'"></div>');if(r.append(w),w.css("left",n),t.rtl?(w.css("z-index",a++),w.css("border-left-width","1px")):w.css("z-index",a--),"auto"==v&&(v=0),w[0].style.width=parseFloat(v)+"px",w[0].left=n,g.hidden&&g.hideable||g.adaptivehidden?w.css("display","none"):n+=v,l[l.length]=w[0],g.checkboxcolumn){var y=t.toThemeProperty("jqx-grid-cell");y+=" "+t.toThemeProperty("jqx-grid-cell-filter-row"),y+=" "+t.toThemeProperty("jqx-grid-cell-pinned"),w.removeClass().addClass(y)}else{var b=!0;if(t.rtl?(t.groupable&&t.groups.length+(t.showrowdetailscolumn&&t.rowdetails?1:0)+m>s-1&&(b=!1),t.showrowdetailscolumn&&t.rowdetails&&m==s-1&&(b=!1)):(t.groupable&&t.groups.length+(t.showrowdetailscolumn&&t.rowdetails?1:0)>m&&(b=!1),t.showrowdetailscolumn&&t.rowdetails&&0==m&&(b=!1)),t.updateeverpresentrow=function(){var e=null;if(t.selectedcells.length>0||t.selectedrowindexes.length>0){if(t.selectionmode.indexOf("cell")>=0)var i=t.getselectedcells()[0].rowindex;else i=t.selectedrowindexes[0];e=t.getrowdata(i)}if(e)for(var r=0;r<t.columns.records.length;r++){var n=t.columns.records[r];if(n.seteverpresentrowwidgetvalue){var s=t.getcelltext(i,n.displayfield);n.seteverpresentrowwidgetvalue(n.addnewrowwidget,s)}}},b)if(g.createeverpresentrowwidget)g.addnewrowwidget=g.createeverpresentrowwidget(g.datafield,w,d,(function(){h.trigger("mousedown")})),g.initeverpresentrowwidget&&g.initeverpresentrowwidget(g.datafield,w,d);else{t._measureElement("column");var x=t.everpresentrowheight/2-t._columnheight/2;if(x<0&&(x=6),x+="px","addButtonColumn"===g.datafield){var _=e('<div style="padding-bottom: 2px; text-align: center; margin-top: '+x+';"><a href="#">'+t.gridlocalization.addrowstring+"</a></div>");w.append(_),_.mousedown((function(){h.trigger("mousedown")}));continue}if("resetButtonColumn"===g.datafield){_=e('<div style="padding-bottom: 2px; text-align: center; margin-top: '+x+';"><a href="#">'+t.gridlocalization.resetrowstring+"</a></div>"),w.append(_),_.mousedown((function(){p.trigger("mousedown")}));continue}!function(i,r,n){var o=e('<input style="box-sizing: border-box; padding-right: 4px; padding-left: 4px; border:none;" autocomplete="off" type="textarea"/>');if(o[0].id=e.jqx.utilities.createId(),o.addClass(i.toThemeProperty("jqx-widget")),o.addClass(i.toThemeProperty("jqx-input")),o.addClass(i.toThemeProperty("jqx-widget-content")),o.addClass(i.toThemeProperty("jqx-enableselect")),o.addClass(i.toThemeProperty("jqx-grid-cell-add-new-row")),o.css("text-align",n.cellsalign),i.rtl&&o.css("direction","rtl"),i.disabled&&o.attr("disabled",!0),o.attr("disabled",!1),o.attr("placeholder",i.gridlocalization.everpresentrowplaceholder+n.text),o.appendTo(r),o.css("width","100%"),o.css("height",i.everpresentrowheight+"px"),o.css("line-height",i.everpresentrowheight+"px"),o.css("max-height",i.everpresentrowheight+"px"),o.css("margin","0px"),o.focus((function(){(t.selectedcells.length>0||t.selectedrowindexes.length>0)&&t.selectionmode.indexOf("cell")>=0&&t.getselectedcells(),o.addClass(i.toThemeProperty("jqx-fill-state-focus"));var e=i.columns.records.indexOf(n);"columns"!==i.everpresentrowactionsmode&&d.css({display:"block",top:o.coord().top+i.everpresentrowheight-1,left:e>0?o.coord().left:o.coord().left-1});var r=d.children().width();return"right"===n.cellsalign?(r=h.width()+p.width(),d.children().css("left",r-r+"px")):d.children().css("left","0px"),i.content[0].scrollLeft=0,i.content[0].scrollTop=0,setTimeout((function(){i.content[0].scrollLeft=0,i.content[0].scrollTop=0}),50),!1})),n.addnewrowwidget=o,n.reseteverpresentrowwidgetvalue||(n.reseteverpresentrowwidgetvalue=function(e,i){i.val(""),i.focus(),i.blur(),i.removeClass(t.toThemeProperty("jqx-input-invalid")),i.attr("title","")}),n.seteverpresentrowwidgetvalue||(n.seteverpresentrowwidgetvalue=function(e,t){e.val(t)}),!n.geteverpresentrowwidgetvalue){var a=n;n.geteverpresentrowwidgetvalue=function(i,r,n){var l=r.val();if(!1!==n&&a.validateeverpresentrowwidgetvalue){for(var d={},h=0;h<s;h++){var u=t.columns.records[h];if(u.geteverpresentrowwidgetvalue){var c=u.geteverpresentrowwidgetvalue(u.displayfield,u.addnewrowwidget,!1);d[u.datafield]=c,u.datafield!=u.displayfield&&(d[u.datafield]=c.value,d[u.displayfield]=c.label)}}var p=a.validateeverpresentrowwidgetvalue(a.displayfield,l,d),f=t.gridlocalization.validationstring;if(null!=p.message&&(f=p.message),!("boolean"==typeof p?p:p.result))return o.addClass(t.toThemeProperty("jqx-input-invalid")),o.attr("title",f),"invalid editor state";o.removeClass(t.toThemeProperty("jqx-input-invalid")),o.attr("title","")}var m="string",g=t.source.datafields||(t.source._source?t.source._source.datafields:null);if(g){var v="";e.each(g,(function(){if(this.name==a.displayfield)return this.type&&(v=this.type),!1})),v&&(m=v)}if("number"===m){var w=parseFloat(l);if(isNaN(w))return null}return"date"===m?e.jqx.dataFormat.tryparsedate(l,t.gridlocalization):"bool"===m||"boolean"===m?"true"===l||"1"==l||"false"!==l&&"0"!=l&&(!0===l||!1===l)&&l:l}}o.keydown((function(e){13===e.keyCode&&(t.everpresentrowactions.indexOf("add")>=0?h.trigger("mousedown"):t.everpresentrowactions.indexOf("update")>=0?u.trigger("mousedown"):t.everpresentrowactions.indexOf("delete")>=0&&c.trigger("mousedown"))})),o.blur((function(){o.removeClass(i.toThemeProperty("jqx-fill-state-focus")),d.css("display","none")})),n.initeverpresentrowwidget&&n.initeverpresentrowwidget(n.datafield,r,d)}(this,w,g)}}}e.jqx.browser.msie&&e.jqx.browser.version<8&&r.css("z-index",a--),r.width(parseFloat(n)+2),i.addClass(o),i.css("border-bottom-width","0px"),i.css("border-top-width",t.showfilterrow?"0px":"1px"),i.css("box-sizing","border-box"),i.css("border-right-width","0px")},_gettableheight:function(){if(null!=this.tableheight)return this.tableheight;var e=this.host.height();if(this.columnsheader){var t=this.columnsheader.outerHeight();this.showheader||(t=0)}return e-=t,"visible"==this.hScrollBar[0].style.visibility&&(e-=this.hScrollBar.outerHeight()),this.pageable&&(e-=this.pager.outerHeight()),this._groupsheader()&&(e-=this.groupsheader.outerHeight()),this.showtoolbar&&(e-=this.toolbarheight),this.showstatusbar&&(e-=this.statusbarheight),this.showeverpresentrow&&"bottom"===this.everpresentrowposition&&(e-=this.everpresentrowheight),e>0?(this.tableheight=e,e):this.host.height()},_getpagesize:function(){if(this.pageable)return this.pagesize;if(this.virtualmode){var e=Math.round(this.host.height())+2*this.rowsheight;return Math.round(e/this.rowsheight)}return this.autoheight||this.autorowheight?0==this.dataview.totalrows?1:this.dataview.totalrows:this.dataview.totalrows<100&&this.dataview.totalrecords<100&&this.dataview.totalrows>0?this.dataview.totalrows:100},_calculatevirtualheight:function(){var e=Math.round(this.host.height())+2*this.rowsheight,t=this._gettableheight(),i=Math.round(e/this.rowsheight);this.heights=new Array,this.hiddens=new Array,this.details=new Array,this.expandedgroups=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array;var r=Math.max(this.dataview.totalrows,this.dataview.totalrecords);this.pageable&&(r=this.pagesize,this.pagesize>Math.max(this.dataview.totalrows,this.dataview.totalrecords)&&this.autoheight?r=Math.max(this.dataview.totalrows,this.dataview.totalrecords):this.autoheight||this.dataview.totalrows<this.pagesize&&(r=Math.max(this.dataview.totalrows,this.dataview.totalrecords)));var n=r*this.rowsheight,s=0,o=0,a=0,l=this._getpagesize(),d=l*this.rowsheight,h=0;if(!this.pageable&&this.autoheight&&(i=r),r+l>0)for(;h<=r+l;){if(s+=d,h-l<r&&h>=r){var u=h-r;u>0&&(this._pageviews[o-1]={top:a-=d,height:d-u*this.rowsheight});break}this._pageviews[o++]={top:a,height:d},a=s,h+=l}if(1!=this.resizingGrid&&this.vScrollBar.jqxScrollBar({value:0}),"hidden"==this.hScrollBar.css("visibility")){var c=0;if(this.columns&&this.columns.records){for(h=0;h<this.columns.records.length;h++)c+=isNaN(this.columns.records[h].width)?this.columns.records[h].minwidth:this.columns.records[h].width;!isNaN(c)&&parseInt(c)>this.host.width()&&(t-=30)}}return n>t&&!this.autoheight?(this.vScrollBar.css("visibility","visible"),this.vScrollBar.jqxScrollBar("deferred"==this.scrollmode?{max:n}:{max:n-t})):this.vScrollBar.css("visibility","hidden"),this.dataview.pagesize=l,this.dataview.updateview(),{visiblerecords:i,virtualheight:n}},_updatepageviews:function(){if(!this.updating()){this._pagescache=new Array,this._pageviews=new Array,this.tableheight=null;var e=this.that,t=Math.round(this.host.height())+2*this.rowsheight,i=Math.round(t/this.rowsheight),r=Math.max(this.dataview.totalrows,this.dataview.totalrecords),n=r*this.rowsheight,s=0,o=0,a=0,l=0,d=0,h=this._getpagesize();if(this.pageable)this._updatepagedview&&(n=this._updatepagedview(r,n,0)),this.autoheight&&this._arrange();else for(var u=0;u<r;u++){var c={index:u,height:this.heights[u],hidden:this.hiddens[u],details:this.details[u]};if(null==this.heights[u]&&(this.heights[u]=this.rowsheight,c.height=this.rowsheight),null==this.hiddens[u]&&(this.hiddens[u]=!1,c.hidden=!1),null==this.details[u]&&(this.details[u]=null),c.height!=e.rowsheight&&(n-=e.rowsheight,n+=c.height),c.hidden)n-=c.height;else{o+=c.height;var p=0;if(this.rowdetails){if(this.rowdetailstemplate&&!c.details){var f="function"==typeof this.rowdetailstemplate?this.rowdetailstemplate():this.rowdetailstemplate;void 0===f.rowdetailshidden&&(f.rowdetailshidden=!0),void 0===f.rowdetailsheight&&(f.rowdetailsheight=200),void 0===f.rowdetails&&(f.rowdetails="<div></div>"),c.details=f}c.details&&c.details.rowdetails&&!c.details.rowdetailshidden&&(o+=p=c.details.rowdetailsheight,n+=p)}s+=c.height+p}(++d>=h||u==r-1)&&(this._pageviews[a++]={top:l,height:o},o=0,l=s,d=0)}var m=this._gettableheight();if(n>m)if(this.pageable&&this.gotopage&&(n=this._pageviews[0].height)<0&&(n=this._pageviews[0].height),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(n<=m||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),n-m>0)if("deferred"!=this.scrollmode){var g=n-m,v=this.vScrollInstance.max;this.vScrollBar.jqxScrollBar({max:g}),g!=v&&this.vScrollBar.jqxScrollBar({value:0})}else this.vScrollBar.jqxScrollBar({value:0,max:n});else this.vScrollBar.jqxScrollBar({value:0,max:n});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.autoheight&&(i=Math.round(this.host.height()/this.rowsheight)),this.virtualsizeinfo={visiblerecords:i,virtualheight:n}}},updatebounddata:function(e){if("data"!=e&&"sort"!=e&&"filter"!=e&&"cells"!=e&&"pagechanged"!=e&&"pagesizechanged"!=e&&!this.virtualmode){if(this.virtualsizeinfo=null,this.columns&&this.columns.records)for(var t=0;t<this.columns.records.length;t++){var i=this.columns.records[t];i.destroywidget&&i.widget&&i.destroywidget&&i.destroywidget(i.widget)}this.showfilterrow&&this.filterable&&this.filterrow?(this.clearfilters&&this.clearfilters(!1),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.filterrow.remove(),this._filterrowcache=new Array,this.filterrow=null):this.filterable&&this.clearfilters&&this.clearfilters(!1),this.showeverpresentrow&&this._removeaddnewrow(),this.detailsVisibility=new Array,this.groupsVisibility=new Array,this.groupable&&(this.dataview.groups=[],this.groups=[]),this.pageable&&(this.pagenum=0,this.dataview.pagenum=0),this.sortable&&(this.sortcolumn=null,this.sortdirection="",this.dataview.sortfielddirection="",this.dataview.clearsortdata())}this.databind(this.source,e)},refreshdata:function(){this._refreshdataview(),this.render()},_updatevscrollbarmax:function(){if(this._pageviews&&this._pageviews.length>0){var e=this._pageviews[0].height;!this.virtualmode&&this.pageable||(e=this.virtualsizeinfo.virtualheight);var t=this._gettableheight();e>t?(this.pageable&&this.gotopage&&(e=this._pageviews[0].height)<0&&(e=this._pageviews[0].height),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(e<=t||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar(e-t>0?{max:e-t}:{value:0,max:e})):(this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0}))}},_refreshdataview:function(){this.dataview.refresh()},refresh:function(t){if(1!=t){if(e.jqx.isHidden(this.host))return;null!=this.virtualsizeinfo&&(this._cellscache=new Array,this._renderrows(this.virtualsizeinfo),this._updatesize())}},render:function(){this._render(!0,!0,!0,!0)},invalidate:function(){this.virtualsizeinfo&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))},clear:function(){this.databind(null),this.render()},_preparecolumngroups:function(){var e=this.columnsheight;if(this.columngroups){if(this.columnshierarchy=new Array,this.columngroups.length){for(var t=this,i=0;i<this.columngroups.length;i++)this.columngroups[i].parent=null,this.columngroups[i].groups=null;for(i=0;i<this.columns.records.length;i++)this.columns.records[i].parent=null,this.columns.records[i].groups=null;var r=function(e){for(var i=0;i<t.columngroups.length;i++){var r=t.columngroups[i];if(r.name===e)return r}return null};for(i=0;i<this.columngroups.length;i++)(d=this.columngroups[i]).groups||(d.groups=null),d.parentgroup&&(n=r(d.parentgroup))&&(d.parent=n,n.groups||(n.groups=new Array),-1===n.groups.indexOf(d)&&n.groups.push(d));for(i=0;i<this.columns.records.length;i++){var n;(d=this.columns.records[i]).columngroup&&(n=r(d.columngroup))&&(n.groups||(n.groups=new Array),d.parent=n,-1===n.groups.indexOf(d)&&n.groups.push(d))}var s=0;for(i=0;i<this.columns.records.length;i++){var o=d=this.columns.records[i];for(d.level=0;o.parent;)o=o.parent,d.level++;o=d;var a=d.level;for(s=Math.max(s,d.level);o.parent;)(o=o.parent)&&(o.level=--a)}var l=function e(t){var i=new Array;if(t.columngroup&&i.push(t),t.groups)for(var r=0;r<t.groups.length;r++)if(t.groups[r].columngroup)i.push(t.groups[r]);else if(t.groups[r].groups)for(var n=e(t.groups[r]),s=0;s<n.length;s++)i.push(n[s]);return i};for(i=0;i<this.columngroups.length;i++){var d,h=l(d=this.columngroups[i]);d.columns=h;for(var u=new Array,c=0,p=0;p<h.length;p++)u.push(this.columns.records.indexOf(h[p])),h[p].pinned&&c++;if(0!=c)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group cannot be pinned.");u.sort((function(e,t){return(e=parseInt(e))<(t=parseInt(t))?-1:e>t?1:0}));for(var f=1;f<u.length;f++)if(u[f]!=u[f-1]+1)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columngroupslevel=1+s,e=this.columngroupslevel*this.columnsheight}return e},_render:function(t,i,r,n,s){if(null!=this.dataview&&!this._loading&&!this._batchupdate){if(e.jqx.isHidden(this.host)){var o=this;return o.___hiddenTimer&&(clearInterval(o.___hiddenTimer),o.___hiddenTimer=null),void(this.___hiddenTimer=setInterval((function(){e.jqx.isHidden(o.host)||(clearInterval(o.___hiddenTimer),o.render())}),300))}if(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!1),this.validationpopup=null,this._removeHandlers(),this._addHandlers(),this._initializeRows(),this._requiresupdate=null==i||i,this._newmax=null,r)if(this._requiresupdate||0!=n&&this._initmenu(),null==this.columns)this.columns=new e.jqx.collection(this.element);else{var a=this;this.columns&&"observableArray"===this.columns.name&&(this.columns.notifier=function(e){var t=function(){a.columns=a._columns,a.render()};switch(e.type){case"add":t();break;case"update":if("index"===e.name){for(var i in a.beginupdate(),e.newValue)a.setcolumnproperty(e.newValue.datafield,i,e.newValue[i]);a.endupdate()}else{var r=e.path.split(".");a.setcolumnproperty(a.columns[r[0]].datafield,e.name,e.newValue)}break;case"delete":t()}}),this.columngroups&&"observableArray"===this.columngroups.name&&(this.columngroups.notifier=function(e){a.render()}),this._initializeColumns()}var l;if(this.tableheight=null,this._pagescache=new Array,this._pageviews=new Array,this.visiblerows=new Array,this.hittestinfo=new Array,this._requiresupdate&&(this._clearcaches(),1==n&&this._initmenu()),this.virtualsizeinfo=null,this.prerenderrequired=!0,(this.groupable&&this.groups.length>0&&this.rowdetails||this.rowdetails)&&this.gridcontent&&(this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,this.detailboundrows=new Array,this.details=new Array,e.jqx.utilities.html(this.gridcontent,""),this.gridcontent=null),this.gridcontent&&this.editable&&this._destroyeditors&&this._destroyeditors(),r?(this.filterrow&&this.filterrow.detach(),e.jqx.utilities.html(this.content,""),this.columnsheader=this.columnsheader||e('<div style="overflow: hidden;"></div>'),this.columnsheader.remove(),this.columnsheader.addClass(this.toTP("jqx-widget-header")),this.columnsheader.addClass(this.toTP("jqx-grid-header"))):this.gridcontent&&e.jqx.utilities.html(this.gridcontent,""),this.showheader?this.columnsheader&&this.columnsheader.css("display","block"):this.columnsheader.css("display","none"),this.gridcontent=this.gridcontent||e('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),this.gridcontent.remove(),l=this._preparecolumngroups(),this.showfilterrow&&this.filterable?(this.columnsheader.height(l+this.filterrowheight),this.showeverpresentrow&&"bottom"!==this.everpresentrowposition&&this.columnsheader.height(l+this.filterrowheight+this.everpresentrowheight)):this.columnsheader.height(this.showeverpresentrow&&"bottom"!==this.everpresentrowposition?l+this.everpresentrowheight:l),this.content.append(this.columnsheader),this.content.append(this.gridcontent),this._arrange(),this._initgroupsheader&&this._initgroupsheader(),this.selectionarea=this.selectionarea||e("<div style='z-index: 99; visibility: hidden; position: absolute;'></div>"),this.selectionarea.addClass(this.toThemeProperty("jqx-grid-selectionarea")),this.selectionarea.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.content.append(this.selectionarea),this.tableheight=null,this.rendergridcontent(!1,r),this.groups.length>0&&this.groupable){var d=this.vScrollBar[0].style.visibility;this.suspendgroupevents=!0,this.collapseallgroups&&(this.groupsexpandedbydefault?this.expandallgroups(!1):(this.collapseallgroups(!1),this._updatescrollbarsafterrowsprerender())),this.vScrollBar[0].style.visibility!=d&&(this._updatecolumnwidths(),this._updatecellwidths()),this.suspendgroupevents=!1}this.pageable&&this.updatepagerdetails&&(this.updatepagerdetails(),this.autoheight&&this._updatepageviews(),this.autorowheight&&(this.autoheight||this._updatepageviews(),this._renderrows(this.virtualsizeinfo))),this.showaggregates&&this._updateaggregates&&this._updateaggregates(),this._addoverlayelement(),"deferred"==this.scrollmode&&this._addscrollelement(),this.showfilterrow&&this.filterable&&this.filterrow&&(null==s||1==s)&&this._updatelistfilters(!r),this.rendered&&this.rendered("full"),this.__isRendered=!0}},_addoverlayelement:function(){var t=e.jqx.utilities.getBrowser();if("msie"==t.browser&&parseInt(t.version)<9||this.isTouchDevice())if(this._overlayElement&&this._overlayElement.remove(),this._overlayElement=e("<div class='jqxgrid-overlay' style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._overlayElement.css("background","white"),this._overlayElement.css("z-index",180),this._overlayElement.css("opacity",.001),this.isTouchDevice())if("hidden"!==this.vScrollBar.css("visibility")||"hidden"!==this.hScrollBar.css("visibility")){var i=0;"checkbox"==this.selectionmode&&(i+=30),(this.groupable||this.rowdetails)&&this._overlayElement.css("left",30*(this.groups.length+(this.rowdetails?1:0)));var r=this._overlayElement.css("left");this._overlayElement.css("left",r+i)}else this._overlayElement&&this._overlayElement.remove();else this.content.prepend(this._overlayElement);this._updateTouchScrolling()},_addscrollelement:function(){this._scrollelement&&this._scrollelement.remove(),this._scrollelementoverlay&&this._scrollelementoverlay.remove(),this._scrollelementoverlay=e("<div style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._scrollelementoverlay.css("background","black"),this._scrollelementoverlay.css("z-index",1800),this._scrollelementoverlay.css("opacity",.1),this._scrollelement=e("<span style='visibility: hidden; top: 50%; right: 10px; position: absolute;'></span>"),this._scrollelement.css("z-index",1900),this._scrollelement.addClass(this.toThemeProperty("jqx-button")),this._scrollelement.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._scrollelement.addClass(this.toThemeProperty("jqx-rc-all")),this._scrollelement.addClass(this.toThemeProperty("jqx-shadow")),this.content.prepend(this._scrollelement),this.content.prepend(this._scrollelementoverlay)},_postrender:function(e){if(("filter"==e||"sort"==e||"group"==e)&&this.rowdetails&&this.detailsVisibility&&this.detailsVisibility.length>0){this._detailsUpdate=!0;for(var t=0;t<this.details.length;t++)this.details[t]&&(this.details[t].rowdetailshidden=!0);if(!this._loading)for(t=0;t<this.detailsVisibility.length;t++)!1===this.detailsVisibility[t]?this.showrowdetails(t):!0===this.detailsVisibility[t]&&this.hiderowdetails(t);this._detailsUpdate=!1,this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}if(this.groupable&&this.groups.length>0)if("filter"==e||"sort"==e)for(t=0;t<this.dataview.loadedgroups.length;t++){var i=this.dataview.loadedgroups[t],r=0;for(var n in this.groupsVisibility)n==i.group&&this.groupsVisibility[n]&&(this._setgroupstate(i,!0,!1),r++);if(r>0){var s=this.vScrollBar[0].style.visibility;this.rendergridcontent(!0,!1),(s!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))}}else"group"==e&&(this.groupsVisibility=new Array)},rendergridcontent:function(t,i){if(this.updating())return!1;null!=t&&null!=t||(t=!1),this._requiresupdate=t;var r=this.prerenderrequired;this.prerenderrequired&&this._arrange();var n=this.that;if(null!=(i=i)&&null!=i||(i=!0),this.tableheight=null,n.virtualsizeinfo=n.virtualsizeinfo||n._calculatevirtualheight(),n.pageable&&!n.autoheight&&n.dataview.totalrows<n.pagesize&&(n._requiresupdate=!0),i?n._rendercolumnheaders():(this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn()),n._renderrows(n.virtualsizeinfo),this.gridcontent&&(0!=this.gridcontent[0].scrollTop&&(this.gridcontent[0].scrollTop=0),0!=this.gridcontent[0].scrollLeft&&(this.gridcontent[0].scrollLeft=0)),r){var s=this.tableheight;this._arrange(),s!=this.tableheight&&this.autoheight&&n._renderrows(n.virtualsizeinfo)}if(this.rtl&&this._renderhorizontalscroll(),this.autosavestate&&null!=this.initializedcall&&this.savestate&&this.savestate(),this.adaptive&&this.element.offsetWidth<=this.adaptivewidth){var o=0,a=n.element.offsetWidth-2;e.each(this.columns.records,(function(e,t){if(o+=this.width,"adaptive"===this.columntype)return!0;o>=a&&(this.adaptivehidden=!0)})),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}return!0},_updatecolumnwidths:function(){var t=this.host.width(),i=t,r="";if(null!=this.columns&&null!=this.columns.records){var n=this.that,s=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth,o=0;if(this.adaptive&&this.element.offsetWidth<=this.adaptivewidth){var a=1;e.each(this.columns.records,(function(e,t){this.adaptivehidden&&a++}));var l=this.vScrollBar[0].offsetWidth>0?this.vScrollBar[0].offsetWidth+4:0;"hidden"==this.vScrollBar.css("visibility")&&(l=0),o=(this.element.offsetWidth-32-l)/(this.columns.records.length-a)}e.each(this.columns.records,(function(e,o){if(!(this.hidden&&this.hideable||this.adaptivehidden))if(-1!=this.width.toString().indexOf("%")||null!=this._percentagewidth){o=0;var a="hidden"==n.vScrollBar[0].style.visibility?0:n.scrollbarsize+5;(n.scrollbarautoshow||0==n.scrollbarsize)&&(a=0);var l=i;o=parseFloat(this.width)*l/100,a+=s,null!=this._percentagewidth&&(o=parseFloat(this._percentagewidth)*(l-a)/100),o<this.minwidth&&"auto"!=this.minwidth&&(o=this.minwidth),o>this.maxwidth&&"auto"!=this.maxwidth&&(o=this.maxwidth),t-=o}else"auto"==this.width||this._width?r+=this.text:t-=this.width}));var d=this._gettableheight();if(!this.autoheight&&this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>d)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var h=this.dataview.loadedrootgroups.length*this.rowsheight;if(this.pageable)for(var u=0;u<this.dataview.rows.length;u++)this.dataview.rows[u].group&&0===this.dataview.rows[u].level&&(h+=this.rowsheight);(h>d||"visible"==this.vScrollBar.css("visibility"))&&(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5)}else t-=this.scrollbarsize+5,i-=this.scrollbarsize+5;else"hidden"!=this.vScrollBar.css("visibility")&&this.scrollbarsize>0&&(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5);if(i-=s=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth,this.columnsheader){var c=this.columnsheader.find("#columntable"+this.element.id);if(0!=c.length){var p=0,f=0;e.each(this.columns.records,(function(s,a){var l=e(this.element);this.hidden||this.adaptivehidden||"none"!==this.element.style.display||(this.element.style.display="block"),this.adaptivehidden&&(this.element.style.display="none");var d=!1,h=this.width;if(-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(h=null!=this._percentagewidth?parseFloat(this._percentagewidth)*i/100:parseFloat(this.width)*i/100,d=!0),o>0&&"adaptive"!==this.columntype)l.width(o),this.adaptivewidth=o;else if("auto"==this.width||this._width||d)if(d)h<this.minwidth&&"auto"!=this.minwidth&&(this.width=h=this.minwidth),h>this.maxwidth&&"auto"!=this.maxwidth&&(this.width=h=this.maxwidth),parseInt(l[0].style.width)!=h&&(l.width(h),this.width=h);else{var u=Math.floor(t*(this.text.length/r.length));if(t-(f+=u)<3&&t!=f&&t-f>.01?t-f==1?u++:u+=2:s==n.columns.records.length-1&&f<t&&(u+=t-f),isNaN(u)&&(u=this.minwidth),isNaN(u)&&(u=this.minwidth),u==1/0&&(u=0),u<0){var c=e("<span>"+this.text+"</span>");e(document.body).append(c),u=10+c.width(),c.remove()}u<this.minwidth&&(u=this.minwidth),u>this.maxwidth&&(u=this.maxwidth),this._width="auto",this.width=u,l.width(this.width)}else parseInt(l[0].style.width)!=this.width&&l.width(this.width);parseInt(l[0].style.left)!=p&&l.css("left",p),this.hidden&&this.hideable||this.adaptivehidden||(p+=o>0&&"adaptive"!==this.columntype?o:this.width),this._requirewidthupdate=!0})),this.columnsheader.width(2+p),c.width(this.columnsheader.width()),this.columnsheader[0].style.visibility=0==p?"hidden":"inherit",this._resizecolumngroups(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),this.showeverpresentrow&&("bottom"!==this.everpresentrowposition?this.addnewrowtop.width(this.columnsheader.width()):this.addnewrowbottom.width(this.columnsheader.width()),this._updateaddnewrowui()),this.autowidth&&this._arrange()}}}},_rendercolumnheaders:function(){var t=this.that;if(!this.prerenderrequired)return this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),void(this.showeverpresentrow&&("bottom"!==this.everpresentrowposition?this.addnewrowtop.width(this.columnsheader.width()):this.addnewrowbottom.width(this.columnsheader.width()),this._updateaddnewrowui()));this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var i=e('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');i[0].cells=new Array;var r=0,n=0,s="",o=this.host.width(),a=o,l=new Array,d=new Array,h=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(e.each(this.columns.records,(function(e,i){if(!(this.hidden&&this.hideable||this.adaptivehidden))if("auto"==this.width||this._width)s+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)o-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)o-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){i=0;var r="hidden"==t.vScrollBar[0].style.visibility?0:t.scrollbarsize+5;r+=h,(i=parseFloat(this.width)*(a-r)/100)<this.minwidth&&"auto"!=this.minwidth&&(i=this.minwidth),i>this.maxwidth&&"auto"!=this.maxwidth&&(i=this.maxwidth),o-=i}else"string"==typeof this.width&&(this.width=parseInt(this.width)),o-=this.width;this.pinned||this.grouped||this.checkboxcolumn?(t._haspinned&&(this.pinned=!0),l[l.length]=this):d[d.length]=this})),this.rtl){var u=0;for(l.reverse(),c=this.columns.records.length-1;c>=this.columns.records.length-l.length;c--)this.columns.replace(c,l[u++]);for(p=0;p<d.length;p++)this.columns.replace(p,d[p])}else{for(var c=0;c<l.length;c++)this.columns.replace(c,l[c]);for(var p=0;p<d.length;p++)this.columns.replace(l.length+p,d[p])}var f=this.headerZIndex,m=t.groupable?t.groups.length:0;this.rowdetails&&this.showrowdetailscolumn&&m++;var g=t.columnsheader.height();this.showfilterrow&&(this.columngroups?g-=this.filterrowheight:g=this.columnsheight),this.showeverpresentrow&&"bottom"!==this.everpresentrowposition&&(this.columngroups?g-=this.everpresentrowheight:g=this.columnsheight);var v=this._gettableheight();if(this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>v&&!this.scrollbarautoshow)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var w=0;if(this.pageable){if(this.pageable)for(var y=0;y<this.dataview.rows.length;y++)this.dataview.rows[y].group&&0===this.dataview.rows[y].level&&(w+=this.rowsheight)}else w=this.dataview.loadedrootgroups.length*this.rowsheight;w>v&&(o-=this.scrollbarsize+5,a-=this.scrollbarsize+5)}else o-=this.scrollbarsize+5,a-=this.scrollbarsize+5;else!this.autoheight&&this.scrollbarsize>0&&(o-=this.scrollbarsize+5,a-=this.scrollbarsize+5);a-=h;var b=document.createDocumentFragment(),x=0;if(e.each(this.columns.records,(function(l,d){this.height=t.columnsheight,t.columngroups&&t.columngroups.length&&(this.height=function(e,i){return t.columngroupslevel*t.columnsheight-i.level*t.columnsheight}(0,this),g=this.height);var h=t.toTP("jqx-grid-column-header")+" "+t.toTP("jqx-widget-header");t.rtl&&(h+=" "+t.toTP("jqx-grid-column-header-rtl"));var u=t.rtl?150+f+1:150+f-1,c=t.rtl?f++:f--,p=e('<div role="columnheader" style="z-index: '+c+';position: absolute; height: 100%;" class="'+h+'"><div style="height: 100%; width: 100%;"></div></div>');t.columngroups&&(p[0].style.height=g+"px",p[0].style.bottom="0px",this.pinned&&(p[0].style.zIndex=u)),this.uielement=p,""!=this.classname&&this.classname&&p.addClass(this.classname);var v=this.width,w=!1;if(null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(v=null!=this._percentagewidth?parseFloat(this._percentagewidth)*a/100:parseFloat(this.width)*a/100,w=!0),"auto"==this.width||this._width||w){if(w)v<this.minwidth&&"auto"!=this.minwidth&&(v=this.minwidth),v>this.maxwidth&&"auto"!=this.maxwidth&&(v=this.maxwidth),null!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),p.width(v),this.width=v;else if(!this.hidden&&!this.adaptivehidden){var y=Math.floor(o*(this.text.length/s.length));if(o-(x+=y)<3&&o!=x&&o-x>.01?o-x==1?y++:y+=2:l==t.columns.records.length-1&&x<o&&(y+=o-x),isNaN(y)&&(y=this.minwidth),y<0){var _=e("<span>"+this.text+"</span>");e(document.body).append(_),y=10+_.width(),_.remove()}y<this.minwidth&&(y=this.minwidth),y>this.maxwidth&&(y=this.maxwidth),this._width="auto",this.width=y,v=this.width,p.width(this.width)}}else v<this.minwidth&&"auto"!=this.minwidth&&(this.width=v=this.minwidth),v>this.maxwidth&&"auto"!=this.maxwidth&&(this.width=v=this.maxwidth),p[0].style.width=parseInt(v)+"px";(this.hidden&&this.hideable||this.adaptivehidden)&&p.css("display","none");var C=e(p.children()[0]),j=t.rtl?t.toTP("jqx-grid-column-menubutton")+" "+t.toTP("jqx-grid-column-menubutton-rtl"):t.toTP("jqx-grid-column-menubutton");j+=" "+t.toTP("jqx-icon-arrow-down");var q=e('<div style="height: '+g+'px; display: none; left: 100%; top: 0%; position: absolute;"><div class="'+j+'" style="width: 100%; height:100%;"></div></div>');t.enableanimations||q.css("margin-left",-16),t.rtl&&q.css("left","0px"),this.columnsmenu=q[0],i[0].cells[l]=p[0],q[0].style.width=parseInt(t.columnsmenuwidth)+"px";var k=t.columnsmenu,T=!1,S=!1,I=t.groupable&&m>0&&r<m||t.rowdetails&&r<m;if(t.rtl&&(I=t.groupable&&m>0&&r<m||t.rowdetails&&r<m,I&=l>t.columns.records.length-1-m),I)r++,k&=!1,this.sortable=!1,this.editable=!1,S=!0;else{var D=null!=this.renderer?this.renderer(this.text,this.align,g):t._rendercolumnheader(this.text,this.align,g,t);null==D&&(D=t._rendercolumnheader(this.text,this.align,g,t)),null!=this.renderer&&(D=e(D)),k&=!0,T=!0}if(t.WinJS?MSApp.execUnsafeLocalFunction((function(){C.append(e(D))})):this.renderer?C.append(e(D)):D&&(C[0].innerHTML=D),null!=D){var P=e('<div class="iconscontainer" style="height: '+g+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortascbutton")+" "+t.toTP("jqx-icon-arrow-up")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortdescbutton")+" "+t.toTP("jqx-icon-arrow-down")+'" style="width: 100%; height:100%;"></div></div><div class="sorticon '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; visibility: hidden; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sorticon")+" "+t.toTP("jqx-icon-arrow-down")+'" style="width: 100%; height:100%;"></div></div></div>');q.addClass(t.toTP("jqx-widget-header")),C.append(P);var E=P.children();this.sorticon=E[3],this.sortasc=E[1],this.sortdesc=E[2],this.filtericon=E[0],this.iconscontainer=P,t.rtl&&(P.css("margin-left","0px"),P.css("left","0px"),e(this.sorticon).css("float","left"),e(this.sortasc).css("float","left"),e(this.filtericon).css("float","left"),e(this.sortdesc).css("float","left")),!t.autoshowfiltericon&&this.filterable&&e(this.filtericon).css("display","block")}if(this.element=p[0],k&&(t._handlecolumnsmenu(t,C,p,q,this),this.menu||q.hide()),b.appendChild(p[0]),t.groupable&&T){if(p[0].id=t.dataview.generatekey(),!t._handlecolumnstogroupsdragdrop)throw new Error("jqxGrid: Missing reference to jqxgrid.grouping.js.");t._handlecolumnstogroupsdragdrop(this,p)}t.columnsreorder&&this.draggable&&t._handlecolumnsdragreorder&&t._handlecolumnsdragreorder(this,p);var M=this;M._applyStyle(),t.addHandler(p,"mouseenter",(function(e){M.hovered=!0,M._applyStyle()})),t.addHandler(p,"mouseleave",(function(e){M.hovered=!1,M._applyStyle()}));if(t.addHandler(p,"click",(function(e){if(M.checkboxcolumn)return!0;if(t.sorttogglestates>0&&t._togglesort&&!t._loading){if(t.suspendClick)return!0;t._togglesort(M)}(function e(i,r,n){if(i.selectable){var s=t.getrows();if(void 0===i.selected&&(i.selected=!1),r.shiftKey&&void 0!==t._clickedcolumn||(t._clickedcolumn=i),r.shiftKey&&t._clickedcolumn&&void 0===n){var o=t.columns.records.indexOf(t._clickedcolumn),a=t.columns.records.indexOf(i),l=Math.min(o,a),d=Math.max(o,a);t.clearselection();for(var h=l;h<=d;h++)e(t.columns.records[h],r,!0);return void t._renderrows(this.virtualsizeinfo)}for(n?i.selected=!0:(r.ctrlKey||t.clearselection(),i.selected=!i.selected),h=0;h<s.length;h++)t._applycellselection(s[h].boundindex,i.displayfield,i.selected,!1);i.selected?i.element.setAttribute("selected",""):i.element.removeAttribute("selected"),i._applyStyle(),void 0===n&&t._renderrows(this.virtualsizeinfo)}})(M,e),e.preventDefault(),t._raiseEvent(7,{column:M.getcolumnproperties(),datafield:M.datafield,originalEvent:e})})),M.resizable&&t.columnsresize&&!S){var A=!1,H="mousemove";t.isTouchDevice()&&!0!==t.touchmode&&(A=!0,H=e.jqx.mobile.getTouchEventName("touchstart")),t.addHandler(p,H,(function(i){var r=parseInt(i.pageX),n=5,s=parseInt(p.coord().left);if(t.hasTransform&&(s=e.jqx.utilities.getOffset(p).left),t.resizing)return!0;if(t._handlecolumnsresize){if(A)return(r=t.getTouches(i)[0].pageX)>=s+M.width-(n=40)?(t.resizablecolumn={columnelement:p,column:M},p.css("cursor","col-resize")):(p.css("cursor",""),t.resizablecolumn=null),!0;var o=M.width;if(t.rtl&&(o=0),r>=s+o-n){if(r<=s+o+n)return t.resizablecolumn={columnelement:p,column:M},p.css("cursor","col-resize"),!1;p.css("cursor",""),t.resizablecolumn=null}else p.css("cursor",""),r<s+o-n&&(M._animating||M._menuvisible||p.mouseenter()),t.resizablecolumn=null}}))}if(p.css("left",n),this.hidden&&this.hideable||this.adaptivehidden||(n+=v),M.rendered&&M.rendered(e(C[0].firstChild),M.align,g)&&null!=P&&P.hide(),M.checkboxcolumn){if(P&&P.hide(),!t.host.jqxCheckBox)throw new Error("jqxGrid: Missing reference to jqxcheckbox.js");C.html('<div style="cursor: pointer; margin-left: 3px; top: 50%; margin-top: -9px; position: relative;"></div>');var O=C.find("div:first");O.jqxCheckBox({_canFocus:!1,disabled:t.disabled,disabledContainer:!0,theme:t.theme,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0}),O.addClass(t.toThemeProperty("jqx-checkbox")),M.checkboxelement=O;var B=O.data().jqxCheckBox.instance;t._checkboxcolumn=M,B.updated=function(e,i,r){t._checkboxcolumnupdating=!0,t.disabled&&(O.jqxCheckBox({disabled:t.disabled}),i=r),i?t.selectallrows():t.unselectallrows(),t._checkboxcolumnupdating=!1}}})),this.columnsheader.width(n>0?2+n:n),i[0].appendChild(b),this.columnsrow=i,t.columnsheader.append(i),this.showfilterrow&&this._updatefilterrow){if(i.height(this.columngroups?this.columngroupslevel*this.columnsheight:this.columnsheight),!this.filterrow){var _=e("<div style='position: relative !important; '></div>");_[0].id="filterrow."+this.element.id,_.height(this.filterrowheight),this.filterrow=_}this.filterrow.width(2+n),this.columnsheader.append(this.filterrow),this._updatefilterrow()}if(this.showeverpresentrow&&"bottom"!==this.everpresentrowposition){if(i.height(this.columngroups?this.columngroupslevel*this.columnsheight:this.columnsheight),!this.addnewrowtop){var C=e("<div style='position: relative !important; z-index:"+this.headerZIndex+";'></div>");C[0].id="addnewrowtop."+this.element.id,C.height(this.everpresentrowheight),this.addnewrowtop=C}this.addnewrowtop.width(2+n),"topAboveFilterRow"==this.everpresentrowposition&&this.filterrow?this.addnewrowtop.insertBefore(this.filterrow):this.columnsheader.append(this.addnewrowtop),this._updateaddnewrow()}else if(this.showeverpresentrow&&"bottom"===this.everpresentrowposition){if(!this.addnewrowbottom){var j=e("<div style='position: relative !important; z-index:"+this.headerZIndex+";'></div>");j[0].id="addnewrowbottom."+this.element.id,j.height(this.everpresentrowheight),this.addnewrowbottom=j}this.addnewrowbottom.width(2+n),this.addnewrow.append(this.addnewrowbottom),this._updateaddnewrow()}i[0].style.visibility=0==n?"hidden":"inherit",i.width(n),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsreorder&&this._handlecolumnsreorder(),this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this._handlecolumnsresize&&this._handlecolumnsresize(),this.columngroups&&this._rendercolumngroups(),this._updatecheckboxselection&&this._updatecheckboxselection()},_rendercolumngroups:function(){if(this.columngroups){for(var t=0,i=0;i<this.columns.records.length;i++)this.columns.records[i].pinned&&t++;var r=this.headerZIndex-t+this.columns.records.length,n=this.that,s=n.toTP("jqx-grid-column-header")+" "+n.toTP("jqx-grid-columngroup-header")+" "+n.toTP("jqx-widget-header");n.rtl&&(s+=" "+n.toTP("jqx-grid-columngroup-header-rtl"));var o=this.columnsheader.find("#columntable"+this.element.id);o.find("jqx-grid-columngroup-header").remove();for(var a=0;a<this.columngroupslevel-1;a++)for(i=0;i<this.columngroups.length;i++){var l=this.columngroups[i],d=l.level;if(d===a){var h=d*this.columnsheight,u=99999;if(l.groups){l.width=function e(t){for(var i=0,r=0;r<t.groups.length;r++){var n=t.groups[r];n.groups?i+=e(n):n.hidden||(i+=n.width,u=Math.min(parseFloat(n.element.style.left),u))}return i}(l),l.left=u;var c=this.columnsheight,p=r--,f=e('<div role="columnheader" style="z-index: '+p+';position: absolute;" class="'+s+'"></div>'),m=e(this._rendercolumnheader(l.text,l.align,this.columnsheight,this));if(l.renderer){m=e("<div style='height: 100%; width: 100%;'></div>");var g=l.renderer(l.text,l.align,c);m.html(g)}f.append(m),f[0].style.left=u+"px",0===u&&(f[0].style.borderLeftColor="transparent"),this.showcolumnheaderlines||(f[0].style.borderRightColor="transparent",f[0].style.borderBottomColor="transparent",f[0].style.boxShadow="none"),f[0].style.top=h+"px",f[0].style.height=c+"px",f[0].style.width=-1+l.width+"px",o.append(f),l.element=f,l.rendered&&l.rendered(m,l.align,c)}}}}},_resizecolumngroups:function(){if(this.columngroups)for(var e=0;e<this.columngroups.length;e++){var t=this.columngroups[e],i=t.level*this.columnsheight,r=99999;if(t.groups){t.width=function e(t){for(var i=0,n=0;n<t.groups.length;n++){var s=t.groups[n];s.groups?i+=e(s):s.hidden||(i+=s.width,r=Math.min(parseFloat(s.element.style.left),r))}return i}(t),t.left=r;var n=this.columnsheight,s=t.element;s[0].style.left=r+"px",s[0].style.top=i+"px",s[0].style.height=n+"px",s[0].style.width=-1+t.width+"px"}}},_handlecolumnsmenu:function(t,i,r,n,s){t.dragmousedown=null,n[0].id=t.dataview.generatekey(),i.append(n),r[0].columnsmenu=n[0],s.element=r[0];var o=this.columnsmenuwidth+1,a="mouseenter";t.isTouchDevice()&&(a="touchstart"),t.addHandler(r,a,(function(i){var a=parseInt(i.pageX),l=t.columnsresize&&s.resizable?3:0,d=parseInt(r.coord().left);t.hasTransform&&(d=e.jqx.utilities.getOffset(r).left);var h=s.width;if(t.rtl&&(h=0),0!=l&&a>=d+h-l&&a<=d+h+l)return!1;var u=t.vScrollInstance.isScrolling();s.menu&&t.autoshowcolumnsmenubutton&&!u&&!t.disabled&&function(){if(!s.menu)return!1;if(!t.resizing){if(s._menuvisible&&t._hasOpenedMenu)return!1;s._animating=!0,t.menuitemsarray&&t.menuitemsarray.length>0&&(t.enableanimations?(n.css("display","block"),n.stop(),s.iconscontainer.stop(),t.rtl?(n.css("margin-left",-o),n.animate({"margin-left":"0px"},"fast",(function(){n.css("display","block"),s._animating=!1,s._menuvisible=!0}))):(n.css("margin-left","0px"),n.animate({"margin-left":-o},"fast",(function(){n.css("display","block"),s._animating=!1,s._menuvisible=!0}))),s.iconscontainer.animate({"margin-left":t.rtl?o:-(32+o)},"fast")):(n.css("display","block"),s.iconscontainer.css("margin-left",(t.rtl?16:-48)+"px"),s._animating=!1,s._menuvisible=!0))}}()})),t.autoshowcolumnsmenubutton||(n.css("display","block"),s.iconscontainer.css("margin-left",(t.rtl?16:-48)+"px"),n.css(t.rtl?{"margin-left":"0px"}:{"margin-left":-o})),t.addHandler(r,"mouseleave",(function(i){if(t.menuitemsarray&&t.menuitemsarray.length>0&&s.menu){var r=e.data(document.body,"contextmenu"+t.element.id);if(null!=r&&n[0].id==r.columnsmenu.id)return;t.autoshowcolumnsmenubutton&&(t.enableanimations?(n.css("margin-left",t.rtl?"0px":-o),n.stop(),s.iconscontainer.stop(),n.animate(t.rtl?{"margin-left":-o}:{"margin-left":0},"fast",(function(){n.css("display","none"),s._menuvisible=!1})),s.iconscontainer.animate({"margin-left":t.rtl?0:-32},"fast")):(n.css("display","none"),s.iconscontainer.css("margin-left",(t.rtl?0:-32)+"px"),s._menuvisible=!1))}}));var l=!0,d="",h=e(s.filtericon);t.addHandler(n,"mousedown",(function(i){t.gridmenu||t._initmenu(),l=!e.data(t.gridmenu[0],"contextMenuOpened"+t.gridmenu[0].id),null!=(d=e.data(document.body,"contextmenu"+t.element.id))&&(d=d.column.datafield)})),t.addHandler(h,"mousedown",(function(i){t.gridmenu||t._initmenu(),l=!e.data(t.gridmenu[0],"contextMenuOpened"+t.gridmenu[0].id),null!=(d=e.data(document.body,"contextmenu"+t.element.id))&&(d=d.column.datafield)}));var u=function(){if(!s.menu)return!1;if(t.gridmenu||t._initmenu(),t.disabled)return!1;for(var i=0;i<t.columns.records.length;i++)t.columns.records[i].datafield!=s.datafield&&(t.columns.records[i]._menuvisible=!1);var r=n.coord(!0),o=n.height();if(!l&&(l=!0,d==s.datafield))return t._closemenu(),!1;var a=t.host.coord(!0);if(t.hasTransform&&(a=e.jqx.utilities.getOffset(t.host),r=e.jqx.utilities.getOffset(n)),a.left+t.host.width()>parseInt(r.left)+t.gridmenu.width()?t.gridmenu.jqxMenu("open",r.left,r.top+o):t.gridmenu.jqxMenu("open",n.width()+r.left-t.gridmenu.width(),r.top+o),t.gridmenu.width()<100&&t._arrangemenu(),t.adaptive&&t.element.offsetWidth<t.adaptivewidth){t.gridmenu.jqxMenu("close"),t.gridmenu.jqxMenu("open",a.left,r.top+o);var h=0;for(i=0;i<t.columns.records.length;i++){var u=t.columns.records[i];u.hidden||u.adaptivehidden||"adaptive"===u.columntype||(h+=u.adaptivewidth)}t.gridmenu.width(h),t.gridmenu.height(t.content.height())}(!t.filterable||t.filterable&&t.showfilterrow)&&setTimeout((function(){t.gridmenu.focus();for(var i=t.gridmenu.find(".jqx-item"),r=0;r<i.length;r++)i[r].active&&(i[r].active=!1);var n=i[0];i[0].className.indexOf("disabled")>=0&&(n=i[1]),e(i).removeClass("jqx-fill-state-focus"),e(n).addClass("jqx-fill-state-focus"),n.active=!0}),225),t._hasOpenedMenu=!0;var c=t._getmenuitembyindex(0),p=t._getmenuitembyindex(1),f=t._getmenuitembyindex(2),m=t._getmenuitembyindex(3),g=t._getmenuitembyindex(4),v=t._getmenuitembyindex(5);if(null!=c&&null!=p&&null!=f){var w=s.sortable&&t.sortable;if(t.gridmenu.jqxMenu("disable",c.id,!w),t.gridmenu.jqxMenu("disable",p.id,!w),t.gridmenu.jqxMenu("disable",f.id,!w),null!=s.displayfield){var y=(b=t.getsortinformation())&&b.sortcolumns&&b.sortcolumns.find((function(e){return e.dataField===s.displayfield}));if(t.sortcolumn==s.displayfield||y){var b=t.getsortinformation();w&&t.gridmenu.jqxMenu("disable",b.sortdirection.ascending?c.id:p.id,!0)}else t.gridmenu.jqxMenu("disable",f.id,!0)}}if(null!=m&&null!=g&&(t.groupable&&s.groupable?t.groups&&-1!=t.groups.indexOf(s.datafield)?(t.gridmenu.jqxMenu("disable",m.id,!0),t.gridmenu.jqxMenu("disable",g.id,!1)):(t.gridmenu.jqxMenu("disable",m.id,!1),t.gridmenu.jqxMenu("disable",g.id,!0)):(t.gridmenu.jqxMenu("disable",g.id,!0),t.gridmenu.jqxMenu("disable",m.id,!0))),null!=v){t.menuOwner=s,t._updatefilterpanel(t,v,s);var x=0;t.sortable&&t._togglesort&&t.showsortmenuitems&&(x+=3),t.groupable&&t.addgroup&&t.showgroupmenuitems&&(x+=2);var _=33*x+6;_=x*t._measureMenuElement()+14,e.jqx.browser.msie&&e.jqx.browser.version<8&&(_+=20,e(v).height(194)),t.isTouchDevice()&&(_+=10),t.filterable&&t.showfiltermenuitems&&(s.filterable?(t.gridmenu.height(_+194),e(v).css("display","block")):(t.gridmenu.height(_),e(v).css("display","none")))}t.columnmenuopening&&!1===t.columnmenuopening(t.gridmenu,s.displayfield,t.gridmenu.height())&&setTimeout((function(){t._closemenu()})),e.data(document.body,"contextmenu"+t.element.id,{column:s,columnsmenu:n[0]})};t.addHandler(h,"click",(function(e){return!!s.menu&&(t.showfilterrow||("block"!=n[0].style.display&&r.trigger("mouseenter"),setTimeout((function(){"block"!=n[0].style.display&&r.trigger("mouseenter"),u()}),200)),!1)})),t.addHandler(n,"click",(function(e){return!!s.menu&&(u(),!1)})),t.isTouchDevice()&&t.addHandler(n,e.jqx.mobile.getTouchEventName("touchstart"),(function(e){return!!s.menu&&(t._hasOpenedMenu?t._closemenu():u(),!1)}))},_removecolumnhandlers:function(t){var i=this.that,r=e(t.element);if(r.length>0){i.removeHandler(r,"mouseenter"),i.removeHandler(r,"mouseleave");var n=e(t.filtericon);if(i.removeHandler(n,"mousedown"),i.removeHandler(n,"click"),i.removeHandler(r,"click"),i.removeHandler(r,"mousemove"),i.columnsreorder&&(i.removeHandler(r,"mousedown.drag"),i.removeHandler(r,"mousemove.drag")),i.removeHandler(r,"dragstart"),r[0].columnsmenu){var s=e(r[0].columnsmenu);i.removeHandler(s,"click"),i.removeHandler(s,"mousedown"),i.removeHandler(s,e.jqx.mobile.getTouchEventName("touchstart"))}}},_rendercolumnheader:function(e,t,i,r){return this.enableellipsis?"left"==t?'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 2px; line-height: "+i+'px;"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>":'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 2px; margin-right: 4px; line-height: "+i+'px;"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>":"center"==t||"middle"==t?'<div style="padding-bottom: 2px; text-align: center; line-height: '+i+'px;"><a href="#">'+e+"</a></div>":'<a style="line-height: '+i+"px; float: "+t+';" href="#">'+e+"</a>"},_renderrows:function(t,i,r){var n=this.that;if((this.pageable||this.groupable)&&(this.autoheight||this.autorowheight)&&null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length<this.dataview.rows.length&&(n.prerenderrequired=!0),!this.pageable&&(this.autoheight||this.autorowheight)&&(this.virtualmode||this.unboundmode)){var s=this.source.totalrecords;isNaN(s)||null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length!=s&&(n.prerenderrequired=!0)}!this.autoheight&&!this.autorowheight||n.prerenderrequired||this.table&&this.table[0].rows&&(this.table[0].rows.length<this.dataview.records.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?n.prerenderrequired=!0:this.pageable||(n.prerenderrequired=!0)),this.table[0].rows.length<this.dataview.cachedrecords.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?n.prerenderrequired=!0:this.pageable||(n.prerenderrequired=!0))),n._prerenderrows(t),n._requiresupdate&&(n._requiresupdate=!1,n._updatepageviews());var o=function(){n._loading||(n.WinJS?MSApp.execUnsafeLocalFunction((function(){n._rendervisualrows()})):n._rendervisualrows(),n.virtualmode&&n.showaggregates&&n._updateaggregates&&n.refreshaggregates())},a=e.jqx.browser.msie&&e.jqx.browser.version<10;if(this.virtualmode){this.loadondemand&&(o(),function(){if(n.rendergridrows){var e=n._startboundindex;null==e&&(e=0);var t=e+1+n.dataview.pagesize;if(null!=e&&null!=t){var r=!!n.source._source;if((r?n.source._source.recordstartindex:n.source.recordstartindex)!=e||1==i){if(r){if(t>=n.source._source.totalrecords&&((e=(t=n.source._source.totalrecords)-n.dataview.pagesize-1)<0&&(e=0),n.source._source.recordendindex==t&&n.source._source.recordstartindex==e))return;n.source._source.recordstartindex=e,n.source._source.recordendindex=t}else n.source.recordstartindex=e,n.source.recordendindex=t;n.updatebounddata("cells")}}}}(),this.loadondemand=!1);var l=null==this._browser?this._isIE10():this._browser;this.editable&&this.editcell&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()||this.autoheight?o():l||a||navigator&&-1!=navigator.userAgent.indexOf("Safari")?(null!=this._scrolltimer&&clearTimeout(this._scrolltimer),this._scrolltimer=setTimeout((function(){o()}),5)):o()}else{if("deferred"==this.scrollmode&&(this.hScrollInstance.isScrolling()||this.vScrollInstance.isScrolling())){null!=this._scrolltimer&&clearInterval(this._scrolltimer);var d=this._getfirstvisualrow();if(null!=d){var h=this.scrollfeedback?this.scrollfeedback(d.bounddata):function(t){if(null==d)return"";var i="<table>",r=n.deferreddatafields;null==r&&n.columns.records.length>0&&(r=new Array).push(n.columns.records[0].displayfield);for(var s=0;s<r.length;s++){var o=n._getcolumnbydatafield(r[s]);if(o){var a=n._getcellvalue(o,d);""!=o.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(a)?a=e.jqx.dataFormat.formatdate(a,o.cellsformat,n.gridlocalization):e.jqx.dataFormat.isNumber(a)&&(a=e.jqx.dataFormat.formatnumber(a,o.cellsformat,n.gridlocalization))),i+="<tr><td>"+a+"</td></tr>"}}return i+"</table>"}();h!=this._scrollelementcontent&&(this._scrollelement[0].innerHTML=h,this._scrollelementcontent=h)}return this._scrollelement.css("visibility","visible"),this._scrollelementoverlay.css("visibility","visible"),this._scrollelement.css("margin-top",-this._scrollelement.height()/2),void(this._scrolltimer=setInterval((function(){n.hScrollInstance.isScrolling()||n.vScrollInstance.isScrolling()||(o(),n._scrollelement.css("visibility","hidden"),n._scrollelementoverlay.css("visibility","hidden"),clearInterval(n._scrolltimer),d&&n.ensurerowvisible(d.visibleindex))}),100))}if(navigator&&-1==navigator.userAgent.indexOf("Chrome")&&-1!=navigator.userAgent.indexOf("Safari")&&(this._updatedelay=1),null!=this.touchDevice&&1==this.touchDevice&&(this._updatedelay=5),((l=null==this._browser?this._isIE10():this._browser)||a)&&(this._updatedelay=5),l&&this.hScrollInstance.isScrolling())return void o();if(e.jqx.browser.mozilla&&0==this._updatedelay&&(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling())&&(this._updatedelay=0),this.isTouchDevice()&&(this._updatedelay=0),null!=this.updatedelay&&(this._updatedelay=this.updatedelay),0==this._updatedelay)o();else{var u=this._jqxgridrendertimer;null!=u&&clearTimeout(u),this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()?(this._updatedelay?u=setTimeout((function(){o()}),this._updatedelay):(u=null,o()),this._jqxgridrendertimer=u):(this._jqxgridrendertimer=u,o())}}if(n.autorowheight&&!n.autoheight&&this._pageviews.length>0){var c=this._gettableheight(),p=this._pageviews[0].height;if(p>c)if(this.pageable&&this.gotopage&&(p=this._pageviews[0].height)<0&&(p=this._pageviews[0].height),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(p<=c||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),p-c>0){if("deferred"!=this.scrollmode){var f=p-c,m=this.vScrollInstance.max;this.vScrollBar.jqxScrollBar({max:f}),Math.round(f)!=Math.round(m)&&this.vScrollBar.jqxScrollBar("value")>f&&this.vScrollBar.jqxScrollBar({value:0})}}else this.vScrollBar.jqxScrollBar({value:0,max:p});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.virtualsizeinfo&&(this.virtualsizeinfo.virtualheight=p)}},scrolling:function(){return{vertical:this.vScrollInstance.isScrolling(),horizontal:this.hScrollInstance.isScrolling()}},_renderhorizontalscroll:function(){var e=this.hScrollInstance,t=e.value;"hidden"===this.hScrollBar.css("visibility")&&(e.value=0,t=0);var i=parseInt(t);if(null!=this.table){var r=this.table[0].rows.length,n=this.columnsrow,s=this.groupable&&this.groups.length>0?this.groups.length:0,o=this.columns.records.length-s,a=this.columns.records,l=0==this.dataview.rows.length;if(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(i=e.max-i),l&&!this._haspinned){for(var d=0;d<r;d++)for(var h=this.table[0].rows[d],u=0;u<s+o;u++)null!=(c=h.cells[u])&&a[u].pinned&&(c.style.marginLeft=i+"px",0==d&&(n[0].cells[u].style.marginLeft=i+"px"));this.table[0].style.marginLeft=-i+"px",n[0].style.marginLeft=-i+"px"}else if(this._haspinned||null==this._haspinned){for(d=0;d<r;d++)for(h=this.table[0].rows[d],u=0;u<s+o;u++){var c;if(null!=(c=h.cells[u])&&a[u].pinned){if(0==i&&""==c.style.marginLeft)continue;var p=null,f=null,m=null;this.showeverpresentrow&&this.addnewrowtop&&this.addnewrowtop[0].cells&&(m=this.addnewrowtop[0].cells[u]),this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(f=this.filterrow[0].cells[u]),this.showaggregates&&this.statusbar[0].cells&&(p=this.statusbar[0].cells[u]),this.rtl?(c.style.marginLeft=-parseInt(t)+"px",0==d&&(n[0].cells[u].style.marginLeft=-parseInt(t)+"px",p&&(p.style.marginLeft=-parseInt(t)+"px"),f&&(f.style.marginLeft=-parseInt(t)+"px"),m&&(m.style.marginLeft=-parseInt(t)+"px"))):(c.style.marginLeft=i+"px",0==d&&(n[0].cells[u].style.marginLeft=i+"px",p&&(p.style.marginLeft=i+"px"),f&&(f.style.marginLeft=i+"px"),m&&(m.style.marginLeft=i+"px")))}}this.table[0].style.marginLeft=-i+"px",n[0].style.marginLeft=-i+"px"}else 0==this._haspinned&&(this.table[0].style.marginLeft=-i+"px",n[0].style.marginLeft=-i+"px");if(this.showaggregates&&this.statusbar[0].cells){var g=0;this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&"hidden"!=this.hScrollBar.css("visibility")&&(g=2+parseInt(this.hScrollBar.css("left"))),this.statusbar[0].style.marginLeft=-i+g+"px"}this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(this.filterrow[0].style.marginLeft=-i+"px"),this.showeverpresentrow&&this.addnewrowtop&&this.addnewrowtop[0].cells&&(this.addnewrowtop[0].style.marginLeft=-i+"px")}},_updaterowdetailsvisibility:function(){if(this.rowdetails)for(var t=0;t<this._rowdetailselementscache.length;t++)e(this._rowdetailselementscache[t]).css("display","none")},_getvisualcolumnsindexes:function(e,t,i,r,n,s){if(this.rowdetails||this.rtl||this.editcell||this.width&&this.width.toString().indexOf("%")>=0||this.exporting)return{start:0,end:i+r};var o=0,a=-1,l=i+r,d=!1;if(this.autorowheight)return{start:0,end:i+r};if(!n)for(var h=0;h<i+r;h++)if(d||this.columns.records[h].pinned&&s&&(d=!0),this.columns.records[h].hidden||this.columns.records[h].adaptivehidden||(o+=this.columns.records[h].width),o>=e&&-1==a&&(a=h),o>t+e){l=h;break}return++l>i+r&&(l=i+r),(-1==a||d)&&(a=0),{start:a,end:l}},_getvirtualcolumnsindexes:function(e,t,i,r,n){if(this.rtl||this.editcell||this.exporting)return{start:0,end:i+r};var s=0,o=-1,a=i+r;if(this.autorowheight)return{start:0,end:i+r};if(!n)for(var l=0;l<i+r;l++)if(this.columns.records[l].hidden||this.columns.records[l].adaptivehidden||(s+=this.columns.records[l].width),s>=e&&-1==o&&(o=l),s>t+e){a=l;break}return++a>i+r&&(a=i+r),-1==o&&(o=0),{start:o,end:a}},_getfirstvisualrow:function(){var e=parseInt(this.vScrollInstance.value);if(0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"visible"!=this.vScrollBar[0].style.visibility&&(e=0),!this.pageable){var t=this._findvisiblerow(e,this._pageviews);if(-1==t)return null;t!=this.dataview.pagenum?(this.dataview.pagenum=t,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var i=this._findvisiblerow(e,this._pagescache[this.dataview.pagenum]),r=this._pagescache[this.dataview.pagenum];if(r&&r[0])return r[i]},_rendervisualrows:function(){if(this.virtualsizeinfo){var t=this.vScrollInstance,i=this.hScrollInstance,r=i.value,n=parseInt(t.value),s=parseInt(r),o=this._gettableheight(),a=null!=this._hostwidth?this._hostwidth:this.host.width();"visible"==this.hScrollBar[0].style.visibility&&(o+=29),"deferred"==this.scrollmode&&0!=this._newmax&&n>this._newmax&&null!=this._newmax&&(n=this._newmax);var l=t.isScrolling()||i.isScrolling()||this._keydown,d=this.groupable&&this.groups.length>0;if(this.visiblerows=new Array,this.hittestinfo=new Array,this.editcell&&null==this.editrow&&this._hidecelleditor(!1),null!=this.editrow&&this._hideeditors(),this.virtualmode&&!this.pageable&&(this._pagescache=new Array),0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"hidden"==this.vScrollBar[0].style.visibility&&(n=0),!this.pageable){var h=this._findvisiblerow(n,this._pageviews);-1==h&&(this._clearvisualrows(),this._renderemptyrow(),this._updaterowdetailsvisibility()),h!=this.dataview.pagenum?(this.dataview.pagenum=h,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var u=this.groupable&&this.groups.length>0?this.groups.length:0;if(this.columns.records){var c=this.columns.records.length-u,p=this._findvisiblerow(n,this._pagescache[this.dataview.pagenum]),f=this._pagescache[this.dataview.pagenum],m=p;m<0&&(m=0);var g=0,v=0,w=0,y=0,b=this.virtualsizeinfo.visiblerecords,x=this.groupable?this.groups.length:0,_=this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");this.rtl&&(_+=" "+this.toTP("jqx-grid-cell-rtl")),(this.autoheight||this.autorowheight)&&this.pageable&&(!this.groupable||this.groupable&&0===this.groups.length)&&(b=this.dataview.pagesize),d&&(_=" "+this.toTP("jqx-grid-group-cell")),this.isTouchDevice()&&(_+=" "+this.toTP("jqx-touch")),this.autorowheight&&(_+=" jqx-grid-cell-wrap");var C=this.rowsheight,j=this._rendercell,q=this._getvisualcolumnsindexes(s,a,u,c,d,!0),k=q.start,T=q.end,S=this._getvirtualcolumnsindexes(s,a,u,c,d),I=S.start,D=S.end;if((this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews[0]&&(this._oldpageviewheight=this._pageviews[0].height),this.autorowheight&&(m=0),m>=0){this._updaterowdetailsvisibility(),this._startboundindex=null!=f?f[m].bounddata.boundindex:0,this._startvisibleindex=null!=f?f[m].bounddata.visibleindex:0;var P=this.table[0].rows;if(this.columns.records.length>10&&this.enablecolumnsvirtualization)for(var E=function(e){return!(!e||!e.parentNode||"#document-fragment"==e.parentNode.nodeName)},M=0;M<P.length;M++){for(var A=P[M],H=0;H<I;H++)if(!this.columns.records[W=H].pinned&&null!=this.columns.records[W].datafield){E(B=A.cells[W])&&B.parentNode.removeChild(B);var O=this.columns.records[W].element;this.columns.records[W]._rendered=!1,E(O)&&this.columnsrow[0].removeChild(O),this.filterrow&&E(this.filterrow[0].cells[W])&&this.columns.records[W].filterable&&this.filterrow[0].cells[W].parentNode.removeChild(this.filterrow[0].cells[W])}for(H=D;H<this.columns.records.length;H++)this.columns.records[W=H].pinned||null==this.columns.records[W].datafield||(E(B=A.cells[W])&&B.parentNode.removeChild(B),O=this.columns.records[W].element,this.columns.records[W]._rendered=!1,E(O)&&this.columnsrow[0].removeChild(O),this.filterrow&&E(this.filterrow[0].cells[W])&&this.columns.records[W].filterable&&this.filterrow[0].cells[W].parentNode.removeChild(this.filterrow[0].cells[W]));for(H=I;H<D;H++){var B;E(B=A.cells[W=H])||A.appendChild(B),O=this.columns.records[W].element,this.columns.records[W]._rendered=!0,O.selectable&&(B.removeAttribute("selected"),O.selected&&B.setAttribute("selected","")),E(O)||this.columnsrow[0].appendChild(O),this.filterrow&&this.showfilterrow&&!E(this.filterrow[0].cells[W])&&this.columns.records[W].filterable&&this.filterrow[0].firstChild.appendChild(this.filterrow[0].cells[W])}}for(var z=0;z<b&&v<b;z++){var N=null!=f?f[m+z]:null;if(this.virtualmode&&z>=this.source.totalrecords&&(N=null),null==N){if(m=-z,this._pagescache[this.dataview.pagenum+1])f=this._pagescache[this.dataview.pagenum+1],this.dataview.pagenum++;else{var L=this._pageviews.length;do{if(!(this.dataview.pagenum<this._pageviews.length-1)){f=void 0;break}this.dataview.pagenum++,f=void 0,this._pageviews[this.dataview.pagenum].height>0&&(this.dataview.updateview(),this._loadrows(),f=this._pagescache[this.dataview.pagenum])}while(null==f&&this.dataview.pagenum<L)}null!=f&&(N=f[m+z])}if(null!=N){if(N.hidden)continue;if(this._endboundindex=this._startboundindex+z,this._endvisibleindex=this._startvisibleindex+z,0==z){var F=Math.abs(n-N.top);this.table[0].style.top=-F+"px",y=-F}if(!(A=this.table[0].rows[v]))continue;parseInt(A.style.height)!=N.height&&(A.style.height=parseInt(N.height)+"px"),w+=N.height;var R=!N.rowdetailshidden;(X=this.rowdetails&&N.rowdetails)&&R&&(A.style.height=parseInt(N.height-N.rowdetailsheight)+"px",b++);var V=this._isrowselected(!0,N);for(H=k;H<T;H++){var W;this._rendervisualcell(j,_,V,X,R,d,x,A,N,W=H,v,l)}if(null!=N.group&&this._rendergroup&&this._rendergroup(x,A,N,u,c,v,a),this.autorowheight&&(this.autoheight||this.pageable)){for(C=this.rowsheight,H=k;H<T;H++)this.editable&&this.editcell&&this.editcell.column==this.columns.records[H].datafield&&this.editcell.row==this.getboundindex(N)&&this.editcell.editor?C=Math.max(C,this.editcell.editor.height()):A.cells[H].firstChild&&(C=Math.max(C,8+parseInt(A.cells[H].firstChild.offsetHeight)));A.style.height=parseInt(C)+"px",this.heights[this._startboundindex+z]=C,X&&R&&(C+=N.rowdetailsheight),N.height=C}if(this.visiblerows[this.visiblerows.length]=N,this.hittestinfo[this.hittestinfo.length]={row:N,visualrow:A,details:!1},X&&R&&(v++,this._renderrowdetails(_,A=this.table[0].rows[v],N,u,c,v),this.visiblerows[this.visiblerows.length]=N,this.hittestinfo[this.hittestinfo.length]={row:N,visualrow:A,details:!0}),!this.autorowheight&&w+y>=o)break}else this._clearvisualrow(s,d,v,u,c),w+g+y<=o&&(g+=C);v++}if(this._horizontalvalue=s,g>0&&"visible"==this.vScrollBar[0].style.visibility){parseInt(this.table.css("top"));var G=this._pageviews[this._pageviews.length-1],U=t.max,Y=G.top+G.height-o;"visible"==this.hScrollBar.css("visibility")&&(Y+=this.scrollbarsize+20),U==Y||this.autorowheight||Y>=0&&("deferred"!=this.scrollmode?(t.max=Y,t.setPosition(t.max)):this._newmax!=Y&&(this._newmax=Y,this._rendervisualrows()))}}if((this.autoheight||this.pageable)&&this.autorowheight){this._pagescache=new Array;var Z=0,K=0;for(M=0;M<this.visiblerows.length;M++){var X,Q=this.visiblerows[M];for(Q.top=Z,Z+=Q.height,K+=Q.height,R=!Q.rowdetailshidden,A=this.table[0].rows[M],(X=this.rowdetails&&Q.rowdetails)&&R&&M++,H=k;H<T;H++){var J=this.columns.records[H];if(!J.hidden&&!J.adaptivehidden&&!J.cellsrenderer){var $=A.cells[H],ee=0;if($.firstChild?(ee=(Q.height-parseInt($.firstChild.offsetHeight)-8)/2,X&&R&&(ee=(Q.height-Q.rowdetailsheight-e($.firstChild).height()-8)/2)):ee=(Q.height-parseInt(e($).height())-8)/2,ee>=0&&(ee=parseInt(ee)+4,$.firstChild&&-1==$.firstChild.className.indexOf("jqx-grid-groups-row")&&"checkbox"!=J.columntype&&"button"!=J.columntype)){if(this.editable&&this.editcell&&this.editcell.column==J.datafield&&this.editcell.row==this.getboundindex(Q))continue;$.firstChild.style.marginTop=ee+"px"}}}}this._pageviews[0]&&(this._pageviews[0].height=K),this._arrange()}this._renderemptyrow(),this.toCompile&&this.toCompile.length>0&&e.each(this.toCompile,(function(t,i){if(this.compiled)return!0;var r=this.cell;if(!r)return!0;e.jqx.angularCompile&&e.jqx.angularCompile(r,"<div>"+this.value+"</div>"),this.compiled=!0}))}}},_hideemptyrow:function(){if(this.showemptyrow&&this.table&&this.table[0].rows){var t=this.table[0].rows[0];if(t)for(var i=!1,r=0;r<t.cells.length;r++){var n=e(t.cells[r]);"none"==n.css("display")||i||n.width()!=this.host.width()&&n.text()!=this.gridlocalization.emptydatastring||(n[0].checkbox=null,n[0].button=null,i=!0,n[0].innerHTML="")}}},_renderemptyrow:function(){if(!this._loading&&0==this.dataview.records.length&&this.showemptyrow){var t=!1,i=this.toTP("jqx-grid-cell");if(this.table&&this.table.length>0&&this.table[0].rows&&this.table[0].rows.length>0){var r=this.table[0].rows[0];this.table[0].style.top="0px";for(var n=0;n<r.cells.length;n++){var s=e(r.cells[n]);if("none"!=s.css("display")&&!t){s[0].checkbox=null,s[0].button=null,s[0].className=i,t=!0,s[0].innerHTML="";var o=e("<span style='white-space: nowrap; float: left; margin-left: 50%; position: relative;'></span>");o.text(this.gridlocalization.emptydatastring),s.append(o);var a=0;this.oldhscroll||(a=parseInt(this.table[0].style.marginLeft),this.rtl&&(s.css("z-index",999),s.css("overflow","visible"))),o.css("left",-a-o.width()/2),o.css("top",this._gettableheight()/2-o.height()/2),e.jqx.browser.msie&&e.jqx.browser.version<8&&(o.css("margin-left","0px"),o.css("left",this.host.width()/2-o.width()/2));var l=Math.abs(parseInt(this.table[0].style.top));isNaN(l)&&(l=0),e(r).height(this._gettableheight()+l),s.css("margin-left","0px"),s.width(this.host.width()),this.table.width()<this.host.width()&&this.table.width(this.host.width())}s.addClass(this.toThemeProperty("jqx-grid-empty-cell"))}}}},_clearvisualrows:function(){var e=this.virtualsizeinfo.visiblerecords,t=parseInt(this.hScrollInstance.value),i=this.groupable&&this.groups.length>0;if(this.columns.records)for(var r=0;r<e;r++)this._clearvisualrow(t,i,r,0,this.columns.records.length)},_iscellselected:function(e,t,i){var r=!1,n=0;if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(n=this.dataview.pagesize*this.dataview.pagenum),this.groups.length>0&&this.pageable&&this.groupable){var s=this.getrowboundindexbyid(t.bounddata.uid);if(-1!=s){for(var o in this.selectedcells)o==s+"_"+i&&(r=!0);return r}return!1}if(e&&null!=t.bounddata)if("singlerow"!=this.selectionmode){if(this.dataview.filters.length>0)if(this.virtualmode||null==t.bounddata.dataindex)for(var o in this.selectedcells)o==n+t.bounddata.boundindex+"_"+i&&(r=!0);else for(var o in this.selectedcells)o==n+t.bounddata.dataindex+"_"+i&&(r=!0);else for(var o in this.selectedcells)if(o==n+t.bounddata.boundindex+"_"+i){r=!0;break}}else if(this.dataview.filters.length>0){if(this.virtualmode||null==t.bounddata.dataindex){for(var o in this.selectedcells)if(o==n+t.bounddata.boundindex+"_"+i){r=!0;break}}else for(var o in this.selectedcells)if(o==n+t.bounddata.dataindex+"_"+i){r=!0;break}}else for(var o in this.selectedcells)if(o==n+t.bounddata.boundindex==this.selectedrowindex){r=!0;break}return r},_isrowselected:function(e,t){var i=!1,r=0;if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(r=this.dataview.pagesize*this.dataview.pagenum),this.groupable&&this.groups.length>0&&this.pageable){var n=this.getrowboundindexbyid(t.bounddata.uid);return null!=n&&-1!=n&&(-1!=this.selectedrowindexes.indexOf(n)&&(i=!0),i||(i=n==this.selectedrowindex&&-1!=this.selectedrowindex),i)}return e&&null!=t.bounddata&&("singlerow"!=this.selectionmode?this.dataview.filters.length>0?this.virtualmode||null==t.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(r+t.bounddata.boundindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(r+t.bounddata.dataindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(r+t.bounddata.boundindex)&&(i=!0):this.dataview.filters.length>0?this.virtualmode||null==t.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(r+t.bounddata.boundindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(r+t.bounddata.dataindex)&&(i=!0):r+t.bounddata.boundindex==this.selectedrowindex&&(i=!0)),i},_rendervisualcell:function(t,i,r,n,s,o,a,l,d,h,u,c){var p=this.columns.records[h];if(p.hidden||p.adaptivehidden)(m=l.cells[h]).innerHTML="";else{var f=this._getcellvalue(p,d),m=l.cells[h],g=i;if(-1!=this.selectionmode.indexOf("cell")&&(r=this.dataview.filters.length>0?!!this.selectedcells[d.bounddata.dataindex+"_"+p.datafield]:!!this.selectedcells[d.boundindex+"_"+p.datafield],this.editcell&&this.editcell.row===d.boundindex&&this.editcell.column===p.datafield&&"checkbox"!==p.columntype&&(r=!1),(this.virtualmode||this.groupable&&this.groups.length>0&&this.pageable)&&(r=this._iscellselected(!0,d,p.datafield))),""!=p.cellclassname&&p.cellclassname)if("string"==typeof p.cellclassname)g+=" "+p.cellclassname;else{var v=p.cellclassname(this.getboundindex(d),p.datafield,f,d.bounddata);v&&(g+=" "+v)}var w=this.showsortcolumnbackground&&this.sortcolumn&&p.displayfield==this.sortcolumn;if("many"===this.sortmode&&this.showsortcolumnbackground)for(var y=this.getsortcolumns(),b=0;b<y.length;b++)p.displayfield===y[b].dataField&&(w=!0);if(w&&(g+=" "+this.toTP("jqx-grid-cell-sort")),p.filter&&this.showfiltercolumnbackground&&(g+=" "+this.toTP("jqx-grid-cell-filter")),d.bounddata.totalsrow&&(g+=" "+this.toTP("jqx-grid-cell-pinned")),(p.pinned&&this.showpinnedcolumnbackground||p.grouped)&&(o&&d.bounddata.totalsrow||(g+=" "+this.toTP("jqx-grid-cell-pinned"))),this.altrows&&null==d.group){var x=d.visibleindex;x>=this.altstart&&(this.altstart+x)%(1+this.altstep)==0&&(g+=w?" "+this.toTP("jqx-grid-cell-sort-alt"):" "+this.toTP("jqx-grid-cell-alt"),p.filter&&this.showfiltercolumnbackground&&(g+=" "+this.toTP("jqx-grid-cell-filter-alt")),p.pinned&&this.showpinnedcolumnbackground&&(g+=" "+this.toTP("jqx-grid-cell-pinned-alt")))}if(h<=a){if(o||this.rowdetails||this.pageable&&this.virtualmode){var _=e(m),C=this.columns.records[h].width;m.style.width!=parseInt(C)+"px"&&_.width(C)}}else(o||this.rowdetails)&&this._hiddencolumns&&(_=e(m),C=this.columns.records[h].width,parseInt(m.style.width)!=C&&_.width(C));var j=!0;if(this.rowdetails&&n&&(s&&!o?g+=" "+this.toTP("jqx-grid-details-cell"):o&&(g+=" "+this.toTP("jqx-grid-group-details-cell")),this.showrowdetailscolumn))if(this.rtl){if(null==d.group&&h==l.cells.length-a-1)return q=this.toThemeProperty("jqx-icon-arrow-down"),s?(g+=" "+this.toTP("jqx-grid-group-expand-rtl"),g+=" "+q):(g+=" "+this.toTP("jqx-grid-group-collapse-rtl"),g+=" "+(q=this.toThemeProperty("jqx-icon-arrow-left"))),j=!1,m.title="",m.innerHTML="",void(m.className!=g&&(m.className=g))}else if(null==d.group&&h==a&&!d.bounddata.totalsrow){var q=this.toThemeProperty("jqx-icon-arrow-down");return s?(g+=" "+this.toTP("jqx-grid-group-expand"),g+=" "+q):(g+=" "+this.toTP("jqx-grid-group-collapse"),g+=" "+(q=this.toThemeProperty("jqx-icon-arrow-right"))),j=!1,m.title="",m.innerHTML="",void(m.className!=g&&(m.className=g))}if(r&&j&&h>=a&&(g+=" "+this.toTP("jqx-grid-cell-selected"),g+=" "+this.toTP("jqx-fill-state-pressed")),m.className!=g&&(m.className=g),p._applyCellStyle(m),null!=d.group)return f="",m.title="",void(m.innerHTML="");t(this,p,d,f,m,c)}},_rendercell:function(t,i,r,n,s,o){var a=n+"_"+i.visibleindex;if("number"!=i.columntype&&null==i.cellsrenderer||(a=r.uniqueid+"_"+i.visibleindex),"number"==i.columntype&&(n=r.visibleindex),"adaptive"===i.columntype&&(n="..."),i._applyCellStyle(s),s.style.borderBottomColor=t.showrowlines?"":"transparent",t.showcolumnheaderlines?(i.element.style.borderRightColor="",i.element.style.boxShadow=""):(i.element.style.borderRightColor="transparent",i.element.style.boxShadow="none"),s.style.borderRightColor=t.showcolumnlines?"":"transparent",t.editcell&&null==t.editrow)if("selectedrow"==t.editmode&&i.editable&&t.editable){if(t.editcell.row==t.getboundindex(r)&&t._showcelleditor)return t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling()?t._showcelleditor(t.editcell.row,i,s,!1,!1):t._showcelleditor(t.editcell.row,i,s,t.editcell.init),void(s.className+=" "+t.toTP("jqx-grid-cell-edit"))}else if(t.editcell.row==t.getboundindex(r)&&t.editcell.column==i.datafield&&(t.editcell.element=s,t.editcell.editing&&t._showcelleditor))return t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling()?t._showcelleditor(t.editcell.row,i,t.editcell.element,t.editcell.init,!1):t._showcelleditor(t.editcell.row,i,t.editcell.element,t.editcell.init),void(s.className+=" "+t.toTP("jqx-grid-cell-edit"));var l=t._defaultcellsrenderer(n,i),d=t._cellscache[a];if(!d){if("checkbox"==i.columntype)return t._rendercheckboxcell(t,s,i,r,n),t._cellscache[a]={element:"",title:n},void(t.enabletooltips&&i.enabletooltips&&(s.title=""+n));if("button"==i.columntype)return null!=i.cellsrenderer&&(n=i.cellsrenderer(t.getboundindex(r),i.datafield,n,l,i.getcolumnproperties(),r.bounddata)),t._renderbuttoncell(t,s,i,r,n),t._cellscache[a]={element:"",title:n},void(t.enabletooltips&&i.enabletooltips&&(s.title=""+n));if("progressbar"==i.columntype||"rating"===i.columntype)return null!=i.cellsrenderer&&(n=i.cellsrenderer(t.getboundindex(r),i.datafield,n,l,i.getcolumnproperties(),r.bounddata)),t._renderprogresscell(t,s,i,r,n),t._cellscache[a]={element:"",title:n},void(t.enabletooltips&&i.enabletooltips&&(s.title=""+n));if("number"==i.columntype&&(n=r.visibleindex),i.createwidget)return null!=i.cellsrenderer&&(n=i.cellsrenderer(t.getboundindex(r),i.datafield,n,l,i.getcolumnproperties(),r.bounddata)),t._renderwidgetcell(t,s,i,r,n),t._cellscache[a]={element:"",title:n},void(t.enabletooltips&&i.enabletooltips&&(s.title=n));if(f=null,null!=i.cellsrenderer){if((f=i.cellsrenderer(t.getboundindex(r),i.datafield,n,l,i.getcolumnproperties(),r.bounddata))&&(f.indexOf("<jqx-")>=0||f.indexOf(" ng-")>=0))return void(t.toCompile&&t.toCompile.push({cell:s,value:f,row:t.getboundindex(r)}))}else f=l;null==f&&(f=l);var h=n;if(t.enabletooltips&&i.enabletooltips&&(""!=i.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(n)?h=e.jqx.dataFormat.formatdate(h,i.cellsformat,t.gridlocalization):e.jqx.dataFormat.isNumber(n)&&(h=e.jqx.dataFormat.formatnumber(h,i.cellsformat,t.gridlocalization))),s.title=h),t.WinJS)e(s).html(f);else{var u=s.innerHTML;u.indexOf("editor")>=0||null!=i.cellsrenderer||t.groupable||t.virtualmode?s.innerHTML=f:u.length>0?(m=f.indexOf(">"),g=f.indexOf("</"),v=f.substring(m+1,g),w=s.childNodes[0],v.indexOf(">")>=0?s.innerHTML=f:w.childNodes[0]?v!=w.childNodes[0].nodeValue&&(v.indexOf("&")>=0||u.indexOf("span")>=0?s.innerHTML=f:w.childNodes[0].nodeValue=v):(y=document.createTextNode(v),w.appendChild(y))):u!=f&&(s.innerHTML=f)}return t._cellscache[a]={element:s.innerHTML,title:h},!0}if("checkbox"==i.columntype){if(t.host.jqxCheckBox){""===n&&(n=null);var c=0==s.innerHTML.toString().length;if(!s.checkbox||t.groupable||c?t._rendercheckboxcell(t,s,i,r,n):(s.checkboxrow=t.getboundindex(r),""==n&&(n=!1),"1"==n&&(n=!0),"0"==n&&(n=!1),1==n&&(n=!0),0==n&&(n=!1),"true"==n&&(n=!0),"false"==n&&(n=!1),null!=n||i.threestatecheckbox||(n=!1),i.checkboxcolumn&&(n=!1,t.dataview.filters.length>0&&!t.virtualmode&&null!=r.bounddata.dataindex?-1!=t.selectedrowindexes.indexOf(r.bounddata.dataindex)&&(n=!0):-1!=t.selectedrowindexes.indexOf(r.bounddata.boundindex)&&(n=!0)),t.disabled||(s.checkboxinstance?s.checkboxinstance._setState(n):s.checkbox.jqxCheckBox("_setState",n))),null!=i.cellsrenderer){var p=i.cellsrenderer(t.getboundindex(r),i.datafield,n,l,i.getcolumnproperties(),r.bounddata);null!=p&&(s.innerHTML=p)}return}}else if("button"==i.columntype){if(t.host.jqxButton)return""==n&&(n=!1),null!=i.cellsrenderer&&(n=i.cellsrenderer(t.getboundindex(r),i.datafield,n,l,i.getcolumnproperties(),r.bounddata)),""==s.innerHTML&&(s.buttonrow=t.getboundindex(r),s.button=null,t._renderbuttoncell(t,s,i,r,n)),void(s.button&&!t.groupable?(s.buttonrow=t.getboundindex(r),s.button.val(n)):t._renderbuttoncell(t,s,i,r,n))}else if(("progressbar"==i.columntype||"rating"===i.columntype)&&t.host.jqxButton)return""==n&&(n=!1),null!=i.cellsrenderer&&(n=i.cellsrenderer(t.getboundindex(r),i.datafield,n,l,i.getcolumnproperties(),r.bounddata)),""==s.innerHTML&&(s.progressrow=t.getboundindex(r),s.progress=null,t._renderprogresscell(t,s,i,r,n)),void(s.progress&&!t.groupable?(s.progressrow=t.getboundindex(r),s.progress.val(n)):t._renderprogresscell(t,s,i,r,n));if(i.createwidget)if(""==s.innerHTML&&(s.widgetrow=t.getboundindex(r),s.widget=null,i.widget=null,t._renderwidgetcell(t,s,i,r,n)),s.widget&&!t.groupable){if(s.widgetrow=t.getboundindex(r),!i.initwidget)throw new Error("jqxGrid: 'initwidget' column function is not implemented. Please, implement 'initwidget'");i.initwidget(t.getboundindex(r),i.datafield,n,s.firstChild)}else t._renderwidgetcell(t,s,i,r,n);else{var f=d.element;if(null!=i.cellsrenderer||s.childNodes&&0==s.childNodes.length||t.groupable||t.rowdetails)s.innerHTML!=f&&(s.innerHTML=f);else if(s.innerHTML.indexOf("editor")>=0)s.innerHTML=f;else if(o){var m=f.indexOf(">"),g=f.indexOf("</"),v=f.substring(m+1,g),w=s.childNodes[0];if(v.indexOf(">")>=0)s.innerHTML=f;else if(w.childNodes[0])v!=w.childNodes[0].nodeValue&&(v.indexOf("&")>=0?s.innerHTML=f:w.childNodes[0].nodeValue=v);else{var y=document.createTextNode(v);w.appendChild(y)}}else s.innerHTML!=f&&(s.innerHTML=f);t.enabletooltips&&i.enabletooltips&&(s.title=d.title)}},_isIE10:function(){if(null==this._browser){var t=e.jqx.utilities.getBrowser();if("msie"==t.browser&&parseInt(t.version)>9)this._browser=!0;else if(this._browser=!1,"msie"==t.browser){var i="Browser CodeName: "+navigator.appCodeName;i+="Browser Name: "+navigator.appName,i+="Browser Version: "+navigator.appVersion,i+="Platform: "+navigator.platform,-1!=(i+="User-agent header: "+navigator.userAgent).indexOf("Zune 4.7")&&(this._browser=!0)}}return this._browser},_renderinlinecell:function(t,i,r,n,s){e(i),i.innerHTML='<div style="position: absolute;"></div>'},_rendercheckboxcell:function(t,i,r,n,s){if(t.host.jqxCheckBox){var o=e(i);if(""===s&&(s=!!r.threestatecheckbox&&null),null!==s||r.threestatecheckbox||(s=!1),"1"==s&&(s=!0),"0"==s&&(s=!1),1==s&&(s=!0),0==s&&(s=!1),"true"==s&&(s=!0),"false"==s&&(s=!1),r.checkboxcolumn){s=!1;var a=this.getboundindex(n);-1!=this.selectedrowindexes.indexOf(a)&&(s=!0)}0==o.find(".jqx-checkbox").length?(i.innerHTML='<div style="position: absolute; top: 50%; left: 50%; margin-top: -9px; margin-left: -12px;"></div>',e(i.firstChild).jqxCheckBox({disabled:t.disabled,_canFocus:!1,hasInput:!1,hasThreeStates:r.threestatecheckbox,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,locked:!0,theme:t.theme,checked:s}),this.enabletooltips&&r.enabletooltips&&(i.title=""+s),this.editable&&r.editable&&e(i.firstChild).jqxCheckBox({locked:!1}),r.checkboxcolumn&&e(i.firstChild).jqxCheckBox({locked:!1}),i.checkbox=e(i.firstChild),i.checkboxinstance=i.checkbox.data().jqxCheckBox.instance,i.checkboxrow=this.getboundindex(n),e.data(i.firstChild,"jqxCheckBox").instance.updated=function(n,s,o){if(t.disabled){s=o;for(var a=t.table[0].rows.length,l=t._getcolumnindex(r.datafield),d=0;d<a;d++)(u=t.table[0].rows[d].cells[l].firstChild)&&e(u).jqxCheckBox({disabled:t.disabled})}if(r.editable&&!t.disabled){if(a=t.table[0].rows.length,l=t._getcolumnindex(r.datafield),null==t.editrow){if(r.cellbeginedit&&0==r.cellbeginedit(i.checkboxrow,r.datafield,r.columntype,!s))return void t.setcellvalue(i.checkboxrow,r.datafield,!s,!0);if(r.cellvaluechanging){var h=r.cellvaluechanging(i.checkboxrow,r.datafield,r.columntype,o,s);null!=h&&(s=h)}if("selectedrow"!==t.editmode)for(d=0;d<a;d++){var u;(u=t.table[0].rows[d].cells[l].firstChild)&&e(u).jqxCheckBox("destroy")}if(t.editcell&&0==t.editcell.validated)t.setcellvalue(i.checkboxrow,r.datafield,!s,!0);else if("selectedrow"!==t.editmode||null==t.editcell){var c=t.getrowdata(i.checkboxrow);t._raiseEvent(17,{rowindex:i.checkboxrow,row:c,datafield:r.datafield,value:o,columntype:r.columntype}),t.setcellvalue(i.checkboxrow,r.datafield,s,!0),t._raiseEvent(18,{rowindex:i.checkboxrow,row:c,datafield:r.datafield,oldvalue:o,value:s,columntype:r.columntype})}else t.setcellvalue(i.checkboxrow,r.datafield,s,!1,!1);r.cellendedit&&r.cellendedit(i.checkboxrow,r.datafield,r.columntype,s)}}else r.checkboxcolumn&&(t.editcell&&t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),t.disabled||(s?t.selectrow(i.checkboxrow):t.unselectrow(i.checkboxrow),t.autosavestate&&t.savestate&&t.savestate()))}):(i.checkboxrow=this.getboundindex(n),e(i.firstChild).jqxCheckBox("_setState",s,!(this.editable&&r.editable||r.checkboxcolumn)))}},_renderwidgetcell:function(t,i,r,n,s){0==e(i).find(".jqx-grid-widget").length?(i.innerHTML='<div class="jqx-grid-widget" style="opacity: 0.99; position: absolute; width: 100%; height:100%; top: 0%; left: 0%; padding: 0px;"></div>',r.createwidget(n,r.datafield,s,i.firstChild),e(i.firstChild).attr("hideFocus","true"),e(i.firstChild).children().addClass("jqx-grid-widget"),i.widget=e(i.firstChild),i.widgetrow=t.getboundindex(n),r.widget=e(i.firstChild)):(r.initwidget(t.getboundindex(n),r.datafield,s,i.firstChild),i.widgetrow=t.getboundindex(n),e(i.firstChild).val(s))},_renderprogresscell:function(t,i,r,n,s){var o=e(i);if("rating"===r.columntype){if(!t._linkadded){var a=document.createElement("link");a.rel="stylesheet",a.href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",document.head.appendChild(a),t._linkadded=!0}r.ratingmax||(r.ratingmax=5);for(var l="",d=0;d<r.ratingmax;d++)l+=s>=d+1?'<span style="color: rgba(255, 165, 0, 1);" class="fa fa-star checked"></span>':'<span style="color: rgba(255, 165, 0, .3);" class="fa fa-star"></span>';var h=r.cellsalign;return"right"===h&&(h="flex-end"),void(i.innerHTML='<div style="display: flex; width: 100%; height: 100%; justify-content: '+h+'; padding: 5px; box-sizing: border-box; font-size: 16px; align-items: center;">'+l+"</div>")}""==s&&(s=!1),0==o.find(".jqx-progress").length?(i.innerHTML='<progress class="jqx-progress" max="100" style="opacity: 0.99; position: absolute; top: 10%; left: 10%; width:80%; height:80%; padding: 0px;"/>',e(i.firstChild).val(s),i.progress=e(i.firstChild),i.progressrow=t.getboundindex(n)):(i.progressrow=t.getboundindex(n),e(i.firstChild).val(s))},_renderbuttoncell:function(t,i,r,n,s){if(t.host.jqxButton)if(""==s&&(s=!1),0==e(i).find(".jqx-button").length)if(i.innerHTML='<input type="button" style="opacity: 0.99; position: absolute; top: 0%; left: 0%; padding: 0px; margin-top: 2px; margin-left: 2px;"/>',e(i.firstChild).val(s),e(i.firstChild).attr("hideFocus","true"),e(i.firstChild).jqxButton({disabled:t.disabled,theme:t.theme,height:t.rowsheight-4,width:r.width-4}),i.button=e(i.firstChild),i.buttonrow=t.getboundindex(n),this.isTouchDevice()){var o=e.jqx.mobile.getTouchEventName("touchend");t.addHandler(e(i.firstChild),o,(function(e){r.buttonclick&&r.buttonclick(i.buttonrow,e)}))}else t.addHandler(e(i.firstChild),"click",(function(e){r.buttonclick&&r.buttonclick(i.buttonrow,e)}));else i.buttonrow=t.getboundindex(n),e(i.firstChild).val(s)},_clearvisualrow:function(t,i,r,n,s){var o=this.toTP("jqx-grid-cell");i&&(o=" "+this.toTP("jqx-grid-group-cell")),o+=" "+this.toTP("jqx-grid-cleared-cell");for(var a=this.table[0].rows,l=0;l<n+s;l++)if(a[r]){var d=a[r].cells[l];d.className!=o&&(d.className=o);var h=this.columns.records[l];this._horizontalvalue==t||h.pinned||1!=this.oldhscroll||(d.style.marginLeft=-t+"px");var u=h.width;h.adaptivewidth&&(u=h.adaptivewidth),u<h.minwidth&&(u=h.minwidth),u>h.maxwidth&&(u=h.maxwidth),parseInt(d.style.width)!=u&&(e(d)[0].style.width="auto"!=u?u+"px":u),""!=d.title&&(d.title=""),""!=d.innerHTML&&(d.innerHTML="")}a[r]&&parseInt(a[r].style.height)!=this.rowsheight&&(a[r].style.height=parseInt(this.rowsheight)+"px")},_findgroupstate:function(e){var t=this._findgroup(e);return null!=t&&t.expanded},_findgroup:function(e){return this.expandedgroups[e]?this.expandedgroups[e]:null},_clearcaches:function(){this._columnsbydatafield=new Array,this._pagescache=new Array,this._pageviews=new Array,this._cellscache=new Array,this.heights=new Array,this.hiddens=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array,this.details=new Array,this.expandedgroups=new Array,this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this.tableheight=null},_getColumnText:function(t){if(null==this._columnsbydatafield&&(this._columnsbydatafield=new Array),this._columnsbydatafield[t])return this._columnsbydatafield[t];var i=t,r=null;return e.each(this.columns.records,(function(){if(this.datafield==t||this.displayfield==t)return i=this.text,r=this,!1})),this._columnsbydatafield[t]={label:i,column:r},this._columnsbydatafield[t]},_getcolumnbydatafield:function(t){if(null==this.__columnsbydatafield&&(this.__columnsbydatafield=new Array),this.__columnsbydatafield[t])return this.__columnsbydatafield[t];var i=null;return e.each(this.columns.records,(function(){if(this.datafield==t||this.displayfield==t)return i=this,!1})),this.__columnsbydatafield[t]=i,this.__columnsbydatafield[t]},isscrollingvertically:function(){return this.vScrollBar.jqxScrollBar("isScrolling")},_renderrowdetails:function(t,i,r,n,s,o){if(null!=i){var a=e(i),l=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(this.groupable&&this.groups.length>0)for(var d=0;d<=s;d++){var h;(h=e(i.cells[d]))[0].innerHTML="",h[0].className="jqx-grid-details-cell"}if("none"==(h=e(i.cells[0]))[0].style.display){for(var u=i.cells[0],c=2;null!=u&&"none"==u.style.display&&c<10;)u=i.cells[0+c-1],c++;h=e(u)}if(this.rtl)for(var p=n;p<s;p++)i.cells[p].innerHTML="",i.cells[p].className="jqx-grid-details-cell";h.css("width","100%"),a.height(r.rowdetailsheight),h[0].className=t;var f=this.getboundindex(r),m=f+"_";if(this._rowdetailscache[m]){var g=this._rowdetailscache[m].html;if(this.initrowdetails){if(this._rowdetailscache[m].element){var v=this._rowdetailscache[m].element,w=h.coord(),y=this.gridcontent.coord(),b=parseInt(w.top)-parseInt(y.top),x=parseInt(w.left)-parseInt(y.left);this.rtl&&(x=0),e(v).css("top",b),e(v).css("left",x),e(v).css("display","block"),e(v).width(this.host.width()-l),this.layoutrowdetails&&this.layoutrowdetails(f,v,this.element,this.getrowdata(f))}}else h[0].innerHTML=g}else{h[0].innerHTML="",this.enablerowdetailsindent||(l=0);var _='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: '+l+'px;">'+r.rowdetails+"</div>";if(this.rtl&&(_='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: 0px; margin-right: '+l+'px;">'+r.rowdetails+"</div>"),this._rowdetailscache[m]={id:i.id,html:_},this.initrowdetails){v=e(_)[0],e(this.gridcontent).prepend(e(v)),e(v).css("position","absolute"),e(v).width(this.host.width()-l),e(v).height(h.height()),w=h.coord(),e(v).css("z-index",1799),this.isTouchDevice()&&e(v).css("z-index",1999),e(v).addClass(this.toThemeProperty("jqx-widget-content")),w=h.coord(),y=this.gridcontent.coord(),b=parseInt(w.top)-parseInt(y.top),x=parseInt(w.left)-parseInt(y.left),e(v).css("top",b),e(v).css("left",x),this.content[0].scrollTop=0,this.content[0].scrollLeft=0;var C=e(e(v).children()[0]);""!=C[0].id&&(C[0].id=C[0].id+f),this.initrowdetails(f,v,this.element,this.getrowdata(f)),this._rowdetailscache[m].element=v,this._rowdetailselementscache[f]=v}else h[0].innerHTML=_}}},_defaultcellsrenderer:function(t,i){""!=i.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(t)?t=e.jqx.dataFormat.formatdate(t,i.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(t)&&(t=e.jqx.dataFormat.formatnumber(t,i.cellsformat,this.gridlocalization)));var r="8px";if(31!=this.rowsheight&&((r=this.rowsheight/2-this._cellheight/2)<0&&(r=4),r+="px"),this.enableellipsis){if("center"==i.cellsalign||"middle"==i.cellsalign)return'<div class="jqx-grid-cell-middle-align" style="margin-top: '+r+';">'+t+"</div>";if("left"==i.cellsalign)return'<div class="jqx-grid-cell-left-align" style="margin-top: '+r+';">'+t+"</div>";if("right"==i.cellsalign)return'<div class="jqx-grid-cell-right-align" style="margin-top: '+r+';">'+t+"</div>"}return"center"==i.cellsalign||"middle"==i.cellsalign?'<div style="text-align: center; margin-top: '+r+';">'+t+"</div>":'<span style="margin-left: 4px; margin-right: 2px; margin-top: '+r+"; float: "+i.cellsalign+';">'+t+"</span>"},getcelltext:function(t,i){if(null==t||null==i)return null;var r=this.getcellvalue(t,i),n=this.getcolumn(i);return n&&""!=n.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(r)?r=e.jqx.dataFormat.formatdate(r,n.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(r)&&(r=e.jqx.dataFormat.formatnumber(r,n.cellsformat,this.gridlocalization))),r},getcelltextbyid:function(t,i){if(null==t||null==i)return null;var r=this.getcellvaluebyid(t,i),n=this.getcolumn(i);return n&&""!=n.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(r)?r=e.jqx.dataFormat.formatdate(r,n.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(r)&&(r=e.jqx.dataFormat.formatnumber(r,n.cellsformat,this.gridlocalization))),r},_getcellvalue:function(e,t){var i=null;return i=t.bounddata[e.datafield],null!=e.displayfield&&(i=t.bounddata[e.displayfield]),null==i&&(i=""),i},getcell:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),r=e,n="";return isNaN(i)||(r=this.getrowdata(i)),null!=r&&(n=r[t]),this._getcellresult(n,e,t)},getrenderedcell:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),r=e,n="";return isNaN(i)||(r=this.getrenderedrowdata(i)),null!=r&&(n=r[t]),this._getcellresult(n,e,t)},_getcellresult:function(e,t,i){var r=this.getcolumn(i);if(null==r||null==r)return null;var n=r.getcolumnproperties(),s=n.hidden,o=n.width,a=n.pinned,l=n.cellsalign,d=n.cellsformat,h=this.getrowheight(t);return 0==h?null:{value:e,row:t,column:i,datafield:i,width:o,height:h,hidden:s,pinned:a,align:l,format:d}},setcellvaluebyid:function(e,t,i,r,n){var s=this.getrowboundindexbyid(e);return this.setcellvalue(s,t,i,r,n)},getcellvaluebyid:function(e,t){var i=this.getrowboundindexbyid(e);return this.getcellvalue(i,t)},setcellvalue:function(t,i,r,n,s){if(null==t||null==i)return!1;var o=parseInt(t),a=t;isNaN(o)||(a=this.getrowdata(o));var l=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(l=!0),this.virtualmode&&(this._pagescache=new Array),this.sortcache&&(this.sortcache={});var d="",h="";if(null==a||a[i]===r)return this._updating||0==n||this._renderrows(this.virtualsizeinfo),!1;if(null!==a[i]||""!==r){var u=this._getcolumnbydatafield(i),c="string";if(this.source||(this.source=new e.jqx.dataAdapter({})),x=this.source.datafields||(this.source._source?this.source._source.datafields:null)){var p="";e.each(x,(function(){if(this.name==u.displayfield)return this.type&&(p=this.type),!1})),p&&(c=p),h=a[u.displayfield]}if(d=a[i],!u.nullable||null!=r&&""!==r&&u.nullable&&void 0===r.label){if(e.jqx.dataFormat.isNumber(d)||"number"==c||"float"==c||"int"==c||"decimal"==c&&"date"!=c)this.gridlocalization&&","==this.gridlocalization.decimalseparator&&r&&r.indexOf&&r.indexOf(",")>=0&&(r=r.replace(",",".")),r=new Number(r),r=parseFloat(r),isNaN(r)&&(r=0);else if((e.jqx.dataFormat.isDate(d)||"date"==c)&&""!=r){var f=r;"Invalid Date"!=(f=new Date(f))&&null!=f?r=f:"Invalid Date"==f&&(r=f=new Date)}if(a[i]===r)return void(this._updating||0==n||this._renderrows(this.virtualsizeinfo))}var m=this.source&&this.source._source.localdata&&"observableArray"===this.source._source.localdata.name;if(a[i]=r,m){var g=this.source._source.localdata;g._updating||(g._updating=!0,g[t][i]=r,g._updating=!1)}var v=this.getrenderedrowdata(o,!0);if(v){if(v[i]=r,null!=r&&null!=r.label&&(a[(u=this._getcolumnbydatafield(i)).displayfield]=r.label,v[u.displayfield]=r.label,a[i]=r.value,v[i]=r.value,m&&!g._updating&&(g._updating=!0,g[t][i]=r.value,g[t][u.displayfield]=r.label,g._updating=!1)),l&&null!=a.dataindex&&(this.dataview.cachedrecords[a.dataindex][i]=r,null!=r&&null!=r.label&&(this.dataview.cachedrecords[a.dataindex][i]=r.value,this.dataview.cachedrecords[a.dataindex][u.displayfield]=r.label)),this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var w=o;l&&null!=a.dataindex&&(w=a.dataindex);var y=this.source._source._localdata()[w];this.source.suspendKO=!0;var b=y;if(b[i]&&b[i].subscribe)null!=r&&null!=r.label?(b[u.displayfield](r.label),b[i](r.value)):b[i](r);else{var x,_=null;if((x=this.source._source.datafields)&&e.each(x,(function(){if(this.name==i)return _=this.map,!1})),null==_)null!=r&&null!=r.label?(b[i]=r.value,b[u.displayfield]=r.label):b[i]=r;else{var C=_.split(this.source.mapChar);if(C.length>0){for(var j=b,q=0;q<C.length-1;q++)j=j[C[q]];j[C[C.length-1]]=r}}this.source._source._localdata.replace(y,e.extend({},b))}this.source.suspendKO=!1}if(this.sortcolumn&&this.dataview.sortby&&!this._updating){var k=this.getsortinformation();if(this.sortcolumn==i&&"many"!==this.sortmode)this.dataview.clearsortdata(),this.dataview.sortby(k.sortcolumn,k.sortdirection.ascending);else if("many"===this.sortmode){var T=this.getsortcolumns();this.dataview.clearsortdata(),this.sortby(null);for(var S=0;S<T.length;S++)this.sortby(T[S].dataField,T[S].ascending)}}else this._updating||this.dataview.sortby&&this.dataview.sortcache[i]&&(this.dataview.sortcache[i]=null);if(this._cellscache=new Array,this._pagescache=new Array,this.source.updaterow&&(null==s||1==s)){var I=this.that;try{var D=this.getrowid(o);this.source.updaterow(D,a,(function(e){0==e&&(I.setcellvalue(t,i,d,!0,!1),d!=h&&I.setcellvalue(t,I.getcolumn(i).displayfield,h,!0,!1))}))}catch(H){return I.setcellvalue(t,i,d,!0,!1),void(d!=h&&I.setcellvalue(t,I.getcolumn(i).displayfield,h,!0,!1))}}var P=this.vScrollInstance.value;if(this._updating&&1!=n&&(n=!1),1==n||null==n){I=this.that;var E=function(){I.pageable&&I.updatepagerdetails&&(I.updatepagerdetails(),(I.autoheight||I.autorowheight)&&I._updatepageviews())},M=this.groupable&&this.groups.length>0;l&&!M?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.refresh(),this.rendergridcontent(!0,!1),E(),this._renderrows(this.virtualsizeinfo)):this.sortcolumn&&!M?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.reloaddata(),this.rendergridcontent(!0,!1),E(),this._renderrows(this.virtualsizeinfo)):this.groupable&&this.groups.length>0?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.pageable&&-1!=this.groups.indexOf(i)?(this._pagescache=new Array,this._cellscache=new Array,this.dataview.refresh(),this._render(!0,!0,!1,!1)):(this._pagescache=new Array,this._cellscache=new Array,this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))):(this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))}if(this.vScrollInstance.setPosition(P),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this.showfilterrow&&this.filterable&&this.filterrow){var A=this.getcolumn(i).filtertype;"list"!=A&&"checkedlist"!=A||this._updatelistfilters(!0)}return this._raiseEvent(19,{rowindex:t,datafield:i,newvalue:r,value:r,oldvalue:d}),!0}}},getcellvalue:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),r=e;return isNaN(i)||(r=this.getrowdata(i)),null!=r?r[t]:null},getrows:function(){var t=this.dataview.records.length;if(this.virtualmode){for(var i=new Array,r=0;r<this.dataview.records.length;r++){var n=this.dataview.records[r];n&&i.push(n)}void 0===this.dataview.records.length&&e.each(this.dataview.records,(function(){this&&i.push(this)}));var s=0;return this.pageable&&(s=this.dataview.pagenum*this.dataview.pagesize),i.length>this.source._source.totalrecords-s?i.slice(0,this.source._source.totalrecords-s):i}if(this.dataview.sortdata){for(i=new Array,r=0;r<t;r++){var o;o=e.extend({},this.dataview.sortdata[r].value),i[r]=o}return i}return this.dataview.records},getrowboundindexbyid:function(e){var t=this.dataview.recordsbyid["id"+e];if(t&&t.boundindex)return this.getboundindex(t);for(var i=this.getboundrows(),r=0;r<i.length;r++)if(i[r]&&i[r].uid==e)return r;return-1},getrowdatabyid:function(e){var t=this.dataview.recordsbyid["id"+e];if(t)return t;var i=this.getrowboundindexbyid(e);return this.getboundrows()[i]},getrowdata:function(e){return null==e&&(e=0),this.virtualmode?this.dataview.records[e]:this.getboundrows()[e]},getrenderedrowdata:function(e,t){if(null==e&&(e=0),this.virtualmode){var i=this.getrowvisibleindex(e);return this.dataview.loadedrecords[i]}if((i=this.getrowvisibleindex(e))>=0){if(this.groupable&&this.groups.length>0)var r=this.dataview.loadedrecords[i];else r=this.dataview.loadedrecords[i],!this.pageable||null!=t&&0!=t||(r=this.dataview.loadedrecords[this.dataview.pagesize*this.dataview.pagenum+e]);return r}return null},getboundrows:function(){return this.dataview.cachedrecords},getrowdisplayindex:function(e){for(var t=this.getdisplayrows(),i=0;i<t.length;i++)if(t[i])if(void 0!==t[i].dataindex){if(t[i].dataindex==e)return t[i].visibleindex}else if(t[i].boundindex==e)return t[i].visibleindex;return-1},getboundindex:function(e){var t=e.boundindex;return this.groupable&&this.groups.length>0&&this.pageable&&e.bounddata&&(t=this.getrowboundindexbyid(e.bounddata.uid)),this.dataview.filters.length>0&&(e.bounddata?void 0!==e.bounddata.dataindex&&(t=e.bounddata.dataindex):void 0!==e.dataindex&&(t=e.dataindex)),t},getrowboundindex:function(e){var t=this.getdisplayrows()[e];return t?void 0!==t.dataindex?t.dataindex:t.boundindex:-1},getdisplayrows:function(){return this.dataview.loadedrecords},getloadedrows:function(){return this.getdisplayrows()},getvisiblerowdata:function(e){var t=this.getvisiblerows();return t?t[e]:null},getloadedrowdata:function(e){var t=this.getloadedrows();return t?t[e]:null},getvisiblerows:function(){if(this.virtualmode)return this.dataview.loadedrecords;if(this.pageable){for(var e=[],t=0;t<this.dataview.pagesize&&null!=(i=this.dataview.loadedrecords[t+this.dataview.pagesize*this.dataview.pagenum]);t++)e.push(i);return e}if(null!=this._startboundindex&&null!=this._endboundindex){for(e=[],t=this._startvisibleindex;t<=this._endvisibleindex;t++){var i;if(null==(i=this.dataview.loadedrecords[t]))break;e.push(i)}return e}return this.dataview.loadedrecords},getrowid:function(e){if(null==e&&(e=0),this.virtualmode){var t=this.getrowvisibleindex(e);if(i=this.dataview.loadedrecords[t])return i.uid}else{var i=null;if(e>=0&&e<this.dataview.bounditems.length&&!(this.dataview.filters.length>0)&&(t=this.getrowvisibleindex(e),i=this.dataview.loadedrecords[t]))return i.uid;if(this.dataview.filters.length>0)return(i=this.getboundrows()[e])&&null!=i.uid?i.uid:null}return null},_updateGridData:function(e){var t=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(t=!0),t?(this.dataview.refresh(),"updaterow"==e?(this._render(!0,!0,!1,!1,!1),this.invalidate()):this.render()):this.sortcolumn||this.groupable&&this.groups.length>0?(this.dataview.reloaddata(),this.render()):("updaterow"===e&&(this.dataview.refresh(),this.virtualmode||this._render(!0,!0,!1,!1,!1)),this._cellscache=new Array,this._pagescache=new Array,this._renderrows(this.virtualsizeinfo)),this.showfilterrow&&this.filterable&&this.filterrow&&this._updatelistfilters(!0)},updaterow:function(t,i,r){if(null!=t&&null!=i){var n=this.that,s=!1;n._datachanged=!0;var o=function(t,i,n){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var s=!1;e.isArray(i)?(e.each(i,(function(e,i){s=t.dataview.updaterow(this,n[e],!1)})),t._cellscache=new Array,t._pagescache=new Array,t.dataview.refresh()):s=t.dataview.updaterow(i,n);var o=t.vScrollInstance.value;if(null!=r&&1!=r||null!=t._updating&&0!=t._updating||t._updateGridData("updaterow"),t.showaggregates&&t._updatecolumnsaggregates&&t._updatecolumnsaggregates(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata){var a=t.dataview.recordsbyid["id"+i],l=t.dataview.records.indexOf(a),d=t.source._source._localdata()[l];t.source.suspendKO=!0,t.source._source._localdata.replace(d,e.extend({},a)),t.source.suspendKO=!1}if(t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name&&!t.source._source.localdata._updating){t.source._source.localdata._updating=!0;var h=t.getrowboundindexbyid(i);t.source._source.localdata.set(h,n),t.source._source.localdata._updating=!1}return t.vScrollInstance.setPosition(o),s};if(this.source.updaterow)try{null==(s=this.source.updaterow(t,i,(function(e){1==e||null==e?o(n,t,i):s=!1})))&&(s=!0)}catch(a){s=!1}else s=o(n,t,i);return s}return!1},deleterow:function(t,i){if(null!=t){this._datachanged=!0;var r=!1,n=this.that,s=this.getrowboundindexbyid(t),o=new Array;if(new Array,null!=s&&(this.selectedrowindexes.indexOf(s)>=0&&this.selectedrowindexes.splice(this.selectedrowindexes.indexOf(s),1),this.selectedrowindex==s&&(this.selectedrowindex=-1),!this.virtualmode)){if(n.selectionmode.indexOf("row")>=0)e.each(this.selectedrowindexes,(function(){var e=n.getrowid(this);o.push(e)})),this.selectedrowindexes=new Array,this.selectedrowindex=-1;else if(n.selectionmode.indexOf("cell")>=0)for(var a in n.selectedcells){var l=n.selectedcells[a],d=n.getrowid(l.rowindex);l.rowid=d}this._rendervisualrows()}var h=function(t,r){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var n=!1,a=t.vScrollInstance.value;if(e.isArray(r)?(e.each(r,(function(){n=t.dataview.deleterow(this,!1)})),t._cellscache=new Array,t._pagescache=new Array,t.dataview.refresh()):n=t.dataview.deleterow(r),!t.virtualmode)if(t.selectionmode.indexOf("row")>=0)e.each(o,(function(){var e=t.getrowboundindexbyid(this);-1!=e&&t.selectrow(e,!1)}));else{var l=new Array;for(var d in t.selectedcells){var h=t.selectedcells[d],u=t.getrowboundindexbyid(h.rowid);-1!=u&&(h.rowindex=u,l[u+"_"+h.datafield]=h)}t.selectedcells=l}if(null!=t._updating&&0!=t._updating||null!=i&&1!=i||setTimeout((function(){t._render(!0,!0,!1,!1),"visible"!=t.vScrollBar.css("visibility")&&(t._arrange(),t._updatecolumnwidths(),t._updatecellwidths(),t._renderrows(t.virtualsizeinfo))})),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.pop(),t.source.suspendKO=!1),t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name&&(t.source._source.localdata._updating||(t.source._source.localdata._updating=!0,t.source._source.localdata.splice(s,1),t.source._source.localdata._updating=!1)),t.dataview.sortby&&"many"!==t.sortmode){var c=t.getsortinformation();c.sortcolumn&&(t.dataview.clearsortdata(),t.dataview.sortby(c.sortcolumn,c.sortdirection?c.sortdirection.ascending:null))}return t.vScrollInstance.setPosition(a),n};if(this.source.deleterow)try{this.source.deleterow(t,(function(e){1!=e&&null!=e||h(n,t)})),null==r&&(r=!0)}catch(u){r=!1}else r=h(n,t);return r}return!1},addrow:function(t,i,r){if(null!=i){this._datachanged=!0,null==r&&(r="last");var n=!1,s=this.that;if(null==t){var o=this.dataview.filters&&this.dataview.filters.length>0?this.dataview.cachedrecords.length:this.dataview.totalrecords;if(e.isArray(i)){var a=new Array;e.each(i,(function(e,t){var r=s.dataview.getid(s.dataview.source.id,i[e],o+e);a.push(r)})),t=a}else for(t=this.dataview.getid(this.dataview.source.id,i,o);null!=this.dataview.recordsbyid["id"+t];)t++}var l=function(t,i,r,n){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var s=t.vScrollInstance.value,o=!1;if(e.isArray(r)?(e.each(r,(function(e,r){null!=this.dataindex&&delete this.dataindex;var s=null;null!=i&&null!=i[e]&&(s=i[e]),o=t.dataview.addrow(s,this,n,!1)})),t._cellscache=new Array,t._pagescache=new Array,t.dataview.refresh()):(null!=r&&null!=r.dataindex&&delete r.dataindex,o=t.dataview.addrow(i,r,n)),null!=t._updating&&0!=t._updating||(t._render(!0,!0,!1,!1),t.invalidate()),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.push(r),t.source.suspendKO=!1),t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name&&!t.source._source.localdata._updating){t.source._source.localdata._updating=!0;var a=t.getrowboundindexbyid(i);t.source._source.localdata.set(a,r),t.source._source.localdata._updating=!1}return t.vScrollInstance.setPosition("deferred"!=t.scrollmode?s:0),o};if(this.source&&this.source.addrow){try{null==(n=this.source.addrow(t,i,r,(function(e,n){1!=e&&null!=e||(null!=n&&(t=n),l(s,t,i,r))})))&&(n=!0)}catch(d){n=!1}if(0==n)return!1}else l(this,t,i,r);return n}return!1},_findvisiblerow:function(e,t){null==e&&(e=parseInt(this.vScrollInstance.value));var i=0;null!=t&&null!=t||(t=this.rows.records);for(var r=t.length;i<=r;){var n=parseInt((i+r)/2),s=t[n];if(null==s)break;if(s.top>e&&s.top+s.height>e)r=n-1;else{if(!(s.top<e&&s.top+s.height<e))return n;i=n+1}}return-1},_updatecellwidths:function(){var e=this.virtualsizeinfo;if(e){var t=this.that;if(null!=t.gridcontent){null==t.table&&(t.table=t.gridcontent.find("#contenttable"+t.element.id));var i=t.groupable&&t.groups.length>0,r=0,n=e.visiblerecords;if(t.pageable&&(t.autoheight||t.autorowheight)&&(n=t.dataview.pagesize,t.groupable&&(t.dataview.updateview(),n=t.dataview.rows.length)),t.groupable||t.pageable||!t.autoheight&&!t.autorowheight||(n=t.dataview.totalrecords),t.rowdetails&&(n+=t.dataview.pagesize),t.columns.records){for(var s=t.columns.records.length,o=t.table[0].rows,a=0;a<n;a++){var l=o[a];if(!l)break;for(var d=l.cells,h=0,u=0;u<s;u++){var c=t.columns.records[u],p=c.width;c.adaptivewidth&&(p=c.adaptivewidth);var f=d[u];parseInt(f.style.left)!=h&&(f.style.left=h+"px"),parseInt(f.style.width)!=p&&(f.style.width=p+"px"),c.hidden&&c.hideable||c.adaptivehidden?f.style.display="none":h+=parseFloat(p)}0==r&&(t.table.width(parseFloat(h)+2),r=h)}t.showaggregates&&t._updateaggregates&&t._updateaggregates(),t.showfilterrow&&t.filterable&&t._updatefilterrowui&&t._updatefilterrowui(),t.showeverpresentrow&&t._updateaddnewrowui(),t._updatescrollbarsafterrowsprerender(),i&&t._renderrows(t.virtualsizeinfo)}}}},_updatescrollbarsafterrowsprerender:function(){var e=this.that,t=e.hScrollBar[0].style.visibility,i=0,r=e.vScrollBar[0].style.visibility;"visible"==r&&(i=e.scrollbarsize+3),0==e.scrollbarsize&&(i=0),e.scrollbarautoshow&&(i=0);var n=e.element.style.width;if(n=n.toString().indexOf("%")>=0?e.host.width():parseInt(n),parseInt(e.table[0].style.width)-2>n-i){if("visible"!=t&&(e.autowidth||(e.hScrollBar[0].style.visibility="visible"),e._arrange()),"visible"==r){if("deferred"==e.scrollmode||e.virtualmode)e._updatevscrollbarmax();else if(e.virtualsizeinfo){var s=e.virtualsizeinfo.virtualheight-e._gettableheight();!isNaN(s)&&s>0&&e.vScrollBar.jqxScrollBar("max","hidden"!=t?s+e.scrollbarsize+4:s)}}else i=-2;e.hScrollBar.jqxScrollBar("max",i+e.table.width()-e.host.width())}else"hidden"!=t&&(e.hScrollBar.css("visibility","hidden"),e._arrange());e._renderhorizontalscroll()},_hascolumnstyle:function(){if(void 0!==this._hascolumnstyles)return this._hascolumnstyles;this._hascolumnstyles=!1;for(var e=0;e<this.columns.records.length;e++){var t=this.columns.records[e];if(t.style.headerBackgroundColor||t.style.headerColor||t.style.headerBackgroundHoveredColor||t.style.headerHoveredColor||t.style.headerBackgroundSelectedColor||t.style.headerSelectedColor||t.style.backgroundColor||t.style.color||t.style.backgroundHoveredColor||t.style.hoveredColor||t.style.backgroundSelectedColor||t.style.selectedColor)return this._hascolumnstyles=!0,!0}return!1},_prerenderrows:function(t){var i=this.that;if(1==i.prerenderrequired){if(i.prerenderrequired=!1,i.editable&&i._destroyeditors&&i._destroyeditors(),null==i.gridcontent)return;i.gridcontent.find("#contenttable"+i.element.id).remove(),null!=i.table&&(i.table.remove(),i.table=null),i.table=e('<div id="contenttable'+i.element.id+'" style="overflow: hidden; position: relative;"></div>'),i.gridcontent.addClass(i.toTP("jqx-grid-content")),i.gridcontent.addClass(i.toTP("jqx-widget-content")),i.gridcontent.append(i.table);var r=i.groupable&&i.groups.length>0,n=0;i.table[0].rows=new Array;var s=i.toTP("jqx-grid-cell");r&&(s=" "+i.toTP("jqx-grid-group-cell"));var o=t.visiblerecords;if(i.pageable&&(i.autoheight||i.autorowheight)&&(o=i.dataview.pagesize,i.groupable&&(i.dataview.updateview(),(o=i.dataview.rows.length)<i.dataview.pagesize&&(o=i.dataview.pagesize))),i.pageable||!i.autoheight&&!i.autorowheight||(o=i.dataview.totalrecords),i.groupable&&i.groups.length>0&&(i.autoheight||i.autorowheight)&&!i.pageable&&(o=i.dataview.rows.length),i.rowdetails&&(o+=i.autoheight||i.autorowheight?i.dataview.pagesize:o),!i.columns.records)return;var a=i.columns.records.length;e.jqx.browser.msie&&e.jqx.browser.version>8&&i.table.css("opacity","0.99"),-1!=navigator.userAgent.indexOf("Safari")&&i.table.css("opacity","0.99");var l=e.jqx.browser.msie&&e.jqx.browser.version<8;l&&i.host.attr("hideFocus","true");var d=i.tableZIndex;o*a>d&&(d=o*a),i.isTouchDevice();var h="";i._hiddencolumns=!1;for(var u=5+i.columns.records.length,c=0;c<o;c++){var p='<div role="row" style="position: relative; height:'+i.rowsheight+'px;" id="row'+c+i.element.id+'">';l&&(p='<div role="row" style="position: relative; z-index: '+d+"; height:"+i.rowsheight+'px;" id="row'+c+i.element.id+'">',d--);for(var f=0,m=0;m<a;m++){if((x=(b=i.columns.records[m]).width)<b.minwidth&&(x=b.minwidth),x>b.maxwidth&&(x=b.maxwidth),i.rtl){var g='<div columnindex="'+m+'" role="gridcell" style="left: '+f+"px; z-index: "+(d-a+2*m)+"; width:"+x+"px;";d--}else g='<div columnindex="'+m+'" role="gridcell" style="left: '+f+"px; z-index: "+d--+"; width:"+x+"px;";b.hidden&&b.hideable||b.adaptivehidden?(g+="display: none;",i._hiddencolumns=!0,d++):f+=x,0===c&&0===m&&(g+='" tabindex="'+u+'"'),g+='" class="'+s+'">',g+=this._defaultcellsrenderer("",b),p+=g+="</div>"}0==n&&(i.table.width(parseInt(f)+2),n=f),h+=p+="</div>"}i.WinJS?MSApp.execUnsafeLocalFunction((function(){i.table.html(h)})):i.table[0].innerHTML=h,i.table[0].rows=new Array;var v=i.table.children();for(c=0;c<o;c++){var w=v[c];i.table[0].rows.push(w),w.cells=new Array;var y=e(w).children();for(m=0;m<a;m++)w.cells.push(y[m])}if(0==o){for(f=0,i.showemptyrow&&(p=e('<div style="position: relative;" id="row0'+i.element.id+'"></div>'),i.table.append(p),p.height(i.rowsheight),i.table[0].rows[0]=p[0],i.table[0].rows[0].cells=new Array),m=0;m<a;m++){var b,x=(b=i.columns.records[m]).width;i.showemptyrow&&((g=e('<div style="position: absolute; height: 100%; left: '+f+"px; z-index: "+d--+"; width:"+x+'px;" class="'+s+'"></div>')).height(i.rowsheight),p.append(g),i.table[0].rows[0].cells[m]=g[0]),x<b.minwidth&&(x=b.minwidth),x>b.maxwidth&&(x=b.maxwidth),b.hidden&&b.hideable||b.adaptivehidden||(f+=x)}i.table.width(parseInt(f)+2),n=f}i._updatescrollbarsafterrowsprerender(),i.rendered&&i.rendered("rows"),i.toCompile=new Array,i._addoverlayelement()}},_groupsheader:function(){return this.groupable&&this.showgroupsheader},_arrange:function(){var e=null,t=null;this.tableheight=null;var i=this.that,r=!1,n=!1;if(null!=i.width&&-1!=i.width.toString().indexOf("px")?e=i.width:null==i.width||isNaN(i.width)||(e=i.width),null!=i.width&&-1!=i.width.toString().indexOf("%")&&(e=i.width,r=!0),i.scrollbarautoshow&&(i.vScrollBar[0].style.display="none",i.hScrollBar[0].style.display="none",i.vScrollBar[0].style.zIndex=i.tableZIndex+i.headerZIndex,i.hScrollBar[0].style.zIndex=i.tableZIndex+i.headerZIndex),i.autowidth){for(var s=0,o=0;o<i.columns.records.length;o++){var a=i.columns.records[o].width;s+="auto"==a?a=i._measureElementWidth(i.columns.records[o].text):a}"hidden"!=i.vScrollBar.css("visibility")&&(s+=i.scrollbarsize+4),i.width=e=s}null!=i.height&&-1!=i.height.toString().indexOf("px")?t=i.height:null==i.height||isNaN(i.height)||(t=i.height),null!=i.height&&-1!=i.height.toString().indexOf("%")&&(t=i.height,n=!0);var l=function(){var e=0;return e+=i.showheader&&null!=i.columnsheader?i.columnsheader.height()+2:0,i.pageable&&(e+=i.pagerheight),i._groupsheader()&&(e+=i.groupsheaderheight),i.showtoolbar&&(e+=i.toolbarheight),i.showstatusbar&&(e+=i.statusbarheight),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(e+=i.everpresentrowheight),"visible"==i.hScrollBar[0].style.visibility&&(e+=15),e};if(i.autoheight&&i.virtualsizeinfo)if(i.pageable&&i.gotopage)t=(d=0)+(i._pageviews[0]?i._pageviews[0].height:0),t+=l(),i.showemptyrow&&0==i.dataview.totalrecords&&(t+=i.rowsheight);else{var d=i.host.height()-i._gettableheight();i._pageviews.length>0?(t=d+i._pageviews[i._pageviews.length-1].height+i._pageviews[i._pageviews.length-1].top,i.vScrollBar[0].style.visibility="hidden"):(t=l(),i.showemptyrow&&(t+=i.rowsheight))}else i.autoheight&&(t=i.dataview.totalrecords*i.rowsheight,i.pageable&&i.gotopage&&(t=i.pagesize*i.rowsheight),i._loading&&i.dataloadelement.height(t=250),(t+=l())>1e4&&(t=1e4));null!=e?(e=parseInt(e),r?i.element.style.width=i.width:i.element.style.width!=parseInt(i.width)+"px"&&(i.element.style.width=parseInt(i.width)+"px"),r&&((e=i.host.width())<=2&&i.host.width(e=600),i._oldWidth||(i._oldWidth=e))):i.host.width(250),null!=t?(this.autoheight&&(t+=2),n||(t=parseInt(t)),n?i.element.style.height=i.height:i.element.style.height!=parseInt(t)+"px"&&(i.element.style.height=parseInt(t)+"px"),n&&!i.autoheight&&(0==(t=i.host.height())&&i.host.height(t=400),i._oldHeight||(i._oldHeight=t))):i.host.height(250),i.autoheight&&(i.tableheight=null,i._gettableheight());var h,u=0;i.showtoolbar?(i.toolbar.width(e),i.toolbar.height(i.toolbarheight-1),i.toolbar.css("top",0),u+=i.toolbarheight,t-=parseInt(i.toolbarheight)):i.toolbar[0].style.height="0px",i.showstatusbar?(i.statusbar.width(i.showaggregates&&i.table?Math.max(e,i.table.width()):e),i.statusbar.height(i.statusbarheight)):i.statusbar[0].style.height="0px",i.showeverpresentrow&&"bottom"===i.everpresentrowposition?(i.addnewrow.width(e),i.addnewrow.height(i.everpresentrowheight)):i.addnewrow[0].style.height="0px",i._groupsheader()?(i.groupsheader.width(e),i.groupsheader.height(i.groupsheaderheight),i.groupsheader.css("top",u),u+=h=i.groupsheader.height()+1,t>h&&(t-=parseInt(h))):(i.groupsheader[0].style.width!=e+"px"&&(i.groupsheader[0].style.width=parseInt(e)+"px"),i.groupsheader[0].style.height="0px",i.groupsheader[0].style.top!=u+"px"&&i.groupsheader.css("top",u),i.content[0].style.top!=u+(h=i.showgroupsheader&&i.groupable?i.groupsheaderheight:0)+"px"&&i.content.css("top",u+i.groupsheaderheight));var c=i.scrollbarsize;isNaN(c)&&(c=parseInt(c),isNaN(c)?c="17px":c+="px"),c=parseInt(c);var p=2,f=0;"visible"==i.vScrollBar[0].style.visibility&&(f=c+4),"visible"==i.hScrollBar[0].style.visibility&&(p=c+4+2),0==c&&(f=0,p=0);var m=0;i.pageable&&(m=i.pagerheight,p+=i.pagerheight),i.showstatusbar&&(p+=i.statusbarheight,m+=i.statusbarheight),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(p+=i.everpresentrowheight,m+=i.everpresentrowheight),i.hScrollBar[0].style.height!=c+"px"&&(i.hScrollBar[0].style.height=parseInt(c)+"px"),i.hScrollBar[0].style.top==u+t-4-c-m+"px"&&"0px"==i.hScrollBar[0].style.left||i.hScrollBar.css({top:u+t-4-c-m+"px",left:"0px"});var g=i.hScrollBar[0].style.width,v=!1,w=!1;0==f?g!=e-2+"px"&&(i.hScrollBar.width(e-2),v=!0):g!=e-c-4+"px"&&(i.hScrollBar.width(e-c-4+"px"),v=!0),i.autoheight||(i.vScrollBar[0].style.width!=c+"px"&&(i.vScrollBar.width(c),w=!0),i.vScrollBar[0].style.height!=parseInt(t)-p+"px"&&(i.vScrollBar.height(parseInt(t)-p+"px"),w=!0),i.vScrollBar[0].style.left==parseInt(e)-parseInt(c)-4+"px"&&i.vScrollBar[0].style.top==u+"px"||i.vScrollBar.css({left:parseInt(e)-parseInt(c)-4+"px",top:u})),i.rtl&&(i.vScrollBar.css({left:"0px",top:u}),"hidden"!=i.vScrollBar.css("visibility")&&i.hScrollBar.css({left:c+2}));var y=i.vScrollInstance;y.disabled=i.disabled,i.autoheight||w&&y.refresh();var b=i.hScrollInstance;b.disabled=i.disabled,v&&b.refresh(),i.autowidth&&(i.hScrollBar[0].style.visibility="hidden"),i.statusbarheight=parseInt(i.statusbarheight),i.toolbarheight=parseInt(i.toolbarheight);var x=function(e){if("visible"==e.vScrollBar[0].style.visibility&&"visible"==e.hScrollBar[0].style.visibility){e.bottomRight[0].style.visibility="visible",e.bottomRight.css({left:1+parseInt(e.vScrollBar.css("left")),top:parseInt(e.hScrollBar.css("top"))}),e.rtl&&e.bottomRight.css("left","0px"),e.bottomRight.width(parseInt(c)+3),e.bottomRight.height(parseInt(c)+4);var t=e.showeverpresentrow&&"bottom"==e.everpresentrowposition?e.everpresentrowheight:0;t>0&&!e.showaggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(c)+4+t),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-t})),e.showaggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(c)+4+e.statusbarheight+t),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-e.statusbarheight-t}))}else e.bottomRight[0].style.visibility="hidden"};if(x(this),i.content[0].style.width!=e-f+"px"&&i.content.width(e-f),i.content[0].style.height!=t-p+3+"px"&&i.content.height(t-p+3),i.scrollbarautoshow&&(i.content[0].style.width!=e+"px"&&i.content.width(e),i.content[0].style.height!=t+"px"&&i.content.height(t)),i.content[0].style.top!=u+"px"&&i.content.css("top",u),i.rtl&&(i.content.css("left",f),i.scrollbarautoshow&&i.content.css("left","0px"),i.table)){var _=i.table.width();_<e-f&&i.content.css("left",e-_)}if(i.showstatusbar&&(i.statusbar.css("top",u+t-i.statusbarheight-(i.pageable?i.pagerheight:0)),i.showaggregates&&("visible"==i.hScrollBar.css("visibility")&&(i.hScrollBar.css({top:u+t-4-c-m+i.statusbarheight+"px"}),i.statusbar.css("top",1+u+t-c-5-i.statusbarheight-(i.pageable?i.pagerheight:0))),x(this)),i.rtl&&("visible"!=i.hScrollBar.css("visibility")?i.statusbar.css("left",i.content.css("left")):i.statusbar.css("left","0px"))),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(i.addnewrow.css("top",u+t-(i.showstatusbar?i.statusbarheight:0)-(i.pageable?i.pagerheight:0)-i.everpresentrowheight),i.rtl&&("visible"!=i.hScrollBar.css("visibility")?i.addnewrow.css("left",i.content.css("left")):i.addnewrow.css("left","0px"))),i.pageable?(i.pager.width(e),i.pager.height(i.pagerheight),i.pager.css("top",u+t-i.pagerheight-1)):i.pager[0].style.height="0px",null!=i.table){var C=-2;if("visible"==i.vScrollBar[0].style.visibility&&(C=i.scrollbarsize+3),"visible"==i.hScrollBar[0].style.visibility){var j=C+i.table.width()-i.host.width();j>=0&&i.hScrollBar.jqxScrollBar("max",j),"visible"==i.hScrollBar[0].style.visibility&&0==j&&(i.hScrollBar[0].style.visibility="hidden",i._arrange())}}e!=parseInt(i.dataloadelement[0].style.width)&&(i.dataloadelement[0].style.width=i.element.style.width),t!=parseInt(i.dataloadelement[0].style.height)&&(i.dataloadelement[0].style.height=i.element.style.height),this.pagergotoinput&&(this.pagergotoinput.offset().top!==this.pagergoto.offset().top?(this.pagergotoinput.css("visibility","hidden"),this.pagergoto.css("visibility","hidden")):(this.pagergotoinput.css("visibility","inherit"),this.pagergoto.css("visibility","inherit"))),i._hostwidth=e},destroy:function(){if(delete e.jqx.dataFormat.datescache,delete this.gridlocalization,e.jqx.utilities.resize(this.host,null,!0),(""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self&&this.removeHandler(e(window.top.document),"mouseup.grid"+this.element.id),this.table&&this.table[0]){for(var t=this.table[0].rows.length,i=0;i<t;i++){for(var r=this.table[0].rows[i],n=r.cells.length,s=0;s<n;s++)e(r.cells[s]).remove(),r.cells[s]=null,delete r.cells[s];r.cells=null,r.cells&&delete r.cells,e(this.table[0].rows[i]).remove(),this.table[0].rows[i]=null}try{delete this.table[0].rows}catch(u){}this.table.remove(),delete this.table}if(this.columns&&this.columns.records){for(i=0;i<this.columns.records.length;i++){var o=this.columns.records[i];o.addnewrowwidget&&o.destroyeverpresentrowwidget&&o.destroyeverpresentrowwidget(o.addnewrowwidget),o.destroywidget&&o.destroywidget&&o.destroywidget(o.widget),this._removecolumnhandlers(this.columns.records[i]),o.element&&(e(o.element).remove(),e(o.sortasc).remove(),e(o.sortdesc).remove(),e(o.filtericon).remove(),e(o.menu).remove(),o.element=null,o.uielement=null,o.sortasc=null,o.sortdesc=null,o.filtericon=null,o.menu=null,delete o.element,delete o.uielement,delete o.sortasc,delete o.sortdesc,delete o.filtericon,delete o.menu,delete this.columnsrow[0].cells[i])}try{delete this.columnsrow[0].cells}catch(u){}delete this.columnsrow}if(e.removeData(document.body,"contextmenu"+this.element.id),this.host.jqxDropDownList&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.editable&&this._destroyeditors&&this._destroyeditors(),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.host.jqxMenu&&this.gridmenu&&(this.removeHandler(e(document),"click.menu"+this.element.id),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu=null),this.pagershowrowscombo&&(this.pagershowrowscombo.jqxDropDownList("destroy"),this.pagershowrowscombo=null),this.pagerrightbutton&&(this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.pagerrightbutton.jqxButton("destroy"),this.pagerrightbutton=null),this.pagerleftbutton&&(this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.pagerleftbutton.jqxButton("destroy"),this.removeHandler(e(document),"mouseup.pagerbuttons"+this.element.id),this.pagerleftbutton=null),this.removeHandler(e(document),"selectstart."+this.element.id),this.removeHandler(e(document),"mousedown.resize"+this.element.id),this.removeHandler(e(document),"mouseup.resize"+this.element.id),this.removeHandler(e(document),"mousemove.resize"+this.element.id),this.isTouchDevice()){var a=e.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,l=e.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,d=e.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(e(document),a),this.removeHandler(e(document),l),this.removeHandler(e(document),d)}if(this.removeHandler(e(document),"mousedown.reorder"+this.element.id),this.removeHandler(e(document),"mouseup.reorder"+this.element.id),this.removeHandler(e(document),"mousemove.reorder"+this.element.id),this.isTouchDevice()&&(a=e.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,l=e.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,d=e.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id,this.removeHandler(e(document),a),this.removeHandler(e(document),l),this.removeHandler(e(document),d)),this.removeHandler(e(window),"resize."+this.element.id),this.resizeline&&this.resizeline.remove(),this.resizestartline&&this.resizestartline.remove(),this.groupable&&(a="mousemove.grouping"+this.element.id,l="mousedown.grouping"+this.element.id,d="mouseup.grouping"+this.element.id,this.removeHandler(e(document),a),this.removeHandler(e(document),l),this.removeHandler(e(document),d)),this.columnsreorder&&(a="mousemove.reorder"+this.element.id,l="mousedown.reorder"+this.element.id,d="mouseup.reorder"+this.element.id,this.removeHandler(e(document),a),this.removeHandler(e(document),l),this.removeHandler(e(document),d),delete this.columnsbounds),this.content&&(this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"scroll")),this._removeHandlers(),this.hScrollInstance.destroy(),this.vScrollInstance.destroy(),this.hScrollBar.remove(),this.vScrollBar.remove(),this._clearcaches(),delete this.hScrollInstance,delete this.vScrollInstance,delete this.visiblerows,delete this.hittestinfo,delete this.rows,delete this.columns,delete this.columnsbydatafield,delete this.pagescache,delete this.pageviews,delete this.cellscache,delete this.heights,delete this.hiddens,delete this.hiddenboundrows,delete this.heightboundrows,delete this.detailboundrows,delete this.details,delete this.expandedgroups,delete this._rowdetailscache,delete this._rowdetailselementscache,delete this.columnsmenu,this.columnsheader&&(this.columnsheader.remove(),delete this.columnsheader),this.selectionarea&&(this.selectionarea.remove(),delete this.selectionarea),this.menuitemsarray&&this.menuitemsarray.length){var h=this.menuitemsarray.length;for(i=0;i<h;i++)e(this.menuitemsarray[i]).remove()}delete this.menuitemsarray,this.dataview._clearcaches(),this.content.removeClass(),this.content.remove(),this.content=null,delete this.content,this.vScrollBar=null,this.hScrollBar=null,delete this.hScrollBar,delete this.hScrollBar,this.gridcontent&&(this.gridcontent.remove(),delete this.gridcontent),this.gridmenu&&(this.gridmenu=null,delete this.gridmenu),delete this._mousemovefunc,delete this._mousewheelfunc,this.dataview.destroy(),delete this.dataview,this.bottomRight.remove(),delete this.bottomRight,this.wrapper.remove(),delete this.wrapper,this.pagerdiv&&(this.pagerdiv.remove(),delete this.pagerdiv),this.pagerpageinput&&(this.pagerpageinput.remove(),delete this.pagerpageinput),this.pagergoto&&(this.pagergoto.remove(),delete this.pagergoto),this.pagershowrows&&(this.pagershowrows.remove(),delete this.pagershowrows),this.pagerfirstbutton&&(this.pagerfirstbutton.remove(),delete this.pagerfirstbutton),this.pagerlastbutton&&(this.pagerlastbutton.remove(),delete this.pagerlastbutton),this.pagerbuttons&&(this.pagerbuttons.remove(),delete this.pagerbuttons),this.pagerdetails&&(this.pagerdetails.remove(),delete this.pagerdetails),this.pagergotoinput&&(this.pagergotoinput.remove(),delete this.pagergotoinput),this.pager.remove(),delete this.pager,this.groupsheader.remove(),delete this.groupsheader,this.dataloadelement.remove(),delete this.dataloadelement,this.toolbar.remove(),delete this.toolbar,this.statusbar.remove(),delete this.statusbar,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.host=null,delete this.host,delete this.element,delete this.set,delete this.get,delete this.that,delete this.call},_initializeColumns:function(){var i=this.source?this.source.datafields:null;null==i&&this.source&&this.source._source&&(i=this.source._source.datafields);var r=!!i&&i.length>0;if(this.autogeneratecolumns){var n=new Array;if(i)e.each(i,(function(){n.push({datafield:this.name,text:this.text||this.name,cellsformat:this.format||""})}));else if(this.source.records.length>0){var s=this.source.records[0];for(var o in s)"uid"!=o&&n.push(u={width:100,datafield:o,text:o})}this.columns=n}if(this.columns&&this.columns.records)for(var a=0;a<this.columns.records.length;a++)this._removecolumnhandlers(this.columns.records[a]);var l=this.that,d=new e.jqx.collection(this.element),h=0;this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,this.groupable&&e.each(this.groups,(function(e){var i=new t(l,this);i.visibleindex=h++,i.width=l.groupindentwidth,d.add(i),i.grouped=!0,i.filterable=!1,i.sortable=!1,i.editable=!1,i.resizable=!1,i.draggable=!1})),this.rowdetails&&this.showrowdetailscolumn&&((u=new t(l,this)).visibleindex=h++,u.width=l.groupindentwidth,u.pinned=!0,u.editable=!1,u.filterable=!1,u.draggable=!1,u.groupable=!1,u.resizable=!1,d.add(u),l._haspinned=!0),"checkbox"==this.selectionmode&&((u=new t(l,null)).visibleindex=h++,u.width=l.groupindentwidth,u.checkboxcolumn=!0,u.editable=!1,u.columntype="checkbox",u.groupable=!1,u.draggable=!1,u.filterable=!1,u.resizable=!1,u.datafield="_checkboxcolumn",d.add(u));var u,c=new Array;e.each(this.columns,(function(e){if(null!=l.columns[e]){var i=new t(l,this);if(i.visibleindex=h++,null!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(l._haspinned=!0),l.showeverpresentrow&&("addButtonColumn"!==this.datafield&&"resetButtonColumn"!==this.datafield&&"updateButtonColumn"!==this.datafield&&"deleteButtonColumn"!==this.datafield||(i.editable=!1,i.groupable=!1,i.draggable=!1,i.filterable=!1,i.resizable=!1,i.menu=!1)),null==this.datafield)l.source&&l.source._source&&"array"==l.source._source.datatype&&(r||(l.source._source.datafields||(l.source._source.datafields=new Array),l.source._source.datafields.push({name:e.toString()})),this.datafield=e.toString(),this.displayfield=e.toString(),i.datafield=this.datafield,i.displayfield=this.displayfield);else{if(c[this.datafield])throw new Error("jqxGrid: Invalid column 'datafield' setting. jqxGrid's columns should be initialized with unique data fields.");c[this.datafield]=!0}d.add(i)}})),this.adaptive&&((u=new t(l,null)).visibleindex=h++,u.width=l.groupindentwidth,u.editable=!1,u.columntype="adaptive",u.cellsalign="center",u.groupable=!1,u.draggable=!1,u.menu=!1,u.sortable=!1,u.filterable=!1,u.resizable=!1,u.datafield="_adaptivecolumn",d.add(u)),this.rtl&&d.records.reverse(),this.columns=d},_initializeRows:function(){var t=new e.jqx.collection(this.element);this.rows&&this.rows.clear(),this.rows=t},_raiseEvent:function(t,i){if(null==i&&(i={owner:null}),!1!==this._trigger){var r=this.events[t];if(this._camelCase||(r=r.toLowerCase()),(2==t||15==t)&&this.showeverpresentrow&&(this.everpresentrowactions.indexOf("delete")>=0||this.everpresentrowactions.indexOf("update")>=0)){if(this.updateeverpresentrow)var n=this;setTimeout((function(){n.updateeverpresentrow()}),50)}var s=i;s.owner=this;var o=new e.Event(r);o.owner=this,o.args=s;var a=this.host.trigger(o);return i=o.args,a}},wheel:function(e,t){if(t.autoheight&&"visible"!=t.hScrollBar.css("visibility"))return e.returnValue=!0,!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var r=t._handleDelta(i);return r&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()),!!r&&(e.returnValue=r=!1,r)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value;if(e<0?this.scrollDown():this.scrollUp(),t!=this.vScrollInstance.value)return!0}else if("hidden"!=this.hScrollBar.css("visibility")&&(t=this.hScrollInstance.value,this.hScrollInstance.setPosition(e>0?this.hScrollInstance.value>2*this.horizontalscrollbarstep?this.hScrollInstance.value-2*this.horizontalscrollbarstep:0:this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.value+2*this.horizontalscrollbarstep:this.hScrollInstance.max),t!=this.hScrollInstance.value))return this._activeFilterElement&&this._activeFilterElement.jqxDropDownList("close"),!0;return!1},scrollDown:function(){if("hidden"!=this.vScrollBar.css("visibility")){var e=this.vScrollInstance;e.setPosition(e.value+this.rowsheight<=e.max?parseInt(e.value)+this.rowsheight:e.max)}},scrollUp:function(){if("hidden"!=this.vScrollBar.css("visibility")){var e=this.vScrollInstance;e.setPosition(e.value-this.rowsheight>=e.min?parseInt(e.value)-this.rowsheight:e.min)}},_removeHandlers:function(){var t=this.that;t.removeHandler(e(window),"orientationchange.jqxgrid"+t.element.id),t.removeHandler(e(window),"orientationchanged.jqxgrid"+t.element.id),t.removeHandler(t.vScrollBar,"valueChanged"),t.removeHandler(t.hScrollBar,"valueChanged"),t.vScrollInstance.valueChanged=null,t.hScrollInstance.valueChanged=null;var i="mousedown.jqxgrid";t.isTouchDevice()&&(i=e.jqx.mobile.getTouchEventName("touchend")),t.removeHandler(t.host,"dblclick.jqxgrid"),t.removeHandler(t.host,i),t.removeHandler(t.content,"mousemove",t._mousemovefunc),t.removeHandler(t.host,"mouseleave.jqxgrid"),t.removeHandler(t.content,"mouseenter"),t.removeHandler(t.content,"mouseleave"),t.removeHandler(t.content,"mousedown"),t.removeHandler(t.content,"scroll"),t.removeHandler(t.content,"selectstart."+t.element.id),t.removeHandler(t.host,"dragstart."+t.element.id),t.removeHandler(t.host,"keydown.edit"+t.element.id),t.removeHandler(e(document),"keydown.edit"+t.element.id),t.removeHandler(e(document),"keyup.edit"+t.element.id),t._mousemovedocumentfunc&&t.removeHandler(e(document),"mousemove.selection"+t.element.id,t._mousemovedocumentfunc),t.removeHandler(e(document),"mouseup.selection"+t.element.id),t._mousewheelfunc&&t.removeHandler(t.host,"mousewheel",t._mousewheelfunc),t.editable&&t.removeHandler(e(document),"mousedown.gridedit"+t.element.id),t.host.off&&(t.content.off("mousemove"),t.host.off("mousewheel"))},_addHandlers:function(){var t=this.that,i=t.isTouchDevice();i||t.addHandler(t.host,"dragstart."+t.element.id,(function(e){return!1})),t.scrollbarautoshow&&(t.addHandler(t.host,"mouseenter.gridscroll"+t.element.id,(function(e){t.vScrollBar.fadeIn("fast"),t.hScrollBar.fadeIn("fast")})),t.addHandler(t.host,"mouseleave.gridscroll"+t.element.id,(function(e){t.vScrollInstance.isScrolling()||t.hScrollInstance.isScrolling()||(t.vScrollBar.fadeOut("fast"),t.hScrollBar.fadeOut("fast"))}))),t.editable&&t.addHandler(e(document),"mousedown.gridedit"+t.element.id,(function(e){if(t.editable&&t.begincelledit&&t.editcell&&!t.vScrollInstance.isScrolling()&&!t.vScrollInstance.isScrolling()){var i=t.host.coord(),r=t.host.width(),n=t.host.height(),s=!1,o=!1;if((e.pageY<i.top||e.pageY>i.top+n)&&(s=!0,o=!0),(e.pageX<i.left||e.pageX>i.left+r)&&(s=!0),s){if(t.editcell&&t.editcell.editor)switch(t.editcell.columntype){case"datetimeinput":if(t.editcell.editor.jqxDateTimeInput&&t.editcell.editor.jqxDateTimeInput("container")&&"block"==t.editcell.editor.jqxDateTimeInput("container")[0].style.display){var a=t.editcell.editor.jqxDateTimeInput("container").coord().top,l=t.editcell.editor.jqxDateTimeInput("container").coord().top+t.editcell.editor.jqxDateTimeInput("container").height();if(!o||!(e.pageY<a||e.pageY>l))return;s=!0,t.editcell.editor.jqxDateTimeInput("close")}break;case"combobox":if(t.editcell.editor.jqxComboBox&&t.editcell.editor.jqxComboBox("container")&&"block"==t.editcell.editor.jqxComboBox("container")[0].style.display){if(a=t.editcell.editor.jqxComboBox("container").coord().top,l=t.editcell.editor.jqxComboBox("container").coord().top+t.editcell.editor.jqxComboBox("container").height(),!o||!(e.pageY<a||e.pageY>l))return;s=!0,t.editcell.editor.jqxComboBox("close")}break;case"dropdownlist":if(t.editcell.editor.jqxDropDownList&&t.editcell.editor.jqxDropDownList("container")&&"block"==t.editcell.editor.jqxDropDownList("container")[0].style.display){if(a=t.editcell.editor.jqxDropDownList("container").coord().top,l=t.editcell.editor.jqxDropDownList("container").coord().top+t.editcell.editor.jqxDropDownList("container").height(),!o||!(e.pageY<a||e.pageY>l))return;s=!0,t.editcell.editor.jqxDropDownList("close")}break;case"template":case"custom":for(var d=["jqxDropDownList","jqxComboBox","jqxDropDownButton","jqxDateTimeInput"],h=function(i){var r=t.editcell.editor.data();if(r[i]&&r[i].instance.container&&"block"==r[i].instance.container[0].style.display){var n=r[i].instance,a=n.container.coord().top,l=n.container.coord().top+n.container.height();return!(!o||!(e.pageY<a||e.pageY>l)||(s=!0,n.close(),0))}},u=0;u<d.length;u++)if(0==h(d[u]))return}t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),t._oldselectedcell=null}}})),t.vScrollInstance.valueChanged=function(e){t.virtualsizeinfo&&(t._closemenu(),"physical"!=t.scrollmode?(t._renderrows(t.virtualsizeinfo),t.currentScrollValue=e.currentValue):(null!=t.currentScrollValue&&Math.abs(t.currentScrollValue-e.currentValue),t._renderrows(t.virtualsizeinfo),t.currentScrollValue=e.currentValue),t.pageable||t.groupable||!t.dataview.virtualmode||(t.loadondemandupdate&&clearTimeout(t.loadondemandupdate),t.loadondemandupdate=setTimeout((function(){t.loadondemand=!0,t._renderrows(t.virtualsizeinfo)}),100)),i&&(t._lastScroll=new Date))},t.hScrollInstance.valueChanged=function(r){if(t.virtualsizeinfo){t._closemenu();var n=function(){t._renderhorizontalscroll(),t._renderrows(t.virtualsizeinfo),t.editcell&&!t.editrow&&t._showcelleditor&&t.editcell.editing&&(t.hScrollInstance.isScrolling()||t._showcelleditor(t.editcell.row,t.getcolumn(t.editcell.column),t.editcell.element,t.editcell.init))};i?n():(null==t._browser&&t._isIE10(),navigator&&-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")?(t._hScrollTimer&&clearTimeout(t._hScrollTimer),t._hScrollTimer=setTimeout((function(){n()}),1)):e.jqx.browser.msie?(t._hScrollTimer&&clearTimeout(t._hScrollTimer),t._hScrollTimer=setTimeout((function(){n()}),.01)):n()),i&&(t._lastScroll=new Date)}},t._mousewheelfunc=t._mousewheelfunc||function(e){if(!t.editcell&&t.enablemousewheel)return t.wheel(e,t),!1},t.removeHandler(t.host,"mousewheel",t._mousewheelfunc),t.addHandler(t.host,"mousewheel",t._mousewheelfunc);var r="mousedown.jqxgrid";i&&(r=e.jqx.mobile.getTouchEventName("touchend")),t.addHandler(t.host,r,(function(i){if(t.isTouchDevice()){if(t._newScroll=new Date,t._newScroll-t._lastScroll<500)return!1;if(e(i.target).ischildof(t.vScrollBar))return!1;if(e(i.target).ischildof(t.hScrollBar))return!1}t._mousedown=new Date;var r=t._handlemousedown(i,t);return t.isNestedGrid&&(t.resizablecolumn||t.columnsreorder||i.stopPropagation()),t._lastmousedown=new Date,r})),i||(t.addHandler(t.host,"dblclick.jqxgrid",(function(i){return t.editable&&t.begincelledit&&"dblclick"==t.editmode?t._handledblclick(i,t):e.jqx.browser.msie&&e.jqx.browser.version<9&&t._handlemousedown(i,t),t.mousecaptured=!1,t._lastmousedown=new Date,!0})),t._mousemovefunc=function(e){if(t._handlemousemove)return t._handlemousemove(e,t)},t.addHandler(t.content,"mousemove",t._mousemovefunc),t._handlemousemoveselection&&(t._mousemovedocumentfunc=function(e){if(t._handlemousemoveselection)return t._handlemousemoveselection(e,t)},t.addHandler(e(document),"mousemove.selection"+t.element.id,t._mousemovedocumentfunc)),t.addHandler(e(document),"mouseup.selection"+t.element.id,(function(e){t._handlemouseupselection&&t._handlemouseupselection(e,t)})));try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var n=null;window.parent&&document.referrer&&(n=document.referrer),n&&-1!=n.indexOf(document.location.host)&&t.addHandler(e(window.top.document),"mouseup.grid"+t.element.id,(function(e){if(t._handlemouseupselection)try{t._handlemouseupselection(e,t)}catch(i){}}))}}catch(s){}t.focused=!1,i||(t.addHandler(t.content,"mouseenter",(function(e){t.focused=!0,t.wrapper&&(t.wrapper.attr("tabindex",1),t.content.attr("tabindex",2)),t._overlayElement&&(t._overlayElement[0].style.visibility=t.vScrollInstance.isScrolling()||t.hScrollInstance.isScrolling()?"visible":"hidden")})),t.addHandler(t.content,"mouseleave",(function(e){t._handlemousemove&&t.enablehover&&t._clearhoverstyle(),t._overlayElement&&(t._overlayElement[0].style.visibility="hidden"),t.focused=!1})),(t.groupable||t.columnsreorder)&&t.addHandler(e(document),"selectstart."+t.element.id,(function(e){if(!0===t.__drag)return!1})),t.addHandler(t.content,"selectstart."+t.element.id,(function(i){if(t.enablebrowserselection)return!0;if(t.showfilterrow&&e(i.target).ischildof(t.filterrow))return!0;if(t.showeverpresentrow){if(e(i.target).ischildof(t.addnewrow))return!0;if(t.addnewrowtop&&e(i.target).ischildof(t.addnewrowtop))return!0}return!!(i.target.className&&i.target.className.indexOf("jqx-grid-widget")>=0)||!!t.editcell&&void(i.stopPropagation&&i.stopPropagation())})),t.addHandler(e(document),"keyup.edit"+t.element.id,(function(e){t._keydown=!1})),t.addHandler(e(document),"keydown.edit"+t.element.id,(function(i){if(t.adaptiveview)return!0;if(t._keydown=!t.editcell,20===(n=i.charCode?i.charCode:i.keyCode?i.keyCode:0)&&(t._capsLock=!t._capsLock),t.handlekeyboardnavigation&&(t.focused||i.target===t.element||e(i.target).ischildof(t.host))&&1==t.handlekeyboardnavigation(i))return!1;if(t.editable&&t.editcell&&(13!=n&&27!=n&&9!=n&&32!=n||t._handleeditkeydown&&(r=t._handleeditkeydown(i,t))),27==n&&(t.mousecaptured=!1,"visible"==t.selectionarea.css("visibility")&&t.selectionarea.css("visibility","hidden")),e.jqx.browser.msie&&e.jqx.browser.version<12&&t.focused&&!t.isNestedGrid){if(13==n&&0==r)return r;var r=!0,n=i.charCode?i.charCode:i.keyCode?i.keyCode:0;if(!t.editcell&&t.editable&&"programmatic"!=t.editmode&&t._handleeditkeydown&&(r=t._handleeditkeydown(i,t)),r&&t.keyboardnavigation&&t._handlekeydown)return(r=t._handlekeydown(i,t))||(i.preventDefault&&i.preventDefault(),null!=i.stopPropagation&&i.stopPropagation()),r}return!0})),t.addHandler(t.host,"keyup.edit"+t.element.id,(function(i){if(t.adaptiveview)return!0;if(9===i.keyCode&&!e(document.activeElement).ischildof(t.filterrow)&&!e(document.activeElement).ischildof(t.pager))switch(t.selectionmode){case"singlecell":case"multiplecells":case"multiplecellsextended":case"multiplecellsadvanced":t.getselectedcell();break;default:t.getselectedrowindex()}})),t.addHandler(t.host,"keydown.edit"+t.element.id,(function(i){var r=!0;if(t.adaptiveview)return!0;if(t.handlekeyboardnavigation&&1==t.handlekeyboardnavigation(i))return!1;if(t.editable&&"programmatic"!=t.editmode&&t._handleeditkeydown&&(r=t._handleeditkeydown(i,t),t.isNestedGrid&&i.stopPropagation()),!t.editcell&&i.altKey&&!e(document.activeElement).ischildof(t.filterrow)&&!e(document.activeElement).ischildof(t.pager))if(40===i.keyCode){var n=t.getselectedcell();n&&t.openmenu(n.column)}else 38===i.keyCode&&t._closemenu();return e.jqx.browser.msie&&e.jqx.browser.version<8?t.isNestedGrid&&r&&t.keyboardnavigation&&t._handlekeydown&&(r=t._handlekeydown(i,t),i.stopPropagation()):r&&t.keyboardnavigation&&t._handlekeydown&&(r=t._handlekeydown(i,t),t.isNestedGrid&&i.stopPropagation()),r||(i.preventDefault&&i.preventDefault(),null!=i.stopPropagation&&i.stopPropagation()),r&&t.selectedcells&&t.selectedcells.length>0&&9===i.keyCode&&i.shiftKey&&t.table&&t.table[0].rows&&t.table[0].rows.length>0&&(e(document.activeElement).ischildof(t.filterrow)||e(document.activeElement).ischildof(t.pager)||t.table[0].rows[0].cells[0].focus()),r})))},_hittestrow:function(t,i){if(null!=this.vScrollInstance&&null!=this.hScrollInstance){null==t&&(t=0);var r=this.hScrollInstance,n=this.vScrollInstance.value;"visible"!=this.vScrollBar.css("visibility")&&(n=0);var s=r.value;"visible"!=this.hScrollBar.css("visibility")&&(s=0),"deferred"==this.scrollmode&&null!=this._newmax&&n>this._newmax&&(n=this._newmax);var o=parseInt(n)+i;if(parseInt(s),null!=this.visiblerows&&0!=this.visiblerows.length){var a=!1,l=this._findvisiblerow(o,this.visiblerows);if(l>=0){var d=this.visiblerows[l],h=!d.rowdetailshidden;if(this.rowdetails&&d.rowdetails){var u=this.visiblerows[l-1];if(u==d&&(d=u,l--),h){var c=e(this.hittestinfo[l].visualrow).position().top+parseInt(this.table.css("top")),p=e(this.hittestinfo[l].visualrow).height();i>=c&&i<=c+p||(l++,d=this.visiblerows[l],a=!0)}}}return{index:l,row:d,details:a}}}},getcellatposition:function(t,i){var r=this.that,n=this.showheader?this.columnsheader.height()+2:0,s=this._groupsheader()?this.groupsheader.height():0;s+=this.showtoolbar?this.toolbarheight:0;var o=this.host.coord();this.hasTransform&&(o=e.jqx.utilities.getOffset(this.host));var a=t-o.left,l=i-n-o.top-s,d=this._hittestrow(a,l),h=d.row,u=this.table[0].rows[d.index];if(this.dataview&&0==this.dataview.records.length){for(var c=this.table[0].rows,p=0,f=0;f<c.length;f++){if(l>=p&&l<p+this.rowsheight){u=c[f];break}p+=this.rowsheight}h={boundindex:f}}if(null==u)return!0;var m=this.hScrollInstance.value,g=0;for(f=0;f<u.cells.length;f++){var v=parseInt(e(this.columnsrow[0].cells[f]).css("left"));if(t=v-m,r.columns.records[f].pinned&&(t=v),!r.columns.records[f].hidden&&!r.columns.records[f].adaptivehidden&&t+e(this.columnsrow[0].cells[f]).width()>=a&&a>=t){g=f;break}}if(null!=h){var w=this._getcolumnat(g);return{row:this.getboundindex(h),column:w.datafield,value:this.getcellvalue(this.getboundindex(h),w.datafield)}}return null},_handlemousedown:function(t,i){if(null==t.target)return!0;if(i.disabled)return!0;if(e(t.target).ischildof(this.columnsheader)||e(t.target).ischildof(this.hScrollBar)||e(t.target).ischildof(this.vScrollBar))return!0;if(t.target===i.bottomRight[0])return!0;var r,n;if(t.which?r=3==t.which:t.button&&(r=2==t.button),t.which?n=2==t.which:t.button&&(n=1==t.button),n)return!0;if(this.adaptiveview){if(e(t.target).ischildof(e(this.adaptiveview)))return!0;if(t.target==this.adaptiveview)return!0}if(this.showstatusbar){if(e(t.target).ischildof(this.statusbar))return!0;if(t.target==this.statusbar[0])return!0}if(this.showtoolbar){if(e(t.target).ischildof(this.toolbar))return!0;if(t.target==this.toolbar[0])return!0}if(this.pageable){if(e(t.target).ischildof(this.pager))return!0;if(t.target==this.pager[0])return!0}if(!this.columnsheader)return!0;if(!this.editcell&&this.pageable&&e(t.target).ischildof(this.pager))return!0;var s=this.showheader?this.columnsheader.height()+2:0,o=this._groupsheader()?this.groupsheader.height():0;o+=this.showtoolbar?this.toolbarheight:0;var a=this.host.coord();if(this.hasTransform){a=e.jqx.utilities.getOffset(this.host);var l=this._getBodyOffset();a.left-=l.left,a.top-=l.top}var d=parseInt(t.pageX),h=parseInt(t.pageY);if(this.isTouchDevice()){var u=i.getTouches(t)[0];d=parseInt(u.pageX),h=parseInt(u.pageY),1==i.touchmode&&null!=u._pageX&&(d=parseInt(u._pageX),h=parseInt(u._pageY))}var c=d-a.left,p=h-s-a.top-o;if(!(this.pageable&&!this.autoheight&&this.gotopage&&p>this.pager.coord().top-a.top-o-s)){var f=this._hittestrow(c,p);if(f&&!f.details){var m=f.row,g=t.target.className,v=this.table[0].rows[A=f.index];if(null==v)return i.editable&&i.begincelledit&&i.editcell&&i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),!0;i.mousecaptured=!0,i.mousecaptureposition={left:t.pageX,top:t.pageY-o,clickedrow:v};var w=this.hScrollInstance,y=w.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(y=w.max-w.value);var b=-1,x=this.groupable?this.groups.length:0;this.rtl&&("hidden"!=this.vScrollBar[0].style.visibility&&(y-=this.scrollbarsize+4),"hidden"==this.hScrollBar[0].style.visibility&&(y=-parseInt(this.content.css("left"))));for(var _=0;_<v.cells.length;_++)if(d=(C=parseInt(e(this.columnsrow[0].cells[_]).css("left")))-y,i.columns.records[_].pinned&&!i.rtl&&(d=C),(null==(j=this._getcolumnat(_))||!j.hidden)&&(null==j||!j.adaptivehidden)&&d+e(this.columnsrow[0].cells[_]).width()>=c&&c>=d){b=_,i.mousecaptureposition.clickedcell=_;break}if(this.rtl&&this._haspinned)for(_=v.cells.length-1;_>=0&&i.columns.records[_].pinned;_--){var C;if(d=C=e(this.columnsrow[0].cells[_]).coord().left-this.host.coord().left,(null==(j=this._getcolumnat(_))||!j.hidden)&&(null==j||!j.adaptivehidden)&&d+e(this.columnsrow[0].cells[_]).width()>=c&&c>=d){b=_,i.mousecaptureposition.clickedcell=_;break}}if(null!=m&&b>=0){this._raiseEvent(1,{rowindex:this.getboundindex(m),visibleindex:m.visibleindex,row:m,group:m.group,rightclick:r,originalEvent:t});var j=this._getcolumnat(b),q=this.getcellvalue(this.getboundindex(m),j.datafield);if(this.editable&&this.editcell&&(this._currentEditableColumn=b,j.datafield==this.editcell.column&&this.getboundindex(m)==this.editcell.row&&(this.mousecaptured=!1)),"adaptive"===j.columntype){var k=document.createElement("div"),T=document.createElement("div"),S=document.createElement("a"),I=document.createElement("a"),D=document.createElement("div"),P=this.getrowdata(this.getboundindex(m));S.href="#",I.href="#",k.style.zIndex=99999,k.style.position="absolute",k.style.left="0px",k.style.top="0px",k.style.width="100%",k.style.height="100%",k.className="jqx-adaptive-view jqx-widget-content",D.style.position="relative",D.style.top="100%",D.style.textAlign="center",D.style.marginTop="-40px",T.style.position="absolute",T.style.left="0px",T.style.top="0px",T.style.width="100%",T.style.height="100%",this.theme&&(k.className="jqx-widget-content jqx-widget-content-"+this.theme);var E=document.createElement("span");E.className="jqx-icon-close",this.theme&&(E.className="jqx-icon-close jqx-widget-close-"+this.theme),E.style.zIndex=99,E.style.position="absolute",E.style.right="10px",E.style.top="10px",E.style.width="16px",E.style.height="16px",k.appendChild(T),k.appendChild(E),S.innerHTML=this.gridlocalization.okstring,I.innerHTML=this.gridlocalization.cancelstring,S.addEventListener("mousedown",(function(e){for(var t={},r=i.adaptiveview.querySelectorAll("input"),n=0;n<r.length;n++){var s=r[n].value;t[r[n].getAttribute("data-column")]=s}return i.updaterow(P.uid,t),k.parentNode.removeChild(k),i.adaptiveview=null,e.stopPropagation(),!1})),I.addEventListener("mousedown",(function(){return k.parentNode.removeChild(k),i.adaptiveview=null,t.stopPropagation(),!1})),this.editable&&(D.appendChild(S),D.appendChild(I),k.appendChild(D));var M="<table class='jqx-adaptive-table'><tr>",A=0;for(_=0;_<this.columns.records.length;_++)if("adaptive"!==(j=this.columns.records[_]).columntype){_>0&&A%2==0&&(M+="</tr><tr>");var H=P[j.displayfield];""!=j.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(H)?H=e.jqx.dataFormat.formatdate(H,j.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(H)&&(H=e.jqx.dataFormat.formatnumber(H,j.cellsformat,this.gridlocalization)));var O=this.filterable?'<div datafield="'+j.datafield+'" class="'+i.toTP("jqx-grid-column-filterbutton")+'" style="position: relative; top: 4px; display: inline-block; width: 16px; height:16px;"></div>':"";M+=this.editable?j.editable?"<td>"+O+j.text+": <input data-column='"+j.displayfield+"' value='"+H+"'/></td>":"<td>"+O+j.text+": <input data-column='"+j.displayfield+"' readonly value='"+H+"'/></td>":"<td>"+O+j.text+": "+H+"</td>",A++}return T.innerHTML=M+="</tr></table>",E.addEventListener("mousedown",(function(e){k.parentNode.removeChild(k),i.adaptiveview=null})),this.wrapper[0].appendChild(k),this.adaptiveview=k,void e(this.adaptiveview).find(".jqx-grid-column-filterbutton").on("click",(function(){var e=this.getAttribute("datafield"),t=this.offsetTop;i.openmenu(e),setTimeout((function(){i.gridmenu.css("top",30+t),i.gridmenu.css("left",25),i.gridmenu.css("z-index",99999),i.gridmenu.parent().css("z-index",99999)}),300)}))}if(this._raiseEvent(8,{rowindex:this.getboundindex(m),column:j?j.getcolumnproperties():null,row:m,visibleindex:m.visibleindex,datafield:j?j.datafield:null,columnindex:b,value:q,rightclick:r,originalEvent:t}),j.createwidget)return!0;if(this.isTouchDevice())if("checkbox"==j.columntype&&this.editable&&this._overlayElement){if(!this.editcell)return this._overlayElement.css("visibility","hidden"),this.editcell=this.getcell(A,j.datafield),!0}else if("button"==j.columntype&&this._overlayElement)return j.buttonclick&&j.buttonclick(v.cells[b].buttonrow,t),!0;var B=!1;if(null!=this._lastmousedown&&this._mousedown-this._lastmousedown<300&&this._clickedrowindex==this.getboundindex(m)&&(this._raiseEvent(22,{rowindex:this.getboundindex(m),row:m,visibleindex:m.visibleindex,group:m.group,rightclick:r,originalEvent:t}),this._clickedcolumn==j.datafield&&this._raiseEvent(23,{rowindex:this.getboundindex(m),row:m,visibleindex:m.visibleindex,column:j?j.getcolumnproperties():null,datafield:j?j.datafield:null,columnindex:b,value:q,rightclick:r,originalEvent:t}),B=!0,this._clickedrowindex=-1,this._clickedcolumn=null,t.isPropagationStopped&&t.isPropagationStopped()))return!1;if(r)return!0;B||(this._clickedrowindex=this.getboundindex(m),this._clickedcolumn=j.datafield);var z=e.jqx.utilities.getBrowser();if("msie"==z.browser&&parseInt(z.version)<=7&&(0==b&&this.rowdetails&&(g="jqx-grid-group-collapse"),x>0&&b<=x&&(g="jqx-grid-group-collapse")),-1!=g.indexOf("jqx-grid-group-expand")||-1!=g.indexOf("jqx-grid-group-collapse"))this.rtl?x>0&&b>v.cells.length-x-1&&this._togglegroupstate?this._togglegroupstate(m.bounddata,!0):b==v.cells.length-1-x&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(m.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0):x>0&&b<x&&this._togglegroupstate?this._togglegroupstate(m.bounddata,!0):b==x&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(m.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0);else if(-1!=m.boundindex){var N=this.selectedrowindexes.slice(0),L=!1;if("none"!=i.selectionmode&&"checkbox"!=i.selectionmode&&this._selectrowwithmouse){"multiplecellsadvanced"!=i.selectionmode&&"multiplecellsextended"!=i.selectionmode&&"multiplerowsextended"!=i.selectionmode&&"multiplerowsadvanced"!=i.selectionmode||t.ctrlKey||t.shiftKey||t.metaKey||(i.selectedrowindexes=new Array,i.selectedcells=new Array);var F=!1,R=this.getboundindex(m);i._oldselectedrow!==R&&"none"!==i.selectionmode||(F=!0),-1==i.selectionmode.indexOf("cell")?("singlerow"!=i.selectionmode||i.selectedrowindex!=R&&"singlerow"==i.selectionmode)&&(this._applyrowselection(R,!0,!1,null,j.datafield),this._selectrowwithmouse(i,f,N,j.datafield,t.ctrlKey||t.metaKey,t.shiftKey)):null!=j.datafield&&(this._selectrowwithmouse(i,f,N,j.datafield,t.ctrlKey||t.metaKey,t.shiftKey),t.shiftKey||this._applycellselection(R,j.datafield,!0,!1)),i._oldselectedcell&&i._oldselectedcell.datafield==i.selectedcell.datafield&&i._oldselectedcell.rowindex==i.selectedcell.rowindex&&(L=!0),i._oldselectedcell=i.selectedcell,i._oldselectedrow=R}if(i.autosavestate&&i.savestate&&i.savestate(),i.editable&&i.begincelledit&&"programmatic"!=i.editmode){if(t.isPropagationStopped&&t.isPropagationStopped())return!1;if("selectedrow"==i.editmode)F&&!i.editcell?"checkbox"!==j.columntype&&(this._currentEditableColumn=b,i.beginrowedit(this.getboundindex(m))):i.editcell&&!F&&"none"!=i.selectionmode&&i.endrowedit(i.editcell.row);else{R=this.getboundindex(m);var V="click"==i.editmode||L&&"selectedcell"==i.editmode;-1==i.selectionmode.indexOf("cell")&&"dblclick"!=i.editmode&&(V=!0),V&&null!=m.boundindex&&j.editable&&(i.begincelledit(this.getboundindex(m),j.datafield,j.defaulteditorvalue),-1!=i.selectionmode.indexOf("cell")&&i._applycellselection(R,j.datafield,!1,!1)),-1!=i.selectionmode.indexOf("cell")&&"selectedcell"==i.editmode&&!L&&i.editcell&&i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),"dblclick"!=i.editmode||L||!i.editcell||i.editcell.row==R&&j.datafield==i.editcell.column||i.endcelledit(i.editcell.row,i.editcell.column,!1,!0)}return!0}}}return!0}}},_columnPropertyChanged:function(e,t,i,r){},_rowPropertyChanged:function(e,t,i,r){},_serializeObject:function(t){if(null==t)return"";var i="";return e.each(t,(function(e){e>0&&(i+=", "),i+="[";var t=0;for(var r in this)t>0&&(i+=", "),i+="{"+r+":"+this[r]+"}",t++;i+="]"})),i},isbindingcompleted:function(){return!this._loading},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._updatesize(!0,!0),e._resizeWindow(),e.virtualmode&&!e._loading?e.vScrollInstance.setPosition(0):setTimeout((function(){e._renderrows(e.virtualsizeinfo)}),100))},propertyChangedHandler:function(t,i,r,n){if(null!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length))switch(i=i.toLowerCase()){case"editable":case"showcolumnheaderlines":case"showcolumnlines":case"showrowlines":t.refresh();break;case"everpresentrowactionsmode":r!=n&&(t._removeaddnewrow(),t.render());break;case"everpresentrowactions":t._updateaddnewrowui();break;case"showeverpresentrow":case"everpresentrowposition":case"everpresentrowheight":r!=n&&(t._removeaddnewrow(),t.render());break;case"rtl":t.content.css("left",""),t.columns=t._columns,t._filterrowcache=[],t.vScrollBar.jqxScrollBar({rtl:n}),t.hScrollBar.jqxScrollBar({rtl:n}),t._initpager&&t._initpager(),t._initgroupsheader&&t._initgroupsheader(),t.render();break;case"enablebrowserselection":t.showfilterrow||(t.showstatusbar||t.showtoolbar||t.host.addClass("jqx-disableselect"),t.content.addClass("jqx-disableselect")),t.enablebrowserselection&&(t.content.removeClass("jqx-disableselect"),t.host.removeClass("jqx-disableselect"));break;case"columnsheight":(32!=t.columnsheight||t.columngroups)&&t._measureElement("column"),t._render(!0,!0,!0,!1,!1);break;case"rowsheight":n!=r&&(31!=t.rowsheight&&t._measureElement("cell"),t.virtualsizeinfo=null,t.rendergridcontent(!0,!1),t.refresh());break;case"scrollMode":t.vScrollInstance.thumbStep=t.rowsheight;break;case"showdefaultloadelement":t._builddataloadelement();break;case"showfiltermenuitems":case"showsortmenuitems":case"showgroupmenuitems":case"filtermode":t._initmenu();break;case"touchmode":r!=n&&(t._removeHandlers(),t.touchDevice=null,t.vScrollBar.jqxScrollBar({touchMode:n}),t.hScrollBar.jqxScrollBar({touchMode:n}),t._updateTouchScrolling(),t._arrange(),t._updatecolumnwidths(),t._updatecellwidths(),t._addHandlers());break;case"autoshowcolumnsmenubutton":r!=n&&t._rendercolumnheaders();break;case"rendergridrows":r!=n&&t.updatebounddata();break;case"editmode":r!=n&&(t._removeHandlers(),t._addHandlers());break;case"source":t.updatebounddata(),t.virtualmode&&!t._loading&&(t.loadondemand=!0,t._renderrows(t.virtualsizeinfo));break;case"horizontalscrollbarstep":case"verticalscrollbarstep":case"horizontalscrollbarlargestep":case"verticalscrollbarlargestep":this.vScrollBar.jqxScrollBar({step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep}),this.hScrollBar.jqxScrollBar({step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep});break;case"closeablegroups":t._initgroupsheader&&t._initgroupsheader();break;case"showgroupsheader":r!=n&&(t._arrange(),t._initgroupsheader&&t._initgroupsheader(),t._renderrows(t.virtualsizeinfo));break;case"theme":n!=r&&(e.jqx.utilities.setTheme(r,n,t.host),t.gridmenu&&t.gridmenu.jqxMenu({theme:n}),t.pageable&&t._updatepagertheme(),t.filterable&&t._updatefilterrowui(!0),t.showeverpresentrow&&t._updateaddnewrowui(!0));break;case"showtoolbar":case"toolbarheight":r!=n&&(t._arrange(),t.refresh());break;case"showstatusbar":r!=n&&(t.statusbar&&(n?t.statusbar.show():t.statusbar.hide()),t._arrange(),t.refresh());break;case"statusbarheight":r!=n&&(t._arrange(),t.refresh());break;case"filterable":case"showfilterrow":r!=n&&t.render();break;case"autoshowfiltericon":case"showfiltercolumnbackground":case"showpinnedcolumnbackground":case"showsortcolumnbackground":r!=n&&t.rendergridcontent();break;case"showrowdetailscolumn":r!=n&&t.render();break;case"scrollbarsize":r!=n&&(e.jqx.utilities.scrollBarSize=n,t._arrange());break;case"width":case"height":r!=n&&(t._updatesize(!0,!0),t._resizeWindow(),t.virtualmode&&!t._loading?t.vScrollInstance.setPosition(0):setTimeout((function(){t._renderrows(t.virtualsizeinfo)}),100));break;case"altrows":case"altstart":case"altstep":r!=n&&t._renderrows(t.virtualsizeinfo);break;case"groupsheaderheight":r!=n&&(t._arrange(),t._initgroupsheader&&t._initgroupsheader());break;case"pagerheight":r!=n&&t._initpager();break;case"selectedrowindex":t.selectrow(n);break;case"selectionmode":r!=n&&("none"==n&&(t.selectedrowindexes=new Array,t.selectedcells=new Array,t.selectedrowindex=-1),t._renderrows(t.virtualsizeinfo),"checkbox"==n&&t._render(!1,!1,!0,!1,!1));break;case"showheader":t.columnsheader.css("display",n?"block":"none");break;case"virtualmode":r!=n&&(t.dataview.virtualmode=t.virtualmode,t.dataview.refresh(!1),t._render(!1,!1,!1));break;case"columnsmenu":r!=n&&t.render();break;case"columngroups":t._render(!0,!0,!0,!1,!1);break;case"columns":if(t.columns&&t.columns.length>t.headerZIndex&&(t.headerZIndex=t.columns.length+100),t._serializeObject(t._cachedcolumns)!==t._serializeObject(n)){var s=!1;t.filterable&&r&&r.records&&e.each(r.records,(function(){this.filter&&(s=!0),t.dataview.removefilter(this.displayfield,this.filter)})),t._columns=null,t._filterrowcache=[],t.render(),s&&t.applyfilters(),t._cachedcolumns=t.columns,t.removesort&&t.removesort()}else t[i]=r;break;case"autoheight":r!=n&&t._render(!1,!1,!0);break;case"pagermode":case"pagerbuttonscount":r!=n&&t._initpager&&(t.pagershowrowscombo&&(t.pagershowrowscombo.jqxDropDownList("destroy"),t.pagershowrowscombo=null),t.pagerrightbutton&&(t.removeHandler(t.pagerrightbutton,"mousedown"),t.removeHandler(t.pagerrightbutton,"mouseup"),t.removeHandler(t.pagerrightbutton,"click"),t.pagerrightbutton.jqxButton("destroy"),t.pagerrightbutton=null),t.pagerleftbutton&&(t.removeHandler(t.pagerleftbutton,"mousedown"),t.removeHandler(t.pagerleftbutton,"mouseup"),t.removeHandler(t.pagerleftbutton,"click"),t.pagerleftbutton.jqxButton("destroy"),t.removeHandler(e(document),"mouseup.pagerbuttons"+t.element.id),t.pagerleftbutton=null),t.pagerdiv.remove(),t._initpager());break;case"pagesizeoptions":case"pageable":case"pagesize":if(r!=n){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);if(!t.host.jqxDropDownList||!t.host.jqxListBox)return void t._testmodules();if(t._initpager){if("pageable"!=i&&"pagermode"!=i&&"string"==typeof n){var o="The expected value type is: Int.";throw"pagesize"!=i&&(o="The expected value type is: Array of Int values."),new Error("Invalid Value for: "+i+". "+o)}t.dataview.pageable=t.pageable,t.dataview.pagenum=0,t.dataview.pagesize=t._getpagesize(),t.virtualmode&&t.updatebounddata(),t.dataview.refresh(!0),t._initpager(),"pagesizeoptions"==i&&null!=n&&n.length>0&&(t.pagesize=parseInt(n[0]),t.dataview.pagesize=parseInt(n[0]),t.prerenderrequired=!0,t._requiresupdate=!0,t.dataview.pagenum=-1,t.gotopage(0))}t._render(!1,!1,!1)}break;case"groups":t._serializeObject(r)!==t._serializeObject(n)&&(t.dataview.groups=n,t._refreshdataview(),t._render(!0,!0,!0,!1));break;case"groupable":r!=n&&(t.dataview.groupable=t.groupable,t.dataview.pagenum=0,t.dataview.refresh(!1),t._render(!1,!1,!0));break;case"renderstatusbar":null!=n&&t.renderstatusbar(t.statusbar);break;case"rendertoolbar":null!=n&&t.rendertoolbar(t.toolbar);break;case"disabled":n?t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),e.jqx.aria(t,"aria-disabled",t.disabled),t.pageable&&(t.pagerrightbutton&&(t.pagerrightbutton.jqxButton({disabled:n}),t.pagerleftbutton.jqxButton({disabled:n}),t.pagershowrowscombo.jqxDropDownList({disabled:n}),t.pagergotoinput.attr("disabled",n)),t.pagerfirstbutton&&(t.pagerfirstbutton.jqxButton({disabled:n}),t.pagerlastbutton.jqxButton({disabled:n}))),t.vScrollBar.jqxScrollBar({disabled:n}),t.hScrollBar.jqxScrollBar({disabled:n}),t.filterable&&t.showfilterrow&&t._updatefilterrowui(!0),t.showeverpresentrow&&t._updateaddnewrowui(!0)}}}),e.jqx.collection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginupdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this._raiseEvent=function(e){},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t,this.updating||this._raiseEvent({type:"replace",element:t})},this.isempty=function(e){return null==this.records[e]},this.initialize=function(e){e<1&&(e=1),this.records[e-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null!=e&&(this.records[this.records.length]=e,this.updating||this._raiseEvent({type:"add",element:e}),!0)},this.insertAt=function(e,t){return null!=e&&null!=e&&null!=t&&e>=0&&(e<this.records.length?(this.records.splice(e,0,t),this.updating||this._raiseEvent({type:"insert",index:e,element:t}),!0):this.add(t))},this.remove=function(e){if(null==e||null==e)return!1;var t=this.records.indexOf(e);return-1!=t&&(this.records.splice(t,1),this.updating||this._raiseEvent({type:"remove",element:e}),!0)},this.removeAt=function(e){if(null==e||null==e)return!1;if(e<0)return!1;if(e<this.records.length){var t=this.records[e];return this.records.splice(e,1),this.updating||this._raiseEvent({type:"removeAt",index:e,element:t}),!0}return!1},this},e.jqx.dataview=function(){return this.self=this,this.aggregates=!1,this.grid=null,this.uniqueId="id",this.records=[],this.rows=[],this.columns=[],this.groups=[],this.filters=new Array,this.updated=null,this.update=null,this.suspend=!1,this.pagesize=0,this.pagenum=0,this.totalrows=0,this.totalrecords=0,this.groupable=!0,this.loadedrecords=[],this.loadedrootgroups=[],this.loadedgroups=[],this.loadedgroupsByKey=[],this.virtualmode=!0,this._cachegrouppages=new Array,this.source=null,this.changedrecords=new Array,this.rowschangecallback=null,this.that=this,this.destroy=function(){delete this.self,delete this.grid,delete this.uniqueId,delete this.records,delete this.rows,delete this.columns,delete this.groups,delete this.filters,delete this.updated,delete this.update,delete this.suspend,delete this.pagesize,delete this.pagenum,delete this.totalrows,delete this.totalrecords,delete this.groupable,delete this.loadedrecords,delete this.loadedrootgroups,delete this.loadedgroups,delete this.loadedgroupsByKey,delete this.virtualmode,delete this._cachegrouppages,delete this.source,delete this.changedrecords,delete this.rowschangecallback,delete this.that},this.suspendupdate=function(){this.suspend=!0},this.isupdating=function(){return this.suspend},this.resumeupdate=function(e){this.suspend=!1,null==e&&(e=!0),this.refresh(e)},this.getrecords=function(){return this.records},this.clearrecords=function(){this.recordids=new Array},this.databind=function(t,i){var r=!!t._source,n=null;this.grid&&(this.aggregates=this.grid.showgroupaggregates),r?(n=t,t=t._source):n=new e.jqx.dataAdapter(t,{autoBind:!1});var s,o=function(i){if(i.totalrecords=n.totalrecords,i.virtualmode){var r={startindex:i.pagenum*i.pagesize,endindex:i.pagenum*i.pagesize+i.pagesize};if(null!=t.recordstartindex&&(r.startindex=parseInt(t.recordstartindex)),null!=t.recordendindex?r.endindex=parseInt(t.recordendindex):i.grid.pageable||(r.endindex=r.startindex+100,i.grid.autoheight&&(r.endindex=r.startindex+i.totalrecords)),t.recordendindex||(i.grid.pageable?r={startindex:i.pagenum*i.pagesize,endindex:i.pagenum*i.pagesize+i.pagesize}:(r.endindex=r.startindex+100,i.grid.autoheight&&(r.endindex=r.startindex+i.totalrecords))),r.data=n.records,i.grid.rendergridrows&&i.totalrecords>0){var s=0;if(t.records=i.grid.rendergridrows(r),t.records.length&&(s=t.records.length),t.records&&!t.records[r.startindex]){var o=new Array,a=r.startindex;e.each(t.records,(function(){o[a]=this,a++,s++})),t.records=o}if(0==s&&t.records&&e.each(t.records,(function(){s++})),s>0&&s<r.endindex-r.startindex&&!i.grid.groupable)for(var l=t.records[0],d=0;d<r.endindex-r.startindex-s;d++){var h={};for(var u in l)h[u]="";t.records.push&&t.records.push(h)}}t.records&&0!=i.totalrecords||(t.records=new Array),i.originaldata=t.records,i.records=t.records,i.cachedrecords=t.records}else i.originaldata=n.originaldata,i.records=n.records,i.recordids=n.recordids,i.cachedrecords=n.cachedrecords};s=this,n.recordids=[],n.records=new Array,n.cachedrecords=new Array,n.originaldata=new Array,n._options.virtualmode=s.virtualmode,n._options.totalrecords=s.totalrecords,n._options.originaldata=s.originaldata,n._options.recordids=s.recordids,n._options.cachedrecords=new Array,n._options.pagenum=s.pagenum,n._options.pageable=s.pageable,null!=t.type&&(n._options.type=t.type),null!=t.formatdata&&(n._options.formatData=t.formatdata),null!=t.contenttype&&(n._options.contentType=t.contenttype),null!=t.async&&(n._options.async=t.async),null!=t.updaterow&&(n._options.updaterow=t.updaterow),null!=t.addrow&&(n._options.addrow=t.addrow),null!=t.deleterow&&(n._options.deleterow=t.deleterow),0==s.pagesize&&(s.pagesize=10),n._options.pagesize=s.pagesize,this.source=t;var a=this.that;switch(t.datatype){case"local":case"array":default:null==t.localdata&&(t.localdata=[]),null!=t.localdata&&(n.unbindBindingUpdate(a.grid.element.id),(!a.grid.autobind&&a.grid.isInitialized||a.grid.autobind)&&n.dataBind(),(j=function(i){if(null!=i&&""!=i){if(n._changedrecords[0]){var r=new Array;e.each(n._changedrecords,(function(e){var t=this.index,s=this.record;switch(a.grid._updateFromAdapter=!0,i){case"update":var o=a.grid.getrowid(t);return e==n._changedrecords.length-1?a.grid.updaterow(o,s):a.grid.updaterow(o,s,!1),void(a.grid._updateFromAdapter=!1);case"add":return a.grid.addrow(null,s),void(a.grid._updateFromAdapter=!1);case"remove":return o=a.grid.getrowid(t),void r.push(o)}})),r.length>0&&(a.grid.deleterow(r,!1),a.grid._updateFromAdapter=!1)}if("update"==i)return}var s=a.totalrecords;o(a),null===t.localdata.notifier&&"observableArray"==t.localdata.name&&(t.localdata.notifier=function(i){if(!a._updating){a._updating=!0;var r=a.grid.getrowid(i.index);switch(i.type){case"add":var s=e.extend({},i.object[i.index]),o=n.getid(t.id,s,i.index);0===i.index?a.grid.addrow(o,s,"first"):a.grid.addrow(o,s);break;case"delete":a.grid.deleterow(r);break;case"update":if(i.path&&i.path.split(".").length>1){var l=i.path.split(".");a.grid.setcellvalue(i.index,l[l.length-1],i.newValue)}else s=e.extend({},i.object[i.index]),a.grid.updaterow(r,s)}a._updating=!1}}),"updateData"==i?(a.refresh(),a.grid._updateGridData()):(t.recordstartindex&&a.virtualmode?a.updateview(t.recordstartindex,t.recordstartindex+a.pagesize):a.refresh(),a.update(s!=a.totalrecords))})(),n.bindBindingUpdate(a.grid.element.id,j));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return n.unbindBindingUpdate(a.grid.element.id),(!a.grid.autobind&&a.grid.isInitialized||a.grid.autobind)&&n.dataBind(),(j=function(e){var i=a.totalrecords;o(a),"updateData"==e?(a.refresh(),a.grid._updateGridData()):(t.recordstartindex&&a.virtualmode?a.updateview(t.recordstartindex,t.recordstartindex+a.pagesize):a.refresh(),a.update(i!=a.totalrecords))})(),void n.bindBindingUpdate(a.grid.element.id,j);for(var l=[],d=0,h={},u=0;u<a.filters.length;u++){var c=a.filters[u].datafield,p=a.filters[u].filter;if(p.getfilters){var f=p.getfilters();h[c+"operator"]=p.operator;for(var m=0;m<f.length;m++){f[m].datafield=c;var g=f[m].value;if("datefilter"==f[m].type)if(f[m].value&&f[m].value.toLocaleString){var v=a.grid.getcolumn(f[m].datafield);if(v&&v.cellsformat){var w=a.grid.source.formatDate(f[m].value,v.cellsformat,a.grid.gridlocalization);h["filtervalue"+d]=w||f[m].value.toLocaleString()}else h["filtervalue"+d]=g.toString()}else h["filtervalue"+d]=g.toString();else h["filtervalue"+d]=g.toString(),f[m].data&&(h["filterid"+d]=f[m].data.toString()),f[m].id&&(h["filterid"+d]=f[m].id.toString());h["filtercondition"+d]=f[m].condition,h["filteroperator"+d]=f[m].operator,h["filterdatafield"+d]=c;var y={label:g.toString()};f[m].data&&(y.value=f[m].data.toString()),y.value=f[m].id?f[m].id.toString():g.toString(),y.condition=f[m].condition,y.operator=0==f[m].operator?"and":"or",y.field=c,y.type=f[m].type;var b=!1;if(l.length>0)for(var x=0;x<l.length;x++){var _=l[x];if(_.field==c){_.filters.push(y),b=!0;break}}b||(l.push({field:c,filters:[]}),l[l.length-1].filters.push(y)),d++}}}for(h.filterGroups=l,h.filterscount=d,h.groupscount=a.groups.length,u=0;u<a.groups.length;u++)h["group"+u]=a.groups[u];null==t.recordstartindex&&(t.recordstartindex=0),null!=t.recordendindex&&0!=t.recordendindex||(a.grid.height&&-1==a.grid.height.toString().indexOf("%")?(t.recordendindex=parseInt(a.grid.height)/a.grid.rowsheight,t.recordendindex+=2,t.recordendindex=parseInt(t.recordendindex)):(t.recordendindex=e(window).height()/a.grid.rowsheight,t.recordendindex=parseInt(t.recordendindex)),a.pageable&&(t.recordendindex=a.pagesize)),a.pageable&&(t.recordstartindex=a.pagenum*a.pagesize,t.recordendindex=(a.pagenum+1)*a.pagesize),e.extend(h,{sortdatafield:a.sortfield,sortorder:a.sortfielddirection,pagenum:a.pagenum,pagesize:a.grid.pagesize,recordstartindex:t.recordstartindex,recordendindex:t.recordendindex});var C=n._options.data;n._options.data?e.extend(n._options.data,h):(t.data&&e.extend(h,t.data),n._options.data=h);var j=function(){var i=function(){var e=a.totalrecords;o(a),t.recordstartindex&&a.virtualmode?a.updateview(t.recordstartindex,t.recordstartindex+a.pagesize):a.refresh(),a.update(e!=a.totalrecords)};if(e.jqx.browser.msie&&e.jqx.browser.version<9)try{i()}catch(s){}else i()};n.unbindDownloadComplete(a.grid.element.id),n.bindDownloadComplete(a.grid.element.id,j),!a.grid.autobind&&a.grid.isInitialized||a.grid.autobind?n.dataBind():a.grid.isInitialized||a.grid.autobind||j(),n._options.data=C}},this.getid=function(t,i,r){if(e(t,i).length>0)return e(t,i).text();if(t&&t.toString().length>0){var n=e(i).attr(t);if(null!=n&&n.toString().length>0)return n}return r},this.getvaluebytype=function(t,i){var r=t;if("date"==i.type){var n=new Date(t);null==(t="NaN"!=n.toString()&&"Invalid Date"!=n.toString()||!e.jqx.dataFormat?n:e.jqx.dataFormat.tryparsedate(t))&&(t=r)}else"float"==i.type?(t=parseFloat(t),isNaN(t)&&(t=r)):"int"==i.type?(t=parseInt(t),isNaN(t)&&(t=r)):"bool"==i.type&&(null!=t&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t||0!=t&&"");return t},this.setpaging=function(e){null!=e.pageSize&&(this.pagesize=e.pageSize),null!=e.pageNum&&(this.pagenum=Math.min(e.pageNum,Math.ceil(this.totalrows/this.pagesize))),this.refresh()},this.getpagingdetails=function(){return{pageSize:this.pagesize,pageNum:this.pagenum,totalrows:this.totalrows}},this._clearcaches=function(){this.sortcache={},this.sortdata=null,this.changedrecords=new Array,this.records=new Array,this.rows=new Array,this.cacheddata=new Array,this.originaldata=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid=new Array,this.cachedrecords=new Array,this.recordids=new Array},this.addfilter=function(e,t){for(var i=-1,r=0;r<this.filters.length;r++)if(this.filters[r].datafield==e){i=r;break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removefilter=function(e){for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1);break}},this.getItemFromIndex=function(e){return this.records[e]},this.updaterow=function(e,t,i){if((!(this.filters&&this.filters.length>0)||this.virtualmode)&&null!=t&&null!=e)return t.uid=e,t[this.source.id]||(t[this.source.id]=t.uid),-1!=(s=this.records.indexOf(n=this.recordsbyid["id"+e]))&&(this.records[s]=t,this.cachedrecords&&(this.cachedrecords[s]=t),1!=i&&null!=i||this.refresh(),this.changedrecords[t.uid]={Type:"Update",OldData:n,Data:t},!0);if(this.filters&&this.filters.length>0){for(var r=this.cachedrecords,n=null,s=-1,o=0;o<r.length;o++)if(r[o].uid==e){n=r[o],s=o;break}if(n){var a=this.that;for(var l in t)a.cachedrecords[s][l]=t[l];return 1!=i&&null!=i||this.refresh(),!0}}return!1},this.addrow=function(t,i,r,n){if(null!=i){if(e.isEmptyObject(i)&&this.source&&this.source.datafields&&e.each(this.source.datafields,(function(){var e="";"number"==this.type&&(e=null),"date"==this.type&&(e=null),"bool"!=this.type&&"boolean"!=this.type||(e=!1),i[this.name]=e})),!t||this.recordsbyid["id"+t]){i.uid=this.getid(this.source.id,i,this.totalrecords);for(var s=this.recordsbyid["id"+i.uid];null!=s;){var o=Math.floor(1e4*Math.random()).toString();i.uid=o,s=this.recordsbyid["id"+o]}}else i.uid=t;return i[this.source.id]||null!=this.source.id&&(i[this.source.id]=i.uid),i.boundindex=this.records.length,"last"==r?this.records.push(i):"number"==typeof r&&isFinite(r)?this.records.splice(r,0,i):this.records.splice(0,0,i),this.filters&&this.filters.length>0&&("last"==r?this.cachedrecords.push(i):"number"==typeof r&&isFinite(r)?this.cachedrecords.splice(r,0,i):this.cachedrecords.splice(0,0,i)),this.totalrecords++,this.virtualmode&&(this.source.totalrecords=this.totalrecords),1!=n&&null!=n||this.refresh(),this.changedrecords[i.uid]={Type:"New",Data:i},!0}return!1},this.deleterow=function(e,t){if(null!=e){if(this.recordsbyid["id"+e]&&!(this.filters&&this.filters.length>0)){var i=this.records.indexOf(s=this.recordsbyid["id"+e]);if(this.grid&&this.grid.sortable&&"many"==this.grid.sortmode)for(var r=0;r<this.records.length;r++)if(this.records[r].boundindex===s.boundindex){i=r;break}return this.changedrecords[e]={Type:"Delete",Data:this.records[i]},this.records.splice(i,1),this.totalrecords--,this.virtualmode&&(this.source.totalrecords=this.totalrecords),1!=t&&null!=t||this.refresh(),!0}if(this.filters&&this.filters.length>0){var n=this.cachedrecords,s=null;for(i=-1,r=0;r<n.length;r++)if(n[r].uid==e){s=n[r],i=r;break}if(s)return this.cachedrecords.splice(i,1),1!=t&&null!=t||(this.totalrecords=0,this.records=this.cachedrecords,this.refresh()),!0}return!1}return!1},this.reload=function(t,i,r,n,s,o,a){var l=this.that,d=new Array,h=t,u=i,c=r,p=n,f=u.length,m=0;if(this.columns=[],this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid={},0==this.totalrecords){Object.size=function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i};var g=Object.size(h);this.totalrecords=g,e.each(this.records,(function(t){var i=0;return e.each(this,(function(e,t){l.columns[i++]=e})),!1}))}if(this.virtualmode){if(this.pageable)return void this.updateview();if(o=0,!this.groupable)return void this.updateview();a=this.totalrecords}else o=0,a=this.totalrecords;if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){var v=o;v=this.loadgrouprecords(0,o,a,c,0,p,u,f,d)}else m=this.loadflatrecords(o,a,c,0,p,u,f,d);return f>0&&u.splice(0,f-0),this.totalrows=this.groups.length>0&&this.groupable?v:m,d},this.loadflatrecords=function(t,i,r,n,s,o,a,l){var d=this.that,h=t,u=t;i=Math.min(i,this.totalrecords);for(var c=null!=this.sortdata,p=c?this.sortdata:this.records,f=t;f<i;f++){var m={};if(c)g=(m=e.extend({},p[f].value))[d.uniqueId],m.boundindex=p[f].index,null==m.uid&&(m.uid=d.getid(d.source.id,m,m.boundindex)),d.recordsbyid["id"+m.uid]=p[f].value,d.loadedrecords[h]=m,m.uniqueid=d.generatekey(),d.bounditems[m.boundindex]=m;else{var g=(m=new Object(p[f]))[d.uniqueId];m.boundindex=h,d.loadedrecords[h]=m,null==m.uid&&(m.uid=d.getid(d.source.id,m,h)),d.recordsbyid["id"+m.uid]=p[f],m.uniqueid=d.generatekey(),d.bounditems[this.bounditems.length]=m}(n>=a||g!=o[n][d.uniqueId]||s&&s[g])&&(l[l.length]=n),o[n]=m,n++,m.visibleindex=u,u++,h++}if(d.grid.summaryrows){var v=h;e.each(d.grid.summaryrows,(function(){var t=e.extend({},this);t.boundindex=i++,d.loadedrecords[v]=t,t.uniqueid=d.generatekey(),d.bounditems[d.bounditems.length]=t,o[n]=t,n++,t.visibleindex=u,u++,v++}))}return u},this.updateview=function(e,t){var i=this.that,r=this.pagesize*this.pagenum,n=0,s=new Array,o=this.filters,a=this.updated,l=s.length;if(this.pageable){if(this.virtualmode)if(this.groupable&&0!=this.groups.length){if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){if(null!=this._cachegrouppages[this.pagenum+"_"+this.pagesize])return this.rows=this._cachegrouppages[this.pagenum+"_"+this.pagesize],void(this.totalrows=this.rows.length);var d=this.pagesize*(1+this.pagenum);return d>this.totalrecords&&(d=this.totalrecords),this.loadgrouprecords(0,this.pagesize*this.pagenum,d,o,n,a,s,l,[]),this._cachegrouppages[this.pagenum+"_"+this.pagesize]=this.rows,void(this.totalrows=this.rows.length)}}else this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),o,n,a,s,l,[]),this.totalrows=s.length}else if(this.virtualmode&&(!this.groupable||0==this.groups.length)){var h=this.pagesize;if(0==h&&(h=Math.min(100,this.totalrecords)),null!=e&&null!=t?this.loadflatrecords(e,t,o,n,a,s,l,[]):this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),o,n,a,s,l,[]),this.totalrows=this.loadedrecords.length,this.rows=s,s.length>=h)return}if(this.groupable&&this.pageable&&this.groups.length>0&&this._updategroupsinpage)s=this._updategroupsinpage(i,o,r,n,l,this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum));else for(var u=this.pagesize*this.pagenum;u<this.pagesize*(1+this.pagenum);u++)null!=(p=u<this.loadedrecords.length?this.loadedrecords[u]:null)&&((!this.pagesize||r>=this.pagesize*this.pagenum&&r<=this.pagesize*(this.pagenum+1))&&(s[n]=p,n++),r++);if((0==s.length||s.length<this.pagesize)&&!this.pageable&&this.virtualmode){n=s.length;var c=s.length;for(u=this.pagesize*this.pagenum;u<this.pagesize*(1+this.pagenum)-c;u++){var p;(p={}).boundindex=u+c,p.visibleindex=u+c,p.uniqueid=i.generatekey(),p.empty=!0,i.bounditems[u+c]=p,s[n]=p,n++}}this.rows=s},this.generatekey=function(){var e=function(){return 16*(1+Math.random())|0};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},this.reloaddata=function(){this.reload(this.records,this.rows,this.filter,this.updated,!0)},this.refresh=function(t){if(!this.suspend){null==t&&(t=!0);var i=this.rows.length,r=this.totalrows;if(this.filters.length>0&&!this.virtualmode){var n="",s=this.cachedrecords.length,o=new Array;this.totalrecords=0;var a=this.cachedrecords;this._dataIndexToBoundIndex=new Array;var l=this.filters.length;if(null!=this.source&&null!=this.source.filter&&null!=this.source.localdata){var d=this.source.filter(this.filters,a,s);null==d&&(d=new Array);for(var h=0;h<s;h++)(c=d.indexOf(u=a[h])>=0)?(o[o.length]=e.extend({dataindex:h},u),this._dataIndexToBoundIndex[h]={boundindex:o.length-1}):this._dataIndexToBoundIndex[h]=null;this.records=o}else if(null==this.source.filter||null==this.source.filter){for(h=0;h<s;h++){for(var u=a[h],c=void 0,p=0;p<l;p++){var f=u[this.filters[p].datafield],m=(n=this.filters[p].filter).evaluate(f);if(this.grid.filter){var g=this.grid.filter(f,u,this.filters[p].datafield,n,m);void 0!==g&&(m=g)}c=null==c?m:"or"==n.operator?c||m:c&&m}c?(o[o.length]=e.extend({dataindex:h},u),this._dataIndexToBoundIndex[h]={boundindex:o.length-1}):this._dataIndexToBoundIndex[h]=null}this.records=o}if(this.sortdata){if(!this.grid||"many"===this.grid.sortmode){for(var v=this.grid.getsortcolumns(),w=0;w<v.length;w++)this.grid.sortby((b=v[w]).dataField,b.ascending,null);return}if(this.sortcache[x=this.sortfield]){this.sortdata=null;var y=this.sortcache[x].direction;return this.sortcache[x]=null,void this.sortby(this.sortfield,y)}}}else if(0==this.filters.length&&!this.virtualmode&&this.cachedrecords&&(this.totalrecords=0,this.records=a=this.cachedrecords,this.sortdata)){if(!this.grid||"many"===this.grid.sortmode){for(v=this.grid.getsortcolumns(),w=0;w<v.length;w++){var b;this.grid.sortby((b=v[w]).dataField,b.ascending,null)}return}var x;if(this.sortcache[x=this.sortfield])return this.sortdata=null,y=this.sortcache[x].direction,this.sortcache[x]=null,void this.sortby(this.sortfield,y)}var _=this.reload(this.records,this.rows,this.filter,this.updated,t);if(this.updated=null,null!=this.rowschangecallback){var C=this.rows;r!=this.totalrows&&this.rowschangecallback({type:"PagingChanged",data:this.getpagingdetails()}),i!=C.length&&this.rowschangecallback({type:"RowsCountChanged",data:{previous:i,current:C.length}}),(_.length>0||i!=C.length)&&this.rowschangecallback({type:"RowsChanged",data:{previous:i,current:C.length,diff:_}})}}},this}}(jqxBaseFramework)},zn8P:function(e,t){function i(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}i.keys=function(){return[]},i.resolve=i,e.exports=i,i.id="zn8P"},zo9f:function(e,t){var i;(i=jqxBaseFramework).jqx.jqxWidget("jqxDropDownList","",{}),i.extend(i.jqx._jqxDropDownList.prototype,{defineInstance:function(){var e={disabled:!1,width:null,height:null,items:new Array,selectedIndex:-1,source:null,scrollBarSize:15,arrowSize:17,enableHover:!0,enableSelection:!0,autoItemsHeight:!1,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,openDelay:250,closeDelay:300,dropDownContainer:"default",animationType:"default",autoOpen:!1,dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,keyboardSelection:!0,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",displayMember:"",valueMember:"",groupMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,renderer:null,placeHolder:"",promptText:"Please Choose:",emptyString:"",rtl:!1,selectionRenderer:null,listBox:null,popupZIndex:2e3,renderMode:"default",touchMode:"auto",_checkForHiddenParent:!0,autoBind:!0,ready:null,focusable:!0,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,hint:!0,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete","itemAdd","itemRemove","itemUpdate"]};return this===i.jqx._jqxDropDownList.prototype||i.extend(!0,this,e),e},createInstance:function(e){this.render()},render:function(){(u=this).width||(u.width=200),u.height||(u.height=25),u.host.addClass(u.toThemeProperty("jqx-dropdownlist"));var e=u.element.nodeName.toLowerCase();if("select"==e||"ul"==e||"ol"==e){u.field=u.element,u.field.className&&(u._className=u.field.className);var t={title:u.field.title};t.id=u.field.id.length?u.field.id.replace(/[^\w]/g,"_")+"_jqxDropDownList":i.jqx.utilities.createId()+"_jqxDropDownList";var r=i("<div></div>",t);u.width||(u.width=i(u.field).width()),u.height||(u.height=i(u.field).outerHeight()),r[0].style.cssText=u.field.style.cssText,i(u.field).hide().after(r);var n=u.host.data();if(u.host=r,u.host.data(n),u.element=r[0],u.element.id=u.field.id,u.field.id=t.id,u._className&&(u.host.addClass(u._className),i(u.field).removeClass(u._className)),u.field.tabIndex){var s=u.field.tabIndex;u.field.tabIndex=-1,u.element.tabIndex=s}var o=i.jqx.parseSourceTag(u.field);u.source=o.items,-1==u.selectedIndex&&(u.selectedIndex=o.index)}else(u.host.find("li").length>0||u.host.find("option").length>0)&&(o=i.jqx.parseSourceTag(u.element),u.source=o.items);u.element.innerHTML="",u.isanimating=!1,u.id=u.element.id||i.jqx.utilities.createId(),u.host.attr("role","combobox"),i.jqx.aria(u,"aria-autocomplete","both"),i.jqx.aria(u,"aria-readonly",!1);var a="<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='overflow: hidden; outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'></div><div id='dropdownlistArrow' unselectable='on' style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>";if(null==i.jqx._jqxListBox||null==i.jqx._jqxListBox)throw new Error("jqxDropDownList: Missing reference to jqxlistbox.js.");u.host.attr("tabindex")||u.host.attr("tabindex",0),u.touch=i.jqx.mobile.isTouchDevice(),u.comboStructure=a,u.element.innerHTML=a,u.dropdownlistWrapper=i(u.element.firstChild.firstChild),u.dropdownlistArrow=i(u.dropdownlistWrapper[0].firstChild.nextSibling),u.arrow=i(u.dropdownlistArrow[0].firstChild),u.dropdownlistContent=i(u.dropdownlistWrapper[0].firstChild),u.dropdownlistContent.addClass(u.toThemeProperty("jqx-dropdownlist-content jqx-disableselect")),u.rtl&&u.dropdownlistContent.addClass(u.toThemeProperty("jqx-rtl jqx-dropdownlist-content-rtl")),u.addHandler(u.dropdownlistWrapper,"selectstart",(function(){return!1})),u.dropdownlistWrapper[0].id="dropdownlistWrapper"+u.element.id,u.dropdownlistArrow[0].id="dropdownlistArrow"+u.element.id,u.dropdownlistContent[0].id="dropdownlistContent"+u.element.id,u._addInput();var l=i("<label></label");this.hint&&(l[0].innerHTML=this.placeHolder),l.addClass(u.toThemeProperty("jqx-input-label")),u.dropdownlistWrapper.append(l),u.label=l;var d=i("<span></span>");u.dropdownlistWrapper.append(d),d.addClass(u.toThemeProperty("jqx-input-bar")),u.bar=d,u.bar.css("top",this.host.height());var h=this;h.template&&(h.bar.addClass(h.toThemeProperty("jqx-"+h.template)),h.label.addClass(h.toThemeProperty("jqx-"+h.template))),"Please Choose:"!=u.promptText&&(u.placeHolder=u.promptText);var u,c=u.toThemeProperty("jqx-widget")+" "+u.toThemeProperty("jqx-dropdownlist-state-normal")+" "+u.toThemeProperty("jqx-rc-all")+" "+u.toThemeProperty("jqx-fill-state-normal");u.element.className+=" "+c,u._firstDiv=i(u.element.firstChild);try{var p="listBox"+u.id,f=i(i.find("#"+p));f.length>0&&f.remove(),i.jqx.aria(u,"aria-owns",p),i.jqx.aria(u,"aria-haspopup",!0);var m=i("<div style='overflow: hidden; background-color: transparent; border: none; position: absolute;' id='listBox"+u.id+"'><div id='innerListBox"+u.id+"'></div></div>");m.hide(),m.addClass("jqx-listbox-container"),m.appendTo("element"==u.dropDownContainer?u.host:document.body),u.container=m,u.listBoxContainer=i(i.find("#innerListBox"+u.id));var g=u.width;"auto"!=u.dropDownWidth&&(g=u.dropDownWidth),null==g&&0==(g=u.host.width())&&(g=u.dropDownWidth),null==u.dropDownHeight&&(u.dropDownHeight=200),u.container.width(parseInt(g)+25),u.container.height(parseInt(u.dropDownHeight)+25),u._ready=!1,u.addHandler(u.listBoxContainer,"bindingComplete",(function(e){u.listBox||(u.listBox=i.data(u.listBoxContainer[0],"jqxListBox").instance),u.selectedIndex!=u.listBoxContainer.jqxListBox("selectedIndex")?(u.listBox=i.data(u.listBoxContainer[0],"jqxListBox").instance,u.listBoxContainer.jqxListBox({selectedIndex:u.selectedIndex}),u.renderSelection("mouse")):u.renderSelection("mouse"),u._ready||(u.ready&&u.ready(),u._ready=!0),u._raiseEvent("6")})),u.addHandler(u.listBoxContainer,"itemAdd",(function(e){u._raiseEvent("7",e.args)})),u.addHandler(u.listBoxContainer,"itemRemove",(function(e){u._raiseEvent("8",e.args)})),u.addHandler(u.listBoxContainer,"itemUpdate",(function(e){u._raiseEvent("9",e.args)})),u.listBoxContainer.jqxListBox({filterHeight:u.filterHeight,filterPlaceHolder:u.filterPlaceHolder,filterDelay:u.filterDelay,autoItemsHeight:u.autoItemsHeight,filterable:u.filterable,allowDrop:!1,allowDrag:!1,autoBind:u.autoBind,_checkForHiddenParent:!1,focusable:u.focusable,touchMode:u.touchMode,checkboxes:u.checkboxes,rtl:u.rtl,_renderOnDemand:!0,emptyString:u.emptyString,itemHeight:u.itemHeight,width:g,searchMode:u.searchMode,incrementalSearch:u.incrementalSearch,incrementalSearchDelay:u.incrementalSearchDelay,groupMember:u.groupMember,searchMember:u.searchMember,displayMember:u.displayMember,valueMember:u.valueMember,height:u.dropDownHeight,autoHeight:u.autoDropDownHeight,scrollBarSize:u.scrollBarSize,selectedIndex:u.selectedIndex,source:u.source,theme:u.theme,rendered:function(){u.selectedIndex!=u.listBoxContainer.jqxListBox("selectedIndex")?(u.listBox=i.data(u.listBoxContainer[0],"jqxListBox").instance,u.listBoxContainer.jqxListBox({selectedIndex:u.selectedIndex}),u.renderSelection("mouse")):u.renderSelection("mouse")},renderer:u.renderer,filterChange:function(e){u.autoDropDownHeight&&u.container.height(u.listBoxContainer.height()+25)}}),u.listBoxContainer.css("element"===u.dropDownContainer?{position:"absolute",top:0,left:0}:{position:"absolute",zIndex:u.popupZIndex,top:0,left:0}),u.template&&u.listBoxContainer.addClass(u.toThemeProperty("jqx-"+u.template+"-item")),u.listBox=i.data(u.listBoxContainer[0],"jqxListBox").instance,u.listBox.enableSelection=u.enableSelection,u.listBox.enableHover=u.enableHover,u.listBox.equalItemsWidth=u.equalItemsWidth,u.listBox.selectIndex(u.selectedIndex),u.listBox._arrange(),u.listBoxContainer.addClass(u.toThemeProperty("jqx-popup")),i.jqx.browser.msie&&u.listBoxContainer.addClass(u.toThemeProperty("jqx-noshadow")),u.addHandler(u.listBoxContainer,"unselect",(function(e){u._raiseEvent("3",{index:e.args.index,type:e.args.type,item:e.args.item})})),u.addHandler(u.listBoxContainer,"change",(function(e){e.args&&("keyboard"!=e.args.type?u._raiseEvent("4",{index:e.args.index,type:e.args.type,item:e.args.item}):"keyboard"==e.args.type&&(u.isOpened()||u._raiseEvent("4",{index:u.selectedIndex,type:"keyboard",item:u.getItem(u.selectedIndex)})))})),"none"==u.animationType?u.container.css("display","none"):u.container.hide()}catch(w){console&&console.log(w)}if((u=u).propertyChangeMap.disabled=function(e,t,r,n){n?(e.host.addClass(u.toThemeProperty("jqx-dropdownlist-state-disabled")),e.host.addClass(u.toThemeProperty("jqx-fill-state-disabled")),e.dropdownlistContent.addClass(u.toThemeProperty("jqx-dropdownlist-content-disabled"))):(e.host.removeClass(u.toThemeProperty("jqx-dropdownlist-state-disabled")),e.host.removeClass(u.toThemeProperty("jqx-fill-state-disabled")),e.dropdownlistContent.removeClass(u.toThemeProperty("jqx-dropdownlist-content-disabled"))),i.jqx.aria(e,"aria-disabled",e.disabled)},u.disabled&&(u.host.addClass(u.toThemeProperty("jqx-dropdownlist-state-disabled")),u.host.addClass(u.toThemeProperty("jqx-fill-state-disabled")),u.dropdownlistContent.addClass(u.toThemeProperty("jqx-dropdownlist-content-disabled"))),u.arrow.addClass(u.toThemeProperty("top"==u.dropDownVerticalAlignment?"jqx-icon-arrow-up":"jqx-icon-arrow-down")),u.arrow.addClass(u.toThemeProperty("jqx-icon")),"simple"===u.renderMode&&(u.arrow.remove(),u.host.removeClass(u.toThemeProperty("jqx-fill-state-normal")),u.host.removeClass(u.toThemeProperty("jqx-rc-all"))),u.template&&u.host.addClass(u.toThemeProperty("jqx-"+u.template)),u._updateHandlers(),u._setSize(),u._arrange(),u.listBox&&u.renderSelection(),i.jqx.browser.msie&&i.jqx.browser.version<8&&u.host.parents(".jqx-window").length>0){var v=u.host.parents(".jqx-window").css("z-index");m.css("z-index",v+10),u.listBoxContainer.css("z-index",v+10)}},resize:function(e,t){this.width=e,this.height=t,this._setSize(),this._arrange()},val:function(e){if(!this.dropdownlistContent)return"";var t=function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"!=typeof e&&"date"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e};if(this.input&&(t(e)||0==arguments.length))return this.input.val();var i=this.getItemByValue(e);return null!=i&&this.selectItem(i),this.input?this.input.val():void 0},focus:function(){try{var e=this,t=function(){e.host&&(e.host.focus(),e._firstDiv&&e._firstDiv.focus())};t(),setTimeout((function(){t()}),10)}catch(i){}},_addInput:function(){var e=this.host.attr("name");this.input=i("<input type='hidden'/>"),this.host.append(this.input),e&&this.input.attr("name",e)},getItems:function(){return this.listBox?this.listBox.items:new Array},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){var e=window.getComputedStyle(this.element),t=2*parseInt(e.borderLeftWidth);0===this.element.offsetWidth&&(t=2),("border-box"===e.boxSizing||isNaN(t))&&(t=0),null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=parseInt(this.width)-t+"px":null==this.width||isNaN(this.width)||(this.element.style.width=parseInt(this.width)-t+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=parseInt(this.height)-t+"px":null==this.height||isNaN(this.height)||(this.element.style.height=parseInt(this.height)-t+"px");var r=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(r=!0,this.element.style.width=this.width,t>0&&(this.host.css("box-sizing","border-box"),this.listBoxContainer.css("box-sizing","border-box"))),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(r=!0,this.element.style.height=this.height);var n=this;if(r){var s=this.host.width()+2;"auto"!=this.dropDownWidth&&(s=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:s}),this.container.width(parseInt(s)+25)}i.jqx.utilities.resize(this.host,(function(){!function(){if(n._arrange(),"auto"==n.dropDownWidth){var e=n.host.width()+2;n.listBoxContainer.jqxListBox({width:e}),n.container.width(parseInt(e)+25)}}()}),!1,this._checkForHiddenParent)},isOpened:function(){var e=i.data(document.body,"openedJQXListBox"+this.id);return null!=e&&e==this.listBoxContainer},_updateHandlers:function(){var e=this;this.removeHandlers(),this.touch||(this.addHandler(this.host,"mouseenter",(function(){!e.disabled&&e.enableHover&&"simple"!==e.renderMode&&(e.host.addClass(e.toThemeProperty("jqx-dropdownlist-state-hover")),e.arrow.addClass(e.toThemeProperty("top"==e.dropDownVerticalAlignment?"jqx-icon-arrow-up-hover":"jqx-icon-arrow-down-hover")),e.host.addClass(e.toThemeProperty("jqx-fill-state-hover")))})),this.addHandler(this.host,"mouseleave",(function(){!e.disabled&&e.enableHover&&"simple"!==e.renderMode&&(e.host.removeClass(e.toThemeProperty("jqx-dropdownlist-state-hover")),e.host.removeClass(e.toThemeProperty("jqx-fill-state-hover")),e.arrow.removeClass(e.toThemeProperty("jqx-icon-arrow-down-hover")),e.arrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up-hover")))}))),this.host.parents()&&this.addHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id,(function(t){e.isOpened()&&e.close()}));var t="mousedown";this.touch&&(t=i.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.dropdownlistWrapper,t,(function(t){if(!e.disabled){var i="block"==e.container.css("display");if(!e.isanimating){if(i)return e.hideListBox(),!1;e.showListBox(),e.focusable?e.focus():t.preventDefault&&t.preventDefault()}}})),e.autoOpen&&(this.addHandler(this.host,"mouseenter",(function(){!e.isOpened()&&e.autoOpen&&(e.open(),e.host.focus())})),i(document).on("mousemove."+e.id,(function(t){if(e.isOpened()&&e.autoOpen){var i=e.host.coord(),r=i.top,n=i.left,s=e.container.coord(),o=s.left,a=s.top,l=!0;t.pageY>=r&&t.pageY<=r+e.host.height()&&t.pageX>=n&&t.pageX<n+e.host.width()&&(l=!1),t.pageY>=a&&t.pageY<=a+e.container.height()&&t.pageX>=o&&t.pageX<o+e.container.width()&&(l=!1),l&&e.close()}}))),this.addHandler(i(document),this.touch?i.jqx.mobile.getTouchEventName("touchstart")+"."+this.id:"mousedown."+this.id,e.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",(function(t){var i="block"==e.container.css("display");if("none"==e.host.css("display"))return!0;if(("13"==t.keyCode||"9"==t.keyCode)&&!e.isanimating)return i&&(e.renderSelection(),"13"==t.keyCode&&e.focusable&&e._firstDiv.focus(),e.hideListBox(),e.keyboardSelection||e._raiseEvent("2",{index:e.selectedIndex,type:"keyboard",item:e.getItem(e.selectedIndex)}),"13"==t.keyCode&&e._raiseEvent("4",{index:e.selectedIndex,type:"keyboard",item:e.getItem(e.selectedIndex)})),!i||"9"==t.keyCode;if(115==t.keyCode)return e.isanimating||(e.isOpened()?e.isOpened()&&e.hideListBox():e.showListBox()),!1;if(t.altKey&&"block"==e.host.css("display"))if(38==t.keyCode){if(e.isOpened())return e.hideListBox(),!0}else if(40==t.keyCode&&!e.isOpened())return e.showListBox(),!0;return"27"!=t.keyCode||e.ishiding?e.disabled?void 0:(e._kbnavigated=e.listBox._handleKeyDown(t),e._kbnavigated):(e.isOpened()&&(e.hideListBox(),null!=e.tempSelectedIndex&&e.selectIndex(e.tempSelectedIndex)),!0)})),this.addHandler(this.listBoxContainer,"checkChange",(function(t){e.renderSelection(),e._updateInputSelection(),e._raiseEvent(5,{label:t.args.label,value:t.args.value,checked:t.args.checked,item:t.args.item})})),this.addHandler(this.listBoxContainer,"select",(function(t){if(!e.disabled){if(!t.args)return;"keyboard"!=t.args.type||e.isOpened()||e.renderSelection(),("keyboard"!=t.args.type||e.keyboardSelection)&&(e.renderSelection(),e._raiseEvent("2",{index:t.args.index,type:t.args.type,item:t.args.item,originalEvent:t.args.originalEvent}),"mouse"==t.args.type&&(e.checkboxes||(e.hideListBox(),e._firstDiv&&e.focusable&&e._firstDiv.focus())))}})),this.listBox&&this.listBox.content&&this.addHandler(this.listBox.content,"click",(function(t){if(!e.disabled){if(e.listBox.itemswrapper&&t.target===e.listBox.itemswrapper[0])return!0;e.renderSelection("mouse"),e.touch||e.ishiding||e.checkboxes||(e.hideListBox(),e._firstDiv&&e.focusable&&e._firstDiv.focus()),e.keyboardSelection||(!1===e._kbnavigated&&(e.tempSelectedIndex!=e.selectedIndex&&e._raiseEvent("4",{index:e.selectedIndex,type:"mouse",item:e.getItem(e.selectedIndex)}),e._kbnavigated=!0),null==e._oldSelectedInd&&(e._oldSelectedIndx=e.selectedIndex),e.selectedIndex!=e._oldSelectedIndx&&(e._raiseEvent("2",{index:e.selectedIndex,type:"keyboard",item:e.getItem(e.selectedIndex)}),e._oldSelectedIndx=e.selectedIndex))}})),this.addHandler(this.host,"focus",(function(t){"simple"!==e.renderMode&&(e.host.addClass(e.toThemeProperty("jqx-dropdownlist-state-focus")),e.host.addClass(e.toThemeProperty("jqx-fill-state-focus"))),e.bar.addClass("focused"),e.label.addClass("focused")})),this.addHandler(this.host,"blur",(function(){"simple"!==e.renderMode&&(e.host.removeClass(e.toThemeProperty("jqx-dropdownlist-state-focus")),e.host.removeClass(e.toThemeProperty("jqx-fill-state-focus"))),e.bar.removeClass("focused"),e.label.removeClass("focused")})),this.addHandler(this._firstDiv,"focus",(function(t){"simple"!==e.renderMode&&(e.host.addClass(e.toThemeProperty("jqx-dropdownlist-state-focus")),e.host.addClass(e.toThemeProperty("jqx-fill-state-focus"))),e.bar.addClass("focused"),e.label.addClass("focused")})),this.addHandler(this._firstDiv,"blur",(function(){"simple"!==e.renderMode&&(e.host.removeClass(e.toThemeProperty("jqx-dropdownlist-state-focus")),e.host.removeClass(e.toThemeProperty("jqx-fill-state-focus"))),e.bar.removeClass("focused"),e.label.removeClass("focused")}))},removeHandlers:function(){var e="mousedown";this.touch&&(e=i.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistWrapper,e),this.listBox&&this.listBox.content&&this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.host,"loadContent"),this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this._firstDiv,"focus"),this.removeHandler(this._firstDiv,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(i(document),"mousemove."+this.id)},getItem:function(e){return this.listBox.getItem(e)},getItemByValue:function(e){return this.listBox.getItemByValue(e)},selectItem:function(e){null!=this.listBox&&(this.listBox.selectItem(e),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"))},unselectItem:function(e){null!=this.listBox&&(this.listBox.unselectItem(e),this.renderSelection("mouse"))},checkItem:function(e){null!=this.listBox&&this.listBox.checkItem(e)},uncheckItem:function(e){null!=this.listBox&&this.listBox.uncheckItem(e)},indeterminateItem:function(e){null!=this.listBox&&this.listBox.indeterminateItem(e)},renderSelection:function(){if(null!=this.listBox){this.height&&-1!=this.height.toString().indexOf("%")&&this._arrange();var e=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.filterable&&-1==this.listBox.selectedIndex)for(var t in this.listBox.selectedValues){var r=this.listBox.getItemByValue(this.listBox.selectedValues[t]);r&&(e=r)}if(this.checkboxes){var n=this.getCheckedItems();e=null!=n&&n.length>0?n[0]:null}if(this.hint&&(this.label&&(this.label[0].innerHTML=this.placeHolder),null!=e?this.element.setAttribute("hint",!0):this.element.removeAttribute("hint")),this.bar.css("top",this.host.height()),null==e){var s;(s=i('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>')).appendTo(i(document.body)),s.addClass(this.toThemeProperty("jqx-widget")),s.addClass(this.toThemeProperty("jqx-listitem-state-normal")),s.addClass(this.toThemeProperty("jqx-item")),i.jqx.utilities.html(s,this.placeHolder),this.isMaterialized()&&!this.element.getAttribute("default-placeholder")&&this.hint&&(s[0].innerHTML="",this.label&&(this.label[0].innerHTML=this.placeHolder));var o=this.dropdownlistContent.css("padding-top"),a=this.dropdownlistContent.css("padding-bottom");s.css("padding-top",o),s.css("padding-bottom",a);var l=s.outerHeight();s.remove(),s.removeClass(),i.jqx.utilities.html(this.dropdownlistContent,s);var d=this.host.height();null!=this.height&&null!=this.height&&-1===this.height.toString().indexOf("%")&&(d=parseInt(this.height));var h=parseInt((parseInt(d)-parseInt(l))/2);return"border-box"===this.host.css("box-sizing")&&(h=parseInt((parseInt(d-2)-parseInt(l))/2)),h>0&&(this.dropdownlistContent.css("margin-top",h+"px"),this.dropdownlistContent.css("margin-bottom",h+"px")),this.selectionRenderer?(i.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(s,-1,"","")),this.dropdownlistContent.css("margin-top","0px"),this.dropdownlistContent.css("margin-bottom","0px"),this._updateInputSelection()):this._updateInputSelection(),this.selectedIndex=this.listBox.selectedIndex,"auto"===this.width&&this._arrange(),void(this.focusable&&this.isOpened()&&this.focus())}this.selectedIndex=this.listBox.selectedIndex,(s=i(document.createElement("span")))[0].setAttribute("unselectable","on");try{s[0].style.color="inherit"}catch(v){}s[0].style.borderWidth="0px",s[0].style.backgroundColor="transparent",s.appendTo(i(document.body)),s.addClass(this.toThemeProperty("jqx-widget jqx-listitem-state-normal jqx-item"));var u=!1;try{null!=e.html&&null!=e.html&&e.html.toString().length>0?i.jqx.utilities.html(s,e.html):null!=e.label&&null!=e.label&&e.label.toString().length>0?i.jqx.utilities.html(s,e.label):null===e.label||""===e.label?(u=!0,i.jqx.utilities.html(s,"")):null!=e.value&&null!=e.value&&e.value.toString().length>0?i.jqx.utilities.html(s,e.value):null!=e.title&&null!=e.title&&e.title.toString().length>0?i.jqx.utilities.html(s,e.title):""!=e.label&&null!=e.label||(u=!0,i.jqx.utilities.html(s,""))}catch(w){}""===(o=this.dropdownlistContent[0].style.paddingTop)&&(o="0px"),""===(a=this.dropdownlistContent[0].style.paddingBottom)&&(a="0px"),s[0].style.paddingTop=o,s[0].style.paddingBottom=a,0===(l=s.outerHeight())&&(l=16),""!=e.label&&null!=e.label||!u||i.jqx.utilities.html(s,"");var c=this.width&&this.width.toString().indexOf("%")<=0;if(s.remove(),s.removeClass(),this.selectionRenderer)i.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(s,e.index,e.label,e.value)),this.focusable&&this.isOpened()&&this.focus();else if(this.checkboxes){for(var p=this.getCheckedItems(),f="",m=0;m<p.length;m++)f+=m==p.length-1?p[m].label:p[m].label+",";s.text(f),c&&s.css("max-width",this.host.width()-30),s.css("overflow","hidden"),s.css("display","block"),this.rtl||c&&s.css("width",this.host.width()-30),s.css("text-overflow","ellipsis"),s.css("padding-bottom",1+parseInt(a)),this.dropdownlistContent.html(s),this.focusable&&this.isOpened()&&this.focus()}else{var g=this.host.width()-this.arrowSize-1;this.width&&"auto"!==this.width&&(c&&(this.rtl||s.css("max-width",g+"px")),s[0].style.overflow="hidden",s[0].style.display="block",s[0].style.paddingTop=1+parseInt(a)+"px",this.rtl||c&&(g<0&&(g=0),s[0].style.width=g+"px"),s[0].style.textOverflow="ellipsis"),this.dropdownlistContent[0].innerHTML=s[0].innerHTML,this.focusable&&this.isOpened()&&this.focus()}d=this.host.height(),null!=this.height&&null!=this.height&&-1===this.height.toString().indexOf("%")&&(d=parseInt(this.height)),h=parseInt((parseInt(d)-parseInt(l))/2),"border-box"===this.host.css("box-sizing")&&(h=parseInt((parseInt(d-2)-parseInt(l))/2)),h>=0&&(this.dropdownlistContent[0].style.marginTop=h+"px",this.dropdownlistContent[0].style.marginBottom=h+"px"),this.selectionRenderer&&(this.dropdownlistContent[0].style.marginTop="0px",this.dropdownlistContent[0].style.marginBottom="0px"),this.dropdownlistContent&&this.input&&this._updateInputSelection(),this.listBox&&this.listBox._activeElement&&i.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id),"auto"===this.width&&this._arrange()}},_updateInputSelection:function(){if(this.input){var e=new Array;if(-1==this.selectedIndex)this.input.val("");else{var t=this.getSelectedItem();null!=t?(this.input.val(t.value),e.push(t.value)):this.input.val(this.dropdownlistContent.text())}if(this.checkboxes){var r=this.getCheckedItems(),n="";if(null!=r)for(var s=0;s<r.length;s++){var o=r[s].value;null!=o&&(n+=s==r.length-1?o:o+",",e.push(o))}this.input.val(n)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?i.each(this.field,(function(t,r){i(this).removeAttr("selected"),this.selected=e.indexOf(this.value)>=0,this.selected&&i(this).attr("selected",!0)})):i.each(this.items,(function(t,r){i(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=e.indexOf(this.value)>=0,this.selected&&i(this.originalItem.originalItem).attr("data-selected",!0)})))},setContent:function(e){i.jqx.utilities.html(this.dropdownlistContent,e),this._updateInputSelection()},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(e){this.selectedIndex=-1,this._updateInputSelection(),this.listBox.clearSelection(),this.renderSelection(),this.selectionRenderer||this.hint||this.isMaterialized()||i.jqx.utilities.html(this.dropdownlistContent,this.placeHolder)},unselectIndex:function(e,t){isNaN(e)||(this.listBox.unselectIndex(e,t),this.renderSelection())},selectIndex:function(e,t,i,r){this.listBox.selectIndex(e,t,i,r,"api")},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.listBox.getVisibleItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(e){this.listBox.checkIndex(e)},uncheckIndex:function(e){this.listBox.uncheckIndex(e)},indeterminateIndex:function(e){this.listBox.indeterminateIndex(e)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},addItem:function(e){return this.listBox.addItem(e)},insertAt:function(e,t){return null!=e&&this.listBox.insertAt(e,t)},removeAt:function(e){var t=this.listBox.removeAt(e);return this.renderSelection("mouse"),t},removeItem:function(e){var t=this.listBox.removeItem(e);return this.renderSelection("mouse"),t},updateItem:function(e,t){var i=this.listBox.updateItem(e,t);return this.renderSelection("mouse"),i},updateAt:function(e,t){var i=this.listBox.updateAt(e,t);return this.renderSelection("mouse"),i},ensureVisible:function(e){return this.listBox.ensureVisible(e)},disableAt:function(e){return this.listBox.disableAt(e)},enableAt:function(e){return this.listBox.enableAt(e)},disableItem:function(e){return this.listBox.disableItem(e)},enableItem:function(e){return this.listBox.enableItem(e)},_findPos:function(e){for(;e&&("hidden"==e.type||1!=e.nodeType||i.expr.filters.hidden(e));)e=e.nextSibling;var t=i(e).coord(!0);return[t.left,t.top]},testOffset:function(e,t,r){var n=e.outerWidth(),s=e.outerHeight(),o=i(window).width()+i(window).scrollLeft(),a=i(window).height()+i(window).scrollTop();if(t.left+n>o&&n>this.host.width()){var l=this.host.coord().left,d=n-this.host.width();t.left=l-d+2}return t.left<0&&(t.left=parseInt(this.host.coord().left)+"px"),t.top-=Math.min(t.top,t.top+s>a&&a>s?Math.abs(s+r+22):0),t},open:function(){this.showListBox()},close:function(){this.hideListBox()},_getBodyOffset:function(){var e=0,t=0;return"0px"!=i("body").css("border-top-width")&&(e=parseInt(i("body").css("border-top-width")),isNaN(e)&&(e=0)),"0px"!=i("body").css("border-left-width")&&(t=parseInt(i("body").css("border-left-width")),isNaN(t)&&(t=0)),{left:t,top:e}},showListBox:function(){var e;i.jqx.aria(this,"aria-expanded",!0),this.listBox._renderOnDemand&&this.listBoxContainer.jqxListBox({_renderOnDemand:!1}),"auto"!=this.dropDownWidth||null==this.width||!this.width.indexOf||-1==this.width.indexOf("%")&&-1==this.width.indexOf("auto")||this.listBox.host.width()!=this.host.width()&&(this.listBoxContainer.jqxListBox({width:e=this.element.offsetWidth}),this.container.width(parseInt(e)+25)),"auto"==this.dropDownWidth&&"0px"===this.host.css("border-left-width")&&(this.listBoxContainer.jqxListBox({width:(e=this.element.offsetWidth)+1}),this.container.width(parseInt(e)+25));var t,r=this,n=this.listBoxContainer,s=this.listBox,o=(i(window).scrollTop(),i(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),a=parseInt(Math.round(this.host.coord(!0).left));if(t=a+"px","element"===this.dropDownContainer&&(o=parseInt(this.host.outerHeight())-1+"px",t=0),null!=this.listBox){this.ishiding=!1,this.keyboardSelection||(this.listBox.selectIndex(this.selectedIndex),this.listBox.ensureVisible(this.selectedIndex)),this.tempSelectedIndex=this.selectedIndex,this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),n.stop(),"simple"!==this.renderMode&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.addClass(this.toThemeProperty("top"==this.dropDownVerticalAlignment?"jqx-icon-arrow-up-selected":"jqx-icon-arrow-down-selected"))),this.container.css("left",t),this.container.css("top",o),s._arrange();var l=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var d=this.container.outerWidth(),h=-2+Math.abs(d-this.host.width());d>this.host.width()?this.container.css("left",25+parseInt(Math.round(a))-h+"px"):this.container.css("left",25+parseInt(Math.round(a))+h+"px")}if("top"==this.dropDownVerticalAlignment){var u=n.height();l=!0,n.css("top",23),n.addClass(this.toThemeProperty("jqx-popup-up"));var c=parseInt(this.host.outerHeight()),p=parseInt(o)-Math.abs(u+c+23);this.container.css("top",p)}if(this.enableBrowserBoundsDetection){var f=this.testOffset(n,{left:parseInt(this.container.css("left")),top:parseInt(o)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=f.top?(l=!0,n.css("top",23),n.addClass(this.toThemeProperty("jqx-popup-up"))):n.css("top",0),this.container.css("top",f.top),parseInt(this.container.css("left"))!=f.left&&this.container.css("left",f.left)}if("none"==this.animationType)this.container.css("display","block"),i.data(document.body,"openedJQXListBoxParent",r),i.data(document.body,"openedJQXListBox"+this.id,n),n.css("margin-top",0),n.css("opacity",1),s._renderItems(),r._raiseEvent("0",s);else if(this.container.css("display","block"),r.isanimating=!0,"fade"==this.animationType)n.css("margin-top",0),n.css("opacity",0),n.animate({opacity:1},this.openDelay,(function(){i.data(document.body,"openedJQXListBoxParent",r),i.data(document.body,"openedJQXListBox"+r.id,n),r.ishiding=!1,r.isanimating=!1,s._renderItems(),r._raiseEvent("0",s)}));else{n.css("opacity",1);var m=n.outerHeight();n.css("margin-top",l?m:-m),n.animate({"margin-top":0},this.openDelay,(function(){i.data(document.body,"openedJQXListBoxParent",r),i.data(document.body,"openedJQXListBox"+r.id,n),r.ishiding=!1,r.isanimating=!1,s._renderItems(),r._raiseEvent("0",s)}))}l?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),n.addClass(this.toThemeProperty("jqx-rc-b-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),n.addClass(this.toThemeProperty("jqx-rc-t-expanded"))),"simple"!==this.renderMode&&(n.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus"))),this.element.setAttribute("opened",!0)}},hideListBox:function(){i.jqx.aria(this,"aria-expanded",!1);var e=this.listBoxContainer,t=this.listBox,r=this.container,n=this;if(this.element.removeAttribute("opened"),i.data(document.body,"openedJQXListBox"+this.id,null),"none"==this.animationType)this.container.css("display","none");else if(!n.ishiding){e.stop();var s=e.outerHeight();e.css("margin-top",0),n.isanimating=!0;var o=-s;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(o=s),"fade"==this.animationType?(e.css({opacity:1}),e.animate({opacity:0},this.closeDelay,(function(){r.css("display","none"),n.isanimating=!1,n.ishiding=!1}))):e.animate({"margin-top":o},this.closeDelay,(function(){r.css("display","none"),n.isanimating=!1,n.ishiding=!1}))}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),e.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),e.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),e.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("1",t)},closeOpenedListBox:function(e){var t=e.data.me,r=i(e.target),n=e.data.listbox;if(null==n)return!0;if(i(e.target).ischildof(e.data.me.host))return!0;if(!t.isOpened())return!0;if(i(e.target).ischildof(t.listBoxContainer))return!0;var s=!1;return i.each(r.parents(),(function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return s=!0,!1;if(-1!=this.className.indexOf("jqx-dropdownlist"))return t.element.id==this.id&&(s=!0),!1}})),null!=n&&!s&&t.isOpened()&&t.hideListBox(),!0},clearFilter:function(){this.listBox.clearFilter()},loadFromSelect:function(e){this.listBox.loadFromSelect(e)},refresh:function(e){!0!==e&&(this._setSize(),this._arrange(),this.listBox&&this.renderSelection())},_arrange:function(){var e=this,t=parseInt(e.host.width()),i=parseInt(e.host.height()),r=e.arrowSize,n=t-r-6;if(n>0&&"auto"!==e.width?e.dropdownlistContent[0].style.width=n+"px":n<=0&&(e.dropdownlistContent[0].style.width="0px"),"auto"===e.width&&(e.dropdownlistContent.css("width","auto"),(t=2+e.dropdownlistContent.width()+r+6)<47&&(t=47),e.host.width(t)),e.dropdownlistContent[0].style.height=i+"px",e.dropdownlistContent[0].style.left="0px",e.dropdownlistContent[0].style.top="0px",e.dropdownlistArrow[0].style.width=r+"px",e.width&&e.width.toString().indexOf("%")>=0){var s=100*n/t;e.dropdownlistArrow[0].style.width=100*r/t+"%",e.dropdownlistContent[0].style.width=s+"%"}e.dropdownlistArrow[0].style.height=i+"px",e.rtl&&(e.dropdownlistArrow.css("float","left"),e.dropdownlistContent.css("float","right"))},destroy:function(){i.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id),this.removeHandlers(),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(i(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(i(document),i.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.arrow,delete this.dropdownlistContent,delete this.listBox,delete this._firstDiv,this.container.remove(),delete this.container;var e=i.data(this.element,"jqxDropDownList");e&&delete e.instance,this.host.removeData(),this.host.remove(),delete this.comboStructure,delete this.host,delete this.element},_raiseEvent:function(e,t){null==t&&(t={owner:null});var r=this.events[e];t.owner=this;var n=new i.Event(r);return n.owner=this,2!=e&&3!=e&&4!=e&&5!=e&&6!=e&&7!=e&&8!=e&&9!=e||(n.args=t),this.host.trigger(n)},propertiesChangedHandler:function(e,t,i){if(i.width&&i.height&&2==Object.keys(i).length){if(e._setSize(),"width"==t&&"auto"==e.dropDownWidth){var r=e.host.width();e.listBoxContainer.jqxListBox({width:r}),e.container.width(parseInt(r)+25)}e._arrange(),e.close()}},propertyChangedHandler:function(e,t,r,n){if(null!=e.isInitialized&&0!=e.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)){if("template"==t&&(e.listBoxContainer.removeClass(e.toThemeProperty("jqx-"+r+"-item")),e.listBoxContainer.addClass(e.toThemeProperty("jqx-"+e.template+"-item")),e.host.removeClass(e.toThemeProperty("jqx-"+r)),e.host.addClass(e.toThemeProperty("jqx-"+e.template))),"dropDownVerticalAlignment"==t&&(e.close(),e.arrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up")),e.arrow.removeClass(e.toThemeProperty("jqx-icon-arrow-down")),e.arrow.addClass(e.toThemeProperty("top"==e.dropDownVerticalAlignment?"jqx-icon-arrow-up":"jqx-icon-arrow-down")),e.listBoxContainer.css("top",0),e.listBoxContainer.removeClass(this.toThemeProperty("jqx-popup-up"))),"autoItemsHeight"==t&&e.listBoxContainer.jqxListBox({autoItemsHeight:n}),"filterable"==t&&e.listBoxContainer.jqxListBox({filterable:n}),"filterHeight"==t&&e.listBoxContainer.jqxListBox({filterHeight:n}),"filterPlaceHolder"==t&&e.listBoxContainer.jqxListBox({filterPlaceHolder:n}),"filterDelay"==t&&e.listBoxContainer.jqxListBox({filterDelay:n}),"enableSelection"==t&&e.listBoxContainer.jqxListBox({enableSelection:n}),"enableHover"==t&&e.listBoxContainer.jqxListBox({enableHover:n}),"autoOpen"==t&&e._updateHandlers(),"emptyString"==t&&(e.listBox.emptyString=e.emptyString),"itemHeight"==t&&e.listBoxContainer.jqxListBox({itemHeight:n}),"renderer"==t&&e.listBoxContainer.jqxListBox({renderer:n}),"rtl"==t&&(n?(e.dropdownlistArrow.css("float","left"),e.dropdownlistContent.css("float","right")):(e.dropdownlistArrow.css("float","right"),e.dropdownlistContent.css("float","left")),e.listBoxContainer.jqxListBox({rtl:e.rtl})),"source"==t&&(e.listBoxContainer.jqxListBox({source:e.source}),e.listBox.selectedIndex=-1,e.listBox.selectIndex(this.selectedIndex),e.renderSelection(),null==n&&e.clear()),"displayMember"!=t&&"valueMember"!=t||(e.listBoxContainer.jqxListBox({displayMember:e.displayMember,valueMember:e.valueMember}),e.renderSelection()),"placeHolder"==t&&e.renderSelection(),"theme"==t&&null!=n&&(e.listBoxContainer.jqxListBox({theme:n}),e.listBoxContainer.addClass(e.toThemeProperty("jqx-popup")),i.jqx.utilities.setTheme(r,n,e.host)),"autoDropDownHeight"==t&&(e.listBoxContainer.jqxListBox({autoHeight:e.autoDropDownHeight}),e.autoDropDownHeight?e.container.height(e.listBoxContainer.height()+25):(e.listBoxContainer.jqxListBox({height:e.dropDownHeight}),e.container.height(parseInt(e.dropDownHeight)+25)),e.listBox._arrange(),e.listBox._updatescrollbars()),"searchMode"==t&&e.listBoxContainer.jqxListBox({searchMode:e.searchMode}),"incrementalSearch"==t&&e.listBoxContainer.jqxListBox({incrementalSearch:e.incrementalSearch}),"incrementalSearchDelay"==t&&e.listBoxContainer.jqxListBox({incrementalSearchDelay:e.incrementalSearchDelay}),"dropDownHeight"==t&&(e.autoDropDownHeight||(e.listBoxContainer.jqxListBox({height:e.dropDownHeight}),e.container.height(parseInt(e.dropDownHeight)+25))),"dropDownWidth"==t||"scrollBarSize"==t){var s=e.width;"auto"!=e.dropDownWidth&&(s=e.dropDownWidth),e.listBoxContainer.jqxListBox({width:s,scrollBarSize:e.scrollBarSize}),e.container.width(parseInt(s)+25)}"width"!=t&&"height"!=t||n==r||(this.refresh(),"width"==t&&"auto"==e.dropDownWidth&&(s=2+e.host.width(),e.listBoxContainer.jqxListBox({width:s}),e.container.width(parseInt(s)+25)),e.close()),"checkboxes"==t&&e.listBoxContainer.jqxListBox({checkboxes:e.checkboxes}),"selectedIndex"==t&&null!=e.listBox&&(e.listBox.selectIndex(parseInt(n)),e.renderSelection())}}})}},[[0,0]]]);